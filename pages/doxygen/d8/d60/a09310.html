<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AzerothCore: Guild Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AzerothCore<span id="projectnumber">&#160;3.3.5a</span>
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d8/d60/a09310.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="../../d3/dc3/a09307.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Guild Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &quot;<a class="el" href="../../">Guild.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dbd/a09326.html">BankEventLogEntry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/ddb/a09350.html">BankMoveItemData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc1/a09338.html">BankTab</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6c/a09322.html">EventLogEntry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d31/a09318.html">LogEntry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d50/a09330.html">LogHolder</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/da5/a09314.html">Member</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d5c/a09342.html">MoveItemData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d0f/a09346.html">PlayerMoveItemData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d42/a09334.html">RankInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a828c4a38bd1520e4f993dd8350c64f8b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d7/da5/a09314.html">Member</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a> (<a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> guid) const</td></tr>
<tr class="separator:a828c4a38bd1520e4f993dd8350c64f8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2628b60ac05cb40393a46f18fb35f847"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/da5/a09314.html">Member</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a2628b60ac05cb40393a46f18fb35f847">GetMember</a> (<a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> guid)</td></tr>
<tr class="separator:a2628b60ac05cb40393a46f18fb35f847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a496ade99e2972d09884e08c267925dea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/da5/a09314.html">Member</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a496ade99e2972d09884e08c267925dea">GetMember</a> (std::string_view name)</td></tr>
<tr class="separator:a496ade99e2972d09884e08c267925dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33e1903aeab4de7dd4de301b36e6f2b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a33e1903aeab4de7dd4de301b36e6f2b4">Guild</a> ()</td></tr>
<tr class="separator:a33e1903aeab4de7dd4de301b36e6f2b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a303979c3c98236e3861f8b284ea10cfb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a303979c3c98236e3861f8b284ea10cfb">~Guild</a> ()</td></tr>
<tr class="separator:a303979c3c98236e3861f8b284ea10cfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e1dca0dcdc6d8d023e5cd18e656ff7b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a8e1dca0dcdc6d8d023e5cd18e656ff7b">Create</a> (<a class="el" href="../../dc/d06/a08466.html">Player</a> *pLeader, std::string_view name)</td></tr>
<tr class="separator:a8e1dca0dcdc6d8d023e5cd18e656ff7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba39ec95f021c6d02241d9d6b9bd492"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#acba39ec95f021c6d02241d9d6b9bd492">Disband</a> ()</td></tr>
<tr class="separator:acba39ec95f021c6d02241d9d6b9bd492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66dfb8bfc30bb82d9d4361467ef8b8d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a66dfb8bfc30bb82d9d4361467ef8b8d5">GetId</a> () const</td></tr>
<tr class="separator:a66dfb8bfc30bb82d9d4361467ef8b8d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23dbcc9ab646e6799fce50d32f685ca7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a23dbcc9ab646e6799fce50d32f685ca7">GetLeaderGUID</a> () const</td></tr>
<tr class="separator:a23dbcc9ab646e6799fce50d32f685ca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73c93908066e72bf5519728bddd23d80"><td class="memItemLeft" align="right" valign="top">std::string const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a73c93908066e72bf5519728bddd23d80">GetName</a> () const</td></tr>
<tr class="separator:a73c93908066e72bf5519728bddd23d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdab65957fef332bb9ea7f7510fda42d"><td class="memItemLeft" align="right" valign="top">std::string const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#acdab65957fef332bb9ea7f7510fda42d">GetMOTD</a> () const</td></tr>
<tr class="separator:acdab65957fef332bb9ea7f7510fda42d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0d7bf995c437e586dcf57aed5c7a4af"><td class="memItemLeft" align="right" valign="top">std::string const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#aa0d7bf995c437e586dcf57aed5c7a4af">GetInfo</a> () const</td></tr>
<tr class="separator:aa0d7bf995c437e586dcf57aed5c7a4af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac274430ce4ab2da5cdd9dfea9d4a19e1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ac274430ce4ab2da5cdd9dfea9d4a19e1">SetName</a> (std::string_view const &amp;name)</td></tr>
<tr class="separator:ac274430ce4ab2da5cdd9dfea9d4a19e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec337b417dc733be4ca87d3f670b4224"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#aec337b417dc733be4ca87d3f670b4224">HandleRoster</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session)</td></tr>
<tr class="separator:aec337b417dc733be4ca87d3f670b4224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4788f5b94a3767ddc69824e41343b983"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a4788f5b94a3767ddc69824e41343b983">HandleQuery</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session)</td></tr>
<tr class="separator:a4788f5b94a3767ddc69824e41343b983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cf2f6743e8ca60a2ea0a384e5efbb72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a1cf2f6743e8ca60a2ea0a384e5efbb72">HandleSetMOTD</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, std::string_view motd)</td></tr>
<tr class="separator:a1cf2f6743e8ca60a2ea0a384e5efbb72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01bedc65f1be1b4f56583cdc9810d321"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a01bedc65f1be1b4f56583cdc9810d321">HandleSetInfo</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, std::string_view info)</td></tr>
<tr class="separator:a01bedc65f1be1b4f56583cdc9810d321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae80fe1e6c8c5aa4eddb2e9a55802dd9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ae80fe1e6c8c5aa4eddb2e9a55802dd9c">HandleSetEmblem</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, const <a class="el" href="../../dc/d65/a09302.html">EmblemInfo</a> &amp;emblemInfo)</td></tr>
<tr class="separator:ae80fe1e6c8c5aa4eddb2e9a55802dd9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0145f8793b5a59d72e6409a68fa2de6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a0145f8793b5a59d72e6409a68fa2de6f">HandleSetLeader</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, std::string_view name)</td></tr>
<tr class="separator:a0145f8793b5a59d72e6409a68fa2de6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c1f90753f0ec093e1421288aa9e6072"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a9c1f90753f0ec093e1421288aa9e6072">HandleSetBankTabInfo</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId, std::string_view name, std::string_view icon)</td></tr>
<tr class="separator:a9c1f90753f0ec093e1421288aa9e6072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac97c74c59d3b92c3867f987edaa18292"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ac97c74c59d3b92c3867f987edaa18292">HandleSetMemberNote</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, std::string_view name, std::string_view note, bool officer)</td></tr>
<tr class="separator:ac97c74c59d3b92c3867f987edaa18292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e136ed59e07705a4ebbded2b792eb4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a4e136ed59e07705a4ebbded2b792eb4e">HandleSetRankInfo</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId, std::string_view name, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> rights, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> moneyPerDay, std::array&lt; <a class="el" href="../../df/d6f/a09306.html">GuildBankRightsAndSlots</a>, <a class="el" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaadf100aec6c7a6f10b7af8629930feff7">GUILD_BANK_MAX_TABS</a> &gt; const &amp;rightsAndSlots)</td></tr>
<tr class="separator:a4e136ed59e07705a4ebbded2b792eb4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee0f99254e3c1fb88311876b2562e8a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#aee0f99254e3c1fb88311876b2562e8a3">HandleBuyBankTab</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId)</td></tr>
<tr class="separator:aee0f99254e3c1fb88311876b2562e8a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a736e25af77eb683c295b585c4f5423e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a736e25af77eb683c295b585c4f5423e0">HandleInviteMember</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, std::string const &amp;name)</td></tr>
<tr class="separator:a736e25af77eb683c295b585c4f5423e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae04c4a0c1976c884a8926cbfae29a408"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ae04c4a0c1976c884a8926cbfae29a408">HandleAcceptMember</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session)</td></tr>
<tr class="separator:ae04c4a0c1976c884a8926cbfae29a408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a6aec616c51b90f7232c88e5436516a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a3a6aec616c51b90f7232c88e5436516a">HandleLeaveMember</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session)</td></tr>
<tr class="separator:a3a6aec616c51b90f7232c88e5436516a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a067e583efa5ece0b89800e80e5c0f073"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a067e583efa5ece0b89800e80e5c0f073">HandleRemoveMember</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, std::string_view name)</td></tr>
<tr class="separator:a067e583efa5ece0b89800e80e5c0f073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a36dcb109e06049519062cc505cbdef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a7a36dcb109e06049519062cc505cbdef">HandleUpdateMemberRank</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, std::string_view name, bool demote)</td></tr>
<tr class="separator:a7a36dcb109e06049519062cc505cbdef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bfd9a2e97d72bcacff06a5566a7fee2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a9bfd9a2e97d72bcacff06a5566a7fee2">HandleAddNewRank</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, std::string_view name)</td></tr>
<tr class="separator:a9bfd9a2e97d72bcacff06a5566a7fee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e23517a32fcf165a88b739bd7fd3284"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a3e23517a32fcf165a88b739bd7fd3284">HandleRemoveRank</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId)</td></tr>
<tr class="separator:a3e23517a32fcf165a88b739bd7fd3284"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af63746ebc0f20a688ebe68ee66e92fbe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#af63746ebc0f20a688ebe68ee66e92fbe">HandleRemoveLowestRank</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session)</td></tr>
<tr class="separator:af63746ebc0f20a688ebe68ee66e92fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addaab43239a5b98c8b4c0b4f13150ccd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#addaab43239a5b98c8b4c0b4f13150ccd">HandleMemberDepositMoney</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> amount)</td></tr>
<tr class="separator:addaab43239a5b98c8b4c0b4f13150ccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e0ea01c1d042095c35e2a39ca89da41"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a7e0ea01c1d042095c35e2a39ca89da41">HandleMemberWithdrawMoney</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> amount, bool repair=false)</td></tr>
<tr class="separator:a7e0ea01c1d042095c35e2a39ca89da41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fb545fefdd11bc53ca3e8ffd3d8e5c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a9fb545fefdd11bc53ca3e8ffd3d8e5c2">HandleMemberLogout</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session)</td></tr>
<tr class="separator:a9fb545fefdd11bc53ca3e8ffd3d8e5c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc2249229adf1a2ccaa662cd18c02968"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#abc2249229adf1a2ccaa662cd18c02968">HandleDisband</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session)</td></tr>
<tr class="separator:abc2249229adf1a2ccaa662cd18c02968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a460f284740f1bf12b1662eb0809d333f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a460f284740f1bf12b1662eb0809d333f">UpdateMemberData</a> (<a class="el" href="../../dc/d06/a08466.html">Player</a> *player, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> dataid, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> value)</td></tr>
<tr class="separator:a460f284740f1bf12b1662eb0809d333f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39f75e3693d9128691c53ade8e93d3d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a39f75e3693d9128691c53ade8e93d3d0">OnPlayerStatusChange</a> (<a class="el" href="../../dc/d06/a08466.html">Player</a> *player, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> flag, bool state)</td></tr>
<tr class="separator:a39f75e3693d9128691c53ade8e93d3d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad04b5e1d7a28c7acaa217fad02ff0cd5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ad04b5e1d7a28c7acaa217fad02ff0cd5">SendInfo</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session) const</td></tr>
<tr class="separator:ad04b5e1d7a28c7acaa217fad02ff0cd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51ac1af417881e348cfa25fe4c4a277e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a51ac1af417881e348cfa25fe4c4a277e">SendEventLog</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session) const</td></tr>
<tr class="separator:a51ac1af417881e348cfa25fe4c4a277e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae659e83533b24458bad9a0d675ef68bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ae659e83533b24458bad9a0d675ef68bb">SendBankLog</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId) const</td></tr>
<tr class="separator:ae659e83533b24458bad9a0d675ef68bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60c5218a615056e34543c47f44270b89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a60c5218a615056e34543c47f44270b89">SendBankTabsInfo</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, bool showTabs=false)</td></tr>
<tr class="separator:a60c5218a615056e34543c47f44270b89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca68f65c236313cb5d2d79065f22d62e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#aca68f65c236313cb5d2d79065f22d62e">SendBankTabData</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId, bool sendAllSlots) const</td></tr>
<tr class="separator:aca68f65c236313cb5d2d79065f22d62e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1e4faad0b563dfd69e5536fb035bb29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ac1e4faad0b563dfd69e5536fb035bb29">SendBankTabText</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId) const</td></tr>
<tr class="separator:ac1e4faad0b563dfd69e5536fb035bb29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4583ba5df806a9bb7d47d139d8648221"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a4583ba5df806a9bb7d47d139d8648221">SendPermissions</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session)</td></tr>
<tr class="separator:a4583ba5df806a9bb7d47d139d8648221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4acde295523f9cf9e6f2e3e09ced8f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ae4acde295523f9cf9e6f2e3e09ced8f7">SendMoneyInfo</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session) const</td></tr>
<tr class="separator:ae4acde295523f9cf9e6f2e3e09ced8f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a690d3fe379bd3a3fee5531930043e593"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a690d3fe379bd3a3fee5531930043e593">SendLoginInfo</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session)</td></tr>
<tr class="separator:a690d3fe379bd3a3fee5531930043e593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65d2171d25a676929402a800eb7a3e6a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a65d2171d25a676929402a800eb7a3e6a">LoadFromDB</a> (<a class="el" href="../../d4/dff/a05618.html">Field</a> *fields)</td></tr>
<tr class="separator:a65d2171d25a676929402a800eb7a3e6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af805b19f736df4c51bacbf96a8e5d38c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#af805b19f736df4c51bacbf96a8e5d38c">LoadRankFromDB</a> (<a class="el" href="../../d4/dff/a05618.html">Field</a> *fields)</td></tr>
<tr class="separator:af805b19f736df4c51bacbf96a8e5d38c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36f774ba251d421ed0a6050b51babbb0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a36f774ba251d421ed0a6050b51babbb0">LoadMemberFromDB</a> (<a class="el" href="../../d4/dff/a05618.html">Field</a> *fields)</td></tr>
<tr class="separator:a36f774ba251d421ed0a6050b51babbb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98b993986266e2944c2f931c80ca5c60"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a98b993986266e2944c2f931c80ca5c60">LoadEventLogFromDB</a> (<a class="el" href="../../d4/dff/a05618.html">Field</a> *fields)</td></tr>
<tr class="separator:a98b993986266e2944c2f931c80ca5c60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2083addbe913158d6e369d72c1f4444a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a2083addbe913158d6e369d72c1f4444a">LoadBankRightFromDB</a> (<a class="el" href="../../d4/dff/a05618.html">Field</a> *fields)</td></tr>
<tr class="separator:a2083addbe913158d6e369d72c1f4444a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb5fdb4b19981409ded323470c120170"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#aeb5fdb4b19981409ded323470c120170">LoadBankTabFromDB</a> (<a class="el" href="../../d4/dff/a05618.html">Field</a> *fields)</td></tr>
<tr class="separator:aeb5fdb4b19981409ded323470c120170"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3284a1160d2e339cbdccc8bc5c659eb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ab3284a1160d2e339cbdccc8bc5c659eb">LoadBankEventLogFromDB</a> (<a class="el" href="../../d4/dff/a05618.html">Field</a> *fields)</td></tr>
<tr class="separator:ab3284a1160d2e339cbdccc8bc5c659eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a5267e926e1ab8bc67ff7a7f54401b7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a5a5267e926e1ab8bc67ff7a7f54401b7">LoadBankItemFromDB</a> (<a class="el" href="../../d4/dff/a05618.html">Field</a> *fields)</td></tr>
<tr class="separator:a5a5267e926e1ab8bc67ff7a7f54401b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedeba5c8ed6e8ad422562be594bd46d4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#aedeba5c8ed6e8ad422562be594bd46d4">Validate</a> ()</td></tr>
<tr class="separator:aedeba5c8ed6e8ad422562be594bd46d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cead18a64e4e8077a0ed65de51f7f59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a5cead18a64e4e8077a0ed65de51f7f59">BroadcastToGuild</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, bool officerOnly, std::string_view msg, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> language=<a class="el" href="../../d0/dbd/a02771.html#a315ca917ad583797f709ea477dd28705a15adb0ab094ffe068674ecc6ea720d3a">LANG_UNIVERSAL</a>) const</td></tr>
<tr class="separator:a5cead18a64e4e8077a0ed65de51f7f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b7e4df32defe814cba1a0be525e8beb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a4b7e4df32defe814cba1a0be525e8beb">BroadcastPacketToRank</a> (<a class="el" href="../../dc/dc5/a10766.html">WorldPacket</a> const *packet, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId) const</td></tr>
<tr class="separator:a4b7e4df32defe814cba1a0be525e8beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16a63bd6373e87c43bf74572f5c4f0ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a16a63bd6373e87c43bf74572f5c4f0ca">BroadcastPacket</a> (<a class="el" href="../../dc/dc5/a10766.html">WorldPacket</a> const *packet) const</td></tr>
<tr class="separator:a16a63bd6373e87c43bf74572f5c4f0ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0ae8ead712acb0a209b42d08197daae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ae0ae8ead712acb0a209b42d08197daae">MassInviteToEvent</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> minLevel, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> maxLevel, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> minRank)</td></tr>
<tr class="separator:ae0ae8ead712acb0a209b42d08197daae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4210800103f4222526827b0e544d446f"><td class="memTemplParams" colspan="2">template&lt;class Do &gt; </td></tr>
<tr class="memitem:a4210800103f4222526827b0e544d446f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a4210800103f4222526827b0e544d446f">BroadcastWorker</a> (Do &amp;_do, <a class="el" href="../../dc/d06/a08466.html">Player</a> *except=nullptr)</td></tr>
<tr class="separator:a4210800103f4222526827b0e544d446f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4d511e35415a734e16f90f8a028d649"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ab4d511e35415a734e16f90f8a028d649">AddMember</a> (<a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> guid, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId=<a class="el" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaaf6c0674ccaa8788c8fcfd8a600d925b6">GUILD_RANK_NONE</a>)</td></tr>
<tr class="separator:ab4d511e35415a734e16f90f8a028d649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b1c1eae7f85a92e17ba48c4ac52f0c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a4b1c1eae7f85a92e17ba48c4ac52f0c9">DeleteMember</a> (<a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> guid, bool isDisbanding=false, bool isKicked=false, bool canDeleteGuild=false)</td></tr>
<tr class="separator:a4b1c1eae7f85a92e17ba48c4ac52f0c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8687e8ccceee50ef72dcb0bef0008cc5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a8687e8ccceee50ef72dcb0bef0008cc5">ChangeMemberRank</a> (<a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> guid, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> newRank)</td></tr>
<tr class="separator:a8687e8ccceee50ef72dcb0bef0008cc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f35667276ec851e6c1fd0ceb6c3539a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a2f35667276ec851e6c1fd0ceb6c3539a">SwapItems</a> (<a class="el" href="../../dc/d06/a08466.html">Player</a> *player, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> slotId, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> destTabId, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> destSlotId, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> splitedAmount)</td></tr>
<tr class="separator:a2f35667276ec851e6c1fd0ceb6c3539a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0437adefe4485ff8d9e4e4fa5698ced2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a0437adefe4485ff8d9e4e4fa5698ced2">SwapItemsWithInventory</a> (<a class="el" href="../../dc/d06/a08466.html">Player</a> *player, bool toChar, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> slotId, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> playerBag, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> playerSlotId, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> splitedAmount)</td></tr>
<tr class="separator:a0437adefe4485ff8d9e4e4fa5698ced2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0ea8e3ce20309b0790ad813777f1614"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#af0ea8e3ce20309b0790ad813777f1614">GetTotalBankMoney</a> () const</td></tr>
<tr class="separator:af0ea8e3ce20309b0790ad813777f1614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a499645830ed2b2b134c1b2fe98a30dc4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a499645830ed2b2b134c1b2fe98a30dc4">GetMemberCount</a> () const</td></tr>
<tr class="separator:a499645830ed2b2b134c1b2fe98a30dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e4c74ad2dcde365c6eaf8b45484bf8c"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a8e4c74ad2dcde365c6eaf8b45484bf8c">GetCreatedDate</a> () const</td></tr>
<tr class="separator:a8e4c74ad2dcde365c6eaf8b45484bf8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74a0bf05d88af8b558310a9ef0ffcef3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a74a0bf05d88af8b558310a9ef0ffcef3">SetBankTabText</a> (<a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId, std::string_view text)</td></tr>
<tr class="separator:a74a0bf05d88af8b558310a9ef0ffcef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19f2098d79ea84109f24e78120783f0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a19f2098d79ea84109f24e78120783f0f">ResetTimes</a> ()</td></tr>
<tr class="separator:a19f2098d79ea84109f24e78120783f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa4b8cefd0140b86ee10d67c0734e17e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#afa4b8cefd0140b86ee10d67c0734e17e">ModifyBankMoney</a> (<a class="el" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans, const <a class="el" href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a> &amp;amount, bool add)</td></tr>
<tr class="separator:afa4b8cefd0140b86ee10d67c0734e17e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9c535ebec717fc2f10ac53af306ba1d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#aa9c535ebec717fc2f10ac53af306ba1d">GetMemberSize</a> () const</td></tr>
<tr class="separator:aa9c535ebec717fc2f10ac53af306ba1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad897c70e81cc04541fe54498cff5f0d8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, <a class="el" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61">GuildCommandType</a> type, <a class="el" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0b">GuildCommandError</a> errCode, std::string_view param={})</td></tr>
<tr class="separator:ad897c70e81cc04541fe54498cff5f0d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac04211f3519113a67aa4b241292c0ae2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ac04211f3519113a67aa4b241292c0ae2">SendSaveEmblemResult</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, <a class="el" href="../../d7/d93/a02981.html#afa754e5cab703d1d74d769393a463892">GuildEmblemError</a> errCode)</td></tr>
<tr class="separator:ac04211f3519113a67aa4b241292c0ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a1f3d236dfe2a86fa6c965cc6edbf3e70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a></td></tr>
<tr class="separator:a1f3d236dfe2a86fa6c965cc6edbf3e70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aa6b5f1c7e4c81c8800dcc55f65b3c5"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a6aa6b5f1c7e4c81c8800dcc55f65b3c5">m_name</a></td></tr>
<tr class="separator:a6aa6b5f1c7e4c81c8800dcc55f65b3c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82ebf987d4458f10b90122e69605b096"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">m_leaderGuid</a></td></tr>
<tr class="separator:a82ebf987d4458f10b90122e69605b096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ca3dad15779135af492a0b26597868"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ab8ca3dad15779135af492a0b26597868">m_motd</a></td></tr>
<tr class="separator:ab8ca3dad15779135af492a0b26597868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3ece52e40aa4cc373116b7c32fbb761"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ae3ece52e40aa4cc373116b7c32fbb761">m_info</a></td></tr>
<tr class="separator:ae3ece52e40aa4cc373116b7c32fbb761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e19285fd1730d3515e69a971918f410"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a4e19285fd1730d3515e69a971918f410">m_createdDate</a></td></tr>
<tr class="separator:a4e19285fd1730d3515e69a971918f410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada0bd10a22291059151d9ef42b1e3bba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d65/a09302.html">EmblemInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ada0bd10a22291059151d9ef42b1e3bba">m_emblemInfo</a></td></tr>
<tr class="separator:ada0bd10a22291059151d9ef42b1e3bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b93e8964749214369de1f19a9532e2d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a4b93e8964749214369de1f19a9532e2d">m_accountsNumber</a></td></tr>
<tr class="separator:a4b93e8964749214369de1f19a9532e2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a148e3da6e65ca7a0724799ad8b09091f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a148e3da6e65ca7a0724799ad8b09091f">m_bankMoney</a></td></tr>
<tr class="separator:a148e3da6e65ca7a0724799ad8b09091f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6747cafe477510f495f4719c8851413c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../db/d42/a09334.html">RankInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a></td></tr>
<tr class="separator:a6747cafe477510f495f4719c8851413c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f0ca92339ce7aea2b8909edd37f9835"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>, <a class="el" href="../../d7/da5/a09314.html">Member</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a></td></tr>
<tr class="separator:a8f0ca92339ce7aea2b8909edd37f9835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a387321359dc40fb20c38fc2f30992750"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d2/dc1/a09338.html">BankTab</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a387321359dc40fb20c38fc2f30992750">m_bankTabs</a></td></tr>
<tr class="separator:a387321359dc40fb20c38fc2f30992750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a9ec63cd5937e0d7967c1d3fb94a0b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d50/a09330.html">LogHolder</a>&lt; <a class="el" href="../../d1/d6c/a09322.html">EventLogEntry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a8a9ec63cd5937e0d7967c1d3fb94a0b5">m_eventLog</a></td></tr>
<tr class="separator:a8a9ec63cd5937e0d7967c1d3fb94a0b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6579a4863083ec5ea78b73be5395752a"><td class="memItemLeft" align="right" valign="top">std::array&lt; <a class="el" href="../../db/d50/a09330.html">LogHolder</a>&lt; <a class="el" href="../../d3/dbd/a09326.html">BankEventLogEntry</a> &gt;, <a class="el" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaadf100aec6c7a6f10b7af8629930feff7">GUILD_BANK_MAX_TABS</a>+1 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a6579a4863083ec5ea78b73be5395752a">m_bankEventLog</a> = {}</td></tr>
<tr class="separator:a6579a4863083ec5ea78b73be5395752a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ac250922a980c212c66ea7a2bb7e5b4b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ac250922a980c212c66ea7a2bb7e5b4b3">_GetRanksSize</a> () const</td></tr>
<tr class="separator:ac250922a980c212c66ea7a2bb7e5b4b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb913d5002329ec1ad98fe269f1ef08a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../db/d42/a09334.html">RankInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#acb913d5002329ec1ad98fe269f1ef08a">GetRankInfo</a> (<a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId) const</td></tr>
<tr class="separator:acb913d5002329ec1ad98fe269f1ef08a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a914f8f8ce3ce851aa484cd90c636c932"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d42/a09334.html">RankInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a914f8f8ce3ce851aa484cd90c636c932">GetRankInfo</a> (<a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId)</td></tr>
<tr class="separator:a914f8f8ce3ce851aa484cd90c636c932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada75072cb9454accd8b5e859615a6b88"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ada75072cb9454accd8b5e859615a6b88">_HasRankRight</a> (<a class="el" href="../../dc/d06/a08466.html">Player</a> *player, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> right) const</td></tr>
<tr class="separator:ada75072cb9454accd8b5e859615a6b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed9d9581db0de4d6c73aa8858024e7a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#aed9d9581db0de4d6c73aa8858024e7a1">_GetLowestRankId</a> () const</td></tr>
<tr class="separator:aed9d9581db0de4d6c73aa8858024e7a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a568597dd85eee0c661de9ad12978e527"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a> () const</td></tr>
<tr class="separator:a568597dd85eee0c661de9ad12978e527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac64fffad338feef366cbe672439f1027"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/dc1/a09338.html">BankTab</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ac64fffad338feef366cbe672439f1027">GetBankTab</a> (<a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId)</td></tr>
<tr class="separator:ac64fffad338feef366cbe672439f1027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af76df3509c1f01fd6bf2ff07aea4de36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/dc1/a09338.html">BankTab</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#af76df3509c1f01fd6bf2ff07aea4de36">GetBankTab</a> (<a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId) const</td></tr>
<tr class="separator:af76df3509c1f01fd6bf2ff07aea4de36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea25fad25add2347279b0ccc298e905e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#aea25fad25add2347279b0ccc298e905e">_DeleteMemberFromDB</a> (<a class="el" href="../../d4/df2/a08266.html#aa278d50613c05dc1333df5185a6993eb">ObjectGuid::LowType</a> lowguid) const</td></tr>
<tr class="separator:aea25fad25add2347279b0ccc298e905e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ade211c2cf31d862d7d0db4a237aa17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a7ade211c2cf31d862d7d0db4a237aa17">_CreateNewBankTab</a> ()</td></tr>
<tr class="separator:a7ade211c2cf31d862d7d0db4a237aa17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee9f5a339a9073219a29f634072c2f7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#aee9f5a339a9073219a29f634072c2f7e">_CreateDefaultGuildRanks</a> (<a class="el" href="../../d4/d51/a00017.html#a54c9b637be7283ba1a04fb5215594332">LocaleConstant</a> loc)</td></tr>
<tr class="separator:aee9f5a339a9073219a29f634072c2f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3239e428d8ac00e94e43fcb48a30139e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a3239e428d8ac00e94e43fcb48a30139e">_CreateRank</a> (std::string_view name, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> rights)</td></tr>
<tr class="separator:a3239e428d8ac00e94e43fcb48a30139e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86f4c4bcdb3d744f9438d53148830698"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a86f4c4bcdb3d744f9438d53148830698">_UpdateAccountsNumber</a> ()</td></tr>
<tr class="separator:a86f4c4bcdb3d744f9438d53148830698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf78aa36da22b99c10df4a971d538b3d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#aaf78aa36da22b99c10df4a971d538b3d">_IsLeader</a> (<a class="el" href="../../dc/d06/a08466.html">Player</a> *player) const</td></tr>
<tr class="separator:aaf78aa36da22b99c10df4a971d538b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a339f2b47fec6228e85ac765a0eebcb3c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a339f2b47fec6228e85ac765a0eebcb3c">_DeleteBankItems</a> (<a class="el" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans, bool removeItemsFromDB=false)</td></tr>
<tr class="separator:a339f2b47fec6228e85ac765a0eebcb3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac79dc8d555cb9004969c8d028b370dbe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ac79dc8d555cb9004969c8d028b370dbe">_ModifyBankMoney</a> (<a class="el" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans, <a class="el" href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a> amount, bool add)</td></tr>
<tr class="separator:ac79dc8d555cb9004969c8d028b370dbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac7bfd950eec4b375833956962d0ae57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#aac7bfd950eec4b375833956962d0ae57">_SetLeaderGUID</a> (<a class="el" href="../../d7/da5/a09314.html">Member</a> &amp;pLeader)</td></tr>
<tr class="separator:aac7bfd950eec4b375833956962d0ae57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1da2ede98657c593c8c19b598055369b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a1da2ede98657c593c8c19b598055369b">_SetRankBankMoneyPerDay</a> (<a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> moneyPerDay)</td></tr>
<tr class="separator:a1da2ede98657c593c8c19b598055369b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e78f93becad55338ec435dc46b9ccc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a0e78f93becad55338ec435dc46b9ccc4">_SetRankBankTabRightsAndSlots</a> (<a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId, <a class="el" href="../../df/d6f/a09306.html">GuildBankRightsAndSlots</a> rightsAndSlots, bool saveToDB=true)</td></tr>
<tr class="separator:a0e78f93becad55338ec435dc46b9ccc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03604640465ea463f12530add6b0eeb7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a3bb8a71f4ae9af551f71e9eb2c9c3325">int8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a03604640465ea463f12530add6b0eeb7">_GetRankBankTabRights</a> (<a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId) const</td></tr>
<tr class="separator:a03604640465ea463f12530add6b0eeb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d37224ec9bf1c2b1ec75562b62192ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a2d37224ec9bf1c2b1ec75562b62192ea">_GetRankRights</a> (<a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId) const</td></tr>
<tr class="separator:a2d37224ec9bf1c2b1ec75562b62192ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75c1af97a252a6ab2eec848c92e7cfc7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a75c1af97a252a6ab2eec848c92e7cfc7">_GetRankBankMoneyPerDay</a> (<a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId) const</td></tr>
<tr class="separator:a75c1af97a252a6ab2eec848c92e7cfc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17cdedbc4d68713f4a2be9e44a0c2e77"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a17cdedbc4d68713f4a2be9e44a0c2e77">_GetRankBankTabSlotsPerDay</a> (<a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId) const</td></tr>
<tr class="separator:a17cdedbc4d68713f4a2be9e44a0c2e77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02c0229f70ce90c28278db543e8d30f5"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a02c0229f70ce90c28278db543e8d30f5">_GetRankName</a> (<a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId) const</td></tr>
<tr class="separator:a02c0229f70ce90c28278db543e8d30f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e4488776daa471ffb5a31c0770633e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a4e4488776daa471ffb5a31c0770633e6">_GetMemberRemainingSlots</a> (<a class="el" href="../../d7/da5/a09314.html">Member</a> const &amp;member, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId) const</td></tr>
<tr class="separator:a4e4488776daa471ffb5a31c0770633e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ab0b7ff433180bafc6461c7588084c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a19ab0b7ff433180bafc6461c7588084c">_GetMemberRemainingMoney</a> (<a class="el" href="../../d7/da5/a09314.html">Member</a> const &amp;member) const</td></tr>
<tr class="separator:a19ab0b7ff433180bafc6461c7588084c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5cec12a703c5b02db7e4270c3b64c44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#af5cec12a703c5b02db7e4270c3b64c44">_UpdateMemberWithdrawSlots</a> (<a class="el" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> guid, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId)</td></tr>
<tr class="separator:af5cec12a703c5b02db7e4270c3b64c44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5ec2e7944cca49cd174c5528e311eb4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#aa5ec2e7944cca49cd174c5528e311eb4">_MemberHasTabRights</a> (<a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> guid, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> rights) const</td></tr>
<tr class="separator:aa5ec2e7944cca49cd174c5528e311eb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5ffb2824665b4297a0b5d6028169d50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ae5ffb2824665b4297a0b5d6028169d50">_LogEvent</a> (<a class="el" href="../../d7/d93/a02981.html#aff19569a84ef44eea2acf4d6bcb86690">GuildEventLogTypes</a> eventType, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> playerGuid1, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> playerGuid2=<a class="el" href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a>, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> newRank=0)</td></tr>
<tr class="separator:ae5ffb2824665b4297a0b5d6028169d50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3b50f9118a606289a169f5d2addd894"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ae3b50f9118a606289a169f5d2addd894">_LogBankEvent</a> (<a class="el" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans, <a class="el" href="../../d7/d93/a02981.html#a965ebfa7c809976c6361afae89c98895">GuildBankEventLogTypes</a> eventType, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> playerGuid, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> itemOrMoney, <a class="el" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> itemStackCount=0, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> destTabId=0)</td></tr>
<tr class="separator:ae3b50f9118a606289a169f5d2addd894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae41626bce98dacc91e0969f7868ad51c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d4c/a08174.html">Item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ae41626bce98dacc91e0969f7868ad51c">_GetItem</a> (<a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> slotId) const</td></tr>
<tr class="separator:ae41626bce98dacc91e0969f7868ad51c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf69ed8372cb3ba9e26856d1930008ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#aaf69ed8372cb3ba9e26856d1930008ae">_RemoveItem</a> (<a class="el" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> slotId)</td></tr>
<tr class="separator:aaf69ed8372cb3ba9e26856d1930008ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedae13ac977ddf2c8947d652144cfd36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#aedae13ac977ddf2c8947d652144cfd36">_MoveItems</a> (<a class="el" href="../../d6/d5c/a09342.html">MoveItemData</a> *pSrc, <a class="el" href="../../d6/d5c/a09342.html">MoveItemData</a> *pDest, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> splitedAmount)</td></tr>
<tr class="separator:aedae13ac977ddf2c8947d652144cfd36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf135024c0806e2f4ba80d2af10b659a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#acf135024c0806e2f4ba80d2af10b659a">_DoItemsMove</a> (<a class="el" href="../../d6/d5c/a09342.html">MoveItemData</a> *pSrc, <a class="el" href="../../d6/d5c/a09342.html">MoveItemData</a> *pDest, bool sendError, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> splitedAmount=0)</td></tr>
<tr class="separator:acf135024c0806e2f4ba80d2af10b659a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa35aaff8114e214a4900b2b39a02c08b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#aa35aaff8114e214a4900b2b39a02c08b">_SendBankContent</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId, bool sendAllSlots) const</td></tr>
<tr class="separator:aa35aaff8114e214a4900b2b39a02c08b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a446fbce6fbb44fb4e45980132e06bf88"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a446fbce6fbb44fb4e45980132e06bf88">_SendBankMoneyUpdate</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session) const</td></tr>
<tr class="separator:a446fbce6fbb44fb4e45980132e06bf88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad245500a81dcb14490d5e272a4617003"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ad245500a81dcb14490d5e272a4617003">_SendBankContentUpdate</a> (<a class="el" href="../../d6/d5c/a09342.html">MoveItemData</a> *pSrc, <a class="el" href="../../d6/d5c/a09342.html">MoveItemData</a> *pDest) const</td></tr>
<tr class="separator:ad245500a81dcb14490d5e272a4617003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa94a2c151c913191af12db2480f28cd0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#aa94a2c151c913191af12db2480f28cd0">_SendBankContentUpdate</a> (<a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId, <a class="el" href="../../d7/d93/a02981.html#a5d929929b4339d57ad74b13b2b96d940">SlotIds</a> slots) const</td></tr>
<tr class="separator:aa94a2c151c913191af12db2480f28cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f5789fbad9d569864fe4c13f5774c7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#a2f5789fbad9d569864fe4c13f5774c7f">_SendBankList</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session=nullptr, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId=0, bool sendFullSlots=false, <a class="el" href="../../d7/d93/a02981.html#a5d929929b4339d57ad74b13b2b96d940">SlotIds</a> *slots=nullptr) const</td></tr>
<tr class="separator:a2f5789fbad9d569864fe4c13f5774c7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac945bc85b6372915ef1be2c53b5c70b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a> (<a class="el" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59d">GuildEvents</a> guildEvent, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> guid=<a class="el" href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a>, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; std::string_view &gt; param1={}, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; std::string_view &gt; param2={}, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; std::string_view &gt; param3={}) const</td></tr>
<tr class="separator:ac945bc85b6372915ef1be2c53b5c70b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a33e1903aeab4de7dd4de301b36e6f2b4" name="a33e1903aeab4de7dd4de301b36e6f2b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33e1903aeab4de7dd4de301b36e6f2b4">&#9670;&#160;</a></span>Guild()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Guild::Guild </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1034</span>            :</div>
<div class="line"><span class="lineno"> 1035</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>(0),</div>
<div class="line"><span class="lineno"> 1036</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a4e19285fd1730d3515e69a971918f410">m_createdDate</a>(0),</div>
<div class="line"><span class="lineno"> 1037</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a4b93e8964749214369de1f19a9532e2d">m_accountsNumber</a>(0),</div>
<div class="line"><span class="lineno"> 1038</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a148e3da6e65ca7a0724799ad8b09091f">m_bankMoney</a>(0)</div>
<div class="line"><span class="lineno"> 1039</span>{</div>
<div class="line"><span class="lineno"> 1040</span>}</div>
<div class="ttc" id="aa09310_html_a148e3da6e65ca7a0724799ad8b09091f"><div class="ttname"><a href="../../d8/d60/a09310.html#a148e3da6e65ca7a0724799ad8b09091f">Guild::m_bankMoney</a></div><div class="ttdeci">uint64 m_bankMoney</div><div class="ttdef"><b>Definition:</b> Guild.h:792</div></div>
<div class="ttc" id="aa09310_html_a1f3d236dfe2a86fa6c965cc6edbf3e70"><div class="ttname"><a href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">Guild::m_id</a></div><div class="ttdeci">uint32 m_id</div><div class="ttdef"><b>Definition:</b> Guild.h:783</div></div>
<div class="ttc" id="aa09310_html_a4b93e8964749214369de1f19a9532e2d"><div class="ttname"><a href="../../d8/d60/a09310.html#a4b93e8964749214369de1f19a9532e2d">Guild::m_accountsNumber</a></div><div class="ttdeci">uint32 m_accountsNumber</div><div class="ttdef"><b>Definition:</b> Guild.h:791</div></div>
<div class="ttc" id="aa09310_html_a4e19285fd1730d3515e69a971918f410"><div class="ttname"><a href="../../d8/d60/a09310.html#a4e19285fd1730d3515e69a971918f410">Guild::m_createdDate</a></div><div class="ttdeci">time_t m_createdDate</div><div class="ttdef"><b>Definition:</b> Guild.h:788</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a303979c3c98236e3861f8b284ea10cfb" name="a303979c3c98236e3861f8b284ea10cfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a303979c3c98236e3861f8b284ea10cfb">&#9670;&#160;</a></span>~Guild()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Guild::~Guild </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1043</span>{</div>
<div class="line"><span class="lineno"> 1044</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> temp(<span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 1045</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a339f2b47fec6228e85ac765a0eebcb3c">_DeleteBankItems</a>(temp);</div>
<div class="line"><span class="lineno"> 1046</span>}</div>
<div class="ttc" id="aa04589_html_a96bac9a371212c6bab7a9448214666c0"><div class="ttname"><a href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a></div><div class="ttdeci">SQLTransaction&lt; CharacterDatabaseConnection &gt; CharacterDatabaseTransaction</div><div class="ttdef"><b>Definition:</b> DatabaseEnvFwd.h:69</div></div>
<div class="ttc" id="aa09310_html_a339f2b47fec6228e85ac765a0eebcb3c"><div class="ttname"><a href="../../d8/d60/a09310.html#a339f2b47fec6228e85ac765a0eebcb3c">Guild::_DeleteBankItems</a></div><div class="ttdeci">void _DeleteBankItems(CharacterDatabaseTransaction trans, bool removeItemsFromDB=false)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2464</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02464">_DeleteBankItems()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac945bc85b6372915ef1be2c53b5c70b6" name="ac945bc85b6372915ef1be2c53b5c70b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac945bc85b6372915ef1be2c53b5c70b6">&#9670;&#160;</a></span>_BroadcastEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_BroadcastEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59d">GuildEvents</a>&#160;</td>
          <td class="paramname"><em>guildEvent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>guid</em> = <code><a class="el" href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; std::string_view &gt;&#160;</td>
          <td class="paramname"><em>param1</em> = <code>{}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; std::string_view &gt;&#160;</td>
          <td class="paramname"><em>param2</em> = <code>{}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; std::string_view &gt;&#160;</td>
          <td class="paramname"><em>param3</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2801</span>{</div>
<div class="line"><span class="lineno"> 2802</span>    <a class="code hl_class" href="../../dc/dc1/a10394.html">WorldPackets::Guild::GuildEvent</a> event;</div>
<div class="line"><span class="lineno"> 2803</span>    <span class="keyword">event</span>.<a class="code hl_variable" href="../../dc/dc1/a10394.html#a961ae90991fa23bfc94a054dba357392">Type</a> = guildEvent;</div>
<div class="line"><span class="lineno"> 2804</span>    <span class="keywordflow">if</span> (param1)</div>
<div class="line"><span class="lineno"> 2805</span>        <span class="keyword">event</span>.Params.push_back(*param1);</div>
<div class="line"><span class="lineno"> 2806</span> </div>
<div class="line"><span class="lineno"> 2807</span>    <span class="keywordflow">if</span> (param2)</div>
<div class="line"><span class="lineno"> 2808</span>    {</div>
<div class="line"><span class="lineno"> 2809</span>        <span class="keyword">event</span>.Params.resize(2);</div>
<div class="line"><span class="lineno"> 2810</span>        <span class="keyword">event</span>.Params[1] = *param2;</div>
<div class="line"><span class="lineno"> 2811</span>    }</div>
<div class="line"><span class="lineno"> 2812</span> </div>
<div class="line"><span class="lineno"> 2813</span>    <span class="keywordflow">if</span> (param3)</div>
<div class="line"><span class="lineno"> 2814</span>    {</div>
<div class="line"><span class="lineno"> 2815</span>        <span class="keyword">event</span>.Params.resize(3);</div>
<div class="line"><span class="lineno"> 2816</span>        <span class="keyword">event</span>.Params[2] = *param3;</div>
<div class="line"><span class="lineno"> 2817</span>    }</div>
<div class="line"><span class="lineno"> 2818</span>    <span class="keyword">event</span>.Guid = guid;</div>
<div class="line"><span class="lineno"> 2819</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a16a63bd6373e87c43bf74572f5c4f0ca">BroadcastPacket</a>(event.<a class="code hl_function" href="../../dc/dc1/a10394.html#a4ae1c0daaec964981ad982b97c1b0408">Write</a>());</div>
<div class="line"><span class="lineno"> 2820</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;SMSG_GUILD_EVENT [Broadcast] Event: {}&quot;</span>, guildEvent);</div>
<div class="line"><span class="lineno"> 2821</span>}</div>
<div class="ttc" id="aa00035_html_a47ac782b14a7531c6232777165a1a161"><div class="ttname"><a href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a></div><div class="ttdeci">#define LOG_DEBUG(filterType__,...)</div><div class="ttdef"><b>Definition:</b> Log.h:169</div></div>
<div class="ttc" id="aa09310_html_a16a63bd6373e87c43bf74572f5c4f0ca"><div class="ttname"><a href="../../d8/d60/a09310.html#a16a63bd6373e87c43bf74572f5c4f0ca">Guild::BroadcastPacket</a></div><div class="ttdeci">void BroadcastPacket(WorldPacket const *packet) const</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2135</div></div>
<div class="ttc" id="aa10394_html"><div class="ttname"><a href="../../dc/dc1/a10394.html">WorldPackets::Guild::GuildEvent</a></div><div class="ttdef"><b>Definition:</b> GuildPackets.h:203</div></div>
<div class="ttc" id="aa10394_html_a4ae1c0daaec964981ad982b97c1b0408"><div class="ttname"><a href="../../dc/dc1/a10394.html#a4ae1c0daaec964981ad982b97c1b0408">WorldPackets::Guild::GuildEvent::Write</a></div><div class="ttdeci">WorldPacket const * Write() override</div><div class="ttdef"><b>Definition:</b> GuildPackets.cpp:122</div></div>
<div class="ttc" id="aa10394_html_a961ae90991fa23bfc94a054dba357392"><div class="ttname"><a href="../../dc/dc1/a10394.html#a961ae90991fa23bfc94a054dba357392">WorldPackets::Guild::GuildEvent::Type</a></div><div class="ttdeci">uint8 Type</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:209</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02135">BroadcastPacket()</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00209">WorldPackets::Guild::GuildEvent::Type</a>, and <a class="el" href="../../#l00122">WorldPackets::Guild::GuildEvent::Write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02175">AddMember()</a>, <a class="el" href="../../#l02259">DeleteMember()</a>, <a class="el" href="../../#l01108">Disband()</a>, <a class="el" href="../../#l01621">HandleAddNewRank()</a>, <a class="el" href="../../#l01403">HandleBuyBankTab()</a>, <a class="el" href="../../#l01506">HandleLeaveMember()</a>, <a class="el" href="../../#l01661">HandleMemberDepositMoney()</a>, <a class="el" href="../../#l01742">HandleMemberLogout()</a>, <a class="el" href="../../#l01691">HandleMemberWithdrawMoney()</a>, <a class="el" href="../../#l01540">HandleRemoveMember()</a>, <a class="el" href="../../#l01638">HandleRemoveRank()</a>, <a class="el" href="../../#l01353">HandleSetBankTabInfo()</a>, <a class="el" href="../../#l01334">HandleSetLeader()</a>, <a class="el" href="../../#l01272">HandleSetMOTD()</a>, <a class="el" href="../../#l01383">HandleSetRankInfo()</a>, <a class="el" href="../../#l01569">HandleUpdateMemberRank()</a>, <a class="el" href="../../#l02929">ResetTimes()</a>, and <a class="el" href="../../#l01878">SendLoginInfo()</a>.</p>

</div>
</div>
<a id="aee9f5a339a9073219a29f634072c2f7e" name="aee9f5a339a9073219a29f634072c2f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee9f5a339a9073219a29f634072c2f7e">&#9670;&#160;</a></span>_CreateDefaultGuildRanks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_CreateDefaultGuildRanks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d51/a00017.html#a54c9b637be7283ba1a04fb5215594332">LocaleConstant</a>&#160;</td>
          <td class="paramname"><em>loc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2406</span>{</div>
<div class="line"><span class="lineno"> 2407</span>    <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7ad8fa912aa381088cff5eb003e5f125ab">CHAR_DEL_GUILD_RANKS</a>);</div>
<div class="line"><span class="lineno"> 2408</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 2409</span>    <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno"> 2410</span> </div>
<div class="line"><span class="lineno"> 2411</span>    stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a2047764ddea7e001409721dada81fb00">CHAR_DEL_GUILD_BANK_RIGHTS</a>);</div>
<div class="line"><span class="lineno"> 2412</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 2413</span>    <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno"> 2414</span> </div>
<div class="line"><span class="lineno"> 2415</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a3239e428d8ac00e94e43fcb48a30139e">_CreateRank</a>(<a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetAcoreString(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa179b0b05e8c23e40653d39666c53dfbf">LANG_GUILD_MASTER</a>,   loc), <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a4848a44a3683ba2200a6e6844dfcadee">GR_RIGHT_ALL</a>);</div>
<div class="line"><span class="lineno"> 2416</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a3239e428d8ac00e94e43fcb48a30139e">_CreateRank</a>(<a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetAcoreString(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa3d204939b6aaebbb78517c05d23274b9">LANG_GUILD_OFFICER</a>,  loc), <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a4848a44a3683ba2200a6e6844dfcadee">GR_RIGHT_ALL</a>);</div>
<div class="line"><span class="lineno"> 2417</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a3239e428d8ac00e94e43fcb48a30139e">_CreateRank</a>(<a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetAcoreString(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa17f0b9ec9ed3298e6ac5d98c54abe12a">LANG_GUILD_VETERAN</a>,  loc), <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a613b1d285b8e4bfd5b302d455a234e8b">GR_RIGHT_GCHATLISTEN</a> | <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a31d51868ba86650a2177d9a9e55fb21e">GR_RIGHT_GCHATSPEAK</a>);</div>
<div class="line"><span class="lineno"> 2418</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a3239e428d8ac00e94e43fcb48a30139e">_CreateRank</a>(<a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetAcoreString(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaba86c473ba79e77e25b6b1dd84125ba0">LANG_GUILD_MEMBER</a>,   loc), <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a613b1d285b8e4bfd5b302d455a234e8b">GR_RIGHT_GCHATLISTEN</a> | <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a31d51868ba86650a2177d9a9e55fb21e">GR_RIGHT_GCHATSPEAK</a>);</div>
<div class="line"><span class="lineno"> 2419</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a3239e428d8ac00e94e43fcb48a30139e">_CreateRank</a>(<a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetAcoreString(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa6fc91e3c758bcbbb4c5c132123984151">LANG_GUILD_INITIATE</a>, loc), <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a613b1d285b8e4bfd5b302d455a234e8b">GR_RIGHT_GCHATLISTEN</a> | <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a31d51868ba86650a2177d9a9e55fb21e">GR_RIGHT_GCHATSPEAK</a>);</div>
<div class="line"><span class="lineno"> 2420</span>}</div>
<div class="ttc" id="aa02843_html_a736e30da2b5261060ac6cdbb5de3b787"><div class="ttname"><a href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a></div><div class="ttdeci">#define sObjectMgr</div><div class="ttdef"><b>Definition:</b> ObjectMgr.h:1635</div></div>
<div class="ttc" id="aa02981_html_abe65a5c09114479eec37ae55f24aaaa7a31d51868ba86650a2177d9a9e55fb21e"><div class="ttname"><a href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a31d51868ba86650a2177d9a9e55fb21e">GR_RIGHT_GCHATSPEAK</a></div><div class="ttdeci">@ GR_RIGHT_GCHATSPEAK</div><div class="ttdef"><b>Definition:</b> Guild.h:78</div></div>
<div class="ttc" id="aa02981_html_abe65a5c09114479eec37ae55f24aaaa7a4848a44a3683ba2200a6e6844dfcadee"><div class="ttname"><a href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a4848a44a3683ba2200a6e6844dfcadee">GR_RIGHT_ALL</a></div><div class="ttdeci">@ GR_RIGHT_ALL</div><div class="ttdef"><b>Definition:</b> Guild.h:94</div></div>
<div class="ttc" id="aa02981_html_abe65a5c09114479eec37ae55f24aaaa7a613b1d285b8e4bfd5b302d455a234e8b"><div class="ttname"><a href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a613b1d285b8e4bfd5b302d455a234e8b">GR_RIGHT_GCHATLISTEN</a></div><div class="ttdeci">@ GR_RIGHT_GCHATLISTEN</div><div class="ttdef"><b>Definition:</b> Guild.h:77</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa179b0b05e8c23e40653d39666c53dfbf"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa179b0b05e8c23e40653d39666c53dfbf">LANG_GUILD_MASTER</a></div><div class="ttdeci">@ LANG_GUILD_MASTER</div><div class="ttdef"><b>Definition:</b> Language.h:748</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa17f0b9ec9ed3298e6ac5d98c54abe12a"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa17f0b9ec9ed3298e6ac5d98c54abe12a">LANG_GUILD_VETERAN</a></div><div class="ttdeci">@ LANG_GUILD_VETERAN</div><div class="ttdef"><b>Definition:</b> Language.h:750</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa3d204939b6aaebbb78517c05d23274b9"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa3d204939b6aaebbb78517c05d23274b9">LANG_GUILD_OFFICER</a></div><div class="ttdeci">@ LANG_GUILD_OFFICER</div><div class="ttdef"><b>Definition:</b> Language.h:749</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa6fc91e3c758bcbbb4c5c132123984151"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa6fc91e3c758bcbbb4c5c132123984151">LANG_GUILD_INITIATE</a></div><div class="ttdeci">@ LANG_GUILD_INITIATE</div><div class="ttdef"><b>Definition:</b> Language.h:752</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaba86c473ba79e77e25b6b1dd84125ba0"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaba86c473ba79e77e25b6b1dd84125ba0">LANG_GUILD_MEMBER</a></div><div class="ttdeci">@ LANG_GUILD_MEMBER</div><div class="ttdef"><b>Definition:</b> Language.h:751</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a2047764ddea7e001409721dada81fb00"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a2047764ddea7e001409721dada81fb00">CHAR_DEL_GUILD_BANK_RIGHTS</a></div><div class="ttdeci">@ CHAR_DEL_GUILD_BANK_RIGHTS</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:157</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7ad8fa912aa381088cff5eb003e5f125ab"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7ad8fa912aa381088cff5eb003e5f125ab">CHAR_DEL_GUILD_RANKS</a></div><div class="ttdeci">@ CHAR_DEL_GUILD_RANKS</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:148</div></div>
<div class="ttc" id="aa04601_html_a7e7534bc66d79434bd280b77cb124eec"><div class="ttname"><a href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a></div><div class="ttdeci">DatabaseWorkerPool&lt; CharacterDatabaseConnection &gt; CharacterDatabase</div><div class="ttdoc">Accessor to the character database.</div><div class="ttdef"><b>Definition:</b> DatabaseEnv.cpp:21</div></div>
<div class="ttc" id="aa05586_html"><div class="ttname"><a href="../../d4/d20/a05586.html">PreparedStatement</a></div><div class="ttdef"><b>Definition:</b> PreparedStatement.h:157</div></div>
<div class="ttc" id="aa05718_html_a52fc2e65042c1db51f0923725a0f0ed0"><div class="ttname"><a href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">PreparedStatementBase::SetData</a></div><div class="ttdeci">Acore::Types::is_default&lt; T &gt; SetData(const uint8 index, T value)</div><div class="ttdef"><b>Definition:</b> PreparedStatement.h:77</div></div>
<div class="ttc" id="aa09310_html_a3239e428d8ac00e94e43fcb48a30139e"><div class="ttname"><a href="../../d8/d60/a09310.html#a3239e428d8ac00e94e43fcb48a30139e">Guild::_CreateRank</a></div><div class="ttdeci">bool _CreateRank(std::string_view name, uint32 rights)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2422</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02422">_CreateRank()</a>, <a class="el" href="../../#l00157">CHAR_DEL_GUILD_BANK_RIGHTS</a>, <a class="el" href="../../#l00148">CHAR_DEL_GUILD_RANKS</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00094">GR_RIGHT_ALL</a>, <a class="el" href="../../#l00077">GR_RIGHT_GCHATLISTEN</a>, <a class="el" href="../../#l00078">GR_RIGHT_GCHATSPEAK</a>, <a class="el" href="../../#l00752">LANG_GUILD_INITIATE</a>, <a class="el" href="../../#l00748">LANG_GUILD_MASTER</a>, <a class="el" href="../../#l00751">LANG_GUILD_MEMBER</a>, <a class="el" href="../../#l00749">LANG_GUILD_OFFICER</a>, <a class="el" href="../../#l00750">LANG_GUILD_VETERAN</a>, <a class="el" href="../../#l00783">m_id</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, and <a class="el" href="../../#l01635">sObjectMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01049">Create()</a>, and <a class="el" href="../../#l02042">Validate()</a>.</p>

</div>
</div>
<a id="a7ade211c2cf31d862d7d0db4a237aa17" name="a7ade211c2cf31d862d7d0db4a237aa17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ade211c2cf31d862d7d0db4a237aa17">&#9670;&#160;</a></span>_CreateNewBankTab()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_CreateNewBankTab </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2382</span>{</div>
<div class="line"><span class="lineno"> 2383</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId = <a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>();                      <span class="comment">// Next free id</span></div>
<div class="line"><span class="lineno"> 2384</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a387321359dc40fb20c38fc2f30992750">m_bankTabs</a>.emplace_back(<a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>, tabId);</div>
<div class="line"><span class="lineno"> 2385</span> </div>
<div class="line"><span class="lineno"> 2386</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.BeginTransaction();</div>
<div class="line"><span class="lineno"> 2387</span> </div>
<div class="line"><span class="lineno"> 2388</span>    <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a9e05ac6125554ce6feb96b091c88b68c">CHAR_DEL_GUILD_BANK_TAB</a>);</div>
<div class="line"><span class="lineno"> 2389</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 2390</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a> (1, tabId);</div>
<div class="line"><span class="lineno"> 2391</span>    trans-&gt;Append(stmt);</div>
<div class="line"><span class="lineno"> 2392</span> </div>
<div class="line"><span class="lineno"> 2393</span>    stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a9744acf0e6c9861cb4bf33440da12499">CHAR_INS_GUILD_BANK_TAB</a>);</div>
<div class="line"><span class="lineno"> 2394</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 2395</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a> (1, tabId);</div>
<div class="line"><span class="lineno"> 2396</span>    trans-&gt;Append(stmt);</div>
<div class="line"><span class="lineno"> 2397</span> </div>
<div class="line"><span class="lineno"> 2398</span>    ++tabId;</div>
<div class="line"><span class="lineno"> 2399</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; m_rank : <a class="code hl_variable" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a>)</div>
<div class="line"><span class="lineno"> 2400</span>        m_rank.CreateMissingTabsIfNeeded(tabId, trans, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2401</span> </div>
<div class="line"><span class="lineno"> 2402</span>    <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.CommitTransaction(trans);</div>
<div class="line"><span class="lineno"> 2403</span>}</div>
<div class="ttc" id="aa00497_html_a15a8d014fadf85c99a2268d8cbd00767"><div class="ttname"><a href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a></div><div class="ttdeci">std::uint8_t uint8</div><div class="ttdef"><b>Definition:</b> Define.h:109</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a9744acf0e6c9861cb4bf33440da12499"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a9744acf0e6c9861cb4bf33440da12499">CHAR_INS_GUILD_BANK_TAB</a></div><div class="ttdeci">@ CHAR_INS_GUILD_BANK_TAB</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:150</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a9e05ac6125554ce6feb96b091c88b68c"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a9e05ac6125554ce6feb96b091c88b68c">CHAR_DEL_GUILD_BANK_TAB</a></div><div class="ttdeci">@ CHAR_DEL_GUILD_BANK_TAB</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:151</div></div>
<div class="ttc" id="aa09310_html_a387321359dc40fb20c38fc2f30992750"><div class="ttname"><a href="../../d8/d60/a09310.html#a387321359dc40fb20c38fc2f30992750">Guild::m_bankTabs</a></div><div class="ttdeci">std::vector&lt; BankTab &gt; m_bankTabs</div><div class="ttdef"><b>Definition:</b> Guild.h:796</div></div>
<div class="ttc" id="aa09310_html_a568597dd85eee0c661de9ad12978e527"><div class="ttname"><a href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">Guild::_GetPurchasedTabsSize</a></div><div class="ttdeci">uint8 _GetPurchasedTabsSize() const</div><div class="ttdef"><b>Definition:</b> Guild.h:816</div></div>
<div class="ttc" id="aa09310_html_a6747cafe477510f495f4719c8851413c"><div class="ttname"><a href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">Guild::m_ranks</a></div><div class="ttdeci">std::vector&lt; RankInfo &gt; m_ranks</div><div class="ttdef"><b>Definition:</b> Guild.h:794</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00816">_GetPurchasedTabsSize()</a>, <a class="el" href="../../#l00151">CHAR_DEL_GUILD_BANK_TAB</a>, <a class="el" href="../../#l00150">CHAR_INS_GUILD_BANK_TAB</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00796">m_bankTabs</a>, <a class="el" href="../../#l00783">m_id</a>, <a class="el" href="../../#l00794">m_ranks</a>, and <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01049">Create()</a>, and <a class="el" href="../../#l01403">HandleBuyBankTab()</a>.</p>

</div>
</div>
<a id="a3239e428d8ac00e94e43fcb48a30139e" name="a3239e428d8ac00e94e43fcb48a30139e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3239e428d8ac00e94e43fcb48a30139e">&#9670;&#160;</a></span>_CreateRank()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::_CreateRank </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>rights</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2423</span>{</div>
<div class="line"><span class="lineno"> 2424</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> newRankId = <a class="code hl_function" href="../../d8/d60/a09310.html#ac250922a980c212c66ea7a2bb7e5b4b3">_GetRanksSize</a>();</div>
<div class="line"><span class="lineno"> 2425</span>    <span class="keywordflow">if</span> (newRankId &gt;= <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaac93065ac20ad4d90f8ef5c0f44154e1b">GUILD_RANKS_MAX_COUNT</a>)</div>
<div class="line"><span class="lineno"> 2426</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2427</span> </div>
<div class="line"><span class="lineno"> 2428</span>    <span class="comment">// Ranks represent sequence 0, 1, 2, ... where 0 means guildmaster</span></div>
<div class="line"><span class="lineno"> 2429</span>    RankInfo info(<a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>, newRankId, name, rights, 0);</div>
<div class="line"><span class="lineno"> 2430</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a>.push_back(info);</div>
<div class="line"><span class="lineno"> 2431</span> </div>
<div class="line"><span class="lineno"> 2432</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.BeginTransaction();</div>
<div class="line"><span class="lineno"> 2433</span>    info.CreateMissingTabsIfNeeded(<a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>(), trans);</div>
<div class="line"><span class="lineno"> 2434</span>    info.SaveToDB(trans);</div>
<div class="line"><span class="lineno"> 2435</span>    <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.CommitTransaction(trans);</div>
<div class="line"><span class="lineno"> 2436</span> </div>
<div class="line"><span class="lineno"> 2437</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2438</span>}</div>
<div class="ttc" id="aa02981_html_a06a462b77a279ae7e2e901b2a8b42fbaac93065ac20ad4d90f8ef5c0f44154e1b"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaac93065ac20ad4d90f8ef5c0f44154e1b">GUILD_RANKS_MAX_COUNT</a></div><div class="ttdeci">@ GUILD_RANKS_MAX_COUNT</div><div class="ttdef"><b>Definition:</b> Guild.h:46</div></div>
<div class="ttc" id="aa09310_html_ac250922a980c212c66ea7a2bb7e5b4b3"><div class="ttname"><a href="../../d8/d60/a09310.html#ac250922a980c212c66ea7a2bb7e5b4b3">Guild::_GetRanksSize</a></div><div class="ttdeci">uint8 _GetRanksSize() const</div><div class="ttdef"><b>Definition:</b> Guild.h:803</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00816">_GetPurchasedTabsSize()</a>, <a class="el" href="../../#l00803">_GetRanksSize()</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00286">Guild::RankInfo::CreateMissingTabsIfNeeded()</a>, <a class="el" href="../../#l00046">GUILD_RANKS_MAX_COUNT</a>, <a class="el" href="../../#l00783">m_id</a>, <a class="el" href="../../#l00794">m_ranks</a>, and <a class="el" href="../../#l00275">Guild::RankInfo::SaveToDB()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02405">_CreateDefaultGuildRanks()</a>, and <a class="el" href="../../#l01621">HandleAddNewRank()</a>.</p>

</div>
</div>
<a id="a339f2b47fec6228e85ac765a0eebcb3c" name="a339f2b47fec6228e85ac765a0eebcb3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a339f2b47fec6228e85ac765a0eebcb3c">&#9670;&#160;</a></span>_DeleteBankItems()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_DeleteBankItems </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a>&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>removeItemsFromDB</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2465</span>{</div>
<div class="line"><span class="lineno"> 2466</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId = 0; tabId &lt; <a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>(); ++tabId)</div>
<div class="line"><span class="lineno"> 2467</span>    {</div>
<div class="line"><span class="lineno"> 2468</span>        <a class="code hl_variable" href="../../d8/d60/a09310.html#a387321359dc40fb20c38fc2f30992750">m_bankTabs</a>[tabId].Delete(trans, removeItemsFromDB);</div>
<div class="line"><span class="lineno"> 2469</span>    }</div>
<div class="line"><span class="lineno"> 2470</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a387321359dc40fb20c38fc2f30992750">m_bankTabs</a>.clear();</div>
<div class="line"><span class="lineno"> 2471</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00816">_GetPurchasedTabsSize()</a>, and <a class="el" href="../../#l00796">m_bankTabs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01108">Disband()</a>, and <a class="el" href="../../#l01042">~Guild()</a>.</p>

</div>
</div>
<a id="aea25fad25add2347279b0ccc298e905e" name="aea25fad25add2347279b0ccc298e905e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea25fad25add2347279b0ccc298e905e">&#9670;&#160;</a></span>_DeleteMemberFromDB()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_DeleteMemberFromDB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html#aa278d50613c05dc1333df5185a6993eb">ObjectGuid::LowType</a>&#160;</td>
          <td class="paramname"><em>lowguid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  821</span>    {</div>
<div class="line"><span class="lineno">  822</span>        <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7ab0e6d954a53cd3ea159fd01abf95b32f">CHAR_DEL_GUILD_MEMBER</a>);</div>
<div class="line"><span class="lineno">  823</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, lowguid);</div>
<div class="line"><span class="lineno">  824</span>        <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno">  825</span>    }</div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7ab0e6d954a53cd3ea159fd01abf95b32f"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7ab0e6d954a53cd3ea159fd01abf95b32f">CHAR_DEL_GUILD_MEMBER</a></div><div class="ttdeci">@ CHAR_DEL_GUILD_MEMBER</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:144</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00144">CHAR_DEL_GUILD_MEMBER</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, and <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02259">DeleteMember()</a>, and <a class="el" href="../../#l01931">LoadMemberFromDB()</a>.</p>

</div>
</div>
<a id="acf135024c0806e2f4ba80d2af10b659a" name="acf135024c0806e2f4ba80d2af10b659a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf135024c0806e2f4ba80d2af10b659a">&#9670;&#160;</a></span>_DoItemsMove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::_DoItemsMove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d5c/a09342.html">MoveItemData</a> *&#160;</td>
          <td class="paramname"><em>pSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d5c/a09342.html">MoveItemData</a> *&#160;</td>
          <td class="paramname"><em>pDest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sendError</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>splitedAmount</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2705</span>{</div>
<div class="line"><span class="lineno"> 2706</span>    <a class="code hl_class" href="../../d3/d4c/a08174.html">Item</a>* pDestItem = pDest-&gt;GetItem();</div>
<div class="line"><span class="lineno"> 2707</span>    <span class="keywordtype">bool</span> swap = (pDestItem != <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 2708</span> </div>
<div class="line"><span class="lineno"> 2709</span>    <a class="code hl_class" href="../../d3/d4c/a08174.html">Item</a>* pSrcItem = pSrc-&gt;GetItem(splitedAmount);</div>
<div class="line"><span class="lineno"> 2710</span>    <span class="comment">// 1. Can store source item in destination</span></div>
<div class="line"><span class="lineno"> 2711</span>    <span class="keywordflow">if</span> (!pDest-&gt;CanStore(pSrcItem, swap, sendError))</div>
<div class="line"><span class="lineno"> 2712</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2713</span> </div>
<div class="line"><span class="lineno"> 2714</span>    <span class="comment">// 2. Can store destination item in source</span></div>
<div class="line"><span class="lineno"> 2715</span>    <span class="keywordflow">if</span> (swap)</div>
<div class="line"><span class="lineno"> 2716</span>        <span class="keywordflow">if</span> (!pSrc-&gt;CanStore(pDestItem, <span class="keyword">true</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 2717</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2718</span> </div>
<div class="line"><span class="lineno"> 2719</span>    <span class="comment">// GM LOG (TODO: move to scripts)</span></div>
<div class="line"><span class="lineno"> 2720</span>    pDest-&gt;LogAction(pSrc);</div>
<div class="line"><span class="lineno"> 2721</span>    <span class="keywordflow">if</span> (swap)</div>
<div class="line"><span class="lineno"> 2722</span>        pSrc-&gt;LogAction(pDest);</div>
<div class="line"><span class="lineno"> 2723</span> </div>
<div class="line"><span class="lineno"> 2724</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.BeginTransaction();</div>
<div class="line"><span class="lineno"> 2725</span>    <span class="comment">// 3. Log bank events</span></div>
<div class="line"><span class="lineno"> 2726</span>    pDest-&gt;LogBankEvent(trans, pSrc, pSrcItem-&gt;<a class="code hl_function" href="../../d3/d4c/a08174.html#acfce1d883f464dc73696f17c62d5ba5c">GetCount</a>());</div>
<div class="line"><span class="lineno"> 2727</span>    <span class="keywordflow">if</span> (swap)</div>
<div class="line"><span class="lineno"> 2728</span>        pSrc-&gt;LogBankEvent(trans, pDest, pDestItem-&gt;<a class="code hl_function" href="../../d3/d4c/a08174.html#acfce1d883f464dc73696f17c62d5ba5c">GetCount</a>());</div>
<div class="line"><span class="lineno"> 2729</span> </div>
<div class="line"><span class="lineno"> 2730</span>    <span class="comment">// 4. Remove item from source</span></div>
<div class="line"><span class="lineno"> 2731</span>    pSrc-&gt;RemoveItem(trans, pDest, splitedAmount);</div>
<div class="line"><span class="lineno"> 2732</span> </div>
<div class="line"><span class="lineno"> 2733</span>    <span class="comment">// 5. Remove item from destination</span></div>
<div class="line"><span class="lineno"> 2734</span>    <span class="keywordflow">if</span> (swap)</div>
<div class="line"><span class="lineno"> 2735</span>        pDest-&gt;RemoveItem(trans, pSrc);</div>
<div class="line"><span class="lineno"> 2736</span> </div>
<div class="line"><span class="lineno"> 2737</span>    <span class="comment">// 6. Store item in destination</span></div>
<div class="line"><span class="lineno"> 2738</span>    pDest-&gt;StoreItem(trans, pSrcItem);</div>
<div class="line"><span class="lineno"> 2739</span> </div>
<div class="line"><span class="lineno"> 2740</span>    <span class="comment">// 7. Store item in source</span></div>
<div class="line"><span class="lineno"> 2741</span>    <span class="keywordflow">if</span> (swap)</div>
<div class="line"><span class="lineno"> 2742</span>        pSrc-&gt;StoreItem(trans, pDestItem);</div>
<div class="line"><span class="lineno"> 2743</span> </div>
<div class="line"><span class="lineno"> 2744</span>    <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.CommitTransaction(trans);</div>
<div class="line"><span class="lineno"> 2745</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2746</span>}</div>
<div class="ttc" id="aa08174_html"><div class="ttname"><a href="../../d3/d4c/a08174.html">Item</a></div><div class="ttdef"><b>Definition:</b> Item.h:220</div></div>
<div class="ttc" id="aa08174_html_acfce1d883f464dc73696f17c62d5ba5c"><div class="ttname"><a href="../../d3/d4c/a08174.html#acfce1d883f464dc73696f17c62d5ba5c">Item::GetCount</a></div><div class="ttdeci">uint32 GetCount() const</div><div class="ttdef"><b>Definition:</b> Item.h:272</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00724">Guild::MoveItemData::CanStore()</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00272">Item::GetCount()</a>, <a class="el" href="../../#l00620">Guild::MoveItemData::GetItem()</a>, <a class="el" href="../../#l00745">Guild::MoveItemData::LogAction()</a>, <a class="el" href="../../d6/d5c/a09342.html#a767910636c7de4a536d1eb54e1967c1a">Guild::MoveItemData::LogBankEvent()</a>, <a class="el" href="../../d6/d5c/a09342.html#afc8beaaaea26c3439364c083d3907b84">Guild::MoveItemData::RemoveItem()</a>, and <a class="el" href="../../d6/d5c/a09342.html#a3f69885a4d24609848f904092d5e9399">Guild::MoveItemData::StoreItem()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02651">_MoveItems()</a>.</p>

</div>
</div>
<a id="ae41626bce98dacc91e0969f7868ad51c" name="ae41626bce98dacc91e0969f7868ad51c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae41626bce98dacc91e0969f7868ad51c">&#9670;&#160;</a></span>_GetItem()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d4c/a08174.html">Item</a> * Guild::_GetItem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>slotId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2639</span>{</div>
<div class="line"><span class="lineno"> 2640</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> BankTab* tab = <a class="code hl_function" href="../../d8/d60/a09310.html#ac64fffad338feef366cbe672439f1027">GetBankTab</a>(tabId))</div>
<div class="line"><span class="lineno"> 2641</span>        <span class="keywordflow">return</span> tab-&gt;GetItem(slotId);</div>
<div class="line"><span class="lineno"> 2642</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2643</span>}</div>
<div class="ttc" id="aa09310_html_ac64fffad338feef366cbe672439f1027"><div class="ttname"><a href="../../d8/d60/a09310.html#ac64fffad338feef366cbe672439f1027">Guild::GetBankTab</a></div><div class="ttdeci">BankTab * GetBankTab(uint8 tabId)</div><div class="ttdef"><b>Definition:</b> Guild.h:817</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00817">GetBankTab()</a>.</p>

</div>
</div>
<a id="aed9d9581db0de4d6c73aa8858024e7a1" name="aed9d9581db0de4d6c73aa8858024e7a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed9d9581db0de4d6c73aa8858024e7a1">&#9670;&#160;</a></span>_GetLowestRankId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> Guild::_GetLowestRankId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  814</span>{ <span class="keywordflow">return</span> <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code hl_variable" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a>.size() - 1); }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00794">m_ranks</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02175">AddMember()</a>, <a class="el" href="../../#l02320">ChangeMemberRank()</a>, <a class="el" href="../../#l01633">HandleRemoveLowestRank()</a>, <a class="el" href="../../#l01569">HandleUpdateMemberRank()</a>, and <a class="el" href="../../#l02042">Validate()</a>.</p>

</div>
</div>
<a id="a19ab0b7ff433180bafc6461c7588084c" name="a19ab0b7ff433180bafc6461c7588084c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19ab0b7ff433180bafc6461c7588084c">&#9670;&#160;</a></span>_GetMemberRemainingMoney()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> Guild::_GetMemberRemainingMoney </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/da5/a09314.html">Member</a> const &amp;&#160;</td>
          <td class="paramname"><em>member</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2569</span>{</div>
<div class="line"><span class="lineno"> 2570</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId = member.GetRankId();</div>
<div class="line"><span class="lineno"> 2571</span>    <span class="keywordflow">if</span> (rankId == <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a6534fcf172d7fbe4a762e0479601acd4a349203b98139f80965ab3d7e3379c36d">GR_GUILDMASTER</a>)</div>
<div class="line"><span class="lineno"> 2572</span>        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a><span class="keyword">&gt;</span>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaa970809f1c7ca4e40033d20bd598adaa1">GUILD_WITHDRAW_MONEY_UNLIMITED</a>);</div>
<div class="line"><span class="lineno"> 2573</span> </div>
<div class="line"><span class="lineno"> 2574</span>    <span class="keywordflow">if</span> ((<a class="code hl_function" href="../../d8/d60/a09310.html#a2d37224ec9bf1c2b1ec75562b62192ea">_GetRankRights</a>(rankId) &amp; (<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7aaa6488e65239f554a6b825bceed19a48">GR_RIGHT_WITHDRAW_REPAIR</a> | <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7aca613b727c5d49d66286ca7ef13d8486">GR_RIGHT_WITHDRAW_GOLD</a>)) != 0)</div>
<div class="line"><span class="lineno"> 2575</span>    {</div>
<div class="line"><span class="lineno"> 2576</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> remaining = <a class="code hl_function" href="../../d8/d60/a09310.html#a75c1af97a252a6ab2eec848c92e7cfc7">_GetRankBankMoneyPerDay</a>(rankId) - member.GetBankWithdrawValue(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaadf100aec6c7a6f10b7af8629930feff7">GUILD_BANK_MAX_TABS</a>);</div>
<div class="line"><span class="lineno"> 2577</span>        <span class="keywordflow">if</span> (remaining &gt; 0)</div>
<div class="line"><span class="lineno"> 2578</span>            <span class="keywordflow">return</span> remaining;</div>
<div class="line"><span class="lineno"> 2579</span>    }</div>
<div class="line"><span class="lineno"> 2580</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2581</span>}</div>
<div class="ttc" id="aa00497_html_a0bf9964a3ce962c07ad3d8b5432bbbcd"><div class="ttname"><a href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a></div><div class="ttdeci">std::int32_t int32</div><div class="ttdef"><b>Definition:</b> Define.h:103</div></div>
<div class="ttc" id="aa02981_html_a06a462b77a279ae7e2e901b2a8b42fbaa970809f1c7ca4e40033d20bd598adaa1"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaa970809f1c7ca4e40033d20bd598adaa1">GUILD_WITHDRAW_MONEY_UNLIMITED</a></div><div class="ttdeci">@ GUILD_WITHDRAW_MONEY_UNLIMITED</div><div class="ttdef"><b>Definition:</b> Guild.h:48</div></div>
<div class="ttc" id="aa02981_html_a06a462b77a279ae7e2e901b2a8b42fbaadf100aec6c7a6f10b7af8629930feff7"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaadf100aec6c7a6f10b7af8629930feff7">GUILD_BANK_MAX_TABS</a></div><div class="ttdeci">@ GUILD_BANK_MAX_TABS</div><div class="ttdef"><b>Definition:</b> Guild.h:42</div></div>
<div class="ttc" id="aa02981_html_a6534fcf172d7fbe4a762e0479601acd4a349203b98139f80965ab3d7e3379c36d"><div class="ttname"><a href="../../d7/d93/a02981.html#a6534fcf172d7fbe4a762e0479601acd4a349203b98139f80965ab3d7e3379c36d">GR_GUILDMASTER</a></div><div class="ttdeci">@ GR_GUILDMASTER</div><div class="ttdef"><b>Definition:</b> Guild.h:65</div></div>
<div class="ttc" id="aa02981_html_abe65a5c09114479eec37ae55f24aaaa7aaa6488e65239f554a6b825bceed19a48"><div class="ttname"><a href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7aaa6488e65239f554a6b825bceed19a48">GR_RIGHT_WITHDRAW_REPAIR</a></div><div class="ttdeci">@ GR_RIGHT_WITHDRAW_REPAIR</div><div class="ttdef"><b>Definition:</b> Guild.h:91</div></div>
<div class="ttc" id="aa02981_html_abe65a5c09114479eec37ae55f24aaaa7aca613b727c5d49d66286ca7ef13d8486"><div class="ttname"><a href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7aca613b727c5d49d66286ca7ef13d8486">GR_RIGHT_WITHDRAW_GOLD</a></div><div class="ttdeci">@ GR_RIGHT_WITHDRAW_GOLD</div><div class="ttdef"><b>Definition:</b> Guild.h:92</div></div>
<div class="ttc" id="aa09310_html_a2d37224ec9bf1c2b1ec75562b62192ea"><div class="ttname"><a href="../../d8/d60/a09310.html#a2d37224ec9bf1c2b1ec75562b62192ea">Guild::_GetRankRights</a></div><div class="ttdeci">uint32 _GetRankRights(uint8 rankId) const</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2525</div></div>
<div class="ttc" id="aa09310_html_a75c1af97a252a6ab2eec848c92e7cfc7"><div class="ttname"><a href="../../d8/d60/a09310.html#a75c1af97a252a6ab2eec848c92e7cfc7">Guild::_GetRankBankMoneyPerDay</a></div><div class="ttdeci">int32 _GetRankBankMoneyPerDay(uint8 rankId) const</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2532</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02532">_GetRankBankMoneyPerDay()</a>, <a class="el" href="../../#l02525">_GetRankRights()</a>, <a class="el" href="../../#l00673">Guild::Member::GetBankWithdrawValue()</a>, <a class="el" href="../../#l00330">Guild::Member::GetRankId()</a>, <a class="el" href="../../#l00065">GR_GUILDMASTER</a>, <a class="el" href="../../#l00092">GR_RIGHT_WITHDRAW_GOLD</a>, <a class="el" href="../../#l00091">GR_RIGHT_WITHDRAW_REPAIR</a>, <a class="el" href="../../#l00042">GUILD_BANK_MAX_TABS</a>, and <a class="el" href="../../#l00048">GUILD_WITHDRAW_MONEY_UNLIMITED</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01691">HandleMemberWithdrawMoney()</a>, and <a class="el" href="../../#l01863">SendMoneyInfo()</a>.</p>

</div>
</div>
<a id="a4e4488776daa471ffb5a31c0770633e6" name="a4e4488776daa471ffb5a31c0770633e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e4488776daa471ffb5a31c0770633e6">&#9670;&#160;</a></span>_GetMemberRemainingSlots()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> Guild::_GetMemberRemainingSlots </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/da5/a09314.html">Member</a> const &amp;&#160;</td>
          <td class="paramname"><em>member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2555</span>{</div>
<div class="line"><span class="lineno"> 2556</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId = member.GetRankId();</div>
<div class="line"><span class="lineno"> 2557</span>    <span class="keywordflow">if</span> (rankId == <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a6534fcf172d7fbe4a762e0479601acd4a349203b98139f80965ab3d7e3379c36d">GR_GUILDMASTER</a>)</div>
<div class="line"><span class="lineno"> 2558</span>        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a><span class="keyword">&gt;</span>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaa571aa585445117cda99224482dd773c3">GUILD_WITHDRAW_SLOT_UNLIMITED</a>);</div>
<div class="line"><span class="lineno"> 2559</span>    <span class="keywordflow">if</span> ((<a class="code hl_function" href="../../d8/d60/a09310.html#a03604640465ea463f12530add6b0eeb7">_GetRankBankTabRights</a>(rankId, tabId) &amp; <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a1421de756a2a78653351a892c55a2627a620bed4a15dc4c9d3cea7cd1886a3594">GUILD_BANK_RIGHT_VIEW_TAB</a>) != 0)</div>
<div class="line"><span class="lineno"> 2560</span>    {</div>
<div class="line"><span class="lineno"> 2561</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> remaining = <a class="code hl_function" href="../../d8/d60/a09310.html#a17cdedbc4d68713f4a2be9e44a0c2e77">_GetRankBankTabSlotsPerDay</a>(rankId, tabId) - member.GetBankWithdrawValue(tabId);</div>
<div class="line"><span class="lineno"> 2562</span>        <span class="keywordflow">if</span> (remaining &gt; 0)</div>
<div class="line"><span class="lineno"> 2563</span>            <span class="keywordflow">return</span> remaining;</div>
<div class="line"><span class="lineno"> 2564</span>    }</div>
<div class="line"><span class="lineno"> 2565</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2566</span>}</div>
<div class="ttc" id="aa02981_html_a06a462b77a279ae7e2e901b2a8b42fbaa571aa585445117cda99224482dd773c3"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaa571aa585445117cda99224482dd773c3">GUILD_WITHDRAW_SLOT_UNLIMITED</a></div><div class="ttdeci">@ GUILD_WITHDRAW_SLOT_UNLIMITED</div><div class="ttdef"><b>Definition:</b> Guild.h:49</div></div>
<div class="ttc" id="aa02981_html_a1421de756a2a78653351a892c55a2627a620bed4a15dc4c9d3cea7cd1886a3594"><div class="ttname"><a href="../../d7/d93/a02981.html#a1421de756a2a78653351a892c55a2627a620bed4a15dc4c9d3cea7cd1886a3594">GUILD_BANK_RIGHT_VIEW_TAB</a></div><div class="ttdeci">@ GUILD_BANK_RIGHT_VIEW_TAB</div><div class="ttdef"><b>Definition:</b> Guild.h:187</div></div>
<div class="ttc" id="aa09310_html_a03604640465ea463f12530add6b0eeb7"><div class="ttname"><a href="../../d8/d60/a09310.html#a03604640465ea463f12530add6b0eeb7">Guild::_GetRankBankTabRights</a></div><div class="ttdeci">int8 _GetRankBankTabRights(uint8 rankId, uint8 tabId) const</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2547</div></div>
<div class="ttc" id="aa09310_html_a17cdedbc4d68713f4a2be9e44a0c2e77"><div class="ttname"><a href="../../d8/d60/a09310.html#a17cdedbc4d68713f4a2be9e44a0c2e77">Guild::_GetRankBankTabSlotsPerDay</a></div><div class="ttdeci">int32 _GetRankBankTabSlotsPerDay(uint8 rankId, uint8 tabId) const</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2539</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02547">_GetRankBankTabRights()</a>, <a class="el" href="../../#l02539">_GetRankBankTabSlotsPerDay()</a>, <a class="el" href="../../#l00673">Guild::Member::GetBankWithdrawValue()</a>, <a class="el" href="../../#l00330">Guild::Member::GetRankId()</a>, <a class="el" href="../../#l00065">GR_GUILDMASTER</a>, <a class="el" href="../../#l00187">GUILD_BANK_RIGHT_VIEW_TAB</a>, and <a class="el" href="../../#l00049">GUILD_WITHDRAW_SLOT_UNLIMITED</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02823">_SendBankList()</a>, and <a class="el" href="../../#l01834">SendPermissions()</a>.</p>

</div>
</div>
<a id="a568597dd85eee0c661de9ad12978e527" name="a568597dd85eee0c661de9ad12978e527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a568597dd85eee0c661de9ad12978e527">&#9670;&#160;</a></span>_GetPurchasedTabsSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> Guild::_GetPurchasedTabsSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  816</span>{ <span class="keywordflow">return</span> <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code hl_variable" href="../../d8/d60/a09310.html#a387321359dc40fb20c38fc2f30992750">m_bankTabs</a>.size()); }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00796">m_bankTabs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02381">_CreateNewBankTab()</a>, <a class="el" href="../../#l02422">_CreateRank()</a>, <a class="el" href="../../#l02464">_DeleteBankItems()</a>, <a class="el" href="../../#l02539">_GetRankBankTabSlotsPerDay()</a>, <a class="el" href="../../#l02823">_SendBankList()</a>, <a class="el" href="../../#l02509">_SetRankBankTabRightsAndSlots()</a>, <a class="el" href="../../#l01403">HandleBuyBankTab()</a>, <a class="el" href="../../#l01980">LoadBankEventLogFromDB()</a>, <a class="el" href="../../#l02029">LoadBankItemFromDB()</a>, <a class="el" href="../../#l02020">LoadBankTabFromDB()</a>, <a class="el" href="../../#l01792">SendBankLog()</a>, <a class="el" href="../../#l01811">SendBankTabData()</a>, <a class="el" href="../../#l01834">SendPermissions()</a>, <a class="el" href="../../#l02343">SwapItems()</a>, <a class="el" href="../../#l02357">SwapItemsWithInventory()</a>, and <a class="el" href="../../#l02042">Validate()</a>.</p>

</div>
</div>
<a id="a75c1af97a252a6ab2eec848c92e7cfc7" name="a75c1af97a252a6ab2eec848c92e7cfc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75c1af97a252a6ab2eec848c92e7cfc7">&#9670;&#160;</a></span>_GetRankBankMoneyPerDay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> Guild::_GetRankBankMoneyPerDay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>rankId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2533</span>{</div>
<div class="line"><span class="lineno"> 2534</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> RankInfo* rankInfo = <a class="code hl_function" href="../../d8/d60/a09310.html#acb913d5002329ec1ad98fe269f1ef08a">GetRankInfo</a>(rankId))</div>
<div class="line"><span class="lineno"> 2535</span>        <span class="keywordflow">return</span> rankInfo-&gt;GetBankMoneyPerDay();</div>
<div class="line"><span class="lineno"> 2536</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2537</span>}</div>
<div class="ttc" id="aa09310_html_acb913d5002329ec1ad98fe269f1ef08a"><div class="ttname"><a href="../../d8/d60/a09310.html#acb913d5002329ec1ad98fe269f1ef08a">Guild::GetRankInfo</a></div><div class="ttdeci">const RankInfo * GetRankInfo(uint8 rankId) const</div><div class="ttdef"><b>Definition:</b> Guild.h:804</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00804">GetRankInfo()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02568">_GetMemberRemainingMoney()</a>, and <a class="el" href="../../#l01834">SendPermissions()</a>.</p>

</div>
</div>
<a id="a03604640465ea463f12530add6b0eeb7" name="a03604640465ea463f12530add6b0eeb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03604640465ea463f12530add6b0eeb7">&#9670;&#160;</a></span>_GetRankBankTabRights()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a3bb8a71f4ae9af551f71e9eb2c9c3325">int8</a> Guild::_GetRankBankTabRights </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>rankId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2548</span>{</div>
<div class="line"><span class="lineno"> 2549</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> RankInfo* rankInfo = <a class="code hl_function" href="../../d8/d60/a09310.html#acb913d5002329ec1ad98fe269f1ef08a">GetRankInfo</a>(rankId))</div>
<div class="line"><span class="lineno"> 2550</span>        <span class="keywordflow">return</span> rankInfo-&gt;GetBankTabRights(tabId);</div>
<div class="line"><span class="lineno"> 2551</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2552</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00804">GetRankInfo()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02554">_GetMemberRemainingSlots()</a>, <a class="el" href="../../#l02594">_MemberHasTabRights()</a>, and <a class="el" href="../../#l01834">SendPermissions()</a>.</p>

</div>
</div>
<a id="a17cdedbc4d68713f4a2be9e44a0c2e77" name="a17cdedbc4d68713f4a2be9e44a0c2e77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17cdedbc4d68713f4a2be9e44a0c2e77">&#9670;&#160;</a></span>_GetRankBankTabSlotsPerDay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> Guild::_GetRankBankTabSlotsPerDay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>rankId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2540</span>{</div>
<div class="line"><span class="lineno"> 2541</span>    <span class="keywordflow">if</span> (tabId &lt; <a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>())</div>
<div class="line"><span class="lineno"> 2542</span>        <span class="keywordflow">if</span> (<span class="keyword">const</span> RankInfo* rankInfo = <a class="code hl_function" href="../../d8/d60/a09310.html#acb913d5002329ec1ad98fe269f1ef08a">GetRankInfo</a>(rankId))</div>
<div class="line"><span class="lineno"> 2543</span>            <span class="keywordflow">return</span> rankInfo-&gt;GetBankTabSlotsPerDay(tabId);</div>
<div class="line"><span class="lineno"> 2544</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2545</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00816">_GetPurchasedTabsSize()</a>, and <a class="el" href="../../#l00804">GetRankInfo()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02554">_GetMemberRemainingSlots()</a>, and <a class="el" href="../../#l02583">_UpdateMemberWithdrawSlots()</a>.</p>

</div>
</div>
<a id="a02c0229f70ce90c28278db543e8d30f5" name="a02c0229f70ce90c28278db543e8d30f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02c0229f70ce90c28278db543e8d30f5">&#9670;&#160;</a></span>_GetRankName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Guild::_GetRankName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>rankId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2519</span>{</div>
<div class="line"><span class="lineno"> 2520</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> RankInfo* rankInfo = <a class="code hl_function" href="../../d8/d60/a09310.html#acb913d5002329ec1ad98fe269f1ef08a">GetRankInfo</a>(rankId))</div>
<div class="line"><span class="lineno"> 2521</span>        <span class="keywordflow">return</span> rankInfo-&gt;GetName();</div>
<div class="line"><span class="lineno"> 2522</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;&lt;unknown&gt;&quot;</span>;</div>
<div class="line"><span class="lineno"> 2523</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00804">GetRankInfo()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01569">HandleUpdateMemberRank()</a>.</p>

</div>
</div>
<a id="a2d37224ec9bf1c2b1ec75562b62192ea" name="a2d37224ec9bf1c2b1ec75562b62192ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d37224ec9bf1c2b1ec75562b62192ea">&#9670;&#160;</a></span>_GetRankRights()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> Guild::_GetRankRights </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>rankId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2526</span>{</div>
<div class="line"><span class="lineno"> 2527</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> RankInfo* rankInfo = <a class="code hl_function" href="../../d8/d60/a09310.html#acb913d5002329ec1ad98fe269f1ef08a">GetRankInfo</a>(rankId))</div>
<div class="line"><span class="lineno"> 2528</span>        <span class="keywordflow">return</span> rankInfo-&gt;GetRights();</div>
<div class="line"><span class="lineno"> 2529</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2530</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00804">GetRankInfo()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02568">_GetMemberRemainingMoney()</a>, <a class="el" href="../../#l00806">_HasRankRight()</a>, <a class="el" href="../../#l01691">HandleMemberWithdrawMoney()</a>, and <a class="el" href="../../#l01834">SendPermissions()</a>.</p>

</div>
</div>
<a id="ac250922a980c212c66ea7a2bb7e5b4b3" name="ac250922a980c212c66ea7a2bb7e5b4b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac250922a980c212c66ea7a2bb7e5b4b3">&#9670;&#160;</a></span>_GetRanksSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> Guild::_GetRanksSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  803</span>{ <span class="keywordflow">return</span> <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code hl_variable" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a>.size()); }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00794">m_ranks</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02422">_CreateRank()</a>, <a class="el" href="../../#l00804">GetRankInfo()</a>, <a class="el" href="../../#l01621">HandleAddNewRank()</a>, <a class="el" href="../../#l01250">HandleQuery()</a>, <a class="el" href="../../#l01638">HandleRemoveRank()</a>, and <a class="el" href="../../#l02042">Validate()</a>.</p>

</div>
</div>
<a id="ada75072cb9454accd8b5e859615a6b88" name="ada75072cb9454accd8b5e859615a6b88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada75072cb9454accd8b5e859615a6b88">&#9670;&#160;</a></span>_HasRankRight()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::_HasRankRight </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d06/a08466.html">Player</a> *&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  807</span>    {</div>
<div class="line"><span class="lineno">  808</span>        <span class="keywordflow">if</span> (player)</div>
<div class="line"><span class="lineno">  809</span>            <span class="keywordflow">if</span> (Member <span class="keyword">const</span>* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()))</div>
<div class="line"><span class="lineno">  810</span>                <span class="keywordflow">return</span> (<a class="code hl_function" href="../../d8/d60/a09310.html#a2d37224ec9bf1c2b1ec75562b62192ea">_GetRankRights</a>(member-&gt;GetRankId()) &amp; right) != <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a0aaa2fbc124920eccb1f1495dc966aab">GR_RIGHT_EMPTY</a>;</div>
<div class="line"><span class="lineno">  811</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  812</span>    }</div>
<div class="ttc" id="aa02981_html_abe65a5c09114479eec37ae55f24aaaa7a0aaa2fbc124920eccb1f1495dc966aab"><div class="ttname"><a href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a0aaa2fbc124920eccb1f1495dc966aab">GR_RIGHT_EMPTY</a></div><div class="ttdeci">@ GR_RIGHT_EMPTY</div><div class="ttdef"><b>Definition:</b> Guild.h:76</div></div>
<div class="ttc" id="aa08218_html_ad23b997e2442fa6a6228ba73a7ecc138"><div class="ttname"><a href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">Object::GetGUID</a></div><div class="ttdeci">static ObjectGuid GetGUID(Object const *o)</div><div class="ttdef"><b>Definition:</b> Object.h:112</div></div>
<div class="ttc" id="aa09310_html_a828c4a38bd1520e4f993dd8350c64f8b"><div class="ttname"><a href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">Guild::GetMember</a></div><div class="ttdeci">const Member * GetMember(ObjectGuid guid) const</div><div class="ttdef"><b>Definition:</b> Guild.h:381</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02525">_GetRankRights()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00381">GetMember()</a>, and <a class="el" href="../../#l00076">GR_RIGHT_EMPTY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02114">BroadcastToGuild()</a>, <a class="el" href="../../#l01433">HandleInviteMember()</a>, <a class="el" href="../../#l01540">HandleRemoveMember()</a>, <a class="el" href="../../#l01203">HandleRoster()</a>, <a class="el" href="../../#l01295">HandleSetInfo()</a>, <a class="el" href="../../#l01367">HandleSetMemberNote()</a>, <a class="el" href="../../#l01272">HandleSetMOTD()</a>, and <a class="el" href="../../#l01569">HandleUpdateMemberRank()</a>.</p>

</div>
</div>
<a id="aaf78aa36da22b99c10df4a971d538b3d" name="aaf78aa36da22b99c10df4a971d538b3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf78aa36da22b99c10df4a971d538b3d">&#9670;&#160;</a></span>_IsLeader()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::_IsLeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d06/a08466.html">Player</a> *&#160;</td>
          <td class="paramname"><em>player</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2456</span>{</div>
<div class="line"><span class="lineno"> 2457</span>    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>() == <a class="code hl_variable" href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">m_leaderGuid</a>)</div>
<div class="line"><span class="lineno"> 2458</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2459</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> Member* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()))</div>
<div class="line"><span class="lineno"> 2460</span>        <span class="keywordflow">return</span> member-&gt;IsRank(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a6534fcf172d7fbe4a762e0479601acd4a349203b98139f80965ab3d7e3379c36d">GR_GUILDMASTER</a>);</div>
<div class="line"><span class="lineno"> 2461</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2462</span>}</div>
<div class="ttc" id="aa09310_html_a82ebf987d4458f10b90122e69605b096"><div class="ttname"><a href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">Guild::m_leaderGuid</a></div><div class="ttdeci">ObjectGuid m_leaderGuid</div><div class="ttdef"><b>Definition:</b> Guild.h:785</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00065">GR_GUILDMASTER</a>, and <a class="el" href="../../#l00785">m_leaderGuid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01621">HandleAddNewRank()</a>, <a class="el" href="../../#l01754">HandleDisband()</a>, <a class="el" href="../../#l01506">HandleLeaveMember()</a>, <a class="el" href="../../#l01638">HandleRemoveRank()</a>, <a class="el" href="../../#l01314">HandleSetEmblem()</a>, <a class="el" href="../../#l01334">HandleSetLeader()</a>, and <a class="el" href="../../#l01383">HandleSetRankInfo()</a>.</p>

</div>
</div>
<a id="ae3b50f9118a606289a169f5d2addd894" name="ae3b50f9118a606289a169f5d2addd894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3b50f9118a606289a169f5d2addd894">&#9670;&#160;</a></span>_LogBankEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_LogBankEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a>&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d93/a02981.html#a965ebfa7c809976c6361afae89c98895">GuildBankEventLogTypes</a>&#160;</td>
          <td class="paramname"><em>eventType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>playerGuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>itemOrMoney</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a>&#160;</td>
          <td class="paramname"><em>itemStackCount</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>destTabId</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2618</span>{</div>
<div class="line"><span class="lineno"> 2619</span>    <span class="keywordflow">if</span> (tabId &gt; <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaadf100aec6c7a6f10b7af8629930feff7">GUILD_BANK_MAX_TABS</a>)</div>
<div class="line"><span class="lineno"> 2620</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2621</span> </div>
<div class="line"><span class="lineno"> 2622</span>    <span class="comment">// not logging moves within the same tab</span></div>
<div class="line"><span class="lineno"> 2623</span>    <span class="keywordflow">if</span> (eventType == <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a965ebfa7c809976c6361afae89c98895a15ffdaf189d050d6fb235d53a670ac06">GUILD_BANK_LOG_MOVE_ITEM</a> &amp;&amp; tabId == destTabId)</div>
<div class="line"><span class="lineno"> 2624</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2625</span> </div>
<div class="line"><span class="lineno"> 2626</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> dbTabId = tabId;</div>
<div class="line"><span class="lineno"> 2627</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d3/dbd/a09326.html#a9a38b7966bdcc3ec9e871c024c928ce1">BankEventLogEntry::IsMoneyEvent</a>(eventType))</div>
<div class="line"><span class="lineno"> 2628</span>    {</div>
<div class="line"><span class="lineno"> 2629</span>        tabId = <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaadf100aec6c7a6f10b7af8629930feff7">GUILD_BANK_MAX_TABS</a>;</div>
<div class="line"><span class="lineno"> 2630</span>        dbTabId = <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaa7d5b97c152871f38a9675fbd14056d29">GUILD_BANK_MONEY_LOGS_TAB</a>;</div>
<div class="line"><span class="lineno"> 2631</span>    }</div>
<div class="line"><span class="lineno"> 2632</span>    LogHolder&lt;BankEventLogEntry&gt;&amp; pLog = <a class="code hl_variable" href="../../d8/d60/a09310.html#a6579a4863083ec5ea78b73be5395752a">m_bankEventLog</a>[tabId];</div>
<div class="line"><span class="lineno"> 2633</span>    pLog.AddEvent(trans, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>, pLog.GetNextGUID(), eventType, dbTabId, guid, itemOrMoney, itemStackCount, destTabId);</div>
<div class="line"><span class="lineno"> 2634</span> </div>
<div class="line"><span class="lineno"> 2635</span>    <a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnGuildBankEvent(<span class="keyword">this</span>, <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(eventType), tabId, guid.GetCounter(), itemOrMoney, itemStackCount, destTabId);</div>
<div class="line"><span class="lineno"> 2636</span>}</div>
<div class="ttc" id="aa02981_html_a06a462b77a279ae7e2e901b2a8b42fbaa7d5b97c152871f38a9675fbd14056d29"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaa7d5b97c152871f38a9675fbd14056d29">GUILD_BANK_MONEY_LOGS_TAB</a></div><div class="ttdeci">@ GUILD_BANK_MONEY_LOGS_TAB</div><div class="ttdef"><b>Definition:</b> Guild.h:44</div></div>
<div class="ttc" id="aa02981_html_a965ebfa7c809976c6361afae89c98895a15ffdaf189d050d6fb235d53a670ac06"><div class="ttname"><a href="../../d7/d93/a02981.html#a965ebfa7c809976c6361afae89c98895a15ffdaf189d050d6fb235d53a670ac06">GUILD_BANK_LOG_MOVE_ITEM</a></div><div class="ttdeci">@ GUILD_BANK_LOG_MOVE_ITEM</div><div class="ttdef"><b>Definition:</b> Guild.h:199</div></div>
<div class="ttc" id="aa04202_html_ae8161e629869974bc49b1cbfc73c1087"><div class="ttname"><a href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a></div><div class="ttdeci">#define sScriptMgr</div><div class="ttdef"><b>Definition:</b> ScriptMgr.h:709</div></div>
<div class="ttc" id="aa09310_html_a6579a4863083ec5ea78b73be5395752a"><div class="ttname"><a href="../../d8/d60/a09310.html#a6579a4863083ec5ea78b73be5395752a">Guild::m_bankEventLog</a></div><div class="ttdeci">std::array&lt; LogHolder&lt; BankEventLogEntry &gt;, GUILD_BANK_MAX_TABS+1 &gt; m_bankEventLog</div><div class="ttdef"><b>Definition:</b> Guild.h:800</div></div>
<div class="ttc" id="aa09326_html_a9a38b7966bdcc3ec9e871c024c928ce1"><div class="ttname"><a href="../../d3/dbd/a09326.html#a9a38b7966bdcc3ec9e871c024c928ce1">Guild::BankEventLogEntry::IsMoneyEvent</a></div><div class="ttdeci">bool IsMoneyEvent() const</div><div class="ttdef"><b>Definition:</b> Guild.h:454</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00149">Guild::LogHolder&lt; Entry &gt;::AddEvent()</a>, <a class="el" href="../../#l00145">ObjectGuid::GetCounter()</a>, <a class="el" href="../../#l00163">Guild::LogHolder&lt; Entry &gt;::GetNextGUID()</a>, <a class="el" href="../../#l00199">GUILD_BANK_LOG_MOVE_ITEM</a>, <a class="el" href="../../#l00042">GUILD_BANK_MAX_TABS</a>, <a class="el" href="../../#l00044">GUILD_BANK_MONEY_LOGS_TAB</a>, <a class="el" href="../../#l00454">Guild::BankEventLogEntry::IsMoneyEvent()</a>, <a class="el" href="../../#l00800">m_bankEventLog</a>, <a class="el" href="../../#l00783">m_id</a>, and <a class="el" href="../../#l00709">sScriptMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01661">HandleMemberDepositMoney()</a>, and <a class="el" href="../../#l01691">HandleMemberWithdrawMoney()</a>.</p>

</div>
</div>
<a id="ae5ffb2824665b4297a0b5d6028169d50" name="ae5ffb2824665b4297a0b5d6028169d50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5ffb2824665b4297a0b5d6028169d50">&#9670;&#160;</a></span>_LogEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_LogEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d93/a02981.html#aff19569a84ef44eea2acf4d6bcb86690">GuildEventLogTypes</a>&#160;</td>
          <td class="paramname"><em>eventType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>playerGuid1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>playerGuid2</em> = <code><a class="el" href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>newRank</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2608</span>{</div>
<div class="line"><span class="lineno"> 2609</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.BeginTransaction();</div>
<div class="line"><span class="lineno"> 2610</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a8a9ec63cd5937e0d7967c1d3fb94a0b5">m_eventLog</a>.AddEvent(trans, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>, <a class="code hl_variable" href="../../d8/d60/a09310.html#a8a9ec63cd5937e0d7967c1d3fb94a0b5">m_eventLog</a>.GetNextGUID(), eventType, playerGuid1, playerGuid2, newRank);</div>
<div class="line"><span class="lineno"> 2611</span>    <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.CommitTransaction(trans);</div>
<div class="line"><span class="lineno"> 2612</span> </div>
<div class="line"><span class="lineno"> 2613</span>    <a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnGuildEvent(<span class="keyword">this</span>, <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(eventType), playerGuid1.<a class="code hl_function" href="../../d4/df2/a08266.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>(), playerGuid2.<a class="code hl_function" href="../../d4/df2/a08266.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>(), newRank);</div>
<div class="line"><span class="lineno"> 2614</span>}</div>
<div class="ttc" id="aa08266_html_a0df27b85c91a2c619e8f1d9c2cb31677"><div class="ttname"><a href="../../d4/df2/a08266.html#a0df27b85c91a2c619e8f1d9c2cb31677">ObjectGuid::GetCounter</a></div><div class="ttdeci">LowType GetCounter() const</div><div class="ttdef"><b>Definition:</b> ObjectGuid.h:145</div></div>
<div class="ttc" id="aa09310_html_a8a9ec63cd5937e0d7967c1d3fb94a0b5"><div class="ttname"><a href="../../d8/d60/a09310.html#a8a9ec63cd5937e0d7967c1d3fb94a0b5">Guild::m_eventLog</a></div><div class="ttdeci">LogHolder&lt; EventLogEntry &gt; m_eventLog</div><div class="ttdef"><b>Definition:</b> Guild.h:799</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00145">ObjectGuid::GetCounter()</a>, <a class="el" href="../../#l00799">m_eventLog</a>, <a class="el" href="../../#l00783">m_id</a>, and <a class="el" href="../../#l00709">sScriptMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02175">AddMember()</a>, <a class="el" href="../../#l01433">HandleInviteMember()</a>, <a class="el" href="../../#l01506">HandleLeaveMember()</a>, <a class="el" href="../../#l01540">HandleRemoveMember()</a>, and <a class="el" href="../../#l01569">HandleUpdateMemberRank()</a>.</p>

</div>
</div>
<a id="aa5ec2e7944cca49cd174c5528e311eb4" name="aa5ec2e7944cca49cd174c5528e311eb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5ec2e7944cca49cd174c5528e311eb4">&#9670;&#160;</a></span>_MemberHasTabRights()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::_MemberHasTabRights </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>rights</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2595</span>{</div>
<div class="line"><span class="lineno"> 2596</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> Member* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(guid))</div>
<div class="line"><span class="lineno"> 2597</span>    {</div>
<div class="line"><span class="lineno"> 2598</span>        <span class="comment">// Leader always has full rights</span></div>
<div class="line"><span class="lineno"> 2599</span>        <span class="keywordflow">if</span> (member-&gt;IsRank(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a6534fcf172d7fbe4a762e0479601acd4a349203b98139f80965ab3d7e3379c36d">GR_GUILDMASTER</a>) || <a class="code hl_variable" href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">m_leaderGuid</a> == guid)</div>
<div class="line"><span class="lineno"> 2600</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2601</span>        <span class="keywordflow">return</span> (<a class="code hl_function" href="../../d8/d60/a09310.html#a03604640465ea463f12530add6b0eeb7">_GetRankBankTabRights</a>(member-&gt;GetRankId(), tabId) &amp; rights) == rights;</div>
<div class="line"><span class="lineno"> 2602</span>    }</div>
<div class="line"><span class="lineno"> 2603</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2604</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02547">_GetRankBankTabRights()</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00065">GR_GUILDMASTER</a>, and <a class="el" href="../../#l00785">m_leaderGuid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02748">_SendBankContent()</a>, and <a class="el" href="../../#l02823">_SendBankList()</a>.</p>

</div>
</div>
<a id="ac79dc8d555cb9004969c8d028b370dbe" name="ac79dc8d555cb9004969c8d028b370dbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac79dc8d555cb9004969c8d028b370dbe">&#9670;&#160;</a></span>_ModifyBankMoney()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::_ModifyBankMoney </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a>&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>&#160;</td>
          <td class="paramname"><em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>add</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2474</span>{</div>
<div class="line"><span class="lineno"> 2475</span>    <span class="keywordflow">if</span> (add)</div>
<div class="line"><span class="lineno"> 2476</span>        <a class="code hl_variable" href="../../d8/d60/a09310.html#a148e3da6e65ca7a0724799ad8b09091f">m_bankMoney</a> += amount;</div>
<div class="line"><span class="lineno"> 2477</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2478</span>    {</div>
<div class="line"><span class="lineno"> 2479</span>        <span class="comment">// Check if there is enough money in bank.</span></div>
<div class="line"><span class="lineno"> 2480</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d60/a09310.html#a148e3da6e65ca7a0724799ad8b09091f">m_bankMoney</a> &lt; amount)</div>
<div class="line"><span class="lineno"> 2481</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2482</span>        <a class="code hl_variable" href="../../d8/d60/a09310.html#a148e3da6e65ca7a0724799ad8b09091f">m_bankMoney</a> -= amount;</div>
<div class="line"><span class="lineno"> 2483</span>    }</div>
<div class="line"><span class="lineno"> 2484</span> </div>
<div class="line"><span class="lineno"> 2485</span>    <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a97f668c24e6e942cfe5358128612e4b2">CHAR_UPD_GUILD_BANK_MONEY</a>);</div>
<div class="line"><span class="lineno"> 2486</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a148e3da6e65ca7a0724799ad8b09091f">m_bankMoney</a>);</div>
<div class="line"><span class="lineno"> 2487</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 2488</span>    trans-&gt;Append(stmt);</div>
<div class="line"><span class="lineno"> 2489</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2490</span>}</div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a97f668c24e6e942cfe5358128612e4b2"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a97f668c24e6e942cfe5358128612e4b2">CHAR_UPD_GUILD_BANK_MONEY</a></div><div class="ttdeci">@ CHAR_UPD_GUILD_BANK_MONEY</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:175</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00175">CHAR_UPD_GUILD_BANK_MONEY</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00792">m_bankMoney</a>, <a class="el" href="../../#l00783">m_id</a>, and <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01661">HandleMemberDepositMoney()</a>, <a class="el" href="../../#l01691">HandleMemberWithdrawMoney()</a>, and <a class="el" href="../../#l00779">ModifyBankMoney()</a>.</p>

</div>
</div>
<a id="aedae13ac977ddf2c8947d652144cfd36" name="aedae13ac977ddf2c8947d652144cfd36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedae13ac977ddf2c8947d652144cfd36">&#9670;&#160;</a></span>_MoveItems()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_MoveItems </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d5c/a09342.html">MoveItemData</a> *&#160;</td>
          <td class="paramname"><em>pSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d5c/a09342.html">MoveItemData</a> *&#160;</td>
          <td class="paramname"><em>pDest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>splitedAmount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2652</span>{</div>
<div class="line"><span class="lineno"> 2653</span>    <span class="comment">// 1. Initialize source item</span></div>
<div class="line"><span class="lineno"> 2654</span>    <span class="keywordflow">if</span> (!pSrc-&gt;InitItem())</div>
<div class="line"><span class="lineno"> 2655</span>        <span class="keywordflow">return</span>; <span class="comment">// No source item</span></div>
<div class="line"><span class="lineno"> 2656</span> </div>
<div class="line"><span class="lineno"> 2657</span>    <span class="comment">// 2. Check source item</span></div>
<div class="line"><span class="lineno"> 2658</span>    <span class="keywordflow">if</span> (!pSrc-&gt;CheckItem(splitedAmount))</div>
<div class="line"><span class="lineno"> 2659</span>        <span class="keywordflow">return</span>; <span class="comment">// Source item or splited amount is invalid</span></div>
<div class="line"><span class="lineno"> 2660</span> </div>
<div class="line"><span class="lineno"> 2661</span>    <span class="comment">// 3. Check destination rights</span></div>
<div class="line"><span class="lineno"> 2662</span>    <span class="keywordflow">if</span> (!pDest-&gt;HasStoreRights(pSrc))</div>
<div class="line"><span class="lineno"> 2663</span>        <span class="keywordflow">return</span>; <span class="comment">// Player has no rights to store item in destination</span></div>
<div class="line"><span class="lineno"> 2664</span> </div>
<div class="line"><span class="lineno"> 2665</span>    <span class="comment">// 4. Check source withdraw rights</span></div>
<div class="line"><span class="lineno"> 2666</span>    <span class="keywordflow">if</span> (!pSrc-&gt;HasWithdrawRights(pDest))</div>
<div class="line"><span class="lineno"> 2667</span>        <span class="keywordflow">return</span>; <span class="comment">// Player has no rights to withdraw items from source</span></div>
<div class="line"><span class="lineno"> 2668</span> </div>
<div class="line"><span class="lineno"> 2669</span>    <span class="comment">// 5. Check split</span></div>
<div class="line"><span class="lineno"> 2670</span>    <span class="keywordflow">if</span> (splitedAmount)</div>
<div class="line"><span class="lineno"> 2671</span>    {</div>
<div class="line"><span class="lineno"> 2672</span>        <span class="comment">// 5.1. Clone source item</span></div>
<div class="line"><span class="lineno"> 2673</span>        <span class="keywordflow">if</span> (!pSrc-&gt;CloneItem(splitedAmount))</div>
<div class="line"><span class="lineno"> 2674</span>            <span class="keywordflow">return</span>; <span class="comment">// Item could not be cloned</span></div>
<div class="line"><span class="lineno"> 2675</span> </div>
<div class="line"><span class="lineno"> 2676</span>        <span class="comment">// 5.2. Move splited item to destination</span></div>
<div class="line"><span class="lineno"> 2677</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#acf135024c0806e2f4ba80d2af10b659a">_DoItemsMove</a>(pSrc, pDest, <span class="keyword">true</span>, splitedAmount);</div>
<div class="line"><span class="lineno"> 2678</span>    }</div>
<div class="line"><span class="lineno"> 2679</span>    <span class="keywordflow">else</span> <span class="comment">// 6. No split</span></div>
<div class="line"><span class="lineno"> 2680</span>    {</div>
<div class="line"><span class="lineno"> 2681</span>        <span class="comment">// 6.1. Try to merge items in destination (pDest-&gt;GetItem() == nullptr)</span></div>
<div class="line"><span class="lineno"> 2682</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d60/a09310.html#acf135024c0806e2f4ba80d2af10b659a">_DoItemsMove</a>(pSrc, pDest, <span class="keyword">false</span>)) <span class="comment">// Item could not be merged</span></div>
<div class="line"><span class="lineno"> 2683</span>        {</div>
<div class="line"><span class="lineno"> 2684</span>            <span class="comment">// 6.2. Try to swap items</span></div>
<div class="line"><span class="lineno"> 2685</span>            <span class="comment">// 6.2.1. Initialize destination item</span></div>
<div class="line"><span class="lineno"> 2686</span>            <span class="keywordflow">if</span> (!pDest-&gt;InitItem())</div>
<div class="line"><span class="lineno"> 2687</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2688</span> </div>
<div class="line"><span class="lineno"> 2689</span>            <span class="comment">// 6.2.2. Check rights to store item in source (opposite direction)</span></div>
<div class="line"><span class="lineno"> 2690</span>            <span class="keywordflow">if</span> (!pSrc-&gt;HasStoreRights(pDest))</div>
<div class="line"><span class="lineno"> 2691</span>                <span class="keywordflow">return</span>; <span class="comment">// Player has no rights to store item in source (opposite direction)</span></div>
<div class="line"><span class="lineno"> 2692</span> </div>
<div class="line"><span class="lineno"> 2693</span>            <span class="keywordflow">if</span> (!pDest-&gt;HasWithdrawRights(pSrc))</div>
<div class="line"><span class="lineno"> 2694</span>                <span class="keywordflow">return</span>; <span class="comment">// Player has no rights to withdraw item from destination (opposite direction)</span></div>
<div class="line"><span class="lineno"> 2695</span> </div>
<div class="line"><span class="lineno"> 2696</span>            <span class="comment">// 6.2.3. Swap items (pDest-&gt;GetItem() != nullptr)</span></div>
<div class="line"><span class="lineno"> 2697</span>            <a class="code hl_function" href="../../d8/d60/a09310.html#acf135024c0806e2f4ba80d2af10b659a">_DoItemsMove</a>(pSrc, pDest, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2698</span>        }</div>
<div class="line"><span class="lineno"> 2699</span>    }</div>
<div class="line"><span class="lineno"> 2700</span>    <span class="comment">// 7. Send changes</span></div>
<div class="line"><span class="lineno"> 2701</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ad245500a81dcb14490d5e272a4617003">_SendBankContentUpdate</a>(pSrc, pDest);</div>
<div class="line"><span class="lineno"> 2702</span>}</div>
<div class="ttc" id="aa09310_html_acf135024c0806e2f4ba80d2af10b659a"><div class="ttname"><a href="../../d8/d60/a09310.html#acf135024c0806e2f4ba80d2af10b659a">Guild::_DoItemsMove</a></div><div class="ttdeci">bool _DoItemsMove(MoveItemData *pSrc, MoveItemData *pDest, bool sendError, uint32 splitedAmount=0)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2704</div></div>
<div class="ttc" id="aa09310_html_ad245500a81dcb14490d5e272a4617003"><div class="ttname"><a href="../../d8/d60/a09310.html#ad245500a81dcb14490d5e272a4617003">Guild::_SendBankContentUpdate</a></div><div class="ttdeci">void _SendBankContentUpdate(MoveItemData *pSrc, MoveItemData *pDest) const</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2762</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02704">_DoItemsMove()</a>, <a class="el" href="../../#l02762">_SendBankContentUpdate()</a>, <a class="el" href="../../#l00714">Guild::MoveItemData::CheckItem()</a>, <a class="el" href="../../#l00733">Guild::MoveItemData::CloneItem()</a>, <a class="el" href="../../#l00602">Guild::MoveItemData::HasStoreRights()</a>, <a class="el" href="../../#l00604">Guild::MoveItemData::HasWithdrawRights()</a>, and <a class="el" href="../../d6/d5c/a09342.html#ae07f5a2a435dca9c762690b7a55da740">Guild::MoveItemData::InitItem()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02343">SwapItems()</a>, and <a class="el" href="../../#l02357">SwapItemsWithInventory()</a>.</p>

</div>
</div>
<a id="aaf69ed8372cb3ba9e26856d1930008ae" name="aaf69ed8372cb3ba9e26856d1930008ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf69ed8372cb3ba9e26856d1930008ae">&#9670;&#160;</a></span>_RemoveItem()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_RemoveItem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a>&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>slotId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2646</span>{</div>
<div class="line"><span class="lineno"> 2647</span>    <span class="keywordflow">if</span> (BankTab* pTab = <a class="code hl_function" href="../../d8/d60/a09310.html#ac64fffad338feef366cbe672439f1027">GetBankTab</a>(tabId))</div>
<div class="line"><span class="lineno"> 2648</span>        pTab-&gt;SetItem(trans, slotId, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 2649</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00817">GetBankTab()</a>.</p>

</div>
</div>
<a id="aa35aaff8114e214a4900b2b39a02c08b" name="aa35aaff8114e214a4900b2b39a02c08b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa35aaff8114e214a4900b2b39a02c08b">&#9670;&#160;</a></span>_SendBankContent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_SendBankContent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sendAllSlots</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2749</span>{</div>
<div class="line"><span class="lineno"> 2750</span>    <a class="code hl_class" href="../../d4/df2/a08266.html">ObjectGuid</a> guid = session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>();</div>
<div class="line"><span class="lineno"> 2751</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d60/a09310.html#aa5ec2e7944cca49cd174c5528e311eb4">_MemberHasTabRights</a>(guid, tabId, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a1421de756a2a78653351a892c55a2627a620bed4a15dc4c9d3cea7cd1886a3594">GUILD_BANK_RIGHT_VIEW_TAB</a>))</div>
<div class="line"><span class="lineno"> 2752</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2753</span> </div>
<div class="line"><span class="lineno"> 2754</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a2f5789fbad9d569864fe4c13f5774c7f">_SendBankList</a>(session, tabId, sendAllSlots);</div>
<div class="line"><span class="lineno"> 2755</span>}</div>
<div class="ttc" id="aa08266_html"><div class="ttname"><a href="../../d4/df2/a08266.html">ObjectGuid</a></div><div class="ttdef"><b>Definition:</b> ObjectGuid.h:118</div></div>
<div class="ttc" id="aa09310_html_a2f5789fbad9d569864fe4c13f5774c7f"><div class="ttname"><a href="../../d8/d60/a09310.html#a2f5789fbad9d569864fe4c13f5774c7f">Guild::_SendBankList</a></div><div class="ttdeci">void _SendBankList(WorldSession *session=nullptr, uint8 tabId=0, bool sendFullSlots=false, SlotIds *slots=nullptr) const</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2823</div></div>
<div class="ttc" id="aa09310_html_aa5ec2e7944cca49cd174c5528e311eb4"><div class="ttname"><a href="../../d8/d60/a09310.html#aa5ec2e7944cca49cd174c5528e311eb4">Guild::_MemberHasTabRights</a></div><div class="ttdeci">bool _MemberHasTabRights(ObjectGuid guid, uint8 tabId, uint32 rights) const</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2594</div></div>
<div class="ttc" id="aa10810_html_a62c786bcb829a021c267e7eb56809952"><div class="ttname"><a href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">WorldSession::GetPlayer</a></div><div class="ttdeci">Player * GetPlayer() const</div><div class="ttdef"><b>Definition:</b> WorldSession.h:376</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02594">_MemberHasTabRights()</a>, <a class="el" href="../../#l02823">_SendBankList()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, and <a class="el" href="../../#l00187">GUILD_BANK_RIGHT_VIEW_TAB</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01811">SendBankTabData()</a>.</p>

</div>
</div>
<a id="ad245500a81dcb14490d5e272a4617003" name="ad245500a81dcb14490d5e272a4617003"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad245500a81dcb14490d5e272a4617003">&#9670;&#160;</a></span>_SendBankContentUpdate() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_SendBankContentUpdate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d5c/a09342.html">MoveItemData</a> *&#160;</td>
          <td class="paramname"><em>pSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d5c/a09342.html">MoveItemData</a> *&#160;</td>
          <td class="paramname"><em>pDest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2763</span>{</div>
<div class="line"><span class="lineno"> 2764</span>    <a class="code hl_define" href="../../da/d45/a00011.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(pSrc-&gt;IsBank() || pDest-&gt;IsBank());</div>
<div class="line"><span class="lineno"> 2765</span> </div>
<div class="line"><span class="lineno"> 2766</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId = 0;</div>
<div class="line"><span class="lineno"> 2767</span>    <a class="code hl_typedef" href="../../d7/d93/a02981.html#a5d929929b4339d57ad74b13b2b96d940">SlotIds</a> slots;</div>
<div class="line"><span class="lineno"> 2768</span>    <span class="keywordflow">if</span> (pSrc-&gt;IsBank()) <span class="comment">// B -&gt;</span></div>
<div class="line"><span class="lineno"> 2769</span>    {</div>
<div class="line"><span class="lineno"> 2770</span>        tabId = pSrc-&gt;GetContainer();</div>
<div class="line"><span class="lineno"> 2771</span>        slots.insert(pSrc-&gt;GetSlotId());</div>
<div class="line"><span class="lineno"> 2772</span>        <span class="keywordflow">if</span> (pDest-&gt;IsBank()) <span class="comment">// B -&gt; B</span></div>
<div class="line"><span class="lineno"> 2773</span>        {</div>
<div class="line"><span class="lineno"> 2774</span>            <span class="comment">// Same tab - add destination slots to collection</span></div>
<div class="line"><span class="lineno"> 2775</span>            <span class="keywordflow">if</span> (pDest-&gt;GetContainer() == pSrc-&gt;GetContainer())</div>
<div class="line"><span class="lineno"> 2776</span>                pDest-&gt;CopySlots(slots);</div>
<div class="line"><span class="lineno"> 2777</span>            <span class="keywordflow">else</span> <span class="comment">// Different tabs - send second message</span></div>
<div class="line"><span class="lineno"> 2778</span>            {</div>
<div class="line"><span class="lineno"> 2779</span>                <a class="code hl_typedef" href="../../d7/d93/a02981.html#a5d929929b4339d57ad74b13b2b96d940">SlotIds</a> destSlots;</div>
<div class="line"><span class="lineno"> 2780</span>                pDest-&gt;CopySlots(destSlots);</div>
<div class="line"><span class="lineno"> 2781</span>                <a class="code hl_function" href="../../d8/d60/a09310.html#ad245500a81dcb14490d5e272a4617003">_SendBankContentUpdate</a>(pDest-&gt;GetContainer(), destSlots);</div>
<div class="line"><span class="lineno"> 2782</span>            }</div>
<div class="line"><span class="lineno"> 2783</span>        }</div>
<div class="line"><span class="lineno"> 2784</span>    }</div>
<div class="line"><span class="lineno"> 2785</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pDest-&gt;IsBank()) <span class="comment">// C -&gt; B</span></div>
<div class="line"><span class="lineno"> 2786</span>    {</div>
<div class="line"><span class="lineno"> 2787</span>        tabId = pDest-&gt;GetContainer();</div>
<div class="line"><span class="lineno"> 2788</span>        pDest-&gt;CopySlots(slots);</div>
<div class="line"><span class="lineno"> 2789</span>    }</div>
<div class="line"><span class="lineno"> 2790</span> </div>
<div class="line"><span class="lineno"> 2791</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ad245500a81dcb14490d5e272a4617003">_SendBankContentUpdate</a>(tabId, slots);</div>
<div class="line"><span class="lineno"> 2792</span>}</div>
<div class="ttc" id="aa00011_html_af343b20373ba49a92fce523e948f2ab3"><div class="ttname"><a href="../../da/d45/a00011.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a></div><div class="ttdeci">#define ASSERT</div><div class="ttdef"><b>Definition:</b> Errors.h:68</div></div>
<div class="ttc" id="aa02981_html_a5d929929b4339d57ad74b13b2b96d940"><div class="ttname"><a href="../../d7/d93/a02981.html#a5d929929b4339d57ad74b13b2b96d940">SlotIds</a></div><div class="ttdeci">std::set&lt; uint8 &gt; SlotIds</div><div class="ttdef"><b>Definition:</b> Guild.h:289</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02762">_SendBankContentUpdate()</a>, <a class="el" href="../../#l00068">ASSERT</a>, <a class="el" href="../../#l00754">Guild::MoveItemData::CopySlots()</a>, <a class="el" href="../../#l00621">Guild::MoveItemData::GetContainer()</a>, <a class="el" href="../../#l00622">Guild::MoveItemData::GetSlotId()</a>, and <a class="el" href="../../d6/d5c/a09342.html#acd5b03ccd86cd16b477f9df7afde1c08">Guild::MoveItemData::IsBank()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02651">_MoveItems()</a>, and <a class="el" href="../../#l02762">_SendBankContentUpdate()</a>.</p>

</div>
</div>
<a id="aa94a2c151c913191af12db2480f28cd0" name="aa94a2c151c913191af12db2480f28cd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa94a2c151c913191af12db2480f28cd0">&#9670;&#160;</a></span>_SendBankContentUpdate() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_SendBankContentUpdate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d93/a02981.html#a5d929929b4339d57ad74b13b2b96d940">SlotIds</a>&#160;</td>
          <td class="paramname"><em>slots</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2795</span>{</div>
<div class="line"><span class="lineno"> 2796</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a2f5789fbad9d569864fe4c13f5774c7f">_SendBankList</a>(<span class="keyword">nullptr</span>, tabId, <span class="keyword">false</span>, &amp;slots);</div>
<div class="line"><span class="lineno"> 2797</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02823">_SendBankList()</a>.</p>

</div>
</div>
<a id="a2f5789fbad9d569864fe4c13f5774c7f" name="a2f5789fbad9d569864fe4c13f5774c7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f5789fbad9d569864fe4c13f5774c7f">&#9670;&#160;</a></span>_SendBankList()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_SendBankList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sendFullSlots</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d93/a02981.html#a5d929929b4339d57ad74b13b2b96d940">SlotIds</a> *&#160;</td>
          <td class="paramname"><em>slots</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2824</span>{</div>
<div class="line"><span class="lineno"> 2825</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;CanGuildSendBankList(<span class="keyword">this</span>, session, tabId, sendAllSlots))</div>
<div class="line"><span class="lineno"> 2826</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2827</span> </div>
<div class="line"><span class="lineno"> 2828</span>    <a class="code hl_class" href="../../dc/d06/a10506.html">WorldPackets::Guild::GuildBankQueryResults</a> packet;</div>
<div class="line"><span class="lineno"> 2829</span> </div>
<div class="line"><span class="lineno"> 2830</span>    packet.<a class="code hl_variable" href="../../dc/d06/a10506.html#ad401eb3444f5ae50781e634e1f55eba1">Money</a> = <a class="code hl_variable" href="../../d8/d60/a09310.html#a148e3da6e65ca7a0724799ad8b09091f">m_bankMoney</a>;</div>
<div class="line"><span class="lineno"> 2831</span>    packet.<a class="code hl_variable" href="../../dc/d06/a10506.html#a72ac06ace5e7974d666e3fc3d626e3c0">Tab</a> = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(tabId);</div>
<div class="line"><span class="lineno"> 2832</span>    packet.<a class="code hl_variable" href="../../dc/d06/a10506.html#a42ca9b48981d7d338aecb7840c248f0f">FullUpdate</a> = sendAllSlots;</div>
<div class="line"><span class="lineno"> 2833</span> </div>
<div class="line"><span class="lineno"> 2834</span>    <span class="keywordflow">if</span> (sendAllSlots &amp;&amp; !tabId)</div>
<div class="line"><span class="lineno"> 2835</span>    {</div>
<div class="line"><span class="lineno"> 2836</span>        packet.<a class="code hl_variable" href="../../dc/d06/a10506.html#ad36f0ae1d897ef504ad9761c00db77ca">TabInfo</a>.reserve(<a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>());</div>
<div class="line"><span class="lineno"> 2837</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>(); ++i)</div>
<div class="line"><span class="lineno"> 2838</span>        {</div>
<div class="line"><span class="lineno"> 2839</span>            <a class="code hl_struct" href="../../dc/d63/a10502.html">WorldPackets::Guild::GuildBankTabInfo</a> tabInfo;</div>
<div class="line"><span class="lineno"> 2840</span>            tabInfo.<a class="code hl_variable" href="../../dc/d63/a10502.html#a19c79529bbfe25701c9f8253f3e0f9d8">Name</a> = <a class="code hl_variable" href="../../d8/d60/a09310.html#a387321359dc40fb20c38fc2f30992750">m_bankTabs</a>[i].GetName();</div>
<div class="line"><span class="lineno"> 2841</span>            tabInfo.<a class="code hl_variable" href="../../dc/d63/a10502.html#ae47c09144b18e42aa48499de3e3fe276">Icon</a> = <a class="code hl_variable" href="../../d8/d60/a09310.html#a387321359dc40fb20c38fc2f30992750">m_bankTabs</a>[i].GetIcon();</div>
<div class="line"><span class="lineno"> 2842</span>            packet.<a class="code hl_variable" href="../../dc/d06/a10506.html#ad36f0ae1d897ef504ad9761c00db77ca">TabInfo</a>.push_back(tabInfo);</div>
<div class="line"><span class="lineno"> 2843</span>        }</div>
<div class="line"><span class="lineno"> 2844</span>    }</div>
<div class="line"><span class="lineno"> 2845</span> </div>
<div class="line"><span class="lineno"> 2846</span>    <span class="keywordflow">if</span> (BankTab <span class="keyword">const</span>* tab = <a class="code hl_function" href="../../d8/d60/a09310.html#ac64fffad338feef366cbe672439f1027">GetBankTab</a>(tabId))</div>
<div class="line"><span class="lineno"> 2847</span>    {</div>
<div class="line"><span class="lineno"> 2848</span>        <span class="keyword">auto</span> fillItems = [&amp;](<span class="keyword">auto</span> begin, <span class="keyword">auto</span> end, <span class="keywordtype">bool</span> skipEmpty)</div>
<div class="line"><span class="lineno"> 2849</span>        {</div>
<div class="line"><span class="lineno"> 2850</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> itr = begin; itr != end; ++itr)</div>
<div class="line"><span class="lineno"> 2851</span>            {</div>
<div class="line"><span class="lineno"> 2852</span>                <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d3/d4c/a08174.html">Item</a>* tabItem = tab-&gt;GetItem(*itr))</div>
<div class="line"><span class="lineno"> 2853</span>                {</div>
<div class="line"><span class="lineno"> 2854</span>                    <a class="code hl_struct" href="../../d2/d5f/a10498.html">WorldPackets::Guild::GuildBankItemInfo</a> itemInfo;</div>
<div class="line"><span class="lineno"> 2855</span> </div>
<div class="line"><span class="lineno"> 2856</span>                    itemInfo.<a class="code hl_variable" href="../../d2/d5f/a10498.html#afcc0a78c2f9a3061830679fece476a64">Slot</a> = *itr;</div>
<div class="line"><span class="lineno"> 2857</span>                    itemInfo.<a class="code hl_variable" href="../../d2/d5f/a10498.html#a5dc7e8b40834dba07c63322d80ed73ae">ItemID</a> = tabItem-&gt;GetEntry();</div>
<div class="line"><span class="lineno"> 2858</span>                    itemInfo.<a class="code hl_variable" href="../../d2/d5f/a10498.html#a6f31a3d750d5c5f1b316f05e7ad9dbe9">Count</a> = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(tabItem-&gt;GetCount());</div>
<div class="line"><span class="lineno"> 2859</span>                    itemInfo.<a class="code hl_variable" href="../../d2/d5f/a10498.html#ada45d7e00efb3bf27afcf9db1ad4d813">Charges</a> = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(std::abs(tabItem-&gt;GetSpellCharges()));</div>
<div class="line"><span class="lineno"> 2860</span>                    itemInfo.<a class="code hl_variable" href="../../d2/d5f/a10498.html#a249a204f5d72d42f562c989b1cb92fc9">EnchantmentID</a> = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(tabItem-&gt;GetEnchantmentId(<a class="code hl_enumvalue" href="../../d6/d0e/a03395.html#af61f52556a9623cc79e50bc6fca5f593a17b1fa67b859ce7552711df33a676f13">PERM_ENCHANTMENT_SLOT</a>));</div>
<div class="line"><span class="lineno"> 2861</span>                    itemInfo.<a class="code hl_variable" href="../../d2/d5f/a10498.html#a3ca816132a756d3dc939877c57f6045d">Flags</a> = tabItem-&gt;GetInt32Value(<a class="code hl_enumvalue" href="../../dc/d14/a03479.html#a529e4bfaaee7e3c2dc52aaa447287cfba3fdc4d82d91ec74b4223b5233aa78efe">ITEM_FIELD_FLAGS</a>);</div>
<div class="line"><span class="lineno"> 2862</span>                    itemInfo.<a class="code hl_variable" href="../../d2/d5f/a10498.html#ad98a20548478fe99f9d6d345c5a3b732">RandomPropertiesID</a> = tabItem-&gt;GetItemRandomPropertyId();</div>
<div class="line"><span class="lineno"> 2863</span>                    itemInfo.<a class="code hl_variable" href="../../d2/d5f/a10498.html#ae5d493dd4798e11f02d8f02a57ba4274">RandomPropertiesSeed</a> = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(tabItem-&gt;GetItemSuffixFactor());</div>
<div class="line"><span class="lineno"> 2864</span> </div>
<div class="line"><span class="lineno"> 2865</span>                    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> socketSlot = 0; socketSlot &lt; <a class="code hl_define" href="../../d6/d0e/a03395.html#a3561178c2cb0c7f26665f84ea7f69843">MAX_GEM_SOCKETS</a>; ++socketSlot)</div>
<div class="line"><span class="lineno"> 2866</span>                    {</div>
<div class="line"><span class="lineno"> 2867</span>                        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> enchId = tabItem-&gt;GetEnchantmentId(<a class="code hl_enumeration" href="../../d6/d0e/a03395.html#af61f52556a9623cc79e50bc6fca5f593">EnchantmentSlot</a>(<a class="code hl_enumvalue" href="../../d6/d0e/a03395.html#af61f52556a9623cc79e50bc6fca5f593a7fcc40f42c68445da6816046f8ef013f">SOCK_ENCHANTMENT_SLOT</a> + socketSlot)))</div>
<div class="line"><span class="lineno"> 2868</span>                        {</div>
<div class="line"><span class="lineno"> 2869</span>                            <a class="code hl_struct" href="../../de/da7/a10494.html">WorldPackets::Guild::GuildBankSocketEnchant</a> gem;</div>
<div class="line"><span class="lineno"> 2870</span>                            gem.<a class="code hl_variable" href="../../de/da7/a10494.html#ac75ed3f28bdd3d83f15e55ef9b6ac54a">SocketIndex</a> = socketSlot;</div>
<div class="line"><span class="lineno"> 2871</span>                            gem.<a class="code hl_variable" href="../../de/da7/a10494.html#ae682a8405a5fa1c70033d190dde25d99">SocketEnchantID</a> = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(enchId);</div>
<div class="line"><span class="lineno"> 2872</span>                            itemInfo.<a class="code hl_variable" href="../../d2/d5f/a10498.html#a55545d4d1b752e4f08bd05350b22892c">SocketEnchant</a>.push_back(gem);</div>
<div class="line"><span class="lineno"> 2873</span>                        }</div>
<div class="line"><span class="lineno"> 2874</span>                    }</div>
<div class="line"><span class="lineno"> 2875</span> </div>
<div class="line"><span class="lineno"> 2876</span>                    packet.<a class="code hl_variable" href="../../dc/d06/a10506.html#ad799195b259f92aa4e71e1ee8fd99741">ItemInfo</a>.push_back(itemInfo);</div>
<div class="line"><span class="lineno"> 2877</span>                }</div>
<div class="line"><span class="lineno"> 2878</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!skipEmpty)</div>
<div class="line"><span class="lineno"> 2879</span>                {</div>
<div class="line"><span class="lineno"> 2880</span>                    <a class="code hl_struct" href="../../d2/d5f/a10498.html">WorldPackets::Guild::GuildBankItemInfo</a> itemInfo;</div>
<div class="line"><span class="lineno"> 2881</span> </div>
<div class="line"><span class="lineno"> 2882</span>                    itemInfo.<a class="code hl_variable" href="../../d2/d5f/a10498.html#afcc0a78c2f9a3061830679fece476a64">Slot</a> = *itr;</div>
<div class="line"><span class="lineno"> 2883</span>                    itemInfo.<a class="code hl_variable" href="../../d2/d5f/a10498.html#a5dc7e8b40834dba07c63322d80ed73ae">ItemID</a> = 0;</div>
<div class="line"><span class="lineno"> 2884</span> </div>
<div class="line"><span class="lineno"> 2885</span>                    packet.<a class="code hl_variable" href="../../dc/d06/a10506.html#ad799195b259f92aa4e71e1ee8fd99741">ItemInfo</a>.push_back(itemInfo);</div>
<div class="line"><span class="lineno"> 2886</span>                }</div>
<div class="line"><span class="lineno"> 2887</span>            }</div>
<div class="line"><span class="lineno"> 2888</span> </div>
<div class="line"><span class="lineno"> 2889</span>        };</div>
<div class="line"><span class="lineno"> 2890</span> </div>
<div class="line"><span class="lineno"> 2891</span>        <span class="keywordflow">if</span> (sendAllSlots)</div>
<div class="line"><span class="lineno"> 2892</span>            fillItems(boost::make_counting_iterator(<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0)), boost::make_counting_iterator(<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaab16b15ec75f4e5d66f25c472aa3e8bba">GUILD_BANK_MAX_SLOTS</a>)), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2893</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (slots &amp;&amp; !slots-&gt;empty())</div>
<div class="line"><span class="lineno"> 2894</span>            fillItems(slots-&gt;begin(), slots-&gt;end(), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2895</span>    }</div>
<div class="line"><span class="lineno"> 2896</span> </div>
<div class="line"><span class="lineno"> 2897</span>    <span class="keywordflow">if</span> (session)</div>
<div class="line"><span class="lineno"> 2898</span>    {</div>
<div class="line"><span class="lineno"> 2899</span>        <span class="keywordflow">if</span> (Member <span class="keyword">const</span>* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()))</div>
<div class="line"><span class="lineno"> 2900</span>            packet.<a class="code hl_variable" href="../../dc/d06/a10506.html#a211288bde5a15f2d21df65acf087c7d0">WithdrawalsRemaining</a> = <a class="code hl_function" href="../../d8/d60/a09310.html#a4e4488776daa471ffb5a31c0770633e6">_GetMemberRemainingSlots</a>(*member, tabId);</div>
<div class="line"><span class="lineno"> 2901</span> </div>
<div class="line"><span class="lineno"> 2902</span>        session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(packet.<a class="code hl_function" href="../../dc/d06/a10506.html#a4598c0c9d1f94c5aa0671f210e1597d4">Write</a>());</div>
<div class="line"><span class="lineno"> 2903</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;SMSG_GUILD_BANK_LIST [{}]: TabId: {}, FullSlots: {}, slots: {}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2904</span>                     session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a5850670ad0e6b6a81abf41246bd92523">GetPlayerInfo</a>(), tabId, sendAllSlots, packet.<a class="code hl_variable" href="../../dc/d06/a10506.html#a211288bde5a15f2d21df65acf087c7d0">WithdrawalsRemaining</a>);</div>
<div class="line"><span class="lineno"> 2905</span>    }</div>
<div class="line"><span class="lineno"> 2906</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2907</span>    {</div>
<div class="line"><span class="lineno"> 2908</span>        packet.<a class="code hl_function" href="../../dc/d06/a10506.html#a4598c0c9d1f94c5aa0671f210e1597d4">Write</a>();</div>
<div class="line"><span class="lineno"> 2909</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [guid, member] : <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>)</div>
<div class="line"><span class="lineno"> 2910</span>        {</div>
<div class="line"><span class="lineno"> 2911</span>            <span class="keywordflow">if</span> (!member.ShouldReceiveBankPartialUpdatePackets())</div>
<div class="line"><span class="lineno"> 2912</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2913</span> </div>
<div class="line"><span class="lineno"> 2914</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d60/a09310.html#aa5ec2e7944cca49cd174c5528e311eb4">_MemberHasTabRights</a>(member.GetGUID(), tabId, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a1421de756a2a78653351a892c55a2627a620bed4a15dc4c9d3cea7cd1886a3594">GUILD_BANK_RIGHT_VIEW_TAB</a>))</div>
<div class="line"><span class="lineno"> 2915</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2916</span> </div>
<div class="line"><span class="lineno"> 2917</span>            <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = member.FindPlayer();</div>
<div class="line"><span class="lineno"> 2918</span>            <span class="keywordflow">if</span> (!player)</div>
<div class="line"><span class="lineno"> 2919</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2920</span> </div>
<div class="line"><span class="lineno"> 2921</span>            packet.<a class="code hl_function" href="../../dc/d06/a10506.html#a52af0d2b4e092daf0719bdf325c51652">SetWithdrawalsRemaining</a>(<a class="code hl_function" href="../../d8/d60/a09310.html#a4e4488776daa471ffb5a31c0770633e6">_GetMemberRemainingSlots</a>(member, tabId));</div>
<div class="line"><span class="lineno"> 2922</span>            player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a2ad9b8f6c94365d5afe104567198aba8">SendDirectMessage</a>(packet.<a class="code hl_function" href="../../d4/dff/a10238.html#a9d8649e1b035fe7387dcee3e0b062a5e">GetRawPacket</a>());</div>
<div class="line"><span class="lineno"> 2923</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;SMSG_GUILD_BANK_LIST [{}]: TabId: {}, FullSlots: {}, slots: {}&quot;</span></div>
<div class="line"><span class="lineno"> 2924</span>                    , player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>(), tabId, sendAllSlots, packet.<a class="code hl_variable" href="../../dc/d06/a10506.html#a211288bde5a15f2d21df65acf087c7d0">WithdrawalsRemaining</a>);</div>
<div class="line"><span class="lineno"> 2925</span>        }</div>
<div class="line"><span class="lineno"> 2926</span>    }</div>
<div class="line"><span class="lineno"> 2927</span>}</div>
<div class="ttc" id="aa00497_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition:</b> Define.h:107</div></div>
<div class="ttc" id="aa02981_html_a06a462b77a279ae7e2e901b2a8b42fbaab16b15ec75f4e5d66f25c472aa3e8bba"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaab16b15ec75f4e5d66f25c472aa3e8bba">GUILD_BANK_MAX_SLOTS</a></div><div class="ttdeci">@ GUILD_BANK_MAX_SLOTS</div><div class="ttdef"><b>Definition:</b> Guild.h:43</div></div>
<div class="ttc" id="aa03395_html_a3561178c2cb0c7f26665f84ea7f69843"><div class="ttname"><a href="../../d6/d0e/a03395.html#a3561178c2cb0c7f26665f84ea7f69843">MAX_GEM_SOCKETS</a></div><div class="ttdeci">#define MAX_GEM_SOCKETS</div><div class="ttdef"><b>Definition:</b> Item.h:188</div></div>
<div class="ttc" id="aa03395_html_af61f52556a9623cc79e50bc6fca5f593"><div class="ttname"><a href="../../d6/d0e/a03395.html#af61f52556a9623cc79e50bc6fca5f593">EnchantmentSlot</a></div><div class="ttdeci">EnchantmentSlot</div><div class="ttdef"><b>Definition:</b> Item.h:168</div></div>
<div class="ttc" id="aa03395_html_af61f52556a9623cc79e50bc6fca5f593a17b1fa67b859ce7552711df33a676f13"><div class="ttname"><a href="../../d6/d0e/a03395.html#af61f52556a9623cc79e50bc6fca5f593a17b1fa67b859ce7552711df33a676f13">PERM_ENCHANTMENT_SLOT</a></div><div class="ttdeci">@ PERM_ENCHANTMENT_SLOT</div><div class="ttdef"><b>Definition:</b> Item.h:169</div></div>
<div class="ttc" id="aa03395_html_af61f52556a9623cc79e50bc6fca5f593a7fcc40f42c68445da6816046f8ef013f"><div class="ttname"><a href="../../d6/d0e/a03395.html#af61f52556a9623cc79e50bc6fca5f593a7fcc40f42c68445da6816046f8ef013f">SOCK_ENCHANTMENT_SLOT</a></div><div class="ttdeci">@ SOCK_ENCHANTMENT_SLOT</div><div class="ttdef"><b>Definition:</b> Item.h:171</div></div>
<div class="ttc" id="aa03479_html_a529e4bfaaee7e3c2dc52aaa447287cfba3fdc4d82d91ec74b4223b5233aa78efe"><div class="ttname"><a href="../../dc/d14/a03479.html#a529e4bfaaee7e3c2dc52aaa447287cfba3fdc4d82d91ec74b4223b5233aa78efe">ITEM_FIELD_FLAGS</a></div><div class="ttdeci">@ ITEM_FIELD_FLAGS</div><div class="ttdef"><b>Definition:</b> UpdateFields.h:42</div></div>
<div class="ttc" id="aa08250_html_a7e67658eb5aa058bc7f46bf6b11a797c"><div class="ttname"><a href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">WorldObject::GetName</a></div><div class="ttdeci">std::string const &amp; GetName() const</div><div class="ttdef"><b>Definition:</b> Object.h:463</div></div>
<div class="ttc" id="aa08466_html"><div class="ttname"><a href="../../dc/d06/a08466.html">Player</a></div><div class="ttdef"><b>Definition:</b> Player.h:1081</div></div>
<div class="ttc" id="aa08466_html_a2ad9b8f6c94365d5afe104567198aba8"><div class="ttname"><a href="../../dc/d06/a08466.html#a2ad9b8f6c94365d5afe104567198aba8">Player::SendDirectMessage</a></div><div class="ttdeci">void SendDirectMessage(WorldPacket const *data) const</div><div class="ttdef"><b>Definition:</b> Player.cpp:5723</div></div>
<div class="ttc" id="aa09310_html_a4e4488776daa471ffb5a31c0770633e6"><div class="ttname"><a href="../../d8/d60/a09310.html#a4e4488776daa471ffb5a31c0770633e6">Guild::_GetMemberRemainingSlots</a></div><div class="ttdeci">int32 _GetMemberRemainingSlots(Member const &amp;member, uint8 tabId) const</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2554</div></div>
<div class="ttc" id="aa09310_html_a8f0ca92339ce7aea2b8909edd37f9835"><div class="ttname"><a href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">Guild::m_members</a></div><div class="ttdeci">std::unordered_map&lt; uint32, Member &gt; m_members</div><div class="ttdef"><b>Definition:</b> Guild.h:795</div></div>
<div class="ttc" id="aa10238_html_a9d8649e1b035fe7387dcee3e0b062a5e"><div class="ttname"><a href="../../d4/dff/a10238.html#a9d8649e1b035fe7387dcee3e0b062a5e">WorldPackets::Packet::GetRawPacket</a></div><div class="ttdeci">WorldPacket const * GetRawPacket() const</div><div class="ttdef"><b>Definition:</b> Packet.h:38</div></div>
<div class="ttc" id="aa10494_html"><div class="ttname"><a href="../../de/da7/a10494.html">WorldPackets::Guild::GuildBankSocketEnchant</a></div><div class="ttdef"><b>Definition:</b> GuildPackets.h:457</div></div>
<div class="ttc" id="aa10494_html_ac75ed3f28bdd3d83f15e55ef9b6ac54a"><div class="ttname"><a href="../../de/da7/a10494.html#ac75ed3f28bdd3d83f15e55ef9b6ac54a">WorldPackets::Guild::GuildBankSocketEnchant::SocketIndex</a></div><div class="ttdeci">uint8 SocketIndex</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:458</div></div>
<div class="ttc" id="aa10494_html_ae682a8405a5fa1c70033d190dde25d99"><div class="ttname"><a href="../../de/da7/a10494.html#ae682a8405a5fa1c70033d190dde25d99">WorldPackets::Guild::GuildBankSocketEnchant::SocketEnchantID</a></div><div class="ttdeci">int32 SocketEnchantID</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:459</div></div>
<div class="ttc" id="aa10498_html"><div class="ttname"><a href="../../d2/d5f/a10498.html">WorldPackets::Guild::GuildBankItemInfo</a></div><div class="ttdef"><b>Definition:</b> GuildPackets.h:463</div></div>
<div class="ttc" id="aa10498_html_a249a204f5d72d42f562c989b1cb92fc9"><div class="ttname"><a href="../../d2/d5f/a10498.html#a249a204f5d72d42f562c989b1cb92fc9">WorldPackets::Guild::GuildBankItemInfo::EnchantmentID</a></div><div class="ttdeci">int32 EnchantmentID</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:469</div></div>
<div class="ttc" id="aa10498_html_a3ca816132a756d3dc939877c57f6045d"><div class="ttname"><a href="../../d2/d5f/a10498.html#a3ca816132a756d3dc939877c57f6045d">WorldPackets::Guild::GuildBankItemInfo::Flags</a></div><div class="ttdeci">int32 Flags</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:471</div></div>
<div class="ttc" id="aa10498_html_a55545d4d1b752e4f08bd05350b22892c"><div class="ttname"><a href="../../d2/d5f/a10498.html#a55545d4d1b752e4f08bd05350b22892c">WorldPackets::Guild::GuildBankItemInfo::SocketEnchant</a></div><div class="ttdeci">std::vector&lt; GuildBankSocketEnchant &gt; SocketEnchant</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:472</div></div>
<div class="ttc" id="aa10498_html_a5dc7e8b40834dba07c63322d80ed73ae"><div class="ttname"><a href="../../d2/d5f/a10498.html#a5dc7e8b40834dba07c63322d80ed73ae">WorldPackets::Guild::GuildBankItemInfo::ItemID</a></div><div class="ttdeci">uint32 ItemID</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:464</div></div>
<div class="ttc" id="aa10498_html_a6f31a3d750d5c5f1b316f05e7ad9dbe9"><div class="ttname"><a href="../../d2/d5f/a10498.html#a6f31a3d750d5c5f1b316f05e7ad9dbe9">WorldPackets::Guild::GuildBankItemInfo::Count</a></div><div class="ttdeci">int32 Count</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:468</div></div>
<div class="ttc" id="aa10498_html_ad98a20548478fe99f9d6d345c5a3b732"><div class="ttname"><a href="../../d2/d5f/a10498.html#ad98a20548478fe99f9d6d345c5a3b732">WorldPackets::Guild::GuildBankItemInfo::RandomPropertiesID</a></div><div class="ttdeci">int32 RandomPropertiesID</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:466</div></div>
<div class="ttc" id="aa10498_html_ada45d7e00efb3bf27afcf9db1ad4d813"><div class="ttname"><a href="../../d2/d5f/a10498.html#ada45d7e00efb3bf27afcf9db1ad4d813">WorldPackets::Guild::GuildBankItemInfo::Charges</a></div><div class="ttdeci">int32 Charges</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:470</div></div>
<div class="ttc" id="aa10498_html_ae5d493dd4798e11f02d8f02a57ba4274"><div class="ttname"><a href="../../d2/d5f/a10498.html#ae5d493dd4798e11f02d8f02a57ba4274">WorldPackets::Guild::GuildBankItemInfo::RandomPropertiesSeed</a></div><div class="ttdeci">int32 RandomPropertiesSeed</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:465</div></div>
<div class="ttc" id="aa10498_html_afcc0a78c2f9a3061830679fece476a64"><div class="ttname"><a href="../../d2/d5f/a10498.html#afcc0a78c2f9a3061830679fece476a64">WorldPackets::Guild::GuildBankItemInfo::Slot</a></div><div class="ttdeci">uint8 Slot</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:467</div></div>
<div class="ttc" id="aa10502_html"><div class="ttname"><a href="../../dc/d63/a10502.html">WorldPackets::Guild::GuildBankTabInfo</a></div><div class="ttdef"><b>Definition:</b> GuildPackets.h:476</div></div>
<div class="ttc" id="aa10502_html_a19c79529bbfe25701c9f8253f3e0f9d8"><div class="ttname"><a href="../../dc/d63/a10502.html#a19c79529bbfe25701c9f8253f3e0f9d8">WorldPackets::Guild::GuildBankTabInfo::Name</a></div><div class="ttdeci">std::string Name</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:477</div></div>
<div class="ttc" id="aa10502_html_ae47c09144b18e42aa48499de3e3fe276"><div class="ttname"><a href="../../dc/d63/a10502.html#ae47c09144b18e42aa48499de3e3fe276">WorldPackets::Guild::GuildBankTabInfo::Icon</a></div><div class="ttdeci">std::string Icon</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:478</div></div>
<div class="ttc" id="aa10506_html"><div class="ttname"><a href="../../dc/d06/a10506.html">WorldPackets::Guild::GuildBankQueryResults</a></div><div class="ttdef"><b>Definition:</b> GuildPackets.h:482</div></div>
<div class="ttc" id="aa10506_html_a211288bde5a15f2d21df65acf087c7d0"><div class="ttname"><a href="../../dc/d06/a10506.html#a211288bde5a15f2d21df65acf087c7d0">WorldPackets::Guild::GuildBankQueryResults::WithdrawalsRemaining</a></div><div class="ttdeci">int32 WithdrawalsRemaining</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:490</div></div>
<div class="ttc" id="aa10506_html_a42ca9b48981d7d338aecb7840c248f0f"><div class="ttname"><a href="../../dc/d06/a10506.html#a42ca9b48981d7d338aecb7840c248f0f">WorldPackets::Guild::GuildBankQueryResults::FullUpdate</a></div><div class="ttdeci">bool FullUpdate</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:493</div></div>
<div class="ttc" id="aa10506_html_a4598c0c9d1f94c5aa0671f210e1597d4"><div class="ttname"><a href="../../dc/d06/a10506.html#a4598c0c9d1f94c5aa0671f210e1597d4">WorldPackets::Guild::GuildBankQueryResults::Write</a></div><div class="ttdeci">WorldPacket const * Write() override</div><div class="ttdef"><b>Definition:</b> GuildPackets.cpp:285</div></div>
<div class="ttc" id="aa10506_html_a52af0d2b4e092daf0719bdf325c51652"><div class="ttname"><a href="../../dc/d06/a10506.html#a52af0d2b4e092daf0719bdf325c51652">WorldPackets::Guild::GuildBankQueryResults::SetWithdrawalsRemaining</a></div><div class="ttdeci">void SetWithdrawalsRemaining(int32 withdrawalsRemaining)</div><div class="ttdef"><b>Definition:</b> GuildPackets.cpp:331</div></div>
<div class="ttc" id="aa10506_html_a72ac06ace5e7974d666e3fc3d626e3c0"><div class="ttname"><a href="../../dc/d06/a10506.html#a72ac06ace5e7974d666e3fc3d626e3c0">WorldPackets::Guild::GuildBankQueryResults::Tab</a></div><div class="ttdeci">uint8 Tab</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:491</div></div>
<div class="ttc" id="aa10506_html_ad36f0ae1d897ef504ad9761c00db77ca"><div class="ttname"><a href="../../dc/d06/a10506.html#ad36f0ae1d897ef504ad9761c00db77ca">WorldPackets::Guild::GuildBankQueryResults::TabInfo</a></div><div class="ttdeci">std::vector&lt; GuildBankTabInfo &gt; TabInfo</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:489</div></div>
<div class="ttc" id="aa10506_html_ad401eb3444f5ae50781e634e1f55eba1"><div class="ttname"><a href="../../dc/d06/a10506.html#ad401eb3444f5ae50781e634e1f55eba1">WorldPackets::Guild::GuildBankQueryResults::Money</a></div><div class="ttdeci">uint64 Money</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:492</div></div>
<div class="ttc" id="aa10506_html_ad799195b259f92aa4e71e1ee8fd99741"><div class="ttname"><a href="../../dc/d06/a10506.html#ad799195b259f92aa4e71e1ee8fd99741">WorldPackets::Guild::GuildBankQueryResults::ItemInfo</a></div><div class="ttdeci">std::vector&lt; GuildBankItemInfo &gt; ItemInfo</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:488</div></div>
<div class="ttc" id="aa10810_html_a2c74b80ca9b81765049e315813b29269"><div class="ttname"><a href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">WorldSession::SendPacket</a></div><div class="ttdeci">void SendPacket(WorldPacket const *packet)</div><div class="ttdoc">Send a packet to the client.</div><div class="ttdef"><b>Definition:</b> WorldSession.cpp:225</div></div>
<div class="ttc" id="aa10810_html_a5850670ad0e6b6a81abf41246bd92523"><div class="ttname"><a href="../../d9/d7c/a10810.html#a5850670ad0e6b6a81abf41246bd92523">WorldSession::GetPlayerInfo</a></div><div class="ttdeci">std::string GetPlayerInfo() const</div><div class="ttdef"><b>Definition:</b> WorldSession.cpp:189</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02554">_GetMemberRemainingSlots()</a>, <a class="el" href="../../#l00816">_GetPurchasedTabsSize()</a>, <a class="el" href="../../#l02594">_MemberHasTabRights()</a>, <a class="el" href="../../#l00470">WorldPackets::Guild::GuildBankItemInfo::Charges</a>, <a class="el" href="../../#l00468">WorldPackets::Guild::GuildBankItemInfo::Count</a>, <a class="el" href="../../#l00469">WorldPackets::Guild::GuildBankItemInfo::EnchantmentID</a>, <a class="el" href="../../#l00471">WorldPackets::Guild::GuildBankItemInfo::Flags</a>, <a class="el" href="../../#l00493">WorldPackets::Guild::GuildBankQueryResults::FullUpdate</a>, <a class="el" href="../../#l00817">GetBankTab()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00463">WorldObject::GetName()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00189">WorldSession::GetPlayerInfo()</a>, <a class="el" href="../../#l00038">WorldPackets::Packet::GetRawPacket()</a>, <a class="el" href="../../#l00043">GUILD_BANK_MAX_SLOTS</a>, <a class="el" href="../../#l00187">GUILD_BANK_RIGHT_VIEW_TAB</a>, <a class="el" href="../../#l00478">WorldPackets::Guild::GuildBankTabInfo::Icon</a>, <a class="el" href="../../#l00042">ITEM_FIELD_FLAGS</a>, <a class="el" href="../../#l00464">WorldPackets::Guild::GuildBankItemInfo::ItemID</a>, <a class="el" href="../../#l00488">WorldPackets::Guild::GuildBankQueryResults::ItemInfo</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00792">m_bankMoney</a>, <a class="el" href="../../#l00796">m_bankTabs</a>, <a class="el" href="../../#l00795">m_members</a>, <a class="el" href="../../#l00188">MAX_GEM_SOCKETS</a>, <a class="el" href="../../#l00492">WorldPackets::Guild::GuildBankQueryResults::Money</a>, <a class="el" href="../../#l00477">WorldPackets::Guild::GuildBankTabInfo::Name</a>, <a class="el" href="../../#l00169">PERM_ENCHANTMENT_SLOT</a>, <a class="el" href="../../#l00466">WorldPackets::Guild::GuildBankItemInfo::RandomPropertiesID</a>, <a class="el" href="../../#l00465">WorldPackets::Guild::GuildBankItemInfo::RandomPropertiesSeed</a>, <a class="el" href="../../#l05723">Player::SendDirectMessage()</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, <a class="el" href="../../#l00331">WorldPackets::Guild::GuildBankQueryResults::SetWithdrawalsRemaining()</a>, <a class="el" href="../../#l00467">WorldPackets::Guild::GuildBankItemInfo::Slot</a>, <a class="el" href="../../#l00171">SOCK_ENCHANTMENT_SLOT</a>, <a class="el" href="../../#l00472">WorldPackets::Guild::GuildBankItemInfo::SocketEnchant</a>, <a class="el" href="../../#l00459">WorldPackets::Guild::GuildBankSocketEnchant::SocketEnchantID</a>, <a class="el" href="../../#l00458">WorldPackets::Guild::GuildBankSocketEnchant::SocketIndex</a>, <a class="el" href="../../#l00709">sScriptMgr</a>, <a class="el" href="../../#l00491">WorldPackets::Guild::GuildBankQueryResults::Tab</a>, <a class="el" href="../../#l00489">WorldPackets::Guild::GuildBankQueryResults::TabInfo</a>, <a class="el" href="../../#l00490">WorldPackets::Guild::GuildBankQueryResults::WithdrawalsRemaining</a>, and <a class="el" href="../../#l00285">WorldPackets::Guild::GuildBankQueryResults::Write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02748">_SendBankContent()</a>, <a class="el" href="../../#l02794">_SendBankContentUpdate()</a>, <a class="el" href="../../#l02757">_SendBankMoneyUpdate()</a>, and <a class="el" href="../../#l01817">SendBankTabsInfo()</a>.</p>

</div>
</div>
<a id="a446fbce6fbb44fb4e45980132e06bf88" name="a446fbce6fbb44fb4e45980132e06bf88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a446fbce6fbb44fb4e45980132e06bf88">&#9670;&#160;</a></span>_SendBankMoneyUpdate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_SendBankMoneyUpdate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2758</span>{</div>
<div class="line"><span class="lineno"> 2759</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a2f5789fbad9d569864fe4c13f5774c7f">_SendBankList</a>(session);</div>
<div class="line"><span class="lineno"> 2760</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02823">_SendBankList()</a>.</p>

</div>
</div>
<a id="aac7bfd950eec4b375833956962d0ae57" name="aac7bfd950eec4b375833956962d0ae57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac7bfd950eec4b375833956962d0ae57">&#9670;&#160;</a></span>_SetLeaderGUID()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_SetLeaderGUID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/da5/a09314.html">Member</a> &amp;&#160;</td>
          <td class="paramname"><em>pLeader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2493</span>{</div>
<div class="line"><span class="lineno"> 2494</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">m_leaderGuid</a> = pLeader.GetGUID();</div>
<div class="line"><span class="lineno"> 2495</span>    pLeader.ChangeRank(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a6534fcf172d7fbe4a762e0479601acd4a349203b98139f80965ab3d7e3379c36d">GR_GUILDMASTER</a>);</div>
<div class="line"><span class="lineno"> 2496</span> </div>
<div class="line"><span class="lineno"> 2497</span>    <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a71582162036e20d868c44c091f2c4500">CHAR_UPD_GUILD_LEADER</a>);</div>
<div class="line"><span class="lineno"> 2498</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">m_leaderGuid</a>.<a class="code hl_function" href="../../d4/df2/a08266.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>());</div>
<div class="line"><span class="lineno"> 2499</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 2500</span>    <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno"> 2501</span>}</div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a71582162036e20d868c44c091f2c4500"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a71582162036e20d868c44c091f2c4500">CHAR_UPD_GUILD_LEADER</a></div><div class="ttdeci">@ CHAR_UPD_GUILD_LEADER</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:170</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00568">Guild::Member::ChangeRank()</a>, <a class="el" href="../../#l00170">CHAR_UPD_GUILD_LEADER</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00145">ObjectGuid::GetCounter()</a>, <a class="el" href="../../#l00327">Guild::Member::GetGUID()</a>, <a class="el" href="../../#l00065">GR_GUILDMASTER</a>, <a class="el" href="../../#l00783">m_id</a>, <a class="el" href="../../#l00785">m_leaderGuid</a>, and <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02259">DeleteMember()</a>, <a class="el" href="../../#l01334">HandleSetLeader()</a>, and <a class="el" href="../../#l02042">Validate()</a>.</p>

</div>
</div>
<a id="a1da2ede98657c593c8c19b598055369b" name="a1da2ede98657c593c8c19b598055369b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1da2ede98657c593c8c19b598055369b">&#9670;&#160;</a></span>_SetRankBankMoneyPerDay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_SetRankBankMoneyPerDay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>rankId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>moneyPerDay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2504</span>{</div>
<div class="line"><span class="lineno"> 2505</span>    <span class="keywordflow">if</span> (RankInfo* rankInfo = <a class="code hl_function" href="../../d8/d60/a09310.html#acb913d5002329ec1ad98fe269f1ef08a">GetRankInfo</a>(rankId))</div>
<div class="line"><span class="lineno"> 2506</span>        rankInfo-&gt;SetBankMoneyPerDay(moneyPerDay);</div>
<div class="line"><span class="lineno"> 2507</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00804">GetRankInfo()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01383">HandleSetRankInfo()</a>.</p>

</div>
</div>
<a id="a0e78f93becad55338ec435dc46b9ccc4" name="a0e78f93becad55338ec435dc46b9ccc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e78f93becad55338ec435dc46b9ccc4">&#9670;&#160;</a></span>_SetRankBankTabRightsAndSlots()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_SetRankBankTabRightsAndSlots </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>rankId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d6f/a09306.html">GuildBankRightsAndSlots</a>&#160;</td>
          <td class="paramname"><em>rightsAndSlots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>saveToDB</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2510</span>{</div>
<div class="line"><span class="lineno"> 2511</span>    <span class="keywordflow">if</span> (rightsAndSlots.<a class="code hl_function" href="../../df/d6f/a09306.html#a6ba7c49480a1c5325d3702fb61d397cc">GetTabId</a>() &gt;= <a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>())</div>
<div class="line"><span class="lineno"> 2512</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2513</span> </div>
<div class="line"><span class="lineno"> 2514</span>    <span class="keywordflow">if</span> (RankInfo* rankInfo = <a class="code hl_function" href="../../d8/d60/a09310.html#acb913d5002329ec1ad98fe269f1ef08a">GetRankInfo</a>(rankId))</div>
<div class="line"><span class="lineno"> 2515</span>        rankInfo-&gt;SetBankTabSlotsAndRights(rightsAndSlots, saveToDB);</div>
<div class="line"><span class="lineno"> 2516</span>}</div>
<div class="ttc" id="aa09306_html_a6ba7c49480a1c5325d3702fb61d397cc"><div class="ttname"><a href="../../df/d6f/a09306.html#a6ba7c49480a1c5325d3702fb61d397cc">GuildBankRightsAndSlots::GetTabId</a></div><div class="ttdeci">uint8 GetTabId() const</div><div class="ttdef"><b>Definition:</b> Guild.h:279</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00816">_GetPurchasedTabsSize()</a>, <a class="el" href="../../#l00804">GetRankInfo()</a>, and <a class="el" href="../../#l00279">GuildBankRightsAndSlots::GetTabId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01383">HandleSetRankInfo()</a>, and <a class="el" href="../../#l01955">LoadBankRightFromDB()</a>.</p>

</div>
</div>
<a id="a86f4c4bcdb3d744f9438d53148830698" name="a86f4c4bcdb3d744f9438d53148830698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86f4c4bcdb3d744f9438d53148830698">&#9670;&#160;</a></span>_UpdateAccountsNumber()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_UpdateAccountsNumber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2443</span>{</div>
<div class="line"><span class="lineno"> 2444</span>    <span class="comment">// We use a set to be sure each element will be unique</span></div>
<div class="line"><span class="lineno"> 2445</span>    std::unordered_set&lt;uint32&gt; accountsIdSet;</div>
<div class="line"><span class="lineno"> 2446</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [guid, member] : <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>)</div>
<div class="line"><span class="lineno"> 2447</span>        accountsIdSet.insert(member.GetAccountId());</div>
<div class="line"><span class="lineno"> 2448</span> </div>
<div class="line"><span class="lineno"> 2449</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a4b93e8964749214369de1f19a9532e2d">m_accountsNumber</a> = accountsIdSet.size();</div>
<div class="line"><span class="lineno"> 2450</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00791">m_accountsNumber</a>, and <a class="el" href="../../#l00795">m_members</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02175">AddMember()</a>, <a class="el" href="../../#l02259">DeleteMember()</a>, and <a class="el" href="../../#l02042">Validate()</a>.</p>

</div>
</div>
<a id="af5cec12a703c5b02db7e4270c3b64c44" name="af5cec12a703c5b02db7e4270c3b64c44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5cec12a703c5b02db7e4270c3b64c44">&#9670;&#160;</a></span>_UpdateMemberWithdrawSlots()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::_UpdateMemberWithdrawSlots </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a>&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2584</span>{</div>
<div class="line"><span class="lineno"> 2585</span>    <span class="keywordflow">if</span> (Member* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(guid))</div>
<div class="line"><span class="lineno"> 2586</span>    {</div>
<div class="line"><span class="lineno"> 2587</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId = member-&gt;GetRankId();</div>
<div class="line"><span class="lineno"> 2588</span>        <span class="keywordflow">if</span> (rankId != <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a6534fcf172d7fbe4a762e0479601acd4a349203b98139f80965ab3d7e3379c36d">GR_GUILDMASTER</a></div>
<div class="line"><span class="lineno"> 2589</span>                &amp;&amp; member-&gt;GetBankWithdrawValue(tabId) &lt; <a class="code hl_function" href="../../d8/d60/a09310.html#a17cdedbc4d68713f4a2be9e44a0c2e77">_GetRankBankTabSlotsPerDay</a>(rankId, tabId))</div>
<div class="line"><span class="lineno"> 2590</span>            member-&gt;UpdateBankWithdrawValue(trans, tabId, 1);</div>
<div class="line"><span class="lineno"> 2591</span>    }</div>
<div class="line"><span class="lineno"> 2592</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02539">_GetRankBankTabSlotsPerDay()</a>, <a class="el" href="../../#l00381">GetMember()</a>, and <a class="el" href="../../#l00065">GR_GUILDMASTER</a>.</p>

</div>
</div>
<a id="ab4d511e35415a734e16f90f8a028d649" name="ab4d511e35415a734e16f90f8a028d649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4d511e35415a734e16f90f8a028d649">&#9670;&#160;</a></span>AddMember()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::AddMember </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>rankId</em> = <code><a class="el" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaaf6c0674ccaa8788c8fcfd8a600d925b6">GUILD_RANK_NONE</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2176</span>{</div>
<div class="line"><span class="lineno"> 2177</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = <a class="code hl_function" href="../../d4/da9/a04736.html#a354f7e7aaf4b12d6ad8fe8ef6291eaa0">ObjectAccessor::FindConnectedPlayer</a>(guid);</div>
<div class="line"><span class="lineno"> 2178</span>    <span class="comment">// Player cannot be in guild</span></div>
<div class="line"><span class="lineno"> 2179</span>    <span class="keywordflow">if</span> (player)</div>
<div class="line"><span class="lineno"> 2180</span>    {</div>
<div class="line"><span class="lineno"> 2181</span>        <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a1e02f2ed117ad96e188ed48c2507869b">GetGuildId</a>() != 0)</div>
<div class="line"><span class="lineno"> 2182</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2183</span>    }</div>
<div class="line"><span class="lineno"> 2184</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d4/d7f/a04124.html#a7a32c898b33d6163d83a32f46d58517c">sCharacterCache</a>-&gt;GetCharacterGuildIdByGuid(guid) != 0)</div>
<div class="line"><span class="lineno"> 2185</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2186</span> </div>
<div class="line"><span class="lineno"> 2187</span>    <span class="comment">// Remove all player signs from another petitions</span></div>
<div class="line"><span class="lineno"> 2188</span>    <span class="comment">// This will be prevent attempt to join many guilds and corrupt guild data integrity</span></div>
<div class="line"><span class="lineno"> 2189</span>    <a class="code hl_function" href="../../dc/d06/a08466.html#aaf857214fb14d5d563d9a30e5eae4cea">Player::RemovePetitionsAndSigns</a>(guid, <a class="code hl_enumvalue" href="../../d5/dfd/a04680.html#ggae6a6780680157e01b09a257d84b150c7abc99a46e1b6360a30376c4500292e27c">GUILD_CHARTER_TYPE</a>);</div>
<div class="line"><span class="lineno"> 2190</span> </div>
<div class="line"><span class="lineno"> 2191</span>    <a class="code hl_typedef" href="../../d4/df2/a08266.html#aa278d50613c05dc1333df5185a6993eb">ObjectGuid::LowType</a> lowguid = guid.<a class="code hl_function" href="../../d4/df2/a08266.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>();</div>
<div class="line"><span class="lineno"> 2192</span> </div>
<div class="line"><span class="lineno"> 2193</span>    <span class="comment">// If rank was not passed, assign lowest possible rank</span></div>
<div class="line"><span class="lineno"> 2194</span>    <span class="keywordflow">if</span> (rankId == <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaaf6c0674ccaa8788c8fcfd8a600d925b6">GUILD_RANK_NONE</a>)</div>
<div class="line"><span class="lineno"> 2195</span>        rankId = <a class="code hl_function" href="../../d8/d60/a09310.html#aed9d9581db0de4d6c73aa8858024e7a1">_GetLowestRankId</a>();</div>
<div class="line"><span class="lineno"> 2196</span> </div>
<div class="line"><span class="lineno"> 2197</span>    <span class="keyword">auto</span> [memberIt, isNew] = <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>.try_emplace(lowguid, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>, guid, rankId);</div>
<div class="line"><span class="lineno"> 2198</span>    <span class="keywordflow">if</span> (!isNew)</div>
<div class="line"><span class="lineno"> 2199</span>    {</div>
<div class="line"><span class="lineno"> 2200</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;Tried to add {} to guild &#39;{}&#39;. Member already exists.&quot;</span>, guid.<a class="code hl_function" href="../../d4/df2/a08266.html#a78f5fb47e3b35addf8984000c175125b">ToString</a>(), <a class="code hl_variable" href="../../d8/d60/a09310.html#a6aa6b5f1c7e4c81c8800dcc55f65b3c5">m_name</a>);</div>
<div class="line"><span class="lineno"> 2201</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2202</span>    }</div>
<div class="line"><span class="lineno"> 2203</span> </div>
<div class="line"><span class="lineno"> 2204</span>    Member&amp; member = memberIt-&gt;second;</div>
<div class="line"><span class="lineno"> 2205</span>    std::string name;</div>
<div class="line"><span class="lineno"> 2206</span>    <span class="keywordflow">if</span> (player)</div>
<div class="line"><span class="lineno"> 2207</span>    {</div>
<div class="line"><span class="lineno"> 2208</span>        player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a9186114e20c2bd7ab82ab69956748d6c">SetInGuild</a>(<a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 2209</span>        player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a1b7e621852223314574393fc114ca7d3">SetGuildIdInvited</a>(0);</div>
<div class="line"><span class="lineno"> 2210</span>        player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#aaf842b0d65d2b749be8611c6055de41e">SetRank</a>(rankId);</div>
<div class="line"><span class="lineno"> 2211</span>        member.SetStats(player);</div>
<div class="line"><span class="lineno"> 2212</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#a690d3fe379bd3a3fee5531930043e593">SendLoginInfo</a>(player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>());</div>
<div class="line"><span class="lineno"> 2213</span>        name = player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>();</div>
<div class="line"><span class="lineno"> 2214</span>    }</div>
<div class="line"><span class="lineno"> 2215</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2216</span>    {</div>
<div class="line"><span class="lineno"> 2217</span>        member.ResetFlags();</div>
<div class="line"><span class="lineno"> 2218</span> </div>
<div class="line"><span class="lineno"> 2219</span>        <span class="keywordtype">bool</span> ok = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2220</span>        <span class="comment">// xinef: sync query</span></div>
<div class="line"><span class="lineno"> 2221</span>        <span class="comment">// Player must exist</span></div>
<div class="line"><span class="lineno"> 2222</span>        <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a97a0db89d957b083b12457e11d5c904e">CHAR_SEL_CHAR_DATA_FOR_GUILD</a>);</div>
<div class="line"><span class="lineno"> 2223</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, guid.<a class="code hl_function" href="../../d4/df2/a08266.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>());</div>
<div class="line"><span class="lineno"> 2224</span>        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(stmt))</div>
<div class="line"><span class="lineno"> 2225</span>        {</div>
<div class="line"><span class="lineno"> 2226</span>            <a class="code hl_class" href="../../d4/dff/a05618.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 2227</span>            name = fields[0].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 2228</span>            member.SetStats(</div>
<div class="line"><span class="lineno"> 2229</span>                name,</div>
<div class="line"><span class="lineno"> 2230</span>                fields[1].Get&lt;uint8&gt;(),</div>
<div class="line"><span class="lineno"> 2231</span>                fields[2].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;(),</div>
<div class="line"><span class="lineno"> 2232</span>                fields[3].Get&lt;uint8&gt;(),</div>
<div class="line"><span class="lineno"> 2233</span>                fields[4].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a>&gt;(),</div>
<div class="line"><span class="lineno"> 2234</span>                fields[5].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno"> 2235</span> </div>
<div class="line"><span class="lineno"> 2236</span>            ok = member.CheckStats();</div>
<div class="line"><span class="lineno"> 2237</span>        }</div>
<div class="line"><span class="lineno"> 2238</span>        <span class="keywordflow">if</span> (!ok)</div>
<div class="line"><span class="lineno"> 2239</span>        {</div>
<div class="line"><span class="lineno"> 2240</span>            <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>.erase(memberIt);</div>
<div class="line"><span class="lineno"> 2241</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2242</span>        }</div>
<div class="line"><span class="lineno"> 2243</span>        <a class="code hl_define" href="../../d4/d7f/a04124.html#a7a32c898b33d6163d83a32f46d58517c">sCharacterCache</a>-&gt;UpdateCharacterGuildId(guid, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 2244</span>    }</div>
<div class="line"><span class="lineno"> 2245</span> </div>
<div class="line"><span class="lineno"> 2246</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans(<span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 2247</span>    member.SaveToDB(trans);</div>
<div class="line"><span class="lineno"> 2248</span> </div>
<div class="line"><span class="lineno"> 2249</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a86f4c4bcdb3d744f9438d53148830698">_UpdateAccountsNumber</a>();</div>
<div class="line"><span class="lineno"> 2250</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ae5ffb2824665b4297a0b5d6028169d50">_LogEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#aff19569a84ef44eea2acf4d6bcb86690ae5477237a42236638c4c00f45b99ad8c">GUILD_EVENT_LOG_JOIN_GUILD</a>, guid);</div>
<div class="line"><span class="lineno"> 2251</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da6649e0fbda75bed2ed56edaa163abd4d">GE_JOINED</a>, guid, name);</div>
<div class="line"><span class="lineno"> 2252</span> </div>
<div class="line"><span class="lineno"> 2253</span>    <span class="comment">// Call scripts if member was succesfully added (and stored to database)</span></div>
<div class="line"><span class="lineno"> 2254</span>    <a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnGuildAddMember(<span class="keyword">this</span>, player, rankId);</div>
<div class="line"><span class="lineno"> 2255</span> </div>
<div class="line"><span class="lineno"> 2256</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2257</span>}</div>
<div class="ttc" id="aa00035_html_a43832e3fa8508deb4ce43e520005fcd9"><div class="ttname"><a href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(filterType__,...)</div><div class="ttdef"><b>Definition:</b> Log.h:157</div></div>
<div class="ttc" id="aa00497_html_ad9c79638db63f1dfe2b085743b5cbf7b"><div class="ttname"><a href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a></div><div class="ttdeci">std::uint16_t uint16</div><div class="ttdef"><b>Definition:</b> Define.h:108</div></div>
<div class="ttc" id="aa02981_html_a06a0aa0a30a110150b9f76a3be9ee59da6649e0fbda75bed2ed56edaa163abd4d"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da6649e0fbda75bed2ed56edaa163abd4d">GE_JOINED</a></div><div class="ttdeci">@ GE_JOINED</div><div class="ttdef"><b>Definition:</b> Guild.h:150</div></div>
<div class="ttc" id="aa02981_html_a06a462b77a279ae7e2e901b2a8b42fbaaf6c0674ccaa8788c8fcfd8a600d925b6"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaaf6c0674ccaa8788c8fcfd8a600d925b6">GUILD_RANK_NONE</a></div><div class="ttdeci">@ GUILD_RANK_NONE</div><div class="ttdef"><b>Definition:</b> Guild.h:47</div></div>
<div class="ttc" id="aa02981_html_aff19569a84ef44eea2acf4d6bcb86690ae5477237a42236638c4c00f45b99ad8c"><div class="ttname"><a href="../../d7/d93/a02981.html#aff19569a84ef44eea2acf4d6bcb86690ae5477237a42236638c4c00f45b99ad8c">GUILD_EVENT_LOG_JOIN_GUILD</a></div><div class="ttdeci">@ GUILD_EVENT_LOG_JOIN_GUILD</div><div class="ttdef"><b>Definition:</b> Guild.h:211</div></div>
<div class="ttc" id="aa04124_html_a7a32c898b33d6163d83a32f46d58517c"><div class="ttname"><a href="../../d4/d7f/a04124.html#a7a32c898b33d6163d83a32f46d58517c">sCharacterCache</a></div><div class="ttdeci">#define sCharacterCache</div><div class="ttdef"><b>Definition:</b> CharacterCache.h:83</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a97a0db89d957b083b12457e11d5c904e"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a97a0db89d957b083b12457e11d5c904e">CHAR_SEL_CHAR_DATA_FOR_GUILD</a></div><div class="ttdeci">@ CHAR_SEL_CHAR_DATA_FOR_GUILD</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:181</div></div>
<div class="ttc" id="aa04589_html_ac6110b8d867b5f84f677555d07037acb"><div class="ttname"><a href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a></div><div class="ttdeci">std::shared_ptr&lt; PreparedResultSet &gt; PreparedQueryResult</div><div class="ttdef"><b>Definition:</b> DatabaseEnvFwd.h:45</div></div>
<div class="ttc" id="aa04680_html_ggae6a6780680157e01b09a257d84b150c7abc99a46e1b6360a30376c4500292e27c"><div class="ttname"><a href="../../d5/dfd/a04680.html#ggae6a6780680157e01b09a257d84b150c7abc99a46e1b6360a30376c4500292e27c">GUILD_CHARTER_TYPE</a></div><div class="ttdeci">@ GUILD_CHARTER_TYPE</div><div class="ttdef"><b>Definition:</b> WorldSession.h:222</div></div>
<div class="ttc" id="aa04736_html_a354f7e7aaf4b12d6ad8fe8ef6291eaa0"><div class="ttname"><a href="../../d4/da9/a04736.html#a354f7e7aaf4b12d6ad8fe8ef6291eaa0">ObjectAccessor::FindConnectedPlayer</a></div><div class="ttdeci">Player * FindConnectedPlayer(ObjectGuid const guid)</div><div class="ttdef"><b>Definition:</b> ObjectAccessor.cpp:257</div></div>
<div class="ttc" id="aa05618_html"><div class="ttname"><a href="../../d4/dff/a05618.html">Field</a></div><div class="ttdoc">Class used to access individual fields of database query result.</div><div class="ttdef"><b>Definition:</b> Field.h:98</div></div>
<div class="ttc" id="aa05618_html_aae507d21d3570ffdaf1643ba02946f01"><div class="ttname"><a href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Field::Get</a></div><div class="ttdeci">std::enable_if_t&lt; std::is_arithmetic_v&lt; T &gt;, T &gt; Get() const</div><div class="ttdef"><b>Definition:</b> Field.h:112</div></div>
<div class="ttc" id="aa08266_html_a78f5fb47e3b35addf8984000c175125b"><div class="ttname"><a href="../../d4/df2/a08266.html#a78f5fb47e3b35addf8984000c175125b">ObjectGuid::ToString</a></div><div class="ttdeci">std::string ToString() const</div><div class="ttdef"><b>Definition:</b> ObjectGuid.cpp:47</div></div>
<div class="ttc" id="aa08266_html_aa278d50613c05dc1333df5185a6993eb"><div class="ttname"><a href="../../d4/df2/a08266.html#aa278d50613c05dc1333df5185a6993eb">ObjectGuid::LowType</a></div><div class="ttdeci">uint32 LowType</div><div class="ttdef"><b>Definition:</b> ObjectGuid.h:122</div></div>
<div class="ttc" id="aa08466_html_a1b7e621852223314574393fc114ca7d3"><div class="ttname"><a href="../../dc/d06/a08466.html#a1b7e621852223314574393fc114ca7d3">Player::SetGuildIdInvited</a></div><div class="ttdeci">void SetGuildIdInvited(uint32 GuildId)</div><div class="ttdef"><b>Definition:</b> Player.h:1903</div></div>
<div class="ttc" id="aa08466_html_a1e02f2ed117ad96e188ed48c2507869b"><div class="ttname"><a href="../../dc/d06/a08466.html#a1e02f2ed117ad96e188ed48c2507869b">Player::GetGuildId</a></div><div class="ttdeci">uint32 GetGuildId() const</div><div class="ttdef"><b>Definition:</b> Player.h:1904</div></div>
<div class="ttc" id="aa08466_html_a6ab11ca64cde7c5cde1f53998a6f7253"><div class="ttname"><a href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">Player::GetSession</a></div><div class="ttdeci">WorldSession * GetSession() const</div><div class="ttdef"><b>Definition:</b> Player.h:2001</div></div>
<div class="ttc" id="aa08466_html_a9186114e20c2bd7ab82ab69956748d6c"><div class="ttname"><a href="../../dc/d06/a08466.html#a9186114e20c2bd7ab82ab69956748d6c">Player::SetInGuild</a></div><div class="ttdeci">void SetInGuild(uint32 GuildId)</div><div class="ttdef"><b>Definition:</b> Player.h:1895</div></div>
<div class="ttc" id="aa08466_html_aaf842b0d65d2b749be8611c6055de41e"><div class="ttname"><a href="../../dc/d06/a08466.html#aaf842b0d65d2b749be8611c6055de41e">Player::SetRank</a></div><div class="ttdeci">void SetRank(uint8 rankId)</div><div class="ttdef"><b>Definition:</b> Player.h:1901</div></div>
<div class="ttc" id="aa08466_html_aaf857214fb14d5d563d9a30e5eae4cea"><div class="ttname"><a href="../../dc/d06/a08466.html#aaf857214fb14d5d563d9a30e5eae4cea">Player::RemovePetitionsAndSigns</a></div><div class="ttdeci">static void RemovePetitionsAndSigns(ObjectGuid guid, uint32 type)</div><div class="ttdef"><b>Definition:</b> Player.cpp:10140</div></div>
<div class="ttc" id="aa09310_html_a690d3fe379bd3a3fee5531930043e593"><div class="ttname"><a href="../../d8/d60/a09310.html#a690d3fe379bd3a3fee5531930043e593">Guild::SendLoginInfo</a></div><div class="ttdeci">void SendLoginInfo(WorldSession *session)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:1878</div></div>
<div class="ttc" id="aa09310_html_a6aa6b5f1c7e4c81c8800dcc55f65b3c5"><div class="ttname"><a href="../../d8/d60/a09310.html#a6aa6b5f1c7e4c81c8800dcc55f65b3c5">Guild::m_name</a></div><div class="ttdeci">std::string m_name</div><div class="ttdef"><b>Definition:</b> Guild.h:784</div></div>
<div class="ttc" id="aa09310_html_a86f4c4bcdb3d744f9438d53148830698"><div class="ttname"><a href="../../d8/d60/a09310.html#a86f4c4bcdb3d744f9438d53148830698">Guild::_UpdateAccountsNumber</a></div><div class="ttdeci">void _UpdateAccountsNumber()</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2442</div></div>
<div class="ttc" id="aa09310_html_ac945bc85b6372915ef1be2c53b5c70b6"><div class="ttname"><a href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">Guild::_BroadcastEvent</a></div><div class="ttdeci">void _BroadcastEvent(GuildEvents guildEvent, ObjectGuid guid=ObjectGuid::Empty, Optional&lt; std::string_view &gt; param1={}, Optional&lt; std::string_view &gt; param2={}, Optional&lt; std::string_view &gt; param3={}) const</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2799</div></div>
<div class="ttc" id="aa09310_html_ae5ffb2824665b4297a0b5d6028169d50"><div class="ttname"><a href="../../d8/d60/a09310.html#ae5ffb2824665b4297a0b5d6028169d50">Guild::_LogEvent</a></div><div class="ttdeci">void _LogEvent(GuildEventLogTypes eventType, ObjectGuid playerGuid1, ObjectGuid playerGuid2=ObjectGuid::Empty, uint8 newRank=0)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2607</div></div>
<div class="ttc" id="aa09310_html_aed9d9581db0de4d6c73aa8858024e7a1"><div class="ttname"><a href="../../d8/d60/a09310.html#aed9d9581db0de4d6c73aa8858024e7a1">Guild::_GetLowestRankId</a></div><div class="ttdeci">uint8 _GetLowestRankId() const</div><div class="ttdef"><b>Definition:</b> Guild.h:814</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l00814">_GetLowestRankId()</a>, <a class="el" href="../../#l02607">_LogEvent()</a>, <a class="el" href="../../#l02442">_UpdateAccountsNumber()</a>, <a class="el" href="../../#l00181">CHAR_SEL_CHAR_DATA_FOR_GUILD</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00630">Guild::Member::CheckStats()</a>, <a class="el" href="../../#l00257">ObjectAccessor::FindConnectedPlayer()</a>, <a class="el" href="../../#l00150">GE_JOINED</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00145">ObjectGuid::GetCounter()</a>, <a class="el" href="../../#l01904">Player::GetGuildId()</a>, <a class="el" href="../../#l00463">WorldObject::GetName()</a>, <a class="el" href="../../#l02001">Player::GetSession()</a>, <a class="el" href="../../#l00222">GUILD_CHARTER_TYPE</a>, <a class="el" href="../../#l00211">GUILD_EVENT_LOG_JOIN_GUILD</a>, <a class="el" href="../../#l00047">GUILD_RANK_NONE</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00783">m_id</a>, <a class="el" href="../../#l00795">m_members</a>, <a class="el" href="../../#l00784">m_name</a>, <a class="el" href="../../#l10140">Player::RemovePetitionsAndSigns()</a>, <a class="el" href="../../#l00322">Guild::Member::ResetFlags()</a>, <a class="el" href="../../#l00587">Guild::Member::SaveToDB()</a>, <a class="el" href="../../#l00083">sCharacterCache</a>, <a class="el" href="../../#l01878">SendLoginInfo()</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, <a class="el" href="../../#l01903">Player::SetGuildIdInvited()</a>, <a class="el" href="../../#l01895">Player::SetInGuild()</a>, <a class="el" href="../../#l01901">Player::SetRank()</a>, <a class="el" href="../../#l00522">Guild::Member::SetStats()</a>, <a class="el" href="../../#l00709">sScriptMgr</a>, and <a class="el" href="../../#l00047">ObjectGuid::ToString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01049">Create()</a>, <a class="el" href="../../#l01495">HandleAcceptMember()</a>, <a class="el" href="../../#l00124">guild_commandscript::HandleGuildInviteCommand()</a>, and <a class="el" href="../../#l00641">WorldSession::HandleTurnInPetitionOpcode()</a>.</p>

</div>
</div>
<a id="a16a63bd6373e87c43bf74572f5c4f0ca" name="a16a63bd6373e87c43bf74572f5c4f0ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16a63bd6373e87c43bf74572f5c4f0ca">&#9670;&#160;</a></span>BroadcastPacket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::BroadcastPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dc5/a10766.html">WorldPacket</a> const *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2136</span>{</div>
<div class="line"><span class="lineno"> 2137</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [guid, member] : <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>)</div>
<div class="line"><span class="lineno"> 2138</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = member.FindPlayer())</div>
<div class="line"><span class="lineno"> 2139</span>            player-&gt;GetSession()-&gt;SendPacket(packet);</div>
<div class="line"><span class="lineno"> 2140</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00795">m_members</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02799">_BroadcastEvent()</a>, and <a class="el" href="../../#l00502">Guild::BankTab::SendText()</a>.</p>

</div>
</div>
<a id="a4b7e4df32defe814cba1a0be525e8beb" name="a4b7e4df32defe814cba1a0be525e8beb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b7e4df32defe814cba1a0be525e8beb">&#9670;&#160;</a></span>BroadcastPacketToRank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::BroadcastPacketToRank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dc5/a10766.html">WorldPacket</a> const *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>rankId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2128</span>{</div>
<div class="line"><span class="lineno"> 2129</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [guid, member] : <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>)</div>
<div class="line"><span class="lineno"> 2130</span>        <span class="keywordflow">if</span> (member.IsRank(rankId))</div>
<div class="line"><span class="lineno"> 2131</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = member.FindPlayer())</div>
<div class="line"><span class="lineno"> 2132</span>                player-&gt;GetSession()-&gt;SendPacket(packet);</div>
<div class="line"><span class="lineno"> 2133</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00795">m_members</a>.</p>

</div>
</div>
<a id="a5cead18a64e4e8077a0ed65de51f7f59" name="a5cead18a64e4e8077a0ed65de51f7f59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cead18a64e4e8077a0ed65de51f7f59">&#9670;&#160;</a></span>BroadcastToGuild()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::BroadcastToGuild </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>officerOnly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>language</em> = <code><a class="el" href="../../d0/dbd/a02771.html#a315ca917ad583797f709ea477dd28705a15adb0ab094ffe068674ecc6ea720d3a">LANG_UNIVERSAL</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2115</span>{</div>
<div class="line"><span class="lineno"> 2116</span>    <span class="keywordflow">if</span> (session &amp;&amp; session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>() &amp;&amp; <a class="code hl_function" href="../../d8/d60/a09310.html#ada75072cb9454accd8b5e859615a6b88">_HasRankRight</a>(session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>(), officerOnly ? <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a448d0ff1b08f751a9339dff1cd8b8e74">GR_RIGHT_OFFCHATSPEAK</a> : <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a31d51868ba86650a2177d9a9e55fb21e">GR_RIGHT_GCHATSPEAK</a>))</div>
<div class="line"><span class="lineno"> 2117</span>    {</div>
<div class="line"><span class="lineno"> 2118</span>        <a class="code hl_class" href="../../dc/dc5/a10766.html">WorldPacket</a> data;</div>
<div class="line"><span class="lineno"> 2119</span>        <a class="code hl_function" href="../../d4/d99/a07362.html#a3295cee708d267aac165f9ee55d2e615">ChatHandler::BuildChatPacket</a>(data, officerOnly ? <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a249e68b260c9857b5d0d4cf4697fae16aa16f87e02db2c6203c23cd4f94b1a67c">CHAT_MSG_OFFICER</a> : <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a249e68b260c9857b5d0d4cf4697fae16a830d06520a1ea15d80dd30f304971e47">CHAT_MSG_GUILD</a>, <a class="code hl_enumeration" href="../../d0/dbd/a02771.html#a315ca917ad583797f709ea477dd28705">Language</a>(language), session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>(), <span class="keyword">nullptr</span>, msg);</div>
<div class="line"><span class="lineno"> 2120</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [guid, member] : <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>)</div>
<div class="line"><span class="lineno"> 2121</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = member.FindPlayer())</div>
<div class="line"><span class="lineno"> 2122</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d60/a09310.html#ada75072cb9454accd8b5e859615a6b88">_HasRankRight</a>(player, officerOnly ? <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a5e1a484f0ba139d1a81e4ee542d91a9f">GR_RIGHT_OFFCHATLISTEN</a> : <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a613b1d285b8e4bfd5b302d455a234e8b">GR_RIGHT_GCHATLISTEN</a>) &amp;&amp; !player-&gt;GetSocial()-&gt;HasIgnore(session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()))</div>
<div class="line"><span class="lineno"> 2123</span>                    player-&gt;GetSession()-&gt;SendPacket(&amp;data);</div>
<div class="line"><span class="lineno"> 2124</span>    }</div>
<div class="line"><span class="lineno"> 2125</span>}</div>
<div class="ttc" id="aa02771_html_a249e68b260c9857b5d0d4cf4697fae16a830d06520a1ea15d80dd30f304971e47"><div class="ttname"><a href="../../d0/dbd/a02771.html#a249e68b260c9857b5d0d4cf4697fae16a830d06520a1ea15d80dd30f304971e47">CHAT_MSG_GUILD</a></div><div class="ttdeci">@ CHAT_MSG_GUILD</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3156</div></div>
<div class="ttc" id="aa02771_html_a249e68b260c9857b5d0d4cf4697fae16aa16f87e02db2c6203c23cd4f94b1a67c"><div class="ttname"><a href="../../d0/dbd/a02771.html#a249e68b260c9857b5d0d4cf4697fae16aa16f87e02db2c6203c23cd4f94b1a67c">CHAT_MSG_OFFICER</a></div><div class="ttdeci">@ CHAT_MSG_OFFICER</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3157</div></div>
<div class="ttc" id="aa02771_html_a315ca917ad583797f709ea477dd28705"><div class="ttname"><a href="../../d0/dbd/a02771.html#a315ca917ad583797f709ea477dd28705">Language</a></div><div class="ttdeci">Language</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:734</div></div>
<div class="ttc" id="aa02981_html_abe65a5c09114479eec37ae55f24aaaa7a448d0ff1b08f751a9339dff1cd8b8e74"><div class="ttname"><a href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a448d0ff1b08f751a9339dff1cd8b8e74">GR_RIGHT_OFFCHATSPEAK</a></div><div class="ttdeci">@ GR_RIGHT_OFFCHATSPEAK</div><div class="ttdef"><b>Definition:</b> Guild.h:80</div></div>
<div class="ttc" id="aa02981_html_abe65a5c09114479eec37ae55f24aaaa7a5e1a484f0ba139d1a81e4ee542d91a9f"><div class="ttname"><a href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a5e1a484f0ba139d1a81e4ee542d91a9f">GR_RIGHT_OFFCHATLISTEN</a></div><div class="ttdeci">@ GR_RIGHT_OFFCHATLISTEN</div><div class="ttdef"><b>Definition:</b> Guild.h:79</div></div>
<div class="ttc" id="aa07362_html_a3295cee708d267aac165f9ee55d2e615"><div class="ttname"><a href="../../d4/d99/a07362.html#a3295cee708d267aac165f9ee55d2e615">ChatHandler::BuildChatPacket</a></div><div class="ttdeci">static std::size_t BuildChatPacket(WorldPacket &amp;data, ChatMsg chatType, Language language, ObjectGuid senderGUID, ObjectGuid receiverGUID, std::string_view message, uint8 chatTag, std::string const &amp;senderName=&quot;&quot;, std::string const &amp;receiverName=&quot;&quot;, uint32 achievementId=0, bool gmMessage=false, std::string const &amp;channelName=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> Chat.cpp:264</div></div>
<div class="ttc" id="aa09310_html_ada75072cb9454accd8b5e859615a6b88"><div class="ttname"><a href="../../d8/d60/a09310.html#ada75072cb9454accd8b5e859615a6b88">Guild::_HasRankRight</a></div><div class="ttdeci">bool _HasRankRight(Player *player, uint32 right) const</div><div class="ttdef"><b>Definition:</b> Guild.h:806</div></div>
<div class="ttc" id="aa10766_html"><div class="ttname"><a href="../../dc/dc5/a10766.html">WorldPacket</a></div><div class="ttdef"><b>Definition:</b> WorldPacket.h:26</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00806">_HasRankRight()</a>, <a class="el" href="../../#l00264">ChatHandler::BuildChatPacket()</a>, <a class="el" href="../../#l03156">CHAT_MSG_GUILD</a>, <a class="el" href="../../#l03157">CHAT_MSG_OFFICER</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00077">GR_RIGHT_GCHATLISTEN</a>, <a class="el" href="../../#l00078">GR_RIGHT_GCHATSPEAK</a>, <a class="el" href="../../#l00079">GR_RIGHT_OFFCHATLISTEN</a>, <a class="el" href="../../#l00080">GR_RIGHT_OFFCHATSPEAK</a>, and <a class="el" href="../../#l00795">m_members</a>.</p>

</div>
</div>
<a id="a4210800103f4222526827b0e544d446f" name="a4210800103f4222526827b0e544d446f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4210800103f4222526827b0e544d446f">&#9670;&#160;</a></span>BroadcastWorker()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Do &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::BroadcastWorker </td>
          <td>(</td>
          <td class="paramtype">Do &amp;&#160;</td>
          <td class="paramname"><em>_do</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d06/a08466.html">Player</a> *&#160;</td>
          <td class="paramname"><em>except</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  752</span>    {</div>
<div class="line"><span class="lineno">  753</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; m_member : <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>)</div>
<div class="line"><span class="lineno">  754</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = m_member.second.FindPlayer())</div>
<div class="line"><span class="lineno">  755</span>                <span class="keywordflow">if</span> (player != except)</div>
<div class="line"><span class="lineno">  756</span>                    _do(player);</div>
<div class="line"><span class="lineno">  757</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00795">m_members</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00701">AchievementMgr::SendAchievementEarned()</a>.</p>

</div>
</div>
<a id="a8687e8ccceee50ef72dcb0bef0008cc5" name="a8687e8ccceee50ef72dcb0bef0008cc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8687e8ccceee50ef72dcb0bef0008cc5">&#9670;&#160;</a></span>ChangeMemberRank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::ChangeMemberRank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>newRank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2321</span>{</div>
<div class="line"><span class="lineno"> 2322</span>    <span class="keywordflow">if</span> (newRank &lt;= <a class="code hl_function" href="../../d8/d60/a09310.html#aed9d9581db0de4d6c73aa8858024e7a1">_GetLowestRankId</a>())                    <span class="comment">// Validate rank (allow only existing ranks)</span></div>
<div class="line"><span class="lineno"> 2323</span>        <span class="keywordflow">if</span> (Member* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(guid))</div>
<div class="line"><span class="lineno"> 2324</span>        {</div>
<div class="line"><span class="lineno"> 2325</span>            member-&gt;ChangeRank(newRank);</div>
<div class="line"><span class="lineno"> 2326</span> </div>
<div class="line"><span class="lineno"> 2327</span>            <span class="keywordflow">if</span> (newRank == <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a6534fcf172d7fbe4a762e0479601acd4a349203b98139f80965ab3d7e3379c36d">GR_GUILDMASTER</a>)</div>
<div class="line"><span class="lineno"> 2328</span>            {</div>
<div class="line"><span class="lineno"> 2329</span>                <a class="code hl_variable" href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">m_leaderGuid</a> = guid;</div>
<div class="line"><span class="lineno"> 2330</span> </div>
<div class="line"><span class="lineno"> 2331</span>                <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a71582162036e20d868c44c091f2c4500">CHAR_UPD_GUILD_LEADER</a>);</div>
<div class="line"><span class="lineno"> 2332</span>                stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">m_leaderGuid</a>.<a class="code hl_function" href="../../d4/df2/a08266.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>());</div>
<div class="line"><span class="lineno"> 2333</span>                stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 2334</span>                <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno"> 2335</span>            }</div>
<div class="line"><span class="lineno"> 2336</span> </div>
<div class="line"><span class="lineno"> 2337</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2338</span>        }</div>
<div class="line"><span class="lineno"> 2339</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2340</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00814">_GetLowestRankId()</a>, <a class="el" href="../../#l00170">CHAR_UPD_GUILD_LEADER</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00145">ObjectGuid::GetCounter()</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00065">GR_GUILDMASTER</a>, <a class="el" href="../../#l00783">m_id</a>, <a class="el" href="../../#l00785">m_leaderGuid</a>, and <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00175">guild_commandscript::HandleGuildRankCommand()</a>.</p>

</div>
</div>
<a id="a8e1dca0dcdc6d8d023e5cd18e656ff7b" name="a8e1dca0dcdc6d8d023e5cd18e656ff7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e1dca0dcdc6d8d023e5cd18e656ff7b">&#9670;&#160;</a></span>Create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::Create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d06/a08466.html">Player</a> *&#160;</td>
          <td class="paramname"><em>pLeader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1050</span>{</div>
<div class="line"><span class="lineno"> 1051</span>    <span class="comment">// Check if guild with such name already exists</span></div>
<div class="line"><span class="lineno"> 1052</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d0/daf/a02972.html#aef171903a38e30c347ff11360f682f81">sGuildMgr</a>-&gt;GetGuildByName(name))</div>
<div class="line"><span class="lineno"> 1053</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1054</span> </div>
<div class="line"><span class="lineno"> 1055</span>    <a class="code hl_class" href="../../d9/d7c/a10810.html">WorldSession</a>* pLeaderSession = pLeader-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>();</div>
<div class="line"><span class="lineno"> 1056</span>    <span class="keywordflow">if</span> (!pLeaderSession)</div>
<div class="line"><span class="lineno"> 1057</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1058</span> </div>
<div class="line"><span class="lineno"> 1059</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a> = <a class="code hl_define" href="../../d0/daf/a02972.html#aef171903a38e30c347ff11360f682f81">sGuildMgr</a>-&gt;GenerateGuildId();</div>
<div class="line"><span class="lineno"> 1060</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">m_leaderGuid</a> = pLeader-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>();</div>
<div class="line"><span class="lineno"> 1061</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a6aa6b5f1c7e4c81c8800dcc55f65b3c5">m_name</a> = name;</div>
<div class="line"><span class="lineno"> 1062</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#ae3ece52e40aa4cc373116b7c32fbb761">m_info</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 1063</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#ab8ca3dad15779135af492a0b26597868">m_motd</a> = <span class="stringliteral">&quot;No message set.&quot;</span>;</div>
<div class="line"><span class="lineno"> 1064</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a148e3da6e65ca7a0724799ad8b09091f">m_bankMoney</a> = 0;</div>
<div class="line"><span class="lineno"> 1065</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a4e19285fd1730d3515e69a971918f410">m_createdDate</a> = <a class="code hl_function" href="../../d0/dfa/a04759.html#adbe1785d1327dedf2ac403b7cc8e99c2">GameTime::GetGameTime</a>().count();</div>
<div class="line"><span class="lineno"> 1066</span> </div>
<div class="line"><span class="lineno"> 1067</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;GUILD: creating guild [{}] for leader {} ({})&quot;</span>,</div>
<div class="line"><span class="lineno"> 1068</span>              <a class="code hl_variable" href="../../d8/d60/a09310.html#a6aa6b5f1c7e4c81c8800dcc55f65b3c5">m_name</a>, pLeader-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>(), <a class="code hl_variable" href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">m_leaderGuid</a>.<a class="code hl_function" href="../../d4/df2/a08266.html#a78f5fb47e3b35addf8984000c175125b">ToString</a>());</div>
<div class="line"><span class="lineno"> 1069</span> </div>
<div class="line"><span class="lineno"> 1070</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.BeginTransaction();</div>
<div class="line"><span class="lineno"> 1071</span> </div>
<div class="line"><span class="lineno"> 1072</span>    <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7aa74b9d4701f39d2f032796aa03ad41b8">CHAR_DEL_GUILD_MEMBERS</a>);</div>
<div class="line"><span class="lineno"> 1073</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 1074</span>    trans-&gt;Append(stmt);</div>
<div class="line"><span class="lineno"> 1075</span> </div>
<div class="line"><span class="lineno"> 1076</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> index = 0;</div>
<div class="line"><span class="lineno"> 1077</span>    stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a6c7295e2064c07f435c2743037c37e7b">CHAR_INS_GUILD</a>);</div>
<div class="line"><span class="lineno"> 1078</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(  index, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 1079</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(++index, <a class="code hl_variable" href="../../d8/d60/a09310.html#a6aa6b5f1c7e4c81c8800dcc55f65b3c5">m_name</a>);</div>
<div class="line"><span class="lineno"> 1080</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(++index, <a class="code hl_variable" href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">m_leaderGuid</a>.<a class="code hl_function" href="../../d4/df2/a08266.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>());</div>
<div class="line"><span class="lineno"> 1081</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(++index, <a class="code hl_variable" href="../../d8/d60/a09310.html#ae3ece52e40aa4cc373116b7c32fbb761">m_info</a>);</div>
<div class="line"><span class="lineno"> 1082</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(++index, <a class="code hl_variable" href="../../d8/d60/a09310.html#ab8ca3dad15779135af492a0b26597868">m_motd</a>);</div>
<div class="line"><span class="lineno"> 1083</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(++index, <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(<a class="code hl_variable" href="../../d8/d60/a09310.html#a4e19285fd1730d3515e69a971918f410">m_createdDate</a>));</div>
<div class="line"><span class="lineno"> 1084</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(++index, <a class="code hl_variable" href="../../d8/d60/a09310.html#ada0bd10a22291059151d9ef42b1e3bba">m_emblemInfo</a>.<a class="code hl_function" href="../../dc/d65/a09302.html#a0e6d684542535d537bdeba4104b7a18d">GetStyle</a>());</div>
<div class="line"><span class="lineno"> 1085</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(++index, <a class="code hl_variable" href="../../d8/d60/a09310.html#ada0bd10a22291059151d9ef42b1e3bba">m_emblemInfo</a>.<a class="code hl_function" href="../../dc/d65/a09302.html#a15108f3a2a93ebbc01111672dd238d63">GetColor</a>());</div>
<div class="line"><span class="lineno"> 1086</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(++index, <a class="code hl_variable" href="../../d8/d60/a09310.html#ada0bd10a22291059151d9ef42b1e3bba">m_emblemInfo</a>.<a class="code hl_function" href="../../dc/d65/a09302.html#a7a791a3f467e72a3e8e941e3179d7709">GetBorderStyle</a>());</div>
<div class="line"><span class="lineno"> 1087</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(++index, <a class="code hl_variable" href="../../d8/d60/a09310.html#ada0bd10a22291059151d9ef42b1e3bba">m_emblemInfo</a>.<a class="code hl_function" href="../../dc/d65/a09302.html#ac5ea55d7fd129524630dd0d486b457a7">GetBorderColor</a>());</div>
<div class="line"><span class="lineno"> 1088</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(++index, <a class="code hl_variable" href="../../d8/d60/a09310.html#ada0bd10a22291059151d9ef42b1e3bba">m_emblemInfo</a>.<a class="code hl_function" href="../../dc/d65/a09302.html#a66da2cd78cee9e929ff0f2439caed0e5">GetBackgroundColor</a>());</div>
<div class="line"><span class="lineno"> 1089</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(++index, <a class="code hl_variable" href="../../d8/d60/a09310.html#a148e3da6e65ca7a0724799ad8b09091f">m_bankMoney</a>);</div>
<div class="line"><span class="lineno"> 1090</span>    trans-&gt;Append(stmt);</div>
<div class="line"><span class="lineno"> 1091</span> </div>
<div class="line"><span class="lineno"> 1092</span>    <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.CommitTransaction(trans);</div>
<div class="line"><span class="lineno"> 1093</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#aee9f5a339a9073219a29f634072c2f7e">_CreateDefaultGuildRanks</a>(pLeaderSession-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38ff97828c0efe89c092f5772c543564">GetSessionDbLocaleIndex</a>()); <span class="comment">// Create default ranks</span></div>
<div class="line"><span class="lineno"> 1094</span>    <span class="keywordtype">bool</span> ret = <a class="code hl_function" href="../../d8/d60/a09310.html#ab4d511e35415a734e16f90f8a028d649">AddMember</a>(<a class="code hl_variable" href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">m_leaderGuid</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a6534fcf172d7fbe4a762e0479601acd4a349203b98139f80965ab3d7e3379c36d">GR_GUILDMASTER</a>);                  <span class="comment">// Add guildmaster</span></div>
<div class="line"><span class="lineno"> 1095</span> </div>
<div class="line"><span class="lineno"> 1096</span>    <span class="keywordflow">for</span> (<span class="keywordtype">short</span> i = 0; i &lt; static_cast&lt;short&gt;(<a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41afd23beaadaae265b8ed12a1a5e48c6dc">CONFIG_GUILD_BANK_INITIAL_TABS</a>)); i++)</div>
<div class="line"><span class="lineno"> 1097</span>    {</div>
<div class="line"><span class="lineno"> 1098</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#a7ade211c2cf31d862d7d0db4a237aa17">_CreateNewBankTab</a>();</div>
<div class="line"><span class="lineno"> 1099</span>    }</div>
<div class="line"><span class="lineno"> 1100</span> </div>
<div class="line"><span class="lineno"> 1101</span>    <span class="keywordflow">if</span> (ret)</div>
<div class="line"><span class="lineno"> 1102</span>        <a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnGuildCreate(<span class="keyword">this</span>, pLeader, <a class="code hl_variable" href="../../d8/d60/a09310.html#a6aa6b5f1c7e4c81c8800dcc55f65b3c5">m_name</a>);</div>
<div class="line"><span class="lineno"> 1103</span> </div>
<div class="line"><span class="lineno"> 1104</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1105</span>}</div>
<div class="ttc" id="aa02972_html_aef171903a38e30c347ff11360f682f81"><div class="ttname"><a href="../../d0/daf/a02972.html#aef171903a38e30c347ff11360f682f81">sGuildMgr</a></div><div class="ttdeci">#define sGuildMgr</div><div class="ttdef"><b>Definition:</b> GuildMgr.h:51</div></div>
<div class="ttc" id="aa03317_html_a17aac4c166ebe43e3b8fdccf9e012e41afd23beaadaae265b8ed12a1a5e48c6dc"><div class="ttname"><a href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41afd23beaadaae265b8ed12a1a5e48c6dc">CONFIG_GUILD_BANK_INITIAL_TABS</a></div><div class="ttdeci">@ CONFIG_GUILD_BANK_INITIAL_TABS</div><div class="ttdef"><b>Definition:</b> IWorld.h:404</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a6c7295e2064c07f435c2743037c37e7b"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a6c7295e2064c07f435c2743037c37e7b">CHAR_INS_GUILD</a></div><div class="ttdeci">@ CHAR_INS_GUILD</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:140</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7aa74b9d4701f39d2f032796aa03ad41b8"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7aa74b9d4701f39d2f032796aa03ad41b8">CHAR_DEL_GUILD_MEMBERS</a></div><div class="ttdeci">@ CHAR_DEL_GUILD_MEMBERS</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:145</div></div>
<div class="ttc" id="aa04681_html_ga05dfb35c344e5b947a19e4284e7f5fa7"><div class="ttname"><a href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a></div><div class="ttdeci">#define sWorld</div><div class="ttdef"><b>Definition:</b> World.h:442</div></div>
<div class="ttc" id="aa04759_html_adbe1785d1327dedf2ac403b7cc8e99c2"><div class="ttname"><a href="../../d0/dfa/a04759.html#adbe1785d1327dedf2ac403b7cc8e99c2">GameTime::GetGameTime</a></div><div class="ttdeci">Seconds GetGameTime()</div><div class="ttdef"><b>Definition:</b> GameTime.cpp:38</div></div>
<div class="ttc" id="aa09302_html_a0e6d684542535d537bdeba4104b7a18d"><div class="ttname"><a href="../../dc/d65/a09302.html#a0e6d684542535d537bdeba4104b7a18d">EmblemInfo::GetStyle</a></div><div class="ttdeci">uint32 GetStyle() const</div><div class="ttdef"><b>Definition:</b> Guild.h:247</div></div>
<div class="ttc" id="aa09302_html_a15108f3a2a93ebbc01111672dd238d63"><div class="ttname"><a href="../../dc/d65/a09302.html#a15108f3a2a93ebbc01111672dd238d63">EmblemInfo::GetColor</a></div><div class="ttdeci">uint32 GetColor() const</div><div class="ttdef"><b>Definition:</b> Guild.h:248</div></div>
<div class="ttc" id="aa09302_html_a66da2cd78cee9e929ff0f2439caed0e5"><div class="ttname"><a href="../../dc/d65/a09302.html#a66da2cd78cee9e929ff0f2439caed0e5">EmblemInfo::GetBackgroundColor</a></div><div class="ttdeci">uint32 GetBackgroundColor() const</div><div class="ttdef"><b>Definition:</b> Guild.h:251</div></div>
<div class="ttc" id="aa09302_html_a7a791a3f467e72a3e8e941e3179d7709"><div class="ttname"><a href="../../dc/d65/a09302.html#a7a791a3f467e72a3e8e941e3179d7709">EmblemInfo::GetBorderStyle</a></div><div class="ttdeci">uint32 GetBorderStyle() const</div><div class="ttdef"><b>Definition:</b> Guild.h:249</div></div>
<div class="ttc" id="aa09302_html_ac5ea55d7fd129524630dd0d486b457a7"><div class="ttname"><a href="../../dc/d65/a09302.html#ac5ea55d7fd129524630dd0d486b457a7">EmblemInfo::GetBorderColor</a></div><div class="ttdeci">uint32 GetBorderColor() const</div><div class="ttdef"><b>Definition:</b> Guild.h:250</div></div>
<div class="ttc" id="aa09310_html_a7ade211c2cf31d862d7d0db4a237aa17"><div class="ttname"><a href="../../d8/d60/a09310.html#a7ade211c2cf31d862d7d0db4a237aa17">Guild::_CreateNewBankTab</a></div><div class="ttdeci">void _CreateNewBankTab()</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2381</div></div>
<div class="ttc" id="aa09310_html_ab4d511e35415a734e16f90f8a028d649"><div class="ttname"><a href="../../d8/d60/a09310.html#ab4d511e35415a734e16f90f8a028d649">Guild::AddMember</a></div><div class="ttdeci">bool AddMember(ObjectGuid guid, uint8 rankId=GUILD_RANK_NONE)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2175</div></div>
<div class="ttc" id="aa09310_html_ab8ca3dad15779135af492a0b26597868"><div class="ttname"><a href="../../d8/d60/a09310.html#ab8ca3dad15779135af492a0b26597868">Guild::m_motd</a></div><div class="ttdeci">std::string m_motd</div><div class="ttdef"><b>Definition:</b> Guild.h:786</div></div>
<div class="ttc" id="aa09310_html_ada0bd10a22291059151d9ef42b1e3bba"><div class="ttname"><a href="../../d8/d60/a09310.html#ada0bd10a22291059151d9ef42b1e3bba">Guild::m_emblemInfo</a></div><div class="ttdeci">EmblemInfo m_emblemInfo</div><div class="ttdef"><b>Definition:</b> Guild.h:790</div></div>
<div class="ttc" id="aa09310_html_ae3ece52e40aa4cc373116b7c32fbb761"><div class="ttname"><a href="../../d8/d60/a09310.html#ae3ece52e40aa4cc373116b7c32fbb761">Guild::m_info</a></div><div class="ttdeci">std::string m_info</div><div class="ttdef"><b>Definition:</b> Guild.h:787</div></div>
<div class="ttc" id="aa09310_html_aee9f5a339a9073219a29f634072c2f7e"><div class="ttname"><a href="../../d8/d60/a09310.html#aee9f5a339a9073219a29f634072c2f7e">Guild::_CreateDefaultGuildRanks</a></div><div class="ttdeci">void _CreateDefaultGuildRanks(LocaleConstant loc)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2405</div></div>
<div class="ttc" id="aa10810_html"><div class="ttname"><a href="../../d9/d7c/a10810.html">WorldSession</a></div><div class="ttdoc">Player session in the World.</div><div class="ttdef"><b>Definition:</b> WorldSession.h:330</div></div>
<div class="ttc" id="aa10810_html_a38ff97828c0efe89c092f5772c543564"><div class="ttname"><a href="../../d9/d7c/a10810.html#a38ff97828c0efe89c092f5772c543564">WorldSession::GetSessionDbLocaleIndex</a></div><div class="ttdeci">LocaleConstant GetSessionDbLocaleIndex() const</div><div class="ttdef"><b>Definition:</b> WorldSession.h:512</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02405">_CreateDefaultGuildRanks()</a>, <a class="el" href="../../#l02381">_CreateNewBankTab()</a>, <a class="el" href="../../#l02175">AddMember()</a>, <a class="el" href="../../#l00145">CHAR_DEL_GUILD_MEMBERS</a>, <a class="el" href="../../#l00140">CHAR_INS_GUILD</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00404">CONFIG_GUILD_BANK_INITIAL_TABS</a>, <a class="el" href="../../#l00251">EmblemInfo::GetBackgroundColor()</a>, <a class="el" href="../../#l00250">EmblemInfo::GetBorderColor()</a>, <a class="el" href="../../#l00249">EmblemInfo::GetBorderStyle()</a>, <a class="el" href="../../#l00248">EmblemInfo::GetColor()</a>, <a class="el" href="../../#l00145">ObjectGuid::GetCounter()</a>, <a class="el" href="../../#l00038">GameTime::GetGameTime()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00463">WorldObject::GetName()</a>, <a class="el" href="../../#l02001">Player::GetSession()</a>, <a class="el" href="../../#l00512">WorldSession::GetSessionDbLocaleIndex()</a>, <a class="el" href="../../#l00247">EmblemInfo::GetStyle()</a>, <a class="el" href="../../#l00065">GR_GUILDMASTER</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00792">m_bankMoney</a>, <a class="el" href="../../#l00788">m_createdDate</a>, <a class="el" href="../../#l00790">m_emblemInfo</a>, <a class="el" href="../../#l00783">m_id</a>, <a class="el" href="../../#l00787">m_info</a>, <a class="el" href="../../#l00785">m_leaderGuid</a>, <a class="el" href="../../#l00786">m_motd</a>, <a class="el" href="../../#l00784">m_name</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, <a class="el" href="../../#l00051">sGuildMgr</a>, <a class="el" href="../../#l00709">sScriptMgr</a>, <a class="el" href="../../#l00442">sWorld</a>, and <a class="el" href="../../#l00047">ObjectGuid::ToString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00056">guild_commandscript::HandleGuildCreateCommand()</a>, and <a class="el" href="../../#l00641">WorldSession::HandleTurnInPetitionOpcode()</a>.</p>

</div>
</div>
<a id="a4b1c1eae7f85a92e17ba48c4ac52f0c9" name="a4b1c1eae7f85a92e17ba48c4ac52f0c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b1c1eae7f85a92e17ba48c4ac52f0c9">&#9670;&#160;</a></span>DeleteMember()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::DeleteMember </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isDisbanding</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isKicked</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>canDeleteGuild</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2260</span>{</div>
<div class="line"><span class="lineno"> 2261</span>    <a class="code hl_typedef" href="../../d4/df2/a08266.html#aa278d50613c05dc1333df5185a6993eb">ObjectGuid::LowType</a> lowguid = guid.<a class="code hl_function" href="../../d4/df2/a08266.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>();</div>
<div class="line"><span class="lineno"> 2262</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = <a class="code hl_function" href="../../d4/da9/a04736.html#a354f7e7aaf4b12d6ad8fe8ef6291eaa0">ObjectAccessor::FindConnectedPlayer</a>(guid);</div>
<div class="line"><span class="lineno"> 2263</span> </div>
<div class="line"><span class="lineno"> 2264</span>    <span class="comment">// Guild master can be deleted when loading guild and guid doesn&#39;t exist in characters table</span></div>
<div class="line"><span class="lineno"> 2265</span>    <span class="comment">// or when he is removed from guild by gm command</span></div>
<div class="line"><span class="lineno"> 2266</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">m_leaderGuid</a> == guid &amp;&amp; !isDisbanding)</div>
<div class="line"><span class="lineno"> 2267</span>    {</div>
<div class="line"><span class="lineno"> 2268</span>        Member* oldLeader = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2269</span>        Member* newLeader = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2270</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [guid, member] : <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>)</div>
<div class="line"><span class="lineno"> 2271</span>        {</div>
<div class="line"><span class="lineno"> 2272</span>            <span class="keywordflow">if</span> (guid == lowguid)</div>
<div class="line"><span class="lineno"> 2273</span>                oldLeader = &amp;member;</div>
<div class="line"><span class="lineno"> 2274</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!newLeader || newLeader-&gt;GetRankId() &gt; member.GetRankId())</div>
<div class="line"><span class="lineno"> 2275</span>                newLeader = &amp;member;</div>
<div class="line"><span class="lineno"> 2276</span>        }</div>
<div class="line"><span class="lineno"> 2277</span> </div>
<div class="line"><span class="lineno"> 2278</span>        <span class="keywordflow">if</span> (!newLeader)</div>
<div class="line"><span class="lineno"> 2279</span>        {</div>
<div class="line"><span class="lineno"> 2280</span>            <a class="code hl_function" href="../../d8/d60/a09310.html#acba39ec95f021c6d02241d9d6b9bd492">Disband</a>();</div>
<div class="line"><span class="lineno"> 2281</span>            <span class="keywordflow">if</span> (canDeleteGuild)</div>
<div class="line"><span class="lineno"> 2282</span>                <span class="keyword">delete</span> <span class="keyword">this</span>;</div>
<div class="line"><span class="lineno"> 2283</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2284</span>        }</div>
<div class="line"><span class="lineno"> 2285</span> </div>
<div class="line"><span class="lineno"> 2286</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#aac7bfd950eec4b375833956962d0ae57">_SetLeaderGUID</a>(*newLeader);</div>
<div class="line"><span class="lineno"> 2287</span> </div>
<div class="line"><span class="lineno"> 2288</span>        <span class="comment">// If player not online data in data field will be loaded from guild tabs no need to update it !!</span></div>
<div class="line"><span class="lineno"> 2289</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* newLeaderPlayer = newLeader-&gt;FindPlayer())</div>
<div class="line"><span class="lineno"> 2290</span>            newLeaderPlayer-&gt;SetRank(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a6534fcf172d7fbe4a762e0479601acd4a349203b98139f80965ab3d7e3379c36d">GR_GUILDMASTER</a>);</div>
<div class="line"><span class="lineno"> 2291</span> </div>
<div class="line"><span class="lineno"> 2292</span>        <span class="comment">// If leader does not exist (at guild loading with deleted leader) do not send broadcasts</span></div>
<div class="line"><span class="lineno"> 2293</span>        <span class="keywordflow">if</span> (oldLeader)</div>
<div class="line"><span class="lineno"> 2294</span>        {</div>
<div class="line"><span class="lineno"> 2295</span>            <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59dad4ba70858e9fb573d9bbd3b308ac6b54">GE_LEADER_CHANGED</a>, <a class="code hl_variable" href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a>, oldLeader-&gt;GetName(), newLeader-&gt;GetName());</div>
<div class="line"><span class="lineno"> 2296</span>            <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da0e9ffb6d5c2c9909a0eca1ede00ee816">GE_LEFT</a>, guid, oldLeader-&gt;GetName());</div>
<div class="line"><span class="lineno"> 2297</span>        }</div>
<div class="line"><span class="lineno"> 2298</span>    }</div>
<div class="line"><span class="lineno"> 2299</span>    <span class="comment">// Call script on remove before member is actually removed from guild (and database)</span></div>
<div class="line"><span class="lineno"> 2300</span>    <a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnGuildRemoveMember(<span class="keyword">this</span>, player, isDisbanding, isKicked);</div>
<div class="line"><span class="lineno"> 2301</span> </div>
<div class="line"><span class="lineno"> 2302</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>.erase(lowguid);</div>
<div class="line"><span class="lineno"> 2303</span> </div>
<div class="line"><span class="lineno"> 2304</span>    <span class="comment">// If player not online data in data field will be loaded from guild tabs no need to update it !!</span></div>
<div class="line"><span class="lineno"> 2305</span>    <span class="keywordflow">if</span> (player)</div>
<div class="line"><span class="lineno"> 2306</span>    {</div>
<div class="line"><span class="lineno"> 2307</span>        player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a9186114e20c2bd7ab82ab69956748d6c">SetInGuild</a>(0);</div>
<div class="line"><span class="lineno"> 2308</span>        player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#aaf842b0d65d2b749be8611c6055de41e">SetRank</a>(0);</div>
<div class="line"><span class="lineno"> 2309</span>    }</div>
<div class="line"><span class="lineno"> 2310</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2311</span>    {</div>
<div class="line"><span class="lineno"> 2312</span>        <a class="code hl_define" href="../../d4/d7f/a04124.html#a7a32c898b33d6163d83a32f46d58517c">sCharacterCache</a>-&gt;UpdateCharacterGuildId(guid, 0);</div>
<div class="line"><span class="lineno"> 2313</span>    }</div>
<div class="line"><span class="lineno"> 2314</span> </div>
<div class="line"><span class="lineno"> 2315</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#aea25fad25add2347279b0ccc298e905e">_DeleteMemberFromDB</a>(guid.<a class="code hl_function" href="../../d4/df2/a08266.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>());</div>
<div class="line"><span class="lineno"> 2316</span>    <span class="keywordflow">if</span> (!isDisbanding)</div>
<div class="line"><span class="lineno"> 2317</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#a86f4c4bcdb3d744f9438d53148830698">_UpdateAccountsNumber</a>();</div>
<div class="line"><span class="lineno"> 2318</span>}</div>
<div class="ttc" id="aa02981_html_a06a0aa0a30a110150b9f76a3be9ee59da0e9ffb6d5c2c9909a0eca1ede00ee816"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da0e9ffb6d5c2c9909a0eca1ede00ee816">GE_LEFT</a></div><div class="ttdeci">@ GE_LEFT</div><div class="ttdef"><b>Definition:</b> Guild.h:151</div></div>
<div class="ttc" id="aa02981_html_a06a0aa0a30a110150b9f76a3be9ee59dad4ba70858e9fb573d9bbd3b308ac6b54"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59dad4ba70858e9fb573d9bbd3b308ac6b54">GE_LEADER_CHANGED</a></div><div class="ttdeci">@ GE_LEADER_CHANGED</div><div class="ttdef"><b>Definition:</b> Guild.h:154</div></div>
<div class="ttc" id="aa08266_html_a14039d3f3df79203693f713495503165"><div class="ttname"><a href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a></div><div class="ttdeci">static ObjectGuid const Empty</div><div class="ttdef"><b>Definition:</b> ObjectGuid.h:120</div></div>
<div class="ttc" id="aa09310_html_aac7bfd950eec4b375833956962d0ae57"><div class="ttname"><a href="../../d8/d60/a09310.html#aac7bfd950eec4b375833956962d0ae57">Guild::_SetLeaderGUID</a></div><div class="ttdeci">void _SetLeaderGUID(Member &amp;pLeader)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2492</div></div>
<div class="ttc" id="aa09310_html_acba39ec95f021c6d02241d9d6b9bd492"><div class="ttname"><a href="../../d8/d60/a09310.html#acba39ec95f021c6d02241d9d6b9bd492">Guild::Disband</a></div><div class="ttdeci">void Disband()</div><div class="ttdef"><b>Definition:</b> Guild.cpp:1108</div></div>
<div class="ttc" id="aa09310_html_aea25fad25add2347279b0ccc298e905e"><div class="ttname"><a href="../../d8/d60/a09310.html#aea25fad25add2347279b0ccc298e905e">Guild::_DeleteMemberFromDB</a></div><div class="ttdeci">void _DeleteMemberFromDB(ObjectGuid::LowType lowguid) const</div><div class="ttdef"><b>Definition:</b> Guild.h:820</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l00820">_DeleteMemberFromDB()</a>, <a class="el" href="../../#l02492">_SetLeaderGUID()</a>, <a class="el" href="../../#l02442">_UpdateAccountsNumber()</a>, <a class="el" href="../../#l01108">Disband()</a>, <a class="el" href="../../#l00120">ObjectGuid::Empty</a>, <a class="el" href="../../#l00257">ObjectAccessor::FindConnectedPlayer()</a>, <a class="el" href="../../#l00352">Guild::Member::FindPlayer()</a>, <a class="el" href="../../#l00154">GE_LEADER_CHANGED</a>, <a class="el" href="../../#l00151">GE_LEFT</a>, <a class="el" href="../../#l00145">ObjectGuid::GetCounter()</a>, <a class="el" href="../../#l00328">Guild::Member::GetName()</a>, <a class="el" href="../../#l00330">Guild::Member::GetRankId()</a>, <a class="el" href="../../#l00065">GR_GUILDMASTER</a>, <a class="el" href="../../#l00785">m_leaderGuid</a>, <a class="el" href="../../#l00795">m_members</a>, <a class="el" href="../../#l00083">sCharacterCache</a>, <a class="el" href="../../#l01895">Player::SetInGuild()</a>, <a class="el" href="../../#l01901">Player::SetRank()</a>, and <a class="el" href="../../#l00709">sScriptMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01108">Disband()</a>, <a class="el" href="../../#l00149">guild_commandscript::HandleGuildUninviteCommand()</a>, <a class="el" href="../../#l01506">HandleLeaveMember()</a>, <a class="el" href="../../#l01540">HandleRemoveMember()</a>, and <a class="el" href="../../#l02042">Validate()</a>.</p>

</div>
</div>
<a id="acba39ec95f021c6d02241d9d6b9bd492" name="acba39ec95f021c6d02241d9d6b9bd492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acba39ec95f021c6d02241d9d6b9bd492">&#9670;&#160;</a></span>Disband()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::Disband </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1109</span>{</div>
<div class="line"><span class="lineno"> 1110</span>    <span class="comment">// Call scripts before guild data removed from database</span></div>
<div class="line"><span class="lineno"> 1111</span>    <a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnGuildDisband(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 1112</span> </div>
<div class="line"><span class="lineno"> 1113</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da9ef80195ef0577e240aa857f743ff2a0">GE_DISBANDED</a>);</div>
<div class="line"><span class="lineno"> 1114</span>    <span class="comment">// Remove all members</span></div>
<div class="line"><span class="lineno"> 1115</span>    <span class="keywordflow">while</span> (!<a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>.empty())</div>
<div class="line"><span class="lineno"> 1116</span>    {</div>
<div class="line"><span class="lineno"> 1117</span>        <span class="keyword">auto</span> itr = <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>.begin();</div>
<div class="line"><span class="lineno"> 1118</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#a4b1c1eae7f85a92e17ba48c4ac52f0c9">DeleteMember</a>(itr-&gt;second.GetGUID(), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1119</span>    }</div>
<div class="line"><span class="lineno"> 1120</span> </div>
<div class="line"><span class="lineno"> 1121</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.BeginTransaction();</div>
<div class="line"><span class="lineno"> 1122</span> </div>
<div class="line"><span class="lineno"> 1123</span>    <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a1f5136d4774b7aebb5877d2527dd5d0e">CHAR_DEL_GUILD</a>);</div>
<div class="line"><span class="lineno"> 1124</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 1125</span>    trans-&gt;Append(stmt);</div>
<div class="line"><span class="lineno"> 1126</span> </div>
<div class="line"><span class="lineno"> 1127</span>    stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7ad8fa912aa381088cff5eb003e5f125ab">CHAR_DEL_GUILD_RANKS</a>);</div>
<div class="line"><span class="lineno"> 1128</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 1129</span>    trans-&gt;Append(stmt);</div>
<div class="line"><span class="lineno"> 1130</span> </div>
<div class="line"><span class="lineno"> 1131</span>    stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a10768dcc8837a0a78262f703e075dd8f">CHAR_DEL_GUILD_BANK_TABS</a>);</div>
<div class="line"><span class="lineno"> 1132</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 1133</span>    trans-&gt;Append(stmt);</div>
<div class="line"><span class="lineno"> 1134</span> </div>
<div class="line"><span class="lineno"> 1135</span>    <span class="comment">// Free bank tab used memory and delete items stored in them</span></div>
<div class="line"><span class="lineno"> 1136</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a339f2b47fec6228e85ac765a0eebcb3c">_DeleteBankItems</a>(trans, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1137</span> </div>
<div class="line"><span class="lineno"> 1138</span>    stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7abbe2f7941b7aadf2daebb6b02373a368">CHAR_DEL_GUILD_BANK_ITEMS</a>);</div>
<div class="line"><span class="lineno"> 1139</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 1140</span>    trans-&gt;Append(stmt);</div>
<div class="line"><span class="lineno"> 1141</span> </div>
<div class="line"><span class="lineno"> 1142</span>    stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a2047764ddea7e001409721dada81fb00">CHAR_DEL_GUILD_BANK_RIGHTS</a>);</div>
<div class="line"><span class="lineno"> 1143</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 1144</span>    trans-&gt;Append(stmt);</div>
<div class="line"><span class="lineno"> 1145</span> </div>
<div class="line"><span class="lineno"> 1146</span>    stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a40570afffcab6592fa0c5d3632e9135c">CHAR_DEL_GUILD_BANK_EVENTLOGS</a>);</div>
<div class="line"><span class="lineno"> 1147</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 1148</span>    trans-&gt;Append(stmt);</div>
<div class="line"><span class="lineno"> 1149</span> </div>
<div class="line"><span class="lineno"> 1150</span>    stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7ac5052914653301b607ad1a22279c4f2c">CHAR_DEL_GUILD_EVENTLOGS</a>);</div>
<div class="line"><span class="lineno"> 1151</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 1152</span>    trans-&gt;Append(stmt);</div>
<div class="line"><span class="lineno"> 1153</span> </div>
<div class="line"><span class="lineno"> 1154</span>    <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.CommitTransaction(trans);</div>
<div class="line"><span class="lineno"> 1155</span>    <a class="code hl_define" href="../../d0/daf/a02972.html#aef171903a38e30c347ff11360f682f81">sGuildMgr</a>-&gt;RemoveGuild(<a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 1156</span>}</div>
<div class="ttc" id="aa02981_html_a06a0aa0a30a110150b9f76a3be9ee59da9ef80195ef0577e240aa857f743ff2a0"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da9ef80195ef0577e240aa857f743ff2a0">GE_DISBANDED</a></div><div class="ttdeci">@ GE_DISBANDED</div><div class="ttdef"><b>Definition:</b> Guild.h:155</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a10768dcc8837a0a78262f703e075dd8f"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a10768dcc8837a0a78262f703e075dd8f">CHAR_DEL_GUILD_BANK_TABS</a></div><div class="ttdeci">@ CHAR_DEL_GUILD_BANK_TABS</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:152</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a1f5136d4774b7aebb5877d2527dd5d0e"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a1f5136d4774b7aebb5877d2527dd5d0e">CHAR_DEL_GUILD</a></div><div class="ttdeci">@ CHAR_DEL_GUILD</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:141</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a40570afffcab6592fa0c5d3632e9135c"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a40570afffcab6592fa0c5d3632e9135c">CHAR_DEL_GUILD_BANK_EVENTLOGS</a></div><div class="ttdeci">@ CHAR_DEL_GUILD_BANK_EVENTLOGS</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:161</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7abbe2f7941b7aadf2daebb6b02373a368"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7abbe2f7941b7aadf2daebb6b02373a368">CHAR_DEL_GUILD_BANK_ITEMS</a></div><div class="ttdeci">@ CHAR_DEL_GUILD_BANK_ITEMS</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:155</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7ac5052914653301b607ad1a22279c4f2c"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7ac5052914653301b607ad1a22279c4f2c">CHAR_DEL_GUILD_EVENTLOGS</a></div><div class="ttdeci">@ CHAR_DEL_GUILD_EVENTLOGS</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:164</div></div>
<div class="ttc" id="aa09310_html_a4b1c1eae7f85a92e17ba48c4ac52f0c9"><div class="ttname"><a href="../../d8/d60/a09310.html#a4b1c1eae7f85a92e17ba48c4ac52f0c9">Guild::DeleteMember</a></div><div class="ttdeci">void DeleteMember(ObjectGuid guid, bool isDisbanding=false, bool isKicked=false, bool canDeleteGuild=false)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2259</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l02464">_DeleteBankItems()</a>, <a class="el" href="../../#l00141">CHAR_DEL_GUILD</a>, <a class="el" href="../../#l00161">CHAR_DEL_GUILD_BANK_EVENTLOGS</a>, <a class="el" href="../../#l00155">CHAR_DEL_GUILD_BANK_ITEMS</a>, <a class="el" href="../../#l00157">CHAR_DEL_GUILD_BANK_RIGHTS</a>, <a class="el" href="../../#l00152">CHAR_DEL_GUILD_BANK_TABS</a>, <a class="el" href="../../#l00164">CHAR_DEL_GUILD_EVENTLOGS</a>, <a class="el" href="../../#l00148">CHAR_DEL_GUILD_RANKS</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l02259">DeleteMember()</a>, <a class="el" href="../../#l00155">GE_DISBANDED</a>, <a class="el" href="../../#l00783">m_id</a>, <a class="el" href="../../#l00795">m_members</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, <a class="el" href="../../#l00051">sGuildMgr</a>, and <a class="el" href="../../#l00709">sScriptMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02259">DeleteMember()</a>, <a class="el" href="../../#l01754">HandleDisband()</a>, <a class="el" href="../../#l00107">guild_commandscript::HandleGuildDeleteCommand()</a>, <a class="el" href="../../#l01506">HandleLeaveMember()</a>, and <a class="el" href="../../#l02042">Validate()</a>.</p>

</div>
</div>
<a id="ac64fffad338feef366cbe672439f1027" name="ac64fffad338feef366cbe672439f1027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac64fffad338feef366cbe672439f1027">&#9670;&#160;</a></span>GetBankTab() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dc1/a09338.html">BankTab</a> * Guild::GetBankTab </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  817</span>{ <span class="keywordflow">return</span> tabId &lt; <a class="code hl_variable" href="../../d8/d60/a09310.html#a387321359dc40fb20c38fc2f30992750">m_bankTabs</a>.size() ? &amp;<a class="code hl_variable" href="../../d8/d60/a09310.html#a387321359dc40fb20c38fc2f30992750">m_bankTabs</a>[tabId] : <span class="keyword">nullptr</span>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00796">m_bankTabs</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02638">_GetItem()</a>, <a class="el" href="../../#l02645">_RemoveItem()</a>, <a class="el" href="../../#l02823">_SendBankList()</a>, <a class="el" href="../../#l01353">HandleSetBankTabInfo()</a>, <a class="el" href="../../#l01828">SendBankTabText()</a>, and <a class="el" href="../../#l02371">SetBankTabText()</a>.</p>

</div>
</div>
<a id="af76df3509c1f01fd6bf2ff07aea4de36" name="af76df3509c1f01fd6bf2ff07aea4de36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af76df3509c1f01fd6bf2ff07aea4de36">&#9670;&#160;</a></span>GetBankTab() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dc1/a09338.html">BankTab</a> const  * Guild::GetBankTab </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  818</span>{ <span class="keywordflow">return</span> tabId &lt; <a class="code hl_variable" href="../../d8/d60/a09310.html#a387321359dc40fb20c38fc2f30992750">m_bankTabs</a>.size() ? &amp;<a class="code hl_variable" href="../../d8/d60/a09310.html#a387321359dc40fb20c38fc2f30992750">m_bankTabs</a>[tabId] : <span class="keyword">nullptr</span>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00796">m_bankTabs</a>.</p>

</div>
</div>
<a id="a8e4c74ad2dcde365c6eaf8b45484bf8c" name="a8e4c74ad2dcde365c6eaf8b45484bf8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e4c74ad2dcde365c6eaf8b45484bf8c">&#9670;&#160;</a></span>GetCreatedDate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">time_t Guild::GetCreatedDate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  772</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d60/a09310.html#a4e19285fd1730d3515e69a971918f410">m_createdDate</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00788">m_createdDate</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00224">guild_commandscript::HandleGuildInfoCommand()</a>.</p>

</div>
</div>
<a id="a66dfb8bfc30bb82d9d4361467ef8b8d5" name="a66dfb8bfc30bb82d9d4361467ef8b8d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66dfb8bfc30bb82d9d4361467ef8b8d5">&#9670;&#160;</a></span>GetId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> Guild::GetId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  686</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00783">m_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00036">GuildMgr::AddGuild()</a>, <a class="el" href="../../#l00224">guild_commandscript::HandleGuildInfoCommand()</a>, <a class="el" href="../../#l01506">HandleLeaveMember()</a>, <a class="el" href="../../#l01661">HandleMemberDepositMoney()</a>, <a class="el" href="../../#l01691">HandleMemberWithdrawMoney()</a>, <a class="el" href="../../#l01931">LoadMemberFromDB()</a>, and <a class="el" href="../../#l01188">SetName()</a>.</p>

</div>
</div>
<a id="aa0d7bf995c437e586dcf57aed5c7a4af" name="aa0d7bf995c437e586dcf57aed5c7a4af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0d7bf995c437e586dcf57aed5c7a4af">&#9670;&#160;</a></span>GetInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const  &amp; Guild::GetInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  690</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d60/a09310.html#ae3ece52e40aa4cc373116b7c32fbb761">m_info</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00787">m_info</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00224">guild_commandscript::HandleGuildInfoCommand()</a>.</p>

</div>
</div>
<a id="a23dbcc9ab646e6799fce50d32f685ca7" name="a23dbcc9ab646e6799fce50d32f685ca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23dbcc9ab646e6799fce50d32f685ca7">&#9670;&#160;</a></span>GetLeaderGUID()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> Guild::GetLeaderGUID </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  687</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">m_leaderGuid</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00785">m_leaderGuid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01495">HandleAcceptMember()</a>, <a class="el" href="../../#l00224">guild_commandscript::HandleGuildInfoCommand()</a>, <a class="el" href="../../#l01661">HandleMemberDepositMoney()</a>, and <a class="el" href="../../#l01691">HandleMemberWithdrawMoney()</a>.</p>

</div>
</div>
<a id="a2628b60ac05cb40393a46f18fb35f847" name="a2628b60ac05cb40393a46f18fb35f847"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2628b60ac05cb40393a46f18fb35f847">&#9670;&#160;</a></span>GetMember() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/da5/a09314.html">Member</a> * Guild::GetMember </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>guid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  387</span>    {</div>
<div class="line"><span class="lineno">  388</span>        <span class="keyword">auto</span> itr = <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>.find(guid.<a class="code hl_function" href="../../d4/df2/a08266.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>());</div>
<div class="line"><span class="lineno">  389</span>        <span class="keywordflow">return</span> (itr != <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>.end()) ? &amp;itr-&gt;second : <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  390</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00145">ObjectGuid::GetCounter()</a>, and <a class="el" href="../../#l00795">m_members</a>.</p>

</div>
</div>
<a id="a828c4a38bd1520e4f993dd8350c64f8b" name="a828c4a38bd1520e4f993dd8350c64f8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a828c4a38bd1520e4f993dd8350c64f8b">&#9670;&#160;</a></span>GetMember() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d7/da5/a09314.html">Member</a> * Guild::GetMember </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>guid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  382</span>    {</div>
<div class="line"><span class="lineno">  383</span>        <span class="keyword">auto</span> itr = <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>.find(guid.<a class="code hl_function" href="../../d4/df2/a08266.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>());</div>
<div class="line"><span class="lineno">  384</span>        <span class="keywordflow">return</span> (itr != <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>.end()) ? &amp;itr-&gt;second : <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  385</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00145">ObjectGuid::GetCounter()</a>, and <a class="el" href="../../#l00795">m_members</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00806">_HasRankRight()</a>, <a class="el" href="../../#l02455">_IsLeader()</a>, <a class="el" href="../../#l02594">_MemberHasTabRights()</a>, <a class="el" href="../../#l02823">_SendBankList()</a>, <a class="el" href="../../#l02583">_UpdateMemberWithdrawSlots()</a>, <a class="el" href="../../#l02320">ChangeMemberRank()</a>, <a class="el" href="../../#l01403">HandleBuyBankTab()</a>, <a class="el" href="../../#l01742">HandleMemberLogout()</a>, <a class="el" href="../../#l01691">HandleMemberWithdrawMoney()</a>, <a class="el" href="../../#l00793">WorldSession::HandlePlayerLoginFromDB()</a>, <a class="el" href="../../#l01540">HandleRemoveMember()</a>, <a class="el" href="../../#l01334">HandleSetLeader()</a>, <a class="el" href="../../#l01367">HandleSetMemberNote()</a>, <a class="el" href="../../#l01569">HandleUpdateMemberRank()</a>, <a class="el" href="../../#l01178">OnPlayerStatusChange()</a>, <a class="el" href="../../#l01817">SendBankTabsInfo()</a>, <a class="el" href="../../#l01878">SendLoginInfo()</a>, <a class="el" href="../../#l01863">SendMoneyInfo()</a>, <a class="el" href="../../#l01834">SendPermissions()</a>, <a class="el" href="../../#l01158">UpdateMemberData()</a>, and <a class="el" href="../../#l02042">Validate()</a>.</p>

</div>
</div>
<a id="a496ade99e2972d09884e08c267925dea" name="a496ade99e2972d09884e08c267925dea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a496ade99e2972d09884e08c267925dea">&#9670;&#160;</a></span>GetMember() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/da5/a09314.html">Member</a> * Guild::GetMember </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  392</span>    {</div>
<div class="line"><span class="lineno">  393</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; m_member : <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>)</div>
<div class="line"><span class="lineno">  394</span>            <span class="keywordflow">if</span> (m_member.second.GetName() == name)</div>
<div class="line"><span class="lineno">  395</span>                <span class="keywordflow">return</span> &amp;m_member.second;</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  398</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00795">m_members</a>.</p>

</div>
</div>
<a id="a499645830ed2b2b134c1b2fe98a30dc4" name="a499645830ed2b2b134c1b2fe98a30dc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a499645830ed2b2b134c1b2fe98a30dc4">&#9670;&#160;</a></span>GetMemberCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> Guild::GetMemberCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  771</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>.size(); }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00795">m_members</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00224">guild_commandscript::HandleGuildInfoCommand()</a>, <a class="el" href="../../#l01433">HandleInviteMember()</a>, <a class="el" href="../../#l01661">HandleMemberDepositMoney()</a>, and <a class="el" href="../../#l01691">HandleMemberWithdrawMoney()</a>.</p>

</div>
</div>
<a id="aa9c535ebec717fc2f10ac53af306ba1d" name="aa9c535ebec717fc2f10ac53af306ba1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9c535ebec717fc2f10ac53af306ba1d">&#9670;&#160;</a></span>GetMemberSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> Guild::GetMemberSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  780</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>.size(); }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00795">m_members</a>.</p>

</div>
</div>
<a id="acdab65957fef332bb9ea7f7510fda42d" name="acdab65957fef332bb9ea7f7510fda42d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdab65957fef332bb9ea7f7510fda42d">&#9670;&#160;</a></span>GetMOTD()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const  &amp; Guild::GetMOTD </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  689</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d60/a09310.html#ab8ca3dad15779135af492a0b26597868">m_motd</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00786">m_motd</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00224">guild_commandscript::HandleGuildInfoCommand()</a>.</p>

</div>
</div>
<a id="a73c93908066e72bf5519728bddd23d80" name="a73c93908066e72bf5519728bddd23d80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73c93908066e72bf5519728bddd23d80">&#9670;&#160;</a></span>GetName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const  &amp; Guild::GetName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  688</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d60/a09310.html#a6aa6b5f1c7e4c81c8800dcc55f65b3c5">m_name</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00784">m_name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00224">guild_commandscript::HandleGuildInfoCommand()</a>, <a class="el" href="../../#l01433">HandleInviteMember()</a>, <a class="el" href="../../#l01661">HandleMemberDepositMoney()</a>, <a class="el" href="../../#l01691">HandleMemberWithdrawMoney()</a>, <a class="el" href="../../#l00111">ChatLogScript::OnChat()</a>, and <a class="el" href="../../#l00701">AchievementMgr::SendAchievementEarned()</a>.</p>

</div>
</div>
<a id="a914f8f8ce3ce851aa484cd90c636c932" name="a914f8f8ce3ce851aa484cd90c636c932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a914f8f8ce3ce851aa484cd90c636c932">&#9670;&#160;</a></span>GetRankInfo() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d42/a09334.html">RankInfo</a> * Guild::GetRankInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>rankId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  805</span>{ <span class="keywordflow">return</span> rankId &lt; <a class="code hl_function" href="../../d8/d60/a09310.html#ac250922a980c212c66ea7a2bb7e5b4b3">_GetRanksSize</a>() ? &amp;<a class="code hl_variable" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a>[rankId] : <span class="keyword">nullptr</span>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00803">_GetRanksSize()</a>, and <a class="el" href="../../#l00794">m_ranks</a>.</p>

</div>
</div>
<a id="acb913d5002329ec1ad98fe269f1ef08a" name="acb913d5002329ec1ad98fe269f1ef08a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb913d5002329ec1ad98fe269f1ef08a">&#9670;&#160;</a></span>GetRankInfo() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../db/d42/a09334.html">RankInfo</a> * Guild::GetRankInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>rankId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  804</span>{ <span class="keywordflow">return</span> rankId &lt; <a class="code hl_function" href="../../d8/d60/a09310.html#ac250922a980c212c66ea7a2bb7e5b4b3">_GetRanksSize</a>() ? &amp;<a class="code hl_variable" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a>[rankId] : <span class="keyword">nullptr</span>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00803">_GetRanksSize()</a>, and <a class="el" href="../../#l00794">m_ranks</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02532">_GetRankBankMoneyPerDay()</a>, <a class="el" href="../../#l02547">_GetRankBankTabRights()</a>, <a class="el" href="../../#l02539">_GetRankBankTabSlotsPerDay()</a>, <a class="el" href="../../#l02518">_GetRankName()</a>, <a class="el" href="../../#l02525">_GetRankRights()</a>, <a class="el" href="../../#l02503">_SetRankBankMoneyPerDay()</a>, <a class="el" href="../../#l02509">_SetRankBankTabRightsAndSlots()</a>, <a class="el" href="../../#l01383">HandleSetRankInfo()</a>, and <a class="el" href="../../#l02042">Validate()</a>.</p>

</div>
</div>
<a id="af0ea8e3ce20309b0790ad813777f1614" name="af0ea8e3ce20309b0790ad813777f1614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0ea8e3ce20309b0790ad813777f1614">&#9670;&#160;</a></span>GetTotalBankMoney()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a> Guild::GetTotalBankMoney </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  770</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d60/a09310.html#a148e3da6e65ca7a0724799ad8b09091f">m_bankMoney</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00792">m_bankMoney</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00224">guild_commandscript::HandleGuildInfoCommand()</a>, <a class="el" href="../../#l01661">HandleMemberDepositMoney()</a>, and <a class="el" href="../../#l01691">HandleMemberWithdrawMoney()</a>.</p>

</div>
</div>
<a id="ae04c4a0c1976c884a8926cbfae29a408" name="ae04c4a0c1976c884a8926cbfae29a408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae04c4a0c1976c884a8926cbfae29a408">&#9670;&#160;</a></span>HandleAcceptMember()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleAcceptMember </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1496</span>{</div>
<div class="line"><span class="lineno"> 1497</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1498</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getBoolConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0af1ca7bf39deb55bf350da56ec62fe7c6">CONFIG_ALLOW_TWO_SIDE_INTERACTION_GUILD</a>) &amp;&amp; player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>() != <a class="code hl_define" href="../../d4/d7f/a04124.html#a7a32c898b33d6163d83a32f46d58517c">sCharacterCache</a>-&gt;GetCharacterTeamByGuid(<a class="code hl_function" href="../../d8/d60/a09310.html#a23dbcc9ab646e6799fce50d32f685ca7">GetLeaderGUID</a>()))</div>
<div class="line"><span class="lineno"> 1499</span>    {</div>
<div class="line"><span class="lineno"> 1500</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1501</span>    }</div>
<div class="line"><span class="lineno"> 1502</span> </div>
<div class="line"><span class="lineno"> 1503</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ab4d511e35415a734e16f90f8a028d649">AddMember</a>(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno"> 1504</span>}</div>
<div class="ttc" id="aa03317_html_a1b4b88c03b7d0124998b4c22e957baf0af1ca7bf39deb55bf350da56ec62fe7c6"><div class="ttname"><a href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0af1ca7bf39deb55bf350da56ec62fe7c6">CONFIG_ALLOW_TWO_SIDE_INTERACTION_GUILD</a></div><div class="ttdeci">@ CONFIG_ALLOW_TWO_SIDE_INTERACTION_GUILD</div><div class="ttdef"><b>Definition:</b> IWorld.h:76</div></div>
<div class="ttc" id="aa08466_html_a4874f5c152e187c381c2a349f16aa0d4"><div class="ttname"><a href="../../dc/d06/a08466.html#a4874f5c152e187c381c2a349f16aa0d4">Player::GetTeamId</a></div><div class="ttdeci">TeamId GetTeamId(bool original=false) const</div><div class="ttdef"><b>Definition:</b> Player.h:2111</div></div>
<div class="ttc" id="aa09310_html_a23dbcc9ab646e6799fce50d32f685ca7"><div class="ttname"><a href="../../d8/d60/a09310.html#a23dbcc9ab646e6799fce50d32f685ca7">Guild::GetLeaderGUID</a></div><div class="ttdeci">ObjectGuid GetLeaderGUID() const</div><div class="ttdef"><b>Definition:</b> Guild.h:687</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02175">AddMember()</a>, <a class="el" href="../../#l00076">CONFIG_ALLOW_TWO_SIDE_INTERACTION_GUILD</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00687">GetLeaderGUID()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l02111">Player::GetTeamId()</a>, <a class="el" href="../../#l00083">sCharacterCache</a>, and <a class="el" href="../../#l00442">sWorld</a>.</p>

</div>
</div>
<a id="a9bfd9a2e97d72bcacff06a5566a7fee2" name="a9bfd9a2e97d72bcacff06a5566a7fee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bfd9a2e97d72bcacff06a5566a7fee2">&#9670;&#160;</a></span>HandleAddNewRank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleAddNewRank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1622</span>{</div>
<div class="line"><span class="lineno"> 1623</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> size = <a class="code hl_function" href="../../d8/d60/a09310.html#ac250922a980c212c66ea7a2bb7e5b4b3">_GetRanksSize</a>();</div>
<div class="line"><span class="lineno"> 1624</span>    <span class="keywordflow">if</span> (size &gt;= <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaac93065ac20ad4d90f8ef5c0f44154e1b">GUILD_RANKS_MAX_COUNT</a>)</div>
<div class="line"><span class="lineno"> 1625</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1626</span> </div>
<div class="line"><span class="lineno"> 1627</span>    <span class="comment">// Only leader can add new rank</span></div>
<div class="line"><span class="lineno"> 1628</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d60/a09310.html#aaf78aa36da22b99c10df4a971d538b3d">_IsLeader</a>(session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()))</div>
<div class="line"><span class="lineno"> 1629</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d60/a09310.html#a3239e428d8ac00e94e43fcb48a30139e">_CreateRank</a>(name, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a613b1d285b8e4bfd5b302d455a234e8b">GR_RIGHT_GCHATLISTEN</a> | <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a31d51868ba86650a2177d9a9e55fb21e">GR_RIGHT_GCHATSPEAK</a>))</div>
<div class="line"><span class="lineno"> 1630</span>            <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59daf1474532b0c069fe744ed47a24373aa6">GE_RANK_UPDATED</a>, <a class="code hl_variable" href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a>, std::to_string(size), name, std::to_string(<a class="code hl_variable" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a>.size()));</div>
<div class="line"><span class="lineno"> 1631</span>}</div>
<div class="ttc" id="aa02981_html_a06a0aa0a30a110150b9f76a3be9ee59daf1474532b0c069fe744ed47a24373aa6"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59daf1474532b0c069fe744ed47a24373aa6">GE_RANK_UPDATED</a></div><div class="ttdeci">@ GE_RANK_UPDATED</div><div class="ttdef"><b>Definition:</b> Guild.h:157</div></div>
<div class="ttc" id="aa09310_html_aaf78aa36da22b99c10df4a971d538b3d"><div class="ttname"><a href="../../d8/d60/a09310.html#aaf78aa36da22b99c10df4a971d538b3d">Guild::_IsLeader</a></div><div class="ttdeci">bool _IsLeader(Player *player) const</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2455</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l02422">_CreateRank()</a>, <a class="el" href="../../#l00803">_GetRanksSize()</a>, <a class="el" href="../../#l02455">_IsLeader()</a>, <a class="el" href="../../#l00120">ObjectGuid::Empty</a>, <a class="el" href="../../#l00157">GE_RANK_UPDATED</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00077">GR_RIGHT_GCHATLISTEN</a>, <a class="el" href="../../#l00078">GR_RIGHT_GCHATSPEAK</a>, <a class="el" href="../../#l00046">GUILD_RANKS_MAX_COUNT</a>, and <a class="el" href="../../#l00794">m_ranks</a>.</p>

</div>
</div>
<a id="aee0f99254e3c1fb88311876b2562e8a3" name="aee0f99254e3c1fb88311876b2562e8a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee0f99254e3c1fb88311876b2562e8a3">&#9670;&#160;</a></span>HandleBuyBankTab()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleBuyBankTab </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Hack to force client to update permissions</p>
<div class="fragment"><div class="line"><span class="lineno"> 1404</span>{</div>
<div class="line"><span class="lineno"> 1405</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1406</span>    <span class="keywordflow">if</span> (!player)</div>
<div class="line"><span class="lineno"> 1407</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1408</span> </div>
<div class="line"><span class="lineno"> 1409</span>    Member <span class="keyword">const</span>* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno"> 1410</span>    <span class="keywordflow">if</span> (!member)</div>
<div class="line"><span class="lineno"> 1411</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1412</span> </div>
<div class="line"><span class="lineno"> 1413</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>() &gt;= <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaadf100aec6c7a6f10b7af8629930feff7">GUILD_BANK_MAX_TABS</a>)</div>
<div class="line"><span class="lineno"> 1414</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1415</span> </div>
<div class="line"><span class="lineno"> 1416</span>    <span class="keywordflow">if</span> (tabId != <a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>())</div>
<div class="line"><span class="lineno"> 1417</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1418</span> </div>
<div class="line"><span class="lineno"> 1419</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> tabCost = <a class="code hl_function" href="../../d1/d24/a02975.html#a039068bd46d84b88b1a6a2fa0ae07b80">_GetGuildBankTabPrice</a>(tabId);</div>
<div class="line"><span class="lineno"> 1420</span>    <span class="keywordflow">if</span> (!tabCost)</div>
<div class="line"><span class="lineno"> 1421</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1422</span> </div>
<div class="line"><span class="lineno"> 1423</span>    <span class="keywordflow">if</span> (!player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a77b52bf6fc7a0ac6ad37bf836aaf5c7b">HasEnoughMoney</a>(tabCost))                   <span class="comment">// Should not happen, this is checked by client</span></div>
<div class="line"><span class="lineno"> 1424</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1425</span> </div>
<div class="line"><span class="lineno"> 1426</span>    player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a46351fb555db3b97fc531f215d2d2338">ModifyMoney</a>(-<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(tabCost));</div>
<div class="line"><span class="lineno"> 1427</span> </div>
<div class="line"><span class="lineno"> 1428</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a7ade211c2cf31d862d7d0db4a237aa17">_CreateNewBankTab</a>();</div>
<div class="line"><span class="lineno"> 1429</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59dac9ccde1e7afe63543cc6d9be6f14ddff">GE_BANK_TAB_PURCHASED</a>);</div>
<div class="line"><span class="lineno"> 1430</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a4583ba5df806a9bb7d47d139d8648221">SendPermissions</a>(session); </div>
<div class="line"><span class="lineno"> 1431</span>}</div>
<div class="ttc" id="aa02975_html_a039068bd46d84b88b1a6a2fa0ae07b80"><div class="ttname"><a href="../../d1/d24/a02975.html#a039068bd46d84b88b1a6a2fa0ae07b80">_GetGuildBankTabPrice</a></div><div class="ttdeci">uint32 _GetGuildBankTabPrice(uint8 tabId)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:93</div></div>
<div class="ttc" id="aa02981_html_a06a0aa0a30a110150b9f76a3be9ee59dac9ccde1e7afe63543cc6d9be6f14ddff"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59dac9ccde1e7afe63543cc6d9be6f14ddff">GE_BANK_TAB_PURCHASED</a></div><div class="ttdeci">@ GE_BANK_TAB_PURCHASED</div><div class="ttdef"><b>Definition:</b> Guild.h:162</div></div>
<div class="ttc" id="aa08466_html_a46351fb555db3b97fc531f215d2d2338"><div class="ttname"><a href="../../dc/d06/a08466.html#a46351fb555db3b97fc531f215d2d2338">Player::ModifyMoney</a></div><div class="ttdeci">bool ModifyMoney(int32 amount, bool sendError=true)</div><div class="ttdef"><b>Definition:</b> Player.cpp:11547</div></div>
<div class="ttc" id="aa08466_html_a77b52bf6fc7a0ac6ad37bf836aaf5c7b"><div class="ttname"><a href="../../dc/d06/a08466.html#a77b52bf6fc7a0ac6ad37bf836aaf5c7b">Player::HasEnoughMoney</a></div><div class="ttdeci">bool HasEnoughMoney(uint32 amount) const</div><div class="ttdef"><b>Definition:</b> Player.h:1618</div></div>
<div class="ttc" id="aa09310_html_a4583ba5df806a9bb7d47d139d8648221"><div class="ttname"><a href="../../d8/d60/a09310.html#a4583ba5df806a9bb7d47d139d8648221">Guild::SendPermissions</a></div><div class="ttdeci">void SendPermissions(WorldSession *session)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:1834</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l02381">_CreateNewBankTab()</a>, <a class="el" href="../../#l00093">_GetGuildBankTabPrice()</a>, <a class="el" href="../../#l00816">_GetPurchasedTabsSize()</a>, <a class="el" href="../../#l00162">GE_BANK_TAB_PURCHASED</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00042">GUILD_BANK_MAX_TABS</a>, <a class="el" href="../../#l01618">Player::HasEnoughMoney()</a>, <a class="el" href="../../#l11547">Player::ModifyMoney()</a>, and <a class="el" href="../../#l01834">SendPermissions()</a>.</p>

</div>
</div>
<a id="abc2249229adf1a2ccaa662cd18c02968" name="abc2249229adf1a2ccaa662cd18c02968"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc2249229adf1a2ccaa662cd18c02968">&#9670;&#160;</a></span>HandleDisband()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleDisband </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1755</span>{</div>
<div class="line"><span class="lineno"> 1756</span>    <span class="comment">// Only leader can disband guild</span></div>
<div class="line"><span class="lineno"> 1757</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d60/a09310.html#aaf78aa36da22b99c10df4a971d538b3d">_IsLeader</a>(session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()))</div>
<div class="line"><span class="lineno"> 1758</span>    {</div>
<div class="line"><span class="lineno"> 1759</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#acba39ec95f021c6d02241d9d6b9bd492">Disband</a>();</div>
<div class="line"><span class="lineno"> 1760</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;Guild Successfully Disbanded&quot;</span>);</div>
<div class="line"><span class="lineno"> 1761</span>        <span class="keyword">delete</span> <span class="keyword">this</span>;</div>
<div class="line"><span class="lineno"> 1762</span>    }</div>
<div class="line"><span class="lineno"> 1763</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02455">_IsLeader()</a>, <a class="el" href="../../#l01108">Disband()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, and <a class="el" href="../../#l00169">LOG_DEBUG</a>.</p>

</div>
</div>
<a id="a736e25af77eb683c295b585c4f5423e0" name="a736e25af77eb683c295b585c4f5423e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a736e25af77eb683c295b585c4f5423e0">&#9670;&#160;</a></span>HandleInviteMember()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleInviteMember </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1434</span>{</div>
<div class="line"><span class="lineno"> 1435</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* pInvitee = <a class="code hl_function" href="../../d4/da9/a04736.html#af5cb6806842c9689cf1d5f43ffdc4b0a">ObjectAccessor::FindPlayerByName</a>(name, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1436</span>    <span class="keywordflow">if</span> (!pInvitee)</div>
<div class="line"><span class="lineno"> 1437</span>    {</div>
<div class="line"><span class="lineno"> 1438</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61a176c62343904defff95ab4e54e468ec9">GUILD_COMMAND_INVITE</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba9360ca5ff657b8d7078acd51d586817c">ERR_GUILD_PLAYER_NOT_FOUND_S</a>, name);</div>
<div class="line"><span class="lineno"> 1439</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1440</span>    }</div>
<div class="line"><span class="lineno"> 1441</span> </div>
<div class="line"><span class="lineno"> 1442</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1443</span>    <span class="comment">// Do not show invitations from ignored players</span></div>
<div class="line"><span class="lineno"> 1444</span>    <span class="keywordflow">if</span> (pInvitee-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ac0a2e3d06c31e2d9286edca3ffcaf74d">GetSocial</a>()-&gt;<a class="code hl_function" href="../../de/d75/a08490.html#ab4a6c0eab682fbdfa98a0a71fa6aced8">HasIgnore</a>(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()))</div>
<div class="line"><span class="lineno"> 1445</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1446</span> </div>
<div class="line"><span class="lineno"> 1447</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> memberLimit = <a class="code hl_define" href="../../d9/d4a/a00479.html#a7236988e98bdd405bf435a029b70a26f">sConfigMgr</a>-&gt;GetOption&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;(<span class="stringliteral">&quot;Guild.MemberLimit&quot;</span>, 0);</div>
<div class="line"><span class="lineno"> 1448</span>    <span class="keywordflow">if</span> (memberLimit &gt; 0 &amp;&amp; player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6e3ea3c746154559e2457c3df4d0f7c7">GetGuild</a>()-&gt;<a class="code hl_function" href="../../d8/d60/a09310.html#a499645830ed2b2b134c1b2fe98a30dc4">GetMemberCount</a>() &gt;= memberLimit)</div>
<div class="line"><span class="lineno"> 1449</span>    {</div>
<div class="line"><span class="lineno"> 1450</span>        <a class="code hl_class" href="../../d4/d99/a07362.html">ChatHandler</a>(player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()).<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Your guild has reached the maximum amount of members ({}). You cannot send another invite until the guild member count is lower.&quot;</span>, memberLimit);</div>
<div class="line"><span class="lineno"> 1451</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61a176c62343904defff95ab4e54e468ec9">GUILD_COMMAND_INVITE</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba8905fc6aff78718328bddfea91f8c880">ERR_GUILD_INTERNAL</a>, name);</div>
<div class="line"><span class="lineno"> 1452</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1453</span>    }</div>
<div class="line"><span class="lineno"> 1454</span> </div>
<div class="line"><span class="lineno"> 1455</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getBoolConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0af1ca7bf39deb55bf350da56ec62fe7c6">CONFIG_ALLOW_TWO_SIDE_INTERACTION_GUILD</a>) &amp;&amp; pInvitee-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>(<span class="keyword">true</span>) != player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>(<span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 1456</span>    {</div>
<div class="line"><span class="lineno"> 1457</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61a176c62343904defff95ab4e54e468ec9">GUILD_COMMAND_INVITE</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba8127617140b8da3540ee84783639f6c5">ERR_GUILD_NOT_ALLIED</a>, name);</div>
<div class="line"><span class="lineno"> 1458</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1459</span>    }</div>
<div class="line"><span class="lineno"> 1460</span>    <span class="comment">// Invited player cannot be in another guild</span></div>
<div class="line"><span class="lineno"> 1461</span>    <span class="keywordflow">if</span> (pInvitee-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a1e02f2ed117ad96e188ed48c2507869b">GetGuildId</a>())</div>
<div class="line"><span class="lineno"> 1462</span>    {</div>
<div class="line"><span class="lineno"> 1463</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61a176c62343904defff95ab4e54e468ec9">GUILD_COMMAND_INVITE</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba41d76fbbe087af601af21c19107330f4">ERR_ALREADY_IN_GUILD_S</a>, name);</div>
<div class="line"><span class="lineno"> 1464</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1465</span>    }</div>
<div class="line"><span class="lineno"> 1466</span>    <span class="comment">// Invited player cannot be invited</span></div>
<div class="line"><span class="lineno"> 1467</span>    <span class="keywordflow">if</span> (pInvitee-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a5005e8cc1a29b353328e2d5da90e441d">GetGuildIdInvited</a>())</div>
<div class="line"><span class="lineno"> 1468</span>    {</div>
<div class="line"><span class="lineno"> 1469</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61a176c62343904defff95ab4e54e468ec9">GUILD_COMMAND_INVITE</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0bacbe2f5ad90080b52ffbcc218810a316e">ERR_ALREADY_INVITED_TO_GUILD_S</a>, name);</div>
<div class="line"><span class="lineno"> 1470</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1471</span>    }</div>
<div class="line"><span class="lineno"> 1472</span>    <span class="comment">// Inviting player must have rights to invite</span></div>
<div class="line"><span class="lineno"> 1473</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d60/a09310.html#ada75072cb9454accd8b5e859615a6b88">_HasRankRight</a>(player, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7adef53b5c69909e7c695d9237707c0da7">GR_RIGHT_INVITE</a>))</div>
<div class="line"><span class="lineno"> 1474</span>    {</div>
<div class="line"><span class="lineno"> 1475</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61a176c62343904defff95ab4e54e468ec9">GUILD_COMMAND_INVITE</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba12d6d5351242de2172f3c77069966373">ERR_GUILD_PERMISSIONS</a>);</div>
<div class="line"><span class="lineno"> 1476</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1477</span>    }</div>
<div class="line"><span class="lineno"> 1478</span> </div>
<div class="line"><span class="lineno"> 1479</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61a176c62343904defff95ab4e54e468ec9">GUILD_COMMAND_INVITE</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba66c56e2d0547e9c74ca2e69268ac7b58">ERR_GUILD_COMMAND_SUCCESS</a>, name);</div>
<div class="line"><span class="lineno"> 1480</span> </div>
<div class="line"><span class="lineno"> 1481</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;Player {} invited {} to join his Guild&quot;</span>, player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>(), pInvitee-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>());</div>
<div class="line"><span class="lineno"> 1482</span> </div>
<div class="line"><span class="lineno"> 1483</span>    pInvitee-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a1b7e621852223314574393fc114ca7d3">SetGuildIdInvited</a>(<a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 1484</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ae5ffb2824665b4297a0b5d6028169d50">_LogEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#aff19569a84ef44eea2acf4d6bcb86690a9a9cfccd8804c03c87ce7749d0eebd54">GUILD_EVENT_LOG_INVITE_PLAYER</a>, player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), pInvitee-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno"> 1485</span> </div>
<div class="line"><span class="lineno"> 1486</span>    <a class="code hl_class" href="../../d6/d23/a10390.html">WorldPackets::Guild::GuildInvite</a> invite;</div>
<div class="line"><span class="lineno"> 1487</span> </div>
<div class="line"><span class="lineno"> 1488</span>    invite.<a class="code hl_variable" href="../../d6/d23/a10390.html#a8a91b3f9a94776da4b23c38220c6fc3d">InviterName</a> = player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>();</div>
<div class="line"><span class="lineno"> 1489</span>    invite.<a class="code hl_variable" href="../../d6/d23/a10390.html#ac3ae572bb65d5ea156151e5fc7abf5b8">GuildName</a> = <a class="code hl_function" href="../../d8/d60/a09310.html#a73c93908066e72bf5519728bddd23d80">GetName</a>();</div>
<div class="line"><span class="lineno"> 1490</span> </div>
<div class="line"><span class="lineno"> 1491</span>    pInvitee-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a2ad9b8f6c94365d5afe104567198aba8">SendDirectMessage</a>(invite.<a class="code hl_function" href="../../d6/d23/a10390.html#a4ed1c240a53fa6268eb07b3c77d68757">Write</a>());</div>
<div class="line"><span class="lineno"> 1492</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;SMSG_GUILD_INVITE [{}]&quot;</span>, pInvitee-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>());</div>
<div class="line"><span class="lineno"> 1493</span>}</div>
<div class="ttc" id="aa00479_html_a7236988e98bdd405bf435a029b70a26f"><div class="ttname"><a href="../../d9/d4a/a00479.html#a7236988e98bdd405bf435a029b70a26f">sConfigMgr</a></div><div class="ttdeci">#define sConfigMgr</div><div class="ttdef"><b>Definition:</b> Config.h:74</div></div>
<div class="ttc" id="aa02981_html_a30d73a1238457bffb5d55ce50c5d1a61a176c62343904defff95ab4e54e468ec9"><div class="ttname"><a href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61a176c62343904defff95ab4e54e468ec9">GUILD_COMMAND_INVITE</a></div><div class="ttdeci">@ GUILD_COMMAND_INVITE</div><div class="ttdef"><b>Definition:</b> Guild.h:100</div></div>
<div class="ttc" id="aa02981_html_a49f5242ada5394c5a9c6142fec1beb0ba12d6d5351242de2172f3c77069966373"><div class="ttname"><a href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba12d6d5351242de2172f3c77069966373">ERR_GUILD_PERMISSIONS</a></div><div class="ttdeci">@ ERR_GUILD_PERMISSIONS</div><div class="ttdef"><b>Definition:</b> Guild.h:128</div></div>
<div class="ttc" id="aa02981_html_a49f5242ada5394c5a9c6142fec1beb0ba41d76fbbe087af601af21c19107330f4"><div class="ttname"><a href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba41d76fbbe087af601af21c19107330f4">ERR_ALREADY_IN_GUILD_S</a></div><div class="ttdeci">@ ERR_ALREADY_IN_GUILD_S</div><div class="ttdef"><b>Definition:</b> Guild.h:122</div></div>
<div class="ttc" id="aa02981_html_a49f5242ada5394c5a9c6142fec1beb0ba66c56e2d0547e9c74ca2e69268ac7b58"><div class="ttname"><a href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba66c56e2d0547e9c74ca2e69268ac7b58">ERR_GUILD_COMMAND_SUCCESS</a></div><div class="ttdeci">@ ERR_GUILD_COMMAND_SUCCESS</div><div class="ttdef"><b>Definition:</b> Guild.h:119</div></div>
<div class="ttc" id="aa02981_html_a49f5242ada5394c5a9c6142fec1beb0ba8127617140b8da3540ee84783639f6c5"><div class="ttname"><a href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba8127617140b8da3540ee84783639f6c5">ERR_GUILD_NOT_ALLIED</a></div><div class="ttdeci">@ ERR_GUILD_NOT_ALLIED</div><div class="ttdef"><b>Definition:</b> Guild.h:132</div></div>
<div class="ttc" id="aa02981_html_a49f5242ada5394c5a9c6142fec1beb0ba8905fc6aff78718328bddfea91f8c880"><div class="ttname"><a href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba8905fc6aff78718328bddfea91f8c880">ERR_GUILD_INTERNAL</a></div><div class="ttdeci">@ ERR_GUILD_INTERNAL</div><div class="ttdef"><b>Definition:</b> Guild.h:120</div></div>
<div class="ttc" id="aa02981_html_a49f5242ada5394c5a9c6142fec1beb0ba9360ca5ff657b8d7078acd51d586817c"><div class="ttname"><a href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba9360ca5ff657b8d7078acd51d586817c">ERR_GUILD_PLAYER_NOT_FOUND_S</a></div><div class="ttdeci">@ ERR_GUILD_PLAYER_NOT_FOUND_S</div><div class="ttdef"><b>Definition:</b> Guild.h:131</div></div>
<div class="ttc" id="aa02981_html_a49f5242ada5394c5a9c6142fec1beb0bacbe2f5ad90080b52ffbcc218810a316e"><div class="ttname"><a href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0bacbe2f5ad90080b52ffbcc218810a316e">ERR_ALREADY_INVITED_TO_GUILD_S</a></div><div class="ttdeci">@ ERR_ALREADY_INVITED_TO_GUILD_S</div><div class="ttdef"><b>Definition:</b> Guild.h:124</div></div>
<div class="ttc" id="aa02981_html_abe65a5c09114479eec37ae55f24aaaa7adef53b5c69909e7c695d9237707c0da7"><div class="ttname"><a href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7adef53b5c69909e7c695d9237707c0da7">GR_RIGHT_INVITE</a></div><div class="ttdeci">@ GR_RIGHT_INVITE</div><div class="ttdef"><b>Definition:</b> Guild.h:81</div></div>
<div class="ttc" id="aa02981_html_aff19569a84ef44eea2acf4d6bcb86690a9a9cfccd8804c03c87ce7749d0eebd54"><div class="ttname"><a href="../../d7/d93/a02981.html#aff19569a84ef44eea2acf4d6bcb86690a9a9cfccd8804c03c87ce7749d0eebd54">GUILD_EVENT_LOG_INVITE_PLAYER</a></div><div class="ttdeci">@ GUILD_EVENT_LOG_INVITE_PLAYER</div><div class="ttdef"><b>Definition:</b> Guild.h:210</div></div>
<div class="ttc" id="aa04736_html_af5cb6806842c9689cf1d5f43ffdc4b0a"><div class="ttname"><a href="../../d4/da9/a04736.html#af5cb6806842c9689cf1d5f43ffdc4b0a">ObjectAccessor::FindPlayerByName</a></div><div class="ttdeci">Player * FindPlayerByName(std::string const &amp;name, bool checkInWorld=true)</div><div class="ttdef"><b>Definition:</b> ObjectAccessor.cpp:271</div></div>
<div class="ttc" id="aa07362_html"><div class="ttname"><a href="../../d4/d99/a07362.html">ChatHandler</a></div><div class="ttdef"><b>Definition:</b> Chat.h:37</div></div>
<div class="ttc" id="aa07362_html_a54305506d6194dfdd1c1a3f30c8d1d62"><div class="ttname"><a href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">ChatHandler::PSendSysMessage</a></div><div class="ttdeci">void PSendSysMessage(std::string_view str, bool escapeCharacters=false)</div><div class="ttdef"><b>Definition:</b> Chat.cpp:210</div></div>
<div class="ttc" id="aa08466_html_a5005e8cc1a29b353328e2d5da90e441d"><div class="ttname"><a href="../../dc/d06/a08466.html#a5005e8cc1a29b353328e2d5da90e441d">Player::GetGuildIdInvited</a></div><div class="ttdeci">uint32 GetGuildIdInvited()</div><div class="ttdef"><b>Definition:</b> Player.h:1906</div></div>
<div class="ttc" id="aa08466_html_a6e3ea3c746154559e2457c3df4d0f7c7"><div class="ttname"><a href="../../dc/d06/a08466.html#a6e3ea3c746154559e2457c3df4d0f7c7">Player::GetGuild</a></div><div class="ttdeci">Guild * GetGuild() const</div><div class="ttdef"><b>Definition:</b> Player.cpp:16036</div></div>
<div class="ttc" id="aa08466_html_ac0a2e3d06c31e2d9286edca3ffcaf74d"><div class="ttname"><a href="../../dc/d06/a08466.html#ac0a2e3d06c31e2d9286edca3ffcaf74d">Player::GetSocial</a></div><div class="ttdeci">PlayerSocial * GetSocial()</div><div class="ttdef"><b>Definition:</b> Player.h:1158</div></div>
<div class="ttc" id="aa08490_html_ab4a6c0eab682fbdfa98a0a71fa6aced8"><div class="ttname"><a href="../../de/d75/a08490.html#ab4a6c0eab682fbdfa98a0a71fa6aced8">PlayerSocial::HasIgnore</a></div><div class="ttdeci">bool HasIgnore(ObjectGuid ignore_guid) const</div><div class="ttdef"><b>Definition:</b> SocialMgr.cpp:193</div></div>
<div class="ttc" id="aa09310_html_a499645830ed2b2b134c1b2fe98a30dc4"><div class="ttname"><a href="../../d8/d60/a09310.html#a499645830ed2b2b134c1b2fe98a30dc4">Guild::GetMemberCount</a></div><div class="ttdeci">uint32 GetMemberCount() const</div><div class="ttdef"><b>Definition:</b> Guild.h:771</div></div>
<div class="ttc" id="aa09310_html_a73c93908066e72bf5519728bddd23d80"><div class="ttname"><a href="../../d8/d60/a09310.html#a73c93908066e72bf5519728bddd23d80">Guild::GetName</a></div><div class="ttdeci">std::string const &amp; GetName() const</div><div class="ttdef"><b>Definition:</b> Guild.h:688</div></div>
<div class="ttc" id="aa09310_html_ad897c70e81cc04541fe54498cff5f0d8"><div class="ttname"><a href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">Guild::SendCommandResult</a></div><div class="ttdeci">static void SendCommandResult(WorldSession *session, GuildCommandType type, GuildCommandError errCode, std::string_view param={})</div><div class="ttdef"><b>Definition:</b> Guild.cpp:114</div></div>
<div class="ttc" id="aa10390_html"><div class="ttname"><a href="../../d6/d23/a10390.html">WorldPackets::Guild::GuildInvite</a></div><div class="ttdef"><b>Definition:</b> GuildPackets.h:192</div></div>
<div class="ttc" id="aa10390_html_a4ed1c240a53fa6268eb07b3c77d68757"><div class="ttname"><a href="../../d6/d23/a10390.html#a4ed1c240a53fa6268eb07b3c77d68757">WorldPackets::Guild::GuildInvite::Write</a></div><div class="ttdeci">WorldPacket const * Write() override</div><div class="ttdef"><b>Definition:</b> GuildPackets.cpp:95</div></div>
<div class="ttc" id="aa10390_html_a8a91b3f9a94776da4b23c38220c6fc3d"><div class="ttname"><a href="../../d6/d23/a10390.html#a8a91b3f9a94776da4b23c38220c6fc3d">WorldPackets::Guild::GuildInvite::InviterName</a></div><div class="ttdeci">std::string InviterName</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:198</div></div>
<div class="ttc" id="aa10390_html_ac3ae572bb65d5ea156151e5fc7abf5b8"><div class="ttname"><a href="../../d6/d23/a10390.html#ac3ae572bb65d5ea156151e5fc7abf5b8">WorldPackets::Guild::GuildInvite::GuildName</a></div><div class="ttdeci">std::string GuildName</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:199</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00806">_HasRankRight()</a>, <a class="el" href="../../#l02607">_LogEvent()</a>, <a class="el" href="../../#l00076">CONFIG_ALLOW_TWO_SIDE_INTERACTION_GUILD</a>, <a class="el" href="../../#l00122">ERR_ALREADY_IN_GUILD_S</a>, <a class="el" href="../../#l00124">ERR_ALREADY_INVITED_TO_GUILD_S</a>, <a class="el" href="../../#l00119">ERR_GUILD_COMMAND_SUCCESS</a>, <a class="el" href="../../#l00120">ERR_GUILD_INTERNAL</a>, <a class="el" href="../../#l00132">ERR_GUILD_NOT_ALLIED</a>, <a class="el" href="../../#l00128">ERR_GUILD_PERMISSIONS</a>, <a class="el" href="../../#l00131">ERR_GUILD_PLAYER_NOT_FOUND_S</a>, <a class="el" href="../../#l00271">ObjectAccessor::FindPlayerByName()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l16036">Player::GetGuild()</a>, <a class="el" href="../../#l01904">Player::GetGuildId()</a>, <a class="el" href="../../#l01906">Player::GetGuildIdInvited()</a>, <a class="el" href="../../#l00771">GetMemberCount()</a>, <a class="el" href="../../#l00463">WorldObject::GetName()</a>, <a class="el" href="../../#l00688">GetName()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l02001">Player::GetSession()</a>, <a class="el" href="../../#l01158">Player::GetSocial()</a>, <a class="el" href="../../#l02111">Player::GetTeamId()</a>, <a class="el" href="../../#l00081">GR_RIGHT_INVITE</a>, <a class="el" href="../../#l00100">GUILD_COMMAND_INVITE</a>, <a class="el" href="../../#l00210">GUILD_EVENT_LOG_INVITE_PLAYER</a>, <a class="el" href="../../#l00199">WorldPackets::Guild::GuildInvite::GuildName</a>, <a class="el" href="../../#l00193">PlayerSocial::HasIgnore()</a>, <a class="el" href="../../#l00198">WorldPackets::Guild::GuildInvite::InviterName</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00783">m_id</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00074">sConfigMgr</a>, <a class="el" href="../../#l00114">SendCommandResult()</a>, <a class="el" href="../../#l05723">Player::SendDirectMessage()</a>, <a class="el" href="../../#l01903">Player::SetGuildIdInvited()</a>, <a class="el" href="../../#l00442">sWorld</a>, and <a class="el" href="../../#l00095">WorldPackets::Guild::GuildInvite::Write()</a>.</p>

</div>
</div>
<a id="a3a6aec616c51b90f7232c88e5436516a" name="a3a6aec616c51b90f7232c88e5436516a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a6aec616c51b90f7232c88e5436516a">&#9670;&#160;</a></span>HandleLeaveMember()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleLeaveMember </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1507</span>{</div>
<div class="line"><span class="lineno"> 1508</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1509</span>    <span class="keywordtype">bool</span> disband = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1510</span> </div>
<div class="line"><span class="lineno"> 1511</span>    <span class="comment">// If leader is leaving</span></div>
<div class="line"><span class="lineno"> 1512</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d60/a09310.html#aaf78aa36da22b99c10df4a971d538b3d">_IsLeader</a>(player))</div>
<div class="line"><span class="lineno"> 1513</span>    {</div>
<div class="line"><span class="lineno"> 1514</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>.size() &gt; 1)</div>
<div class="line"><span class="lineno"> 1515</span>            <span class="comment">// Leader cannot leave if he is not the last member</span></div>
<div class="line"><span class="lineno"> 1516</span>            <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61a8ecfc411c48ea8e8557b674af93aff48">GUILD_COMMAND_QUIT</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba6506724d2f8b0fdb419acc3d201094f9">ERR_GUILD_LEADER_LEAVE</a>);</div>
<div class="line"><span class="lineno"> 1517</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1518</span>        {</div>
<div class="line"><span class="lineno"> 1519</span>            <span class="comment">// Guild is disbanded if leader leaves.</span></div>
<div class="line"><span class="lineno"> 1520</span>            <a class="code hl_function" href="../../d8/d60/a09310.html#acba39ec95f021c6d02241d9d6b9bd492">Disband</a>();</div>
<div class="line"><span class="lineno"> 1521</span>            disband = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1522</span>        }</div>
<div class="line"><span class="lineno"> 1523</span>    }</div>
<div class="line"><span class="lineno"> 1524</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1525</span>    {</div>
<div class="line"><span class="lineno"> 1526</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#a4b1c1eae7f85a92e17ba48c4ac52f0c9">DeleteMember</a>(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1527</span> </div>
<div class="line"><span class="lineno"> 1528</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ae5ffb2824665b4297a0b5d6028169d50">_LogEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#aff19569a84ef44eea2acf4d6bcb86690a0ec79d8832cc2bf0c1a715d8f702faff">GUILD_EVENT_LOG_LEAVE_GUILD</a>, player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno"> 1529</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da0e9ffb6d5c2c9909a0eca1ede00ee816">GE_LEFT</a>, player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>());</div>
<div class="line"><span class="lineno"> 1530</span> </div>
<div class="line"><span class="lineno"> 1531</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61a8ecfc411c48ea8e8557b674af93aff48">GUILD_COMMAND_QUIT</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba66c56e2d0547e9c74ca2e69268ac7b58">ERR_GUILD_COMMAND_SUCCESS</a>, <a class="code hl_variable" href="../../d8/d60/a09310.html#a6aa6b5f1c7e4c81c8800dcc55f65b3c5">m_name</a>);</div>
<div class="line"><span class="lineno"> 1532</span>    }</div>
<div class="line"><span class="lineno"> 1533</span> </div>
<div class="line"><span class="lineno"> 1534</span>    <a class="code hl_define" href="../../d7/dbe/a04193.html#a19ac4cd787f75380716d027d20c06b7a">sCalendarMgr</a>-&gt;RemovePlayerGuildEventsAndSignups(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), <a class="code hl_function" href="../../d8/d60/a09310.html#a66dfb8bfc30bb82d9d4361467ef8b8d5">GetId</a>());</div>
<div class="line"><span class="lineno"> 1535</span> </div>
<div class="line"><span class="lineno"> 1536</span>    <span class="keywordflow">if</span> (disband)</div>
<div class="line"><span class="lineno"> 1537</span>        <span class="keyword">delete</span> <span class="keyword">this</span>;</div>
<div class="line"><span class="lineno"> 1538</span>}</div>
<div class="ttc" id="aa02981_html_a30d73a1238457bffb5d55ce50c5d1a61a8ecfc411c48ea8e8557b674af93aff48"><div class="ttname"><a href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61a8ecfc411c48ea8e8557b674af93aff48">GUILD_COMMAND_QUIT</a></div><div class="ttdeci">@ GUILD_COMMAND_QUIT</div><div class="ttdef"><b>Definition:</b> Guild.h:101</div></div>
<div class="ttc" id="aa02981_html_a49f5242ada5394c5a9c6142fec1beb0ba6506724d2f8b0fdb419acc3d201094f9"><div class="ttname"><a href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba6506724d2f8b0fdb419acc3d201094f9">ERR_GUILD_LEADER_LEAVE</a></div><div class="ttdeci">@ ERR_GUILD_LEADER_LEAVE</div><div class="ttdef"><b>Definition:</b> Guild.h:127</div></div>
<div class="ttc" id="aa02981_html_aff19569a84ef44eea2acf4d6bcb86690a0ec79d8832cc2bf0c1a715d8f702faff"><div class="ttname"><a href="../../d7/d93/a02981.html#aff19569a84ef44eea2acf4d6bcb86690a0ec79d8832cc2bf0c1a715d8f702faff">GUILD_EVENT_LOG_LEAVE_GUILD</a></div><div class="ttdeci">@ GUILD_EVENT_LOG_LEAVE_GUILD</div><div class="ttdef"><b>Definition:</b> Guild.h:215</div></div>
<div class="ttc" id="aa04193_html_a19ac4cd787f75380716d027d20c06b7a"><div class="ttname"><a href="../../d7/dbe/a04193.html#a19ac4cd787f75380716d027d20c06b7a">sCalendarMgr</a></div><div class="ttdeci">#define sCalendarMgr</div><div class="ttdef"><b>Definition:</b> CalendarMgr.h:344</div></div>
<div class="ttc" id="aa09310_html_a66dfb8bfc30bb82d9d4361467ef8b8d5"><div class="ttname"><a href="../../d8/d60/a09310.html#a66dfb8bfc30bb82d9d4361467ef8b8d5">Guild::GetId</a></div><div class="ttdeci">uint32 GetId() const</div><div class="ttdef"><b>Definition:</b> Guild.h:686</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l02455">_IsLeader()</a>, <a class="el" href="../../#l02607">_LogEvent()</a>, <a class="el" href="../../#l02259">DeleteMember()</a>, <a class="el" href="../../#l01108">Disband()</a>, <a class="el" href="../../#l00119">ERR_GUILD_COMMAND_SUCCESS</a>, <a class="el" href="../../#l00127">ERR_GUILD_LEADER_LEAVE</a>, <a class="el" href="../../#l00151">GE_LEFT</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00686">GetId()</a>, <a class="el" href="../../#l00463">WorldObject::GetName()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00101">GUILD_COMMAND_QUIT</a>, <a class="el" href="../../#l00215">GUILD_EVENT_LOG_LEAVE_GUILD</a>, <a class="el" href="../../#l00795">m_members</a>, <a class="el" href="../../#l00784">m_name</a>, <a class="el" href="../../#l00344">sCalendarMgr</a>, and <a class="el" href="../../#l00114">SendCommandResult()</a>.</p>

</div>
</div>
<a id="addaab43239a5b98c8b4c0b4f13150ccd" name="addaab43239a5b98c8b4c0b4f13150ccd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addaab43239a5b98c8b4c0b4f13150ccd">&#9670;&#160;</a></span>HandleMemberDepositMoney()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleMemberDepositMoney </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>amount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1662</span>{</div>
<div class="line"><span class="lineno"> 1663</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1664</span> </div>
<div class="line"><span class="lineno"> 1665</span>    <span class="comment">// Call script after validation and before money transfer.</span></div>
<div class="line"><span class="lineno"> 1666</span>    <a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnGuildMemberDepositMoney(<span class="keyword">this</span>, player, amount);</div>
<div class="line"><span class="lineno"> 1667</span> </div>
<div class="line"><span class="lineno"> 1668</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d60/a09310.html#a148e3da6e65ca7a0724799ad8b09091f">m_bankMoney</a> &gt; <a class="code hl_variable" href="../../d7/d93/a02981.html#a1efc85fd2fe64c5475c05c72a006f8e6">GUILD_BANK_MONEY_LIMIT</a> - amount)</div>
<div class="line"><span class="lineno"> 1669</span>    {</div>
<div class="line"><span class="lineno"> 1670</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61a74173aa0ec19b68c0f531dcbc3cc360a">GUILD_COMMAND_MOVE_ITEM</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba8c0d556ebb137e6ad93d21057c9ac47a">ERR_GUILD_BANK_FULL</a>);</div>
<div class="line"><span class="lineno"> 1671</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1672</span>    }</div>
<div class="line"><span class="lineno"> 1673</span> </div>
<div class="line"><span class="lineno"> 1674</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.BeginTransaction();</div>
<div class="line"><span class="lineno"> 1675</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ac79dc8d555cb9004969c8d028b370dbe">_ModifyBankMoney</a>(trans, amount, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1676</span> </div>
<div class="line"><span class="lineno"> 1677</span>    player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a46351fb555db3b97fc531f215d2d2338">ModifyMoney</a>(-<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(amount));</div>
<div class="line"><span class="lineno"> 1678</span>    player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a4bd2ef6449b53c3fcaedd2ae36e273d9">SaveGoldToDB</a>(trans);</div>
<div class="line"><span class="lineno"> 1679</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ae3b50f9118a606289a169f5d2addd894">_LogBankEvent</a>(trans, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a965ebfa7c809976c6361afae89c98895a3a60cdc1e4288057e5e23d4d3ad699a0">GUILD_BANK_LOG_DEPOSIT_MONEY</a>, <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0), player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), amount);</div>
<div class="line"><span class="lineno"> 1680</span> </div>
<div class="line"><span class="lineno"> 1681</span>    <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.CommitTransaction(trans);</div>
<div class="line"><span class="lineno"> 1682</span> </div>
<div class="line"><span class="lineno"> 1683</span>    std::string aux = <a class="code hl_function" href="../../d4/d7b/a04698.html#aee21cf91c2a5f1c520d6b01dd6b2e835">Acore::Impl::ByteArrayToHexStr</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>*<span class="keyword">&gt;</span>(&amp;<a class="code hl_variable" href="../../d8/d60/a09310.html#a148e3da6e65ca7a0724799ad8b09091f">m_bankMoney</a>), 8, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1684</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da854f585b5909f0f5815f15a501947776">GE_BANK_MONEY_SET</a>, <a class="code hl_variable" href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a>, aux.c_str());</div>
<div class="line"><span class="lineno"> 1685</span> </div>
<div class="line"><span class="lineno"> 1686</span>    <span class="keywordflow">if</span> (amount &gt; 10 * <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aa61850c8cc16fdf9ea749bfde3adb448aa7790837e9c1f7cb78b55743b9a67623">GOLD</a>)     <span class="comment">// receiver_acc = Guild id, receiver_name = Guild name</span></div>
<div class="line"><span class="lineno"> 1687</span>        <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(<span class="stringliteral">&quot;INSERT INTO log_money VALUES({}, {}, \&quot;{}\&quot;, \&quot;{}\&quot;, {}, \&quot;{}\&quot;, {}, \&quot;(guild members: {}, new amount: {}, leader guid low: {}, sender level: {})\&quot;, NOW(), {})&quot;</span>,</div>
<div class="line"><span class="lineno"> 1688</span>            session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>().<a class="code hl_function" href="../../d4/df2/a08266.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>(), player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>(), session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#abd79893fa3de7652009e32fff5d9523d">GetRemoteAddress</a>(), <a class="code hl_function" href="../../d8/d60/a09310.html#a66dfb8bfc30bb82d9d4361467ef8b8d5">GetId</a>(), <a class="code hl_function" href="../../d8/d60/a09310.html#a73c93908066e72bf5519728bddd23d80">GetName</a>(), amount, <a class="code hl_function" href="../../d8/d60/a09310.html#a499645830ed2b2b134c1b2fe98a30dc4">GetMemberCount</a>(), <a class="code hl_function" href="../../d8/d60/a09310.html#af0ea8e3ce20309b0790ad813777f1614">GetTotalBankMoney</a>(), <a class="code hl_function" href="../../d8/d60/a09310.html#a23dbcc9ab646e6799fce50d32f685ca7">GetLeaderGUID</a>().GetCounter(), player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#af4767dc4f1480f7c0527db4efe2643d9">GetLevel</a>(), 3);</div>
<div class="line"><span class="lineno"> 1689</span>}</div>
<div class="ttc" id="aa02771_html_aa61850c8cc16fdf9ea749bfde3adb448aa7790837e9c1f7cb78b55743b9a67623"><div class="ttname"><a href="../../d0/dbd/a02771.html#aa61850c8cc16fdf9ea749bfde3adb448aa7790837e9c1f7cb78b55743b9a67623">GOLD</a></div><div class="ttdeci">@ GOLD</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:253</div></div>
<div class="ttc" id="aa02981_html_a06a0aa0a30a110150b9f76a3be9ee59da854f585b5909f0f5815f15a501947776"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da854f585b5909f0f5815f15a501947776">GE_BANK_MONEY_SET</a></div><div class="ttdeci">@ GE_BANK_MONEY_SET</div><div class="ttdef"><b>Definition:</b> Guild.h:164</div></div>
<div class="ttc" id="aa02981_html_a1efc85fd2fe64c5475c05c72a006f8e6"><div class="ttname"><a href="../../d7/d93/a02981.html#a1efc85fd2fe64c5475c05c72a006f8e6">GUILD_BANK_MONEY_LIMIT</a></div><div class="ttdeci">constexpr uint64 GUILD_BANK_MONEY_LIMIT</div><div class="ttdef"><b>Definition:</b> Guild.h:54</div></div>
<div class="ttc" id="aa02981_html_a30d73a1238457bffb5d55ce50c5d1a61a74173aa0ec19b68c0f531dcbc3cc360a"><div class="ttname"><a href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61a74173aa0ec19b68c0f531dcbc3cc360a">GUILD_COMMAND_MOVE_ITEM</a></div><div class="ttdeci">@ GUILD_COMMAND_MOVE_ITEM</div><div class="ttdef"><b>Definition:</b> Guild.h:113</div></div>
<div class="ttc" id="aa02981_html_a49f5242ada5394c5a9c6142fec1beb0ba8c0d556ebb137e6ad93d21057c9ac47a"><div class="ttname"><a href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba8c0d556ebb137e6ad93d21057c9ac47a">ERR_GUILD_BANK_FULL</a></div><div class="ttdeci">@ ERR_GUILD_BANK_FULL</div><div class="ttdef"><b>Definition:</b> Guild.h:141</div></div>
<div class="ttc" id="aa02981_html_a965ebfa7c809976c6361afae89c98895a3a60cdc1e4288057e5e23d4d3ad699a0"><div class="ttname"><a href="../../d7/d93/a02981.html#a965ebfa7c809976c6361afae89c98895a3a60cdc1e4288057e5e23d4d3ad699a0">GUILD_BANK_LOG_DEPOSIT_MONEY</a></div><div class="ttdeci">@ GUILD_BANK_LOG_DEPOSIT_MONEY</div><div class="ttdef"><b>Definition:</b> Guild.h:200</div></div>
<div class="ttc" id="aa04698_html_aee21cf91c2a5f1c520d6b01dd6b2e835"><div class="ttname"><a href="../../d4/d7b/a04698.html#aee21cf91c2a5f1c520d6b01dd6b2e835">Acore::Impl::ByteArrayToHexStr</a></div><div class="ttdeci">AC_COMMON_API std::string ByteArrayToHexStr(uint8 const *bytes, std::size_t length, bool reverse=false)</div><div class="ttdef"><b>Definition:</b> Util.cpp:545</div></div>
<div class="ttc" id="aa08466_html_a4bd2ef6449b53c3fcaedd2ae36e273d9"><div class="ttname"><a href="../../dc/d06/a08466.html#a4bd2ef6449b53c3fcaedd2ae36e273d9">Player::SaveGoldToDB</a></div><div class="ttdeci">void SaveGoldToDB(CharacterDatabaseTransaction trans)</div><div class="ttdef"><b>Definition:</b> PlayerStorage.cpp:7126</div></div>
<div class="ttc" id="aa08598_html_af4767dc4f1480f7c0527db4efe2643d9"><div class="ttname"><a href="../../d4/d46/a08598.html#af4767dc4f1480f7c0527db4efe2643d9">Unit::GetLevel</a></div><div class="ttdeci">uint8 GetLevel() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1024</div></div>
<div class="ttc" id="aa09310_html_ac79dc8d555cb9004969c8d028b370dbe"><div class="ttname"><a href="../../d8/d60/a09310.html#ac79dc8d555cb9004969c8d028b370dbe">Guild::_ModifyBankMoney</a></div><div class="ttdeci">bool _ModifyBankMoney(CharacterDatabaseTransaction trans, uint64 amount, bool add)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2473</div></div>
<div class="ttc" id="aa09310_html_ae3b50f9118a606289a169f5d2addd894"><div class="ttname"><a href="../../d8/d60/a09310.html#ae3b50f9118a606289a169f5d2addd894">Guild::_LogBankEvent</a></div><div class="ttdeci">void _LogBankEvent(CharacterDatabaseTransaction trans, GuildBankEventLogTypes eventType, uint8 tabId, ObjectGuid playerGuid, uint32 itemOrMoney, uint16 itemStackCount=0, uint8 destTabId=0)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2617</div></div>
<div class="ttc" id="aa09310_html_af0ea8e3ce20309b0790ad813777f1614"><div class="ttname"><a href="../../d8/d60/a09310.html#af0ea8e3ce20309b0790ad813777f1614">Guild::GetTotalBankMoney</a></div><div class="ttdeci">uint64 GetTotalBankMoney() const</div><div class="ttdef"><b>Definition:</b> Guild.h:770</div></div>
<div class="ttc" id="aa10810_html_a9fa5510daf576fe281d1961430902dd9"><div class="ttname"><a href="../../d9/d7c/a10810.html#a9fa5510daf576fe281d1961430902dd9">WorldSession::GetAccountId</a></div><div class="ttdeci">uint32 GetAccountId() const</div><div class="ttdef"><b>Definition:</b> WorldSession.h:375</div></div>
<div class="ttc" id="aa10810_html_abd79893fa3de7652009e32fff5d9523d"><div class="ttname"><a href="../../d9/d7c/a10810.html#abd79893fa3de7652009e32fff5d9523d">WorldSession::GetRemoteAddress</a></div><div class="ttdeci">std::string const &amp; GetRemoteAddress()</div><div class="ttdef"><b>Definition:</b> WorldSession.h:385</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l02617">_LogBankEvent()</a>, <a class="el" href="../../#l02473">_ModifyBankMoney()</a>, <a class="el" href="../../#l00545">Acore::Impl::ByteArrayToHexStr()</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00120">ObjectGuid::Empty</a>, <a class="el" href="../../#l00141">ERR_GUILD_BANK_FULL</a>, <a class="el" href="../../#l00164">GE_BANK_MONEY_SET</a>, <a class="el" href="../../#l00375">WorldSession::GetAccountId()</a>, <a class="el" href="../../#l00145">ObjectGuid::GetCounter()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00686">GetId()</a>, <a class="el" href="../../#l00687">GetLeaderGUID()</a>, <a class="el" href="../../#l01024">Unit::GetLevel()</a>, <a class="el" href="../../#l00771">GetMemberCount()</a>, <a class="el" href="../../#l00463">WorldObject::GetName()</a>, <a class="el" href="../../#l00688">GetName()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00385">WorldSession::GetRemoteAddress()</a>, <a class="el" href="../../#l00770">GetTotalBankMoney()</a>, <a class="el" href="../../#l00253">GOLD</a>, <a class="el" href="../../#l00200">GUILD_BANK_LOG_DEPOSIT_MONEY</a>, <a class="el" href="../../#l00054">GUILD_BANK_MONEY_LIMIT</a>, <a class="el" href="../../#l00113">GUILD_COMMAND_MOVE_ITEM</a>, <a class="el" href="../../#l00792">m_bankMoney</a>, <a class="el" href="../../#l11547">Player::ModifyMoney()</a>, <a class="el" href="../../#l07126">Player::SaveGoldToDB()</a>, <a class="el" href="../../#l00114">SendCommandResult()</a>, and <a class="el" href="../../#l00709">sScriptMgr</a>.</p>

</div>
</div>
<a id="a9fb545fefdd11bc53ca3e8ffd3d8e5c2" name="a9fb545fefdd11bc53ca3e8ffd3d8e5c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fb545fefdd11bc53ca3e8ffd3d8e5c2">&#9670;&#160;</a></span>HandleMemberLogout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleMemberLogout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1743</span>{</div>
<div class="line"><span class="lineno"> 1744</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1745</span>    <span class="keywordflow">if</span> (Member* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()))</div>
<div class="line"><span class="lineno"> 1746</span>    {</div>
<div class="line"><span class="lineno"> 1747</span>        member-&gt;SetStats(player);</div>
<div class="line"><span class="lineno"> 1748</span>        member-&gt;UpdateLogoutTime();</div>
<div class="line"><span class="lineno"> 1749</span>        member-&gt;ResetFlags();</div>
<div class="line"><span class="lineno"> 1750</span>    }</div>
<div class="line"><span class="lineno"> 1751</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59daa42cdde19a25a9a63f9b3239641ff605">GE_SIGNED_OFF</a>, player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>());</div>
<div class="line"><span class="lineno"> 1752</span>}</div>
<div class="ttc" id="aa02981_html_a06a0aa0a30a110150b9f76a3be9ee59daa42cdde19a25a9a63f9b3239641ff605"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59daa42cdde19a25a9a63f9b3239641ff605">GE_SIGNED_OFF</a></div><div class="ttdeci">@ GE_SIGNED_OFF</div><div class="ttdef"><b>Definition:</b> Guild.h:160</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l00160">GE_SIGNED_OFF</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00463">WorldObject::GetName()</a>, and <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>.</p>

</div>
</div>
<a id="a7e0ea01c1d042095c35e2a39ca89da41" name="a7e0ea01c1d042095c35e2a39ca89da41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e0ea01c1d042095c35e2a39ca89da41">&#9670;&#160;</a></span>HandleMemberWithdrawMoney()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::HandleMemberWithdrawMoney </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>repair</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1692</span>{</div>
<div class="line"><span class="lineno"> 1693</span>    <span class="comment">//clamp amount to MAX_MONEY_AMOUNT, Players can&#39;t hold more than that anyway</span></div>
<div class="line"><span class="lineno"> 1694</span>    amount = std::min(amount, <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(<a class="code hl_define" href="../../d7/d13/a03365.html#aabbccefded1f0620ac64736f1c8224f9">MAX_MONEY_AMOUNT</a>));</div>
<div class="line"><span class="lineno"> 1695</span> </div>
<div class="line"><span class="lineno"> 1696</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d60/a09310.html#a148e3da6e65ca7a0724799ad8b09091f">m_bankMoney</a> &lt; amount)                               <span class="comment">// Not enough money in bank</span></div>
<div class="line"><span class="lineno"> 1697</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1698</span> </div>
<div class="line"><span class="lineno"> 1699</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1700</span> </div>
<div class="line"><span class="lineno"> 1701</span>    Member* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno"> 1702</span>    <span class="keywordflow">if</span> (!member)</div>
<div class="line"><span class="lineno"> 1703</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1704</span> </div>
<div class="line"><span class="lineno"> 1705</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(<a class="code hl_function" href="../../d8/d60/a09310.html#a19ab0b7ff433180bafc6461c7588084c">_GetMemberRemainingMoney</a>(*member)) &lt; amount)   <span class="comment">// Check if we have enough slot/money today</span></div>
<div class="line"><span class="lineno"> 1706</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1707</span> </div>
<div class="line"><span class="lineno"> 1708</span>    <span class="keywordflow">if</span> (!(<a class="code hl_function" href="../../d8/d60/a09310.html#a2d37224ec9bf1c2b1ec75562b62192ea">_GetRankRights</a>(member-&gt;GetRankId()) &amp; <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7aaa6488e65239f554a6b825bceed19a48">GR_RIGHT_WITHDRAW_REPAIR</a>) &amp;&amp; repair)</div>
<div class="line"><span class="lineno"> 1709</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1710</span> </div>
<div class="line"><span class="lineno"> 1711</span>    <span class="comment">// Call script after validation and before money transfer.</span></div>
<div class="line"><span class="lineno"> 1712</span>    <a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnGuildMemberWitdrawMoney(<span class="keyword">this</span>, player, amount, repair);</div>
<div class="line"><span class="lineno"> 1713</span> </div>
<div class="line"><span class="lineno"> 1714</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.BeginTransaction();</div>
<div class="line"><span class="lineno"> 1715</span>    <span class="comment">// Add money to player (if required)</span></div>
<div class="line"><span class="lineno"> 1716</span>    <span class="keywordflow">if</span> (!repair)</div>
<div class="line"><span class="lineno"> 1717</span>    {</div>
<div class="line"><span class="lineno"> 1718</span>        <span class="keywordflow">if</span> (!player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a46351fb555db3b97fc531f215d2d2338">ModifyMoney</a>(amount))</div>
<div class="line"><span class="lineno"> 1719</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1720</span> </div>
<div class="line"><span class="lineno"> 1721</span>        player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a4bd2ef6449b53c3fcaedd2ae36e273d9">SaveGoldToDB</a>(trans);</div>
<div class="line"><span class="lineno"> 1722</span>    }</div>
<div class="line"><span class="lineno"> 1723</span> </div>
<div class="line"><span class="lineno"> 1724</span>    <span class="comment">// Update remaining money amount</span></div>
<div class="line"><span class="lineno"> 1725</span>    member-&gt;UpdateBankWithdrawValue(trans, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaadf100aec6c7a6f10b7af8629930feff7">GUILD_BANK_MAX_TABS</a>, amount);</div>
<div class="line"><span class="lineno"> 1726</span>    <span class="comment">// Remove money from bank</span></div>
<div class="line"><span class="lineno"> 1727</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ac79dc8d555cb9004969c8d028b370dbe">_ModifyBankMoney</a>(trans, amount, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1728</span> </div>
<div class="line"><span class="lineno"> 1729</span>    <span class="comment">// Log guild bank event</span></div>
<div class="line"><span class="lineno"> 1730</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ae3b50f9118a606289a169f5d2addd894">_LogBankEvent</a>(trans, repair ? <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a965ebfa7c809976c6361afae89c98895ae9eedb0b98b00617b12b62cd10f5e4f6">GUILD_BANK_LOG_REPAIR_MONEY</a> : <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a965ebfa7c809976c6361afae89c98895a811459ece597faecc5bb31a2b98bfc6f">GUILD_BANK_LOG_WITHDRAW_MONEY</a>, <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0), player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), amount);</div>
<div class="line"><span class="lineno"> 1731</span>    <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.CommitTransaction(trans);</div>
<div class="line"><span class="lineno"> 1732</span> </div>
<div class="line"><span class="lineno"> 1733</span>    <span class="keywordflow">if</span> (amount &gt; 10 * <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aa61850c8cc16fdf9ea749bfde3adb448aa7790837e9c1f7cb78b55743b9a67623">GOLD</a>)     <span class="comment">// sender_acc = 0 (guild has no account), sender_guid = Guild id, sender_name = Guild name</span></div>
<div class="line"><span class="lineno"> 1734</span>        <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(<span class="stringliteral">&quot;INSERT INTO log_money VALUES({}, {}, \&quot;{}\&quot;, \&quot;{}\&quot;, {}, \&quot;{}\&quot;, {}, \&quot;(guild, members: {}, new amount: {}, leader guid low: {}, withdrawer level: {})\&quot;, NOW(), {})&quot;</span>,</div>
<div class="line"><span class="lineno"> 1735</span>            0, <a class="code hl_function" href="../../d8/d60/a09310.html#a66dfb8bfc30bb82d9d4361467ef8b8d5">GetId</a>(), <a class="code hl_function" href="../../d8/d60/a09310.html#a73c93908066e72bf5519728bddd23d80">GetName</a>(), session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#abd79893fa3de7652009e32fff5d9523d">GetRemoteAddress</a>(), session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>(), player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>(), amount, <a class="code hl_function" href="../../d8/d60/a09310.html#a499645830ed2b2b134c1b2fe98a30dc4">GetMemberCount</a>(), <a class="code hl_function" href="../../d8/d60/a09310.html#af0ea8e3ce20309b0790ad813777f1614">GetTotalBankMoney</a>(), <a class="code hl_function" href="../../d8/d60/a09310.html#a23dbcc9ab646e6799fce50d32f685ca7">GetLeaderGUID</a>().GetCounter(), player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#af4767dc4f1480f7c0527db4efe2643d9">GetLevel</a>(), 4);</div>
<div class="line"><span class="lineno"> 1736</span> </div>
<div class="line"><span class="lineno"> 1737</span>    std::string aux = <a class="code hl_function" href="../../d4/d7b/a04698.html#aee21cf91c2a5f1c520d6b01dd6b2e835">Acore::Impl::ByteArrayToHexStr</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>*<span class="keyword">&gt;</span>(&amp;<a class="code hl_variable" href="../../d8/d60/a09310.html#a148e3da6e65ca7a0724799ad8b09091f">m_bankMoney</a>), 8, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1738</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da854f585b5909f0f5815f15a501947776">GE_BANK_MONEY_SET</a>, <a class="code hl_variable" href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a>, aux.c_str());</div>
<div class="line"><span class="lineno"> 1739</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1740</span>}</div>
<div class="ttc" id="aa02981_html_a965ebfa7c809976c6361afae89c98895a811459ece597faecc5bb31a2b98bfc6f"><div class="ttname"><a href="../../d7/d93/a02981.html#a965ebfa7c809976c6361afae89c98895a811459ece597faecc5bb31a2b98bfc6f">GUILD_BANK_LOG_WITHDRAW_MONEY</a></div><div class="ttdeci">@ GUILD_BANK_LOG_WITHDRAW_MONEY</div><div class="ttdef"><b>Definition:</b> Guild.h:201</div></div>
<div class="ttc" id="aa02981_html_a965ebfa7c809976c6361afae89c98895ae9eedb0b98b00617b12b62cd10f5e4f6"><div class="ttname"><a href="../../d7/d93/a02981.html#a965ebfa7c809976c6361afae89c98895ae9eedb0b98b00617b12b62cd10f5e4f6">GUILD_BANK_LOG_REPAIR_MONEY</a></div><div class="ttdeci">@ GUILD_BANK_LOG_REPAIR_MONEY</div><div class="ttdef"><b>Definition:</b> Guild.h:202</div></div>
<div class="ttc" id="aa03365_html_aabbccefded1f0620ac64736f1c8224f9"><div class="ttname"><a href="../../d7/d13/a03365.html#aabbccefded1f0620ac64736f1c8224f9">MAX_MONEY_AMOUNT</a></div><div class="ttdeci">#define MAX_MONEY_AMOUNT</div><div class="ttdef"><b>Definition:</b> Player.h:935</div></div>
<div class="ttc" id="aa09310_html_a19ab0b7ff433180bafc6461c7588084c"><div class="ttname"><a href="../../d8/d60/a09310.html#a19ab0b7ff433180bafc6461c7588084c">Guild::_GetMemberRemainingMoney</a></div><div class="ttdeci">int32 _GetMemberRemainingMoney(Member const &amp;member) const</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2568</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l02568">_GetMemberRemainingMoney()</a>, <a class="el" href="../../#l02525">_GetRankRights()</a>, <a class="el" href="../../#l02617">_LogBankEvent()</a>, <a class="el" href="../../#l02473">_ModifyBankMoney()</a>, <a class="el" href="../../#l00545">Acore::Impl::ByteArrayToHexStr()</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00120">ObjectGuid::Empty</a>, <a class="el" href="../../#l00164">GE_BANK_MONEY_SET</a>, <a class="el" href="../../#l00375">WorldSession::GetAccountId()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00686">GetId()</a>, <a class="el" href="../../#l00687">GetLeaderGUID()</a>, <a class="el" href="../../#l01024">Unit::GetLevel()</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00771">GetMemberCount()</a>, <a class="el" href="../../#l00463">WorldObject::GetName()</a>, <a class="el" href="../../#l00688">GetName()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00330">Guild::Member::GetRankId()</a>, <a class="el" href="../../#l00385">WorldSession::GetRemoteAddress()</a>, <a class="el" href="../../#l00770">GetTotalBankMoney()</a>, <a class="el" href="../../#l00253">GOLD</a>, <a class="el" href="../../#l00091">GR_RIGHT_WITHDRAW_REPAIR</a>, <a class="el" href="../../#l00202">GUILD_BANK_LOG_REPAIR_MONEY</a>, <a class="el" href="../../#l00201">GUILD_BANK_LOG_WITHDRAW_MONEY</a>, <a class="el" href="../../#l00042">GUILD_BANK_MAX_TABS</a>, <a class="el" href="../../#l00792">m_bankMoney</a>, <a class="el" href="../../#l00935">MAX_MONEY_AMOUNT</a>, <a class="el" href="../../#l11547">Player::ModifyMoney()</a>, <a class="el" href="../../#l07126">Player::SaveGoldToDB()</a>, <a class="el" href="../../#l00709">sScriptMgr</a>, and <a class="el" href="../../#l00649">Guild::Member::UpdateBankWithdrawValue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l04857">Player::DurabilityRepair()</a>.</p>

</div>
</div>
<a id="a4788f5b94a3767ddc69824e41343b983" name="a4788f5b94a3767ddc69824e41343b983"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4788f5b94a3767ddc69824e41343b983">&#9670;&#160;</a></span>HandleQuery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleQuery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1251</span>{</div>
<div class="line"><span class="lineno"> 1252</span>    <a class="code hl_class" href="../../d5/d54/a10338.html">WorldPackets::Guild::QueryGuildInfoResponse</a> response;</div>
<div class="line"><span class="lineno"> 1253</span>    response.<a class="code hl_variable" href="../../d5/d54/a10338.html#a04eec0531238fa55a91afa11c394fbce">GuildId</a> = <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>;</div>
<div class="line"><span class="lineno"> 1254</span> </div>
<div class="line"><span class="lineno"> 1255</span>    response.<a class="code hl_variable" href="../../d5/d54/a10338.html#a749e992a19264b259f62d403b4925abe">Info</a>.<a class="code hl_variable" href="../../d9/d14/a10334.html#aa6309467f9f09725a8698de864b4e63c">EmblemStyle</a> = <a class="code hl_variable" href="../../d8/d60/a09310.html#ada0bd10a22291059151d9ef42b1e3bba">m_emblemInfo</a>.<a class="code hl_function" href="../../dc/d65/a09302.html#a0e6d684542535d537bdeba4104b7a18d">GetStyle</a>();</div>
<div class="line"><span class="lineno"> 1256</span>    response.<a class="code hl_variable" href="../../d5/d54/a10338.html#a749e992a19264b259f62d403b4925abe">Info</a>.<a class="code hl_variable" href="../../d9/d14/a10334.html#a2e8a4768292d3566bb61009056a8a230">EmblemColor</a> = <a class="code hl_variable" href="../../d8/d60/a09310.html#ada0bd10a22291059151d9ef42b1e3bba">m_emblemInfo</a>.<a class="code hl_function" href="../../dc/d65/a09302.html#a15108f3a2a93ebbc01111672dd238d63">GetColor</a>();</div>
<div class="line"><span class="lineno"> 1257</span>    response.<a class="code hl_variable" href="../../d5/d54/a10338.html#a749e992a19264b259f62d403b4925abe">Info</a>.<a class="code hl_variable" href="../../d9/d14/a10334.html#acd5105c31e0f56e680f3384e86186872">BorderStyle</a> = <a class="code hl_variable" href="../../d8/d60/a09310.html#ada0bd10a22291059151d9ef42b1e3bba">m_emblemInfo</a>.<a class="code hl_function" href="../../dc/d65/a09302.html#a7a791a3f467e72a3e8e941e3179d7709">GetBorderStyle</a>();</div>
<div class="line"><span class="lineno"> 1258</span>    response.<a class="code hl_variable" href="../../d5/d54/a10338.html#a749e992a19264b259f62d403b4925abe">Info</a>.<a class="code hl_variable" href="../../d9/d14/a10334.html#abb2489b9be8a0d4a20d209d6293d7d46">BorderColor</a> = <a class="code hl_variable" href="../../d8/d60/a09310.html#ada0bd10a22291059151d9ef42b1e3bba">m_emblemInfo</a>.<a class="code hl_function" href="../../dc/d65/a09302.html#ac5ea55d7fd129524630dd0d486b457a7">GetBorderColor</a>();</div>
<div class="line"><span class="lineno"> 1259</span>    response.<a class="code hl_variable" href="../../d5/d54/a10338.html#a749e992a19264b259f62d403b4925abe">Info</a>.<a class="code hl_variable" href="../../d9/d14/a10334.html#abab86dd497de86088873178bf1d54b5b">BackgroundColor</a> = <a class="code hl_variable" href="../../d8/d60/a09310.html#ada0bd10a22291059151d9ef42b1e3bba">m_emblemInfo</a>.<a class="code hl_function" href="../../dc/d65/a09302.html#a66da2cd78cee9e929ff0f2439caed0e5">GetBackgroundColor</a>();</div>
<div class="line"><span class="lineno"> 1260</span> </div>
<div class="line"><span class="lineno"> 1261</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_function" href="../../d8/d60/a09310.html#ac250922a980c212c66ea7a2bb7e5b4b3">_GetRanksSize</a>(); ++i)</div>
<div class="line"><span class="lineno"> 1262</span>        response.<a class="code hl_variable" href="../../d5/d54/a10338.html#a749e992a19264b259f62d403b4925abe">Info</a>.<a class="code hl_variable" href="../../d9/d14/a10334.html#aec9fd9a1a3bfa040375193027b32cf24">Ranks</a>[i] = <a class="code hl_variable" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a>[i].GetName();</div>
<div class="line"><span class="lineno"> 1263</span> </div>
<div class="line"><span class="lineno"> 1264</span>    response.<a class="code hl_variable" href="../../d5/d54/a10338.html#a749e992a19264b259f62d403b4925abe">Info</a>.<a class="code hl_variable" href="../../d9/d14/a10334.html#acddb77850a86348df197afc724c4eaa0">RankCount</a> = <a class="code hl_function" href="../../d8/d60/a09310.html#ac250922a980c212c66ea7a2bb7e5b4b3">_GetRanksSize</a>();</div>
<div class="line"><span class="lineno"> 1265</span> </div>
<div class="line"><span class="lineno"> 1266</span>    response.<a class="code hl_variable" href="../../d5/d54/a10338.html#a749e992a19264b259f62d403b4925abe">Info</a>.<a class="code hl_variable" href="../../d9/d14/a10334.html#a74d4e1690c07a647c97ca2225e8488dd">GuildName</a> = <a class="code hl_variable" href="../../d8/d60/a09310.html#a6aa6b5f1c7e4c81c8800dcc55f65b3c5">m_name</a>;</div>
<div class="line"><span class="lineno"> 1267</span> </div>
<div class="line"><span class="lineno"> 1268</span>    session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(response.<a class="code hl_function" href="../../d5/d54/a10338.html#abda9452eba38e76c460f910eb3aad5fa">Write</a>());</div>
<div class="line"><span class="lineno"> 1269</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;SMSG_GUILD_QUERY_RESPONSE [{}]&quot;</span>, session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a5850670ad0e6b6a81abf41246bd92523">GetPlayerInfo</a>());</div>
<div class="line"><span class="lineno"> 1270</span>}</div>
<div class="ttc" id="aa10334_html_a2e8a4768292d3566bb61009056a8a230"><div class="ttname"><a href="../../d9/d14/a10334.html#a2e8a4768292d3566bb61009056a8a230">WorldPackets::Guild::GuildInfo::EmblemColor</a></div><div class="ttdeci">uint32 EmblemColor</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:49</div></div>
<div class="ttc" id="aa10334_html_a74d4e1690c07a647c97ca2225e8488dd"><div class="ttname"><a href="../../d9/d14/a10334.html#a74d4e1690c07a647c97ca2225e8488dd">WorldPackets::Guild::GuildInfo::GuildName</a></div><div class="ttdeci">std::string GuildName</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:43</div></div>
<div class="ttc" id="aa10334_html_aa6309467f9f09725a8698de864b4e63c"><div class="ttname"><a href="../../d9/d14/a10334.html#aa6309467f9f09725a8698de864b4e63c">WorldPackets::Guild::GuildInfo::EmblemStyle</a></div><div class="ttdeci">uint32 EmblemStyle</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:48</div></div>
<div class="ttc" id="aa10334_html_abab86dd497de86088873178bf1d54b5b"><div class="ttname"><a href="../../d9/d14/a10334.html#abab86dd497de86088873178bf1d54b5b">WorldPackets::Guild::GuildInfo::BackgroundColor</a></div><div class="ttdeci">uint32 BackgroundColor</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:52</div></div>
<div class="ttc" id="aa10334_html_abb2489b9be8a0d4a20d209d6293d7d46"><div class="ttname"><a href="../../d9/d14/a10334.html#abb2489b9be8a0d4a20d209d6293d7d46">WorldPackets::Guild::GuildInfo::BorderColor</a></div><div class="ttdeci">uint32 BorderColor</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:51</div></div>
<div class="ttc" id="aa10334_html_acd5105c31e0f56e680f3384e86186872"><div class="ttname"><a href="../../d9/d14/a10334.html#acd5105c31e0f56e680f3384e86186872">WorldPackets::Guild::GuildInfo::BorderStyle</a></div><div class="ttdeci">uint32 BorderStyle</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:50</div></div>
<div class="ttc" id="aa10334_html_acddb77850a86348df197afc724c4eaa0"><div class="ttname"><a href="../../d9/d14/a10334.html#acddb77850a86348df197afc724c4eaa0">WorldPackets::Guild::GuildInfo::RankCount</a></div><div class="ttdeci">uint32 RankCount</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:46</div></div>
<div class="ttc" id="aa10334_html_aec9fd9a1a3bfa040375193027b32cf24"><div class="ttname"><a href="../../d9/d14/a10334.html#aec9fd9a1a3bfa040375193027b32cf24">WorldPackets::Guild::GuildInfo::Ranks</a></div><div class="ttdeci">std::array&lt; std::string, GUILD_RANKS_MAX_COUNT &gt; Ranks</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:45</div></div>
<div class="ttc" id="aa10338_html"><div class="ttname"><a href="../../d5/d54/a10338.html">WorldPackets::Guild::QueryGuildInfoResponse</a></div><div class="ttdef"><b>Definition:</b> GuildPackets.h:56</div></div>
<div class="ttc" id="aa10338_html_a04eec0531238fa55a91afa11c394fbce"><div class="ttname"><a href="../../d5/d54/a10338.html#a04eec0531238fa55a91afa11c394fbce">WorldPackets::Guild::QueryGuildInfoResponse::GuildId</a></div><div class="ttdeci">uint32 GuildId</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:62</div></div>
<div class="ttc" id="aa10338_html_a749e992a19264b259f62d403b4925abe"><div class="ttname"><a href="../../d5/d54/a10338.html#a749e992a19264b259f62d403b4925abe">WorldPackets::Guild::QueryGuildInfoResponse::Info</a></div><div class="ttdeci">GuildInfo Info</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:63</div></div>
<div class="ttc" id="aa10338_html_abda9452eba38e76c460f910eb3aad5fa"><div class="ttname"><a href="../../d5/d54/a10338.html#abda9452eba38e76c460f910eb3aad5fa">WorldPackets::Guild::QueryGuildInfoResponse::Write</a></div><div class="ttdeci">WorldPacket const * Write() override</div><div class="ttdef"><b>Definition:</b> GuildPackets.cpp:28</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00803">_GetRanksSize()</a>, <a class="el" href="../../#l00052">WorldPackets::Guild::GuildInfo::BackgroundColor</a>, <a class="el" href="../../#l00051">WorldPackets::Guild::GuildInfo::BorderColor</a>, <a class="el" href="../../#l00050">WorldPackets::Guild::GuildInfo::BorderStyle</a>, <a class="el" href="../../#l00049">WorldPackets::Guild::GuildInfo::EmblemColor</a>, <a class="el" href="../../#l00048">WorldPackets::Guild::GuildInfo::EmblemStyle</a>, <a class="el" href="../../#l00251">EmblemInfo::GetBackgroundColor()</a>, <a class="el" href="../../#l00250">EmblemInfo::GetBorderColor()</a>, <a class="el" href="../../#l00249">EmblemInfo::GetBorderStyle()</a>, <a class="el" href="../../#l00248">EmblemInfo::GetColor()</a>, <a class="el" href="../../#l00189">WorldSession::GetPlayerInfo()</a>, <a class="el" href="../../#l00247">EmblemInfo::GetStyle()</a>, <a class="el" href="../../#l00062">WorldPackets::Guild::QueryGuildInfoResponse::GuildId</a>, <a class="el" href="../../#l00043">WorldPackets::Guild::GuildInfo::GuildName</a>, <a class="el" href="../../#l00063">WorldPackets::Guild::QueryGuildInfoResponse::Info</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00790">m_emblemInfo</a>, <a class="el" href="../../#l00783">m_id</a>, <a class="el" href="../../#l00784">m_name</a>, <a class="el" href="../../#l00794">m_ranks</a>, <a class="el" href="../../#l00046">WorldPackets::Guild::GuildInfo::RankCount</a>, <a class="el" href="../../#l00045">WorldPackets::Guild::GuildInfo::Ranks</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, and <a class="el" href="../../#l00028">WorldPackets::Guild::QueryGuildInfoResponse::Write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01314">HandleSetEmblem()</a>.</p>

</div>
</div>
<a id="af63746ebc0f20a688ebe68ee66e92fbe" name="af63746ebc0f20a688ebe68ee66e92fbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af63746ebc0f20a688ebe68ee66e92fbe">&#9670;&#160;</a></span>HandleRemoveLowestRank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleRemoveLowestRank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1634</span>{</div>
<div class="line"><span class="lineno"> 1635</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a3e23517a32fcf165a88b739bd7fd3284">HandleRemoveRank</a>(session, <a class="code hl_function" href="../../d8/d60/a09310.html#aed9d9581db0de4d6c73aa8858024e7a1">_GetLowestRankId</a>());</div>
<div class="line"><span class="lineno"> 1636</span>}</div>
<div class="ttc" id="aa09310_html_a3e23517a32fcf165a88b739bd7fd3284"><div class="ttname"><a href="../../d8/d60/a09310.html#a3e23517a32fcf165a88b739bd7fd3284">Guild::HandleRemoveRank</a></div><div class="ttdeci">void HandleRemoveRank(WorldSession *session, uint8 rankId)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:1638</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00814">_GetLowestRankId()</a>, and <a class="el" href="../../#l01638">HandleRemoveRank()</a>.</p>

</div>
</div>
<a id="a067e583efa5ece0b89800e80e5c0f073" name="a067e583efa5ece0b89800e80e5c0f073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a067e583efa5ece0b89800e80e5c0f073">&#9670;&#160;</a></span>HandleRemoveMember()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleRemoveMember </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1541</span>{</div>
<div class="line"><span class="lineno"> 1542</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1543</span>    <span class="comment">// Player must have rights to remove members</span></div>
<div class="line"><span class="lineno"> 1544</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d60/a09310.html#ada75072cb9454accd8b5e859615a6b88">_HasRankRight</a>(player, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7aaa7ecd3d86acfd15c0da455338af9249">GR_RIGHT_REMOVE</a>))</div>
<div class="line"><span class="lineno"> 1545</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61adfd59424a4717e4d98396562cd48f559">GUILD_COMMAND_REMOVE</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba12d6d5351242de2172f3c77069966373">ERR_GUILD_PERMISSIONS</a>);</div>
<div class="line"><span class="lineno"> 1546</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Member* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(name))</div>
<div class="line"><span class="lineno"> 1547</span>    {</div>
<div class="line"><span class="lineno"> 1548</span>        <span class="comment">// Guild masters cannot be removed</span></div>
<div class="line"><span class="lineno"> 1549</span>        <span class="keywordflow">if</span> (member-&gt;IsRank(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a6534fcf172d7fbe4a762e0479601acd4a349203b98139f80965ab3d7e3379c36d">GR_GUILDMASTER</a>))</div>
<div class="line"><span class="lineno"> 1550</span>            <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61adfd59424a4717e4d98396562cd48f559">GUILD_COMMAND_REMOVE</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba6506724d2f8b0fdb419acc3d201094f9">ERR_GUILD_LEADER_LEAVE</a>);</div>
<div class="line"><span class="lineno"> 1551</span>        <span class="comment">// Do not allow to remove player with the same rank or higher</span></div>
<div class="line"><span class="lineno"> 1552</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1553</span>        {</div>
<div class="line"><span class="lineno"> 1554</span>            Member <span class="keyword">const</span>* memberMe = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno"> 1555</span>            <span class="keywordflow">if</span> (!memberMe || member-&gt;IsRankNotLower(memberMe-&gt;GetRankId()))</div>
<div class="line"><span class="lineno"> 1556</span>                <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61adfd59424a4717e4d98396562cd48f559">GUILD_COMMAND_REMOVE</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0bac58f3c26d979598e350e1428300d0d68">ERR_GUILD_RANK_TOO_HIGH_S</a>, name);</div>
<div class="line"><span class="lineno"> 1557</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1558</span>            {</div>
<div class="line"><span class="lineno"> 1559</span>                <a class="code hl_class" href="../../d4/df2/a08266.html">ObjectGuid</a> guid = member-&gt;GetGUID();</div>
<div class="line"><span class="lineno"> 1560</span>                <span class="comment">// After call to DeleteMember pointer to member becomes invalid</span></div>
<div class="line"><span class="lineno"> 1561</span>                <a class="code hl_function" href="../../d8/d60/a09310.html#a4b1c1eae7f85a92e17ba48c4ac52f0c9">DeleteMember</a>(guid, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1562</span>                <a class="code hl_function" href="../../d8/d60/a09310.html#ae5ffb2824665b4297a0b5d6028169d50">_LogEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#aff19569a84ef44eea2acf4d6bcb86690a7cf29d925b03cbedbf6f4a55b6a4db0e">GUILD_EVENT_LOG_UNINVITE_PLAYER</a>, player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), guid);</div>
<div class="line"><span class="lineno"> 1563</span>                <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da50fdd818113a0fffcd2ba9dc3bc29782">GE_REMOVED</a>, <a class="code hl_variable" href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a>, member-&gt;GetName(), player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>());</div>
<div class="line"><span class="lineno"> 1564</span>            }</div>
<div class="line"><span class="lineno"> 1565</span>        }</div>
<div class="line"><span class="lineno"> 1566</span>    }</div>
<div class="line"><span class="lineno"> 1567</span>}</div>
<div class="ttc" id="aa02981_html_a06a0aa0a30a110150b9f76a3be9ee59da50fdd818113a0fffcd2ba9dc3bc29782"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da50fdd818113a0fffcd2ba9dc3bc29782">GE_REMOVED</a></div><div class="ttdeci">@ GE_REMOVED</div><div class="ttdef"><b>Definition:</b> Guild.h:152</div></div>
<div class="ttc" id="aa02981_html_a30d73a1238457bffb5d55ce50c5d1a61adfd59424a4717e4d98396562cd48f559"><div class="ttname"><a href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61adfd59424a4717e4d98396562cd48f559">GUILD_COMMAND_REMOVE</a></div><div class="ttdeci">@ GUILD_COMMAND_REMOVE</div><div class="ttdef"><b>Definition:</b> Guild.h:105</div></div>
<div class="ttc" id="aa02981_html_a49f5242ada5394c5a9c6142fec1beb0bac58f3c26d979598e350e1428300d0d68"><div class="ttname"><a href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0bac58f3c26d979598e350e1428300d0d68">ERR_GUILD_RANK_TOO_HIGH_S</a></div><div class="ttdeci">@ ERR_GUILD_RANK_TOO_HIGH_S</div><div class="ttdef"><b>Definition:</b> Guild.h:133</div></div>
<div class="ttc" id="aa02981_html_abe65a5c09114479eec37ae55f24aaaa7aaa7ecd3d86acfd15c0da455338af9249"><div class="ttname"><a href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7aaa7ecd3d86acfd15c0da455338af9249">GR_RIGHT_REMOVE</a></div><div class="ttdeci">@ GR_RIGHT_REMOVE</div><div class="ttdef"><b>Definition:</b> Guild.h:82</div></div>
<div class="ttc" id="aa02981_html_aff19569a84ef44eea2acf4d6bcb86690a7cf29d925b03cbedbf6f4a55b6a4db0e"><div class="ttname"><a href="../../d7/d93/a02981.html#aff19569a84ef44eea2acf4d6bcb86690a7cf29d925b03cbedbf6f4a55b6a4db0e">GUILD_EVENT_LOG_UNINVITE_PLAYER</a></div><div class="ttdeci">@ GUILD_EVENT_LOG_UNINVITE_PLAYER</div><div class="ttdef"><b>Definition:</b> Guild.h:214</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l00806">_HasRankRight()</a>, <a class="el" href="../../#l02607">_LogEvent()</a>, <a class="el" href="../../#l02259">DeleteMember()</a>, <a class="el" href="../../#l00120">ObjectGuid::Empty</a>, <a class="el" href="../../#l00127">ERR_GUILD_LEADER_LEAVE</a>, <a class="el" href="../../#l00128">ERR_GUILD_PERMISSIONS</a>, <a class="el" href="../../#l00133">ERR_GUILD_RANK_TOO_HIGH_S</a>, <a class="el" href="../../#l00152">GE_REMOVED</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00463">WorldObject::GetName()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00330">Guild::Member::GetRankId()</a>, <a class="el" href="../../#l00065">GR_GUILDMASTER</a>, <a class="el" href="../../#l00082">GR_RIGHT_REMOVE</a>, <a class="el" href="../../#l00105">GUILD_COMMAND_REMOVE</a>, <a class="el" href="../../#l00214">GUILD_EVENT_LOG_UNINVITE_PLAYER</a>, <a class="el" href="../../#l00345">Guild::Member::IsRankNotLower()</a>, and <a class="el" href="../../#l00114">SendCommandResult()</a>.</p>

</div>
</div>
<a id="a3e23517a32fcf165a88b739bd7fd3284" name="a3e23517a32fcf165a88b739bd7fd3284"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e23517a32fcf165a88b739bd7fd3284">&#9670;&#160;</a></span>HandleRemoveRank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleRemoveRank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>rankId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1639</span>{</div>
<div class="line"><span class="lineno"> 1640</span>    <span class="comment">// Cannot remove rank if total count is minimum allowed by the client or is not leader</span></div>
<div class="line"><span class="lineno"> 1641</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d60/a09310.html#ac250922a980c212c66ea7a2bb7e5b4b3">_GetRanksSize</a>() &lt;= <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaa38703424b32ba50b622465c984f7df74">GUILD_RANKS_MIN_COUNT</a> || rankId &gt;= <a class="code hl_function" href="../../d8/d60/a09310.html#ac250922a980c212c66ea7a2bb7e5b4b3">_GetRanksSize</a>() || !<a class="code hl_function" href="../../d8/d60/a09310.html#aaf78aa36da22b99c10df4a971d538b3d">_IsLeader</a>(session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()))</div>
<div class="line"><span class="lineno"> 1642</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1643</span> </div>
<div class="line"><span class="lineno"> 1644</span>    <span class="comment">// Delete bank rights for rank</span></div>
<div class="line"><span class="lineno"> 1645</span>    <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a52fbd980d632daf742a71c0e55ffa41a">CHAR_DEL_GUILD_BANK_RIGHTS_FOR_RANK</a>);</div>
<div class="line"><span class="lineno"> 1646</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 1647</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, rankId);</div>
<div class="line"><span class="lineno"> 1648</span>    <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno"> 1649</span>    <span class="comment">// Delete rank</span></div>
<div class="line"><span class="lineno"> 1650</span>    stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7af202b36dda0b284dd9de20eb92077be4">CHAR_DEL_GUILD_LOWEST_RANK</a>);</div>
<div class="line"><span class="lineno"> 1651</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 1652</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, rankId);</div>
<div class="line"><span class="lineno"> 1653</span>    <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno"> 1654</span> </div>
<div class="line"><span class="lineno"> 1655</span>    <span class="comment">// match what the sql statement does</span></div>
<div class="line"><span class="lineno"> 1656</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a>.erase(<a class="code hl_variable" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a>.begin() + rankId, <a class="code hl_variable" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a>.end());</div>
<div class="line"><span class="lineno"> 1657</span> </div>
<div class="line"><span class="lineno"> 1658</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da6a6e862f8712014b28701d5538f02c12">GE_RANK_DELETED</a>, <a class="code hl_variable" href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a>, std::to_string(<a class="code hl_variable" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a>.size()));</div>
<div class="line"><span class="lineno"> 1659</span>}</div>
<div class="ttc" id="aa02981_html_a06a0aa0a30a110150b9f76a3be9ee59da6a6e862f8712014b28701d5538f02c12"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da6a6e862f8712014b28701d5538f02c12">GE_RANK_DELETED</a></div><div class="ttdeci">@ GE_RANK_DELETED</div><div class="ttdef"><b>Definition:</b> Guild.h:158</div></div>
<div class="ttc" id="aa02981_html_a06a462b77a279ae7e2e901b2a8b42fbaa38703424b32ba50b622465c984f7df74"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaa38703424b32ba50b622465c984f7df74">GUILD_RANKS_MIN_COUNT</a></div><div class="ttdeci">@ GUILD_RANKS_MIN_COUNT</div><div class="ttdef"><b>Definition:</b> Guild.h:45</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a52fbd980d632daf742a71c0e55ffa41a"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a52fbd980d632daf742a71c0e55ffa41a">CHAR_DEL_GUILD_BANK_RIGHTS_FOR_RANK</a></div><div class="ttdeci">@ CHAR_DEL_GUILD_BANK_RIGHTS_FOR_RANK</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:158</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7af202b36dda0b284dd9de20eb92077be4"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7af202b36dda0b284dd9de20eb92077be4">CHAR_DEL_GUILD_LOWEST_RANK</a></div><div class="ttdeci">@ CHAR_DEL_GUILD_LOWEST_RANK</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:149</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l00803">_GetRanksSize()</a>, <a class="el" href="../../#l02455">_IsLeader()</a>, <a class="el" href="../../#l00158">CHAR_DEL_GUILD_BANK_RIGHTS_FOR_RANK</a>, <a class="el" href="../../#l00149">CHAR_DEL_GUILD_LOWEST_RANK</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00120">ObjectGuid::Empty</a>, <a class="el" href="../../#l00158">GE_RANK_DELETED</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00045">GUILD_RANKS_MIN_COUNT</a>, <a class="el" href="../../#l00783">m_id</a>, <a class="el" href="../../#l00794">m_ranks</a>, and <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01633">HandleRemoveLowestRank()</a>.</p>

</div>
</div>
<a id="aec337b417dc733be4ca87d3f670b4224" name="aec337b417dc733be4ca87d3f670b4224"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec337b417dc733be4ca87d3f670b4224">&#9670;&#160;</a></span>HandleRoster()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleRoster </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1204</span>{</div>
<div class="line"><span class="lineno"> 1205</span>    <a class="code hl_class" href="../../db/da6/a10366.html">WorldPackets::Guild::GuildRoster</a> roster;</div>
<div class="line"><span class="lineno"> 1206</span> </div>
<div class="line"><span class="lineno"> 1207</span>    roster.<a class="code hl_variable" href="../../db/da6/a10366.html#a67b0a12fae93c5807030c1062f328abb">RankData</a>.reserve(<a class="code hl_variable" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a>.size());</div>
<div class="line"><span class="lineno"> 1208</span>    <span class="keywordflow">for</span> (RankInfo <span class="keyword">const</span>&amp; rank : <a class="code hl_variable" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a>)</div>
<div class="line"><span class="lineno"> 1209</span>    {</div>
<div class="line"><span class="lineno"> 1210</span>        <a class="code hl_struct" href="../../d8/d78/a10362.html">WorldPackets::Guild::GuildRankData</a>&amp; rankData =  roster.<a class="code hl_variable" href="../../db/da6/a10366.html#a67b0a12fae93c5807030c1062f328abb">RankData</a>.emplace_back();</div>
<div class="line"><span class="lineno"> 1211</span> </div>
<div class="line"><span class="lineno"> 1212</span>        rankData.<a class="code hl_variable" href="../../d8/d78/a10362.html#a46bfcae3e4788d6ea4e6ee71b8a16edd">Flags</a> = rank.GetRights();</div>
<div class="line"><span class="lineno"> 1213</span>        rankData.<a class="code hl_variable" href="../../d8/d78/a10362.html#a3dc50115a24b686d3a2fa9e28a7042af">WithdrawGoldLimit</a> = rank.GetBankMoneyPerDay();</div>
<div class="line"><span class="lineno"> 1214</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaadf100aec6c7a6f10b7af8629930feff7">GUILD_BANK_MAX_TABS</a>; ++i)</div>
<div class="line"><span class="lineno"> 1215</span>        {</div>
<div class="line"><span class="lineno"> 1216</span>            rankData.<a class="code hl_variable" href="../../d8/d78/a10362.html#af9c7b68d1bd48da88f65fa40a01ccc72">TabFlags</a>[i] = rank.GetBankTabRights(i);</div>
<div class="line"><span class="lineno"> 1217</span>            rankData.<a class="code hl_variable" href="../../d8/d78/a10362.html#af16392abbddf27a8b21fd21d998501e6">TabWithdrawItemLimit</a>[i] = rank.GetBankTabSlotsPerDay(i);</div>
<div class="line"><span class="lineno"> 1218</span>        }</div>
<div class="line"><span class="lineno"> 1219</span>    }</div>
<div class="line"><span class="lineno"> 1220</span> </div>
<div class="line"><span class="lineno"> 1221</span>    <span class="keywordtype">bool</span> sendOfficerNote = <a class="code hl_function" href="../../d8/d60/a09310.html#ada75072cb9454accd8b5e859615a6b88">_HasRankRight</a>(session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>(), <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a9cee3982eb7862d62e7f00414c4703be">GR_RIGHT_VIEWOFFNOTE</a>);</div>
<div class="line"><span class="lineno"> 1222</span>    roster.<a class="code hl_variable" href="../../db/da6/a10366.html#a964fc72bf3ada77c171fd1f691449241">MemberData</a>.reserve(<a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>.size());</div>
<div class="line"><span class="lineno"> 1223</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [guid, member] : <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>)</div>
<div class="line"><span class="lineno"> 1224</span>    {</div>
<div class="line"><span class="lineno"> 1225</span>        <a class="code hl_struct" href="../../d5/d3b/a10358.html">WorldPackets::Guild::GuildRosterMemberData</a>&amp; memberData = roster.<a class="code hl_variable" href="../../db/da6/a10366.html#a964fc72bf3ada77c171fd1f691449241">MemberData</a>.emplace_back();</div>
<div class="line"><span class="lineno"> 1226</span> </div>
<div class="line"><span class="lineno"> 1227</span>        memberData.<a class="code hl_variable" href="../../d5/d3b/a10358.html#a9dad860d61da34048ab2d52ada0cb43f">Guid</a> = member.GetGUID();</div>
<div class="line"><span class="lineno"> 1228</span>        memberData.<a class="code hl_variable" href="../../d5/d3b/a10358.html#a02f6f0dcf1be3a6befe959388d9aedd8">RankID</a> = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(member.GetRankId());</div>
<div class="line"><span class="lineno"> 1229</span>        memberData.<a class="code hl_variable" href="../../d5/d3b/a10358.html#a7bd695ba9365b53703204e45c930b254">AreaID</a> = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(member.GetZoneId());</div>
<div class="line"><span class="lineno"> 1230</span>        memberData.<a class="code hl_variable" href="../../d5/d3b/a10358.html#acb553637ff289603411fa5795a361deb">LastSave</a> = float(<span class="keywordtype">float</span>(<a class="code hl_function" href="../../d0/dfa/a04759.html#adbe1785d1327dedf2ac403b7cc8e99c2">GameTime::GetGameTime</a>().count() - member.GetLogoutTime()) / <a class="code hl_variable" href="../../d4/d51/a00017.html#a219e927a5d306db9cd363487d1f94366">DAY</a>);</div>
<div class="line"><span class="lineno"> 1231</span> </div>
<div class="line"><span class="lineno"> 1232</span>        memberData.<a class="code hl_variable" href="../../d5/d3b/a10358.html#aa6342565a23693718b5ef84f90b83350">Status</a> = member.GetFlags();</div>
<div class="line"><span class="lineno"> 1233</span>        memberData.<a class="code hl_variable" href="../../d5/d3b/a10358.html#a585acb139537e8def9e4ba076a332b6b">Level</a> = member.GetLevel();</div>
<div class="line"><span class="lineno"> 1234</span>        memberData.<a class="code hl_variable" href="../../d5/d3b/a10358.html#a794961a2e9f4773254b2439837150b50">ClassID</a> = member.GetClass();</div>
<div class="line"><span class="lineno"> 1235</span>        memberData.<a class="code hl_variable" href="../../d5/d3b/a10358.html#aadb29895c835e820168ad7d3f608d3b8">Gender</a> = member.GetGender();</div>
<div class="line"><span class="lineno"> 1236</span> </div>
<div class="line"><span class="lineno"> 1237</span>        memberData.<a class="code hl_variable" href="../../d5/d3b/a10358.html#ad50c43162525d8ad2ea33e48c01e838e">Name</a> = member.GetName();</div>
<div class="line"><span class="lineno"> 1238</span>        memberData.<a class="code hl_variable" href="../../d5/d3b/a10358.html#aa351a270de4cba2faddc5179cb854b94">Note</a> = member.GetPublicNote();</div>
<div class="line"><span class="lineno"> 1239</span>        <span class="keywordflow">if</span> (sendOfficerNote)</div>
<div class="line"><span class="lineno"> 1240</span>            memberData.<a class="code hl_variable" href="../../d5/d3b/a10358.html#aedaee0b4511ddd82cc75e91cb04e175a">OfficerNote</a> = member.GetOfficerNote();</div>
<div class="line"><span class="lineno"> 1241</span>    }</div>
<div class="line"><span class="lineno"> 1242</span> </div>
<div class="line"><span class="lineno"> 1243</span>    roster.<a class="code hl_variable" href="../../db/da6/a10366.html#a5ec2c209558d2c34feee4bfd8cda201c">WelcomeText</a> = <a class="code hl_variable" href="../../d8/d60/a09310.html#ab8ca3dad15779135af492a0b26597868">m_motd</a>;</div>
<div class="line"><span class="lineno"> 1244</span>    roster.<a class="code hl_variable" href="../../db/da6/a10366.html#a9d457ee8feb6c173d960b360aca90fc6">InfoText</a> = <a class="code hl_variable" href="../../d8/d60/a09310.html#ae3ece52e40aa4cc373116b7c32fbb761">m_info</a>;</div>
<div class="line"><span class="lineno"> 1245</span> </div>
<div class="line"><span class="lineno"> 1246</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;SMSG_GUILD_ROSTER [{}]&quot;</span>, session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a5850670ad0e6b6a81abf41246bd92523">GetPlayerInfo</a>());</div>
<div class="line"><span class="lineno"> 1247</span>    session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(roster.<a class="code hl_function" href="../../db/da6/a10366.html#a544a539999827d4eb8923cbbcdf42bac">Write</a>());</div>
<div class="line"><span class="lineno"> 1248</span>}</div>
<div class="ttc" id="aa00017_html_a219e927a5d306db9cd363487d1f94366"><div class="ttname"><a href="../../d4/d51/a00017.html#a219e927a5d306db9cd363487d1f94366">DAY</a></div><div class="ttdeci">constexpr auto DAY</div><div class="ttdef"><b>Definition:</b> Common.h:49</div></div>
<div class="ttc" id="aa02981_html_abe65a5c09114479eec37ae55f24aaaa7a9cee3982eb7862d62e7f00414c4703be"><div class="ttname"><a href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a9cee3982eb7862d62e7f00414c4703be">GR_RIGHT_VIEWOFFNOTE</a></div><div class="ttdeci">@ GR_RIGHT_VIEWOFFNOTE</div><div class="ttdef"><b>Definition:</b> Guild.h:87</div></div>
<div class="ttc" id="aa10358_html"><div class="ttname"><a href="../../d5/d3b/a10358.html">WorldPackets::Guild::GuildRosterMemberData</a></div><div class="ttdef"><b>Definition:</b> GuildPackets.h:106</div></div>
<div class="ttc" id="aa10358_html_a02f6f0dcf1be3a6befe959388d9aedd8"><div class="ttname"><a href="../../d5/d3b/a10358.html#a02f6f0dcf1be3a6befe959388d9aedd8">WorldPackets::Guild::GuildRosterMemberData::RankID</a></div><div class="ttdeci">int32 RankID</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:110</div></div>
<div class="ttc" id="aa10358_html_a585acb139537e8def9e4ba076a332b6b"><div class="ttname"><a href="../../d5/d3b/a10358.html#a585acb139537e8def9e4ba076a332b6b">WorldPackets::Guild::GuildRosterMemberData::Level</a></div><div class="ttdeci">uint8 Level</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:117</div></div>
<div class="ttc" id="aa10358_html_a794961a2e9f4773254b2439837150b50"><div class="ttname"><a href="../../d5/d3b/a10358.html#a794961a2e9f4773254b2439837150b50">WorldPackets::Guild::GuildRosterMemberData::ClassID</a></div><div class="ttdeci">uint8 ClassID</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:118</div></div>
<div class="ttc" id="aa10358_html_a7bd695ba9365b53703204e45c930b254"><div class="ttname"><a href="../../d5/d3b/a10358.html#a7bd695ba9365b53703204e45c930b254">WorldPackets::Guild::GuildRosterMemberData::AreaID</a></div><div class="ttdeci">int32 AreaID</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:111</div></div>
<div class="ttc" id="aa10358_html_a9dad860d61da34048ab2d52ada0cb43f"><div class="ttname"><a href="../../d5/d3b/a10358.html#a9dad860d61da34048ab2d52ada0cb43f">WorldPackets::Guild::GuildRosterMemberData::Guid</a></div><div class="ttdeci">ObjectGuid Guid</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:107</div></div>
<div class="ttc" id="aa10358_html_aa351a270de4cba2faddc5179cb854b94"><div class="ttname"><a href="../../d5/d3b/a10358.html#aa351a270de4cba2faddc5179cb854b94">WorldPackets::Guild::GuildRosterMemberData::Note</a></div><div class="ttdeci">std::string Note</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:114</div></div>
<div class="ttc" id="aa10358_html_aa6342565a23693718b5ef84f90b83350"><div class="ttname"><a href="../../d5/d3b/a10358.html#aa6342565a23693718b5ef84f90b83350">WorldPackets::Guild::GuildRosterMemberData::Status</a></div><div class="ttdeci">uint8 Status</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:116</div></div>
<div class="ttc" id="aa10358_html_aadb29895c835e820168ad7d3f608d3b8"><div class="ttname"><a href="../../d5/d3b/a10358.html#aadb29895c835e820168ad7d3f608d3b8">WorldPackets::Guild::GuildRosterMemberData::Gender</a></div><div class="ttdeci">uint8 Gender</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:119</div></div>
<div class="ttc" id="aa10358_html_acb553637ff289603411fa5795a361deb"><div class="ttname"><a href="../../d5/d3b/a10358.html#acb553637ff289603411fa5795a361deb">WorldPackets::Guild::GuildRosterMemberData::LastSave</a></div><div class="ttdeci">float LastSave</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:112</div></div>
<div class="ttc" id="aa10358_html_ad50c43162525d8ad2ea33e48c01e838e"><div class="ttname"><a href="../../d5/d3b/a10358.html#ad50c43162525d8ad2ea33e48c01e838e">WorldPackets::Guild::GuildRosterMemberData::Name</a></div><div class="ttdeci">std::string Name</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:113</div></div>
<div class="ttc" id="aa10358_html_aedaee0b4511ddd82cc75e91cb04e175a"><div class="ttname"><a href="../../d5/d3b/a10358.html#aedaee0b4511ddd82cc75e91cb04e175a">WorldPackets::Guild::GuildRosterMemberData::OfficerNote</a></div><div class="ttdeci">std::string OfficerNote</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:115</div></div>
<div class="ttc" id="aa10362_html"><div class="ttname"><a href="../../d8/d78/a10362.html">WorldPackets::Guild::GuildRankData</a></div><div class="ttdef"><b>Definition:</b> GuildPackets.h:123</div></div>
<div class="ttc" id="aa10362_html_a3dc50115a24b686d3a2fa9e28a7042af"><div class="ttname"><a href="../../d8/d78/a10362.html#a3dc50115a24b686d3a2fa9e28a7042af">WorldPackets::Guild::GuildRankData::WithdrawGoldLimit</a></div><div class="ttdeci">uint32 WithdrawGoldLimit</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:125</div></div>
<div class="ttc" id="aa10362_html_a46bfcae3e4788d6ea4e6ee71b8a16edd"><div class="ttname"><a href="../../d8/d78/a10362.html#a46bfcae3e4788d6ea4e6ee71b8a16edd">WorldPackets::Guild::GuildRankData::Flags</a></div><div class="ttdeci">uint32 Flags</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:124</div></div>
<div class="ttc" id="aa10362_html_af16392abbddf27a8b21fd21d998501e6"><div class="ttname"><a href="../../d8/d78/a10362.html#af16392abbddf27a8b21fd21d998501e6">WorldPackets::Guild::GuildRankData::TabWithdrawItemLimit</a></div><div class="ttdeci">uint32 TabWithdrawItemLimit[GUILD_BANK_MAX_TABS]</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:127</div></div>
<div class="ttc" id="aa10362_html_af9c7b68d1bd48da88f65fa40a01ccc72"><div class="ttname"><a href="../../d8/d78/a10362.html#af9c7b68d1bd48da88f65fa40a01ccc72">WorldPackets::Guild::GuildRankData::TabFlags</a></div><div class="ttdeci">uint32 TabFlags[GUILD_BANK_MAX_TABS]</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:126</div></div>
<div class="ttc" id="aa10366_html"><div class="ttname"><a href="../../db/da6/a10366.html">WorldPackets::Guild::GuildRoster</a></div><div class="ttdef"><b>Definition:</b> GuildPackets.h:131</div></div>
<div class="ttc" id="aa10366_html_a544a539999827d4eb8923cbbcdf42bac"><div class="ttname"><a href="../../db/da6/a10366.html#a544a539999827d4eb8923cbbcdf42bac">WorldPackets::Guild::GuildRoster::Write</a></div><div class="ttdeci">WorldPacket const * Write() override</div><div class="ttdef"><b>Definition:</b> GuildPackets.cpp:60</div></div>
<div class="ttc" id="aa10366_html_a5ec2c209558d2c34feee4bfd8cda201c"><div class="ttname"><a href="../../db/da6/a10366.html#a5ec2c209558d2c34feee4bfd8cda201c">WorldPackets::Guild::GuildRoster::WelcomeText</a></div><div class="ttdeci">std::string WelcomeText</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:139</div></div>
<div class="ttc" id="aa10366_html_a67b0a12fae93c5807030c1062f328abb"><div class="ttname"><a href="../../db/da6/a10366.html#a67b0a12fae93c5807030c1062f328abb">WorldPackets::Guild::GuildRoster::RankData</a></div><div class="ttdeci">std::vector&lt; GuildRankData &gt; RankData</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:138</div></div>
<div class="ttc" id="aa10366_html_a964fc72bf3ada77c171fd1f691449241"><div class="ttname"><a href="../../db/da6/a10366.html#a964fc72bf3ada77c171fd1f691449241">WorldPackets::Guild::GuildRoster::MemberData</a></div><div class="ttdeci">std::vector&lt; GuildRosterMemberData &gt; MemberData</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:137</div></div>
<div class="ttc" id="aa10366_html_a9d457ee8feb6c173d960b360aca90fc6"><div class="ttname"><a href="../../db/da6/a10366.html#a9d457ee8feb6c173d960b360aca90fc6">WorldPackets::Guild::GuildRoster::InfoText</a></div><div class="ttdeci">std::string InfoText</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:140</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00806">_HasRankRight()</a>, <a class="el" href="../../#l00111">WorldPackets::Guild::GuildRosterMemberData::AreaID</a>, <a class="el" href="../../#l00118">WorldPackets::Guild::GuildRosterMemberData::ClassID</a>, <a class="el" href="../../#l00049">DAY</a>, <a class="el" href="../../#l00124">WorldPackets::Guild::GuildRankData::Flags</a>, <a class="el" href="../../#l00119">WorldPackets::Guild::GuildRosterMemberData::Gender</a>, <a class="el" href="../../#l00038">GameTime::GetGameTime()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00189">WorldSession::GetPlayerInfo()</a>, <a class="el" href="../../#l00087">GR_RIGHT_VIEWOFFNOTE</a>, <a class="el" href="../../#l00107">WorldPackets::Guild::GuildRosterMemberData::Guid</a>, <a class="el" href="../../#l00042">GUILD_BANK_MAX_TABS</a>, <a class="el" href="../../#l00140">WorldPackets::Guild::GuildRoster::InfoText</a>, <a class="el" href="../../#l00112">WorldPackets::Guild::GuildRosterMemberData::LastSave</a>, <a class="el" href="../../#l00117">WorldPackets::Guild::GuildRosterMemberData::Level</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00787">m_info</a>, <a class="el" href="../../#l00795">m_members</a>, <a class="el" href="../../#l00786">m_motd</a>, <a class="el" href="../../#l00794">m_ranks</a>, <a class="el" href="../../#l00137">WorldPackets::Guild::GuildRoster::MemberData</a>, <a class="el" href="../../#l00113">WorldPackets::Guild::GuildRosterMemberData::Name</a>, <a class="el" href="../../#l00114">WorldPackets::Guild::GuildRosterMemberData::Note</a>, <a class="el" href="../../#l00115">WorldPackets::Guild::GuildRosterMemberData::OfficerNote</a>, <a class="el" href="../../#l00138">WorldPackets::Guild::GuildRoster::RankData</a>, <a class="el" href="../../#l00110">WorldPackets::Guild::GuildRosterMemberData::RankID</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, <a class="el" href="../../#l00116">WorldPackets::Guild::GuildRosterMemberData::Status</a>, <a class="el" href="../../#l00126">WorldPackets::Guild::GuildRankData::TabFlags</a>, <a class="el" href="../../#l00127">WorldPackets::Guild::GuildRankData::TabWithdrawItemLimit</a>, <a class="el" href="../../#l00139">WorldPackets::Guild::GuildRoster::WelcomeText</a>, <a class="el" href="../../#l00125">WorldPackets::Guild::GuildRankData::WithdrawGoldLimit</a>, and <a class="el" href="../../#l00060">WorldPackets::Guild::GuildRoster::Write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01367">HandleSetMemberNote()</a>, and <a class="el" href="../../#l01878">SendLoginInfo()</a>.</p>

</div>
</div>
<a id="a9c1f90753f0ec093e1421288aa9e6072" name="a9c1f90753f0ec093e1421288aa9e6072"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c1f90753f0ec093e1421288aa9e6072">&#9670;&#160;</a></span>HandleSetBankTabInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleSetBankTabInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>icon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1354</span>{</div>
<div class="line"><span class="lineno"> 1355</span>    BankTab* tab = <a class="code hl_function" href="../../d8/d60/a09310.html#ac64fffad338feef366cbe672439f1027">GetBankTab</a>(tabId);</div>
<div class="line"><span class="lineno"> 1356</span>    <span class="keywordflow">if</span> (!tab)</div>
<div class="line"><span class="lineno"> 1357</span>    {</div>
<div class="line"><span class="lineno"> 1358</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;Guild::HandleSetBankTabInfo: Player {} trying to change bank tab info from unexisting tab {}.&quot;</span>,</div>
<div class="line"><span class="lineno"> 1359</span>                       session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a5850670ad0e6b6a81abf41246bd92523">GetPlayerInfo</a>(), tabId);</div>
<div class="line"><span class="lineno"> 1360</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1361</span>    }</div>
<div class="line"><span class="lineno"> 1362</span> </div>
<div class="line"><span class="lineno"> 1363</span>    tab-&gt;SetInfo(name, icon);</div>
<div class="line"><span class="lineno"> 1364</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da785cf9cbb7b1d11503a5bcaa71513404">GE_BANK_TAB_UPDATED</a>, <a class="code hl_variable" href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a>, std::to_string(tabId), tab-&gt;GetName(), tab-&gt;GetIcon());</div>
<div class="line"><span class="lineno"> 1365</span>}</div>
<div class="ttc" id="aa02981_html_a06a0aa0a30a110150b9f76a3be9ee59da785cf9cbb7b1d11503a5bcaa71513404"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da785cf9cbb7b1d11503a5bcaa71513404">GE_BANK_TAB_UPDATED</a></div><div class="ttdeci">@ GE_BANK_TAB_UPDATED</div><div class="ttdef"><b>Definition:</b> Guild.h:163</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l00120">ObjectGuid::Empty</a>, <a class="el" href="../../#l00163">GE_BANK_TAB_UPDATED</a>, <a class="el" href="../../#l00817">GetBankTab()</a>, <a class="el" href="../../#l00572">Guild::BankTab::GetIcon()</a>, <a class="el" href="../../#l00571">Guild::BankTab::GetName()</a>, <a class="el" href="../../#l00189">WorldSession::GetPlayerInfo()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, and <a class="el" href="../../#l00439">Guild::BankTab::SetInfo()</a>.</p>

</div>
</div>
<a id="ae80fe1e6c8c5aa4eddb2e9a55802dd9c" name="ae80fe1e6c8c5aa4eddb2e9a55802dd9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae80fe1e6c8c5aa4eddb2e9a55802dd9c">&#9670;&#160;</a></span>HandleSetEmblem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleSetEmblem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d65/a09302.html">EmblemInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>emblemInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1315</span>{</div>
<div class="line"><span class="lineno"> 1316</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1317</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d60/a09310.html#aaf78aa36da22b99c10df4a971d538b3d">_IsLeader</a>(player))</div>
<div class="line"><span class="lineno"> 1318</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ac04211f3519113a67aa4b241292c0ae2">SendSaveEmblemResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#afa754e5cab703d1d74d769393a463892a043b58ec4131734c7e45302a31f521db">ERR_GUILDEMBLEM_NOTGUILDMASTER</a>); <span class="comment">// &quot;Only guild leaders can create emblems.&quot;</span></div>
<div class="line"><span class="lineno"> 1319</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a77b52bf6fc7a0ac6ad37bf836aaf5c7b">HasEnoughMoney</a>(<a class="code hl_define" href="../../d1/d24/a02975.html#a6e37f394008ea3eb20a46c84e03512a5">EMBLEM_PRICE</a>))</div>
<div class="line"><span class="lineno"> 1320</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ac04211f3519113a67aa4b241292c0ae2">SendSaveEmblemResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#afa754e5cab703d1d74d769393a463892a81544caf6fd0c4f02da37f973178bdd0">ERR_GUILDEMBLEM_NOTENOUGHMONEY</a>); <span class="comment">// &quot;You can&#39;t afford to do that.&quot;</span></div>
<div class="line"><span class="lineno"> 1321</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1322</span>    {</div>
<div class="line"><span class="lineno"> 1323</span>        player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a46351fb555db3b97fc531f215d2d2338">ModifyMoney</a>(-<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(<a class="code hl_define" href="../../d1/d24/a02975.html#a6e37f394008ea3eb20a46c84e03512a5">EMBLEM_PRICE</a>));</div>
<div class="line"><span class="lineno"> 1324</span> </div>
<div class="line"><span class="lineno"> 1325</span>        <a class="code hl_variable" href="../../d8/d60/a09310.html#ada0bd10a22291059151d9ef42b1e3bba">m_emblemInfo</a> = emblemInfo;</div>
<div class="line"><span class="lineno"> 1326</span>        <a class="code hl_variable" href="../../d8/d60/a09310.html#ada0bd10a22291059151d9ef42b1e3bba">m_emblemInfo</a>.<a class="code hl_function" href="../../dc/d65/a09302.html#aea1326261d893ef3beff026402bf8272">SaveToDB</a>(<a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 1327</span> </div>
<div class="line"><span class="lineno"> 1328</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ac04211f3519113a67aa4b241292c0ae2">SendSaveEmblemResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#afa754e5cab703d1d74d769393a463892a862afc12072cb607f89b65dff6a4e1d0">ERR_GUILDEMBLEM_SUCCESS</a>); <span class="comment">// &quot;Guild Emblem saved.&quot;</span></div>
<div class="line"><span class="lineno"> 1329</span> </div>
<div class="line"><span class="lineno"> 1330</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#a4788f5b94a3767ddc69824e41343b983">HandleQuery</a>(session);</div>
<div class="line"><span class="lineno"> 1331</span>    }</div>
<div class="line"><span class="lineno"> 1332</span>}</div>
<div class="ttc" id="aa02975_html_a6e37f394008ea3eb20a46c84e03512a5"><div class="ttname"><a href="../../d1/d24/a02975.html#a6e37f394008ea3eb20a46c84e03512a5">EMBLEM_PRICE</a></div><div class="ttdeci">#define EMBLEM_PRICE</div><div class="ttdef"><b>Definition:</b> Guild.cpp:41</div></div>
<div class="ttc" id="aa02981_html_afa754e5cab703d1d74d769393a463892a043b58ec4131734c7e45302a31f521db"><div class="ttname"><a href="../../d7/d93/a02981.html#afa754e5cab703d1d74d769393a463892a043b58ec4131734c7e45302a31f521db">ERR_GUILDEMBLEM_NOTGUILDMASTER</a></div><div class="ttdeci">@ ERR_GUILDEMBLEM_NOTGUILDMASTER</div><div class="ttdef"><b>Definition:</b> Guild.h:223</div></div>
<div class="ttc" id="aa02981_html_afa754e5cab703d1d74d769393a463892a81544caf6fd0c4f02da37f973178bdd0"><div class="ttname"><a href="../../d7/d93/a02981.html#afa754e5cab703d1d74d769393a463892a81544caf6fd0c4f02da37f973178bdd0">ERR_GUILDEMBLEM_NOTENOUGHMONEY</a></div><div class="ttdeci">@ ERR_GUILDEMBLEM_NOTENOUGHMONEY</div><div class="ttdef"><b>Definition:</b> Guild.h:224</div></div>
<div class="ttc" id="aa02981_html_afa754e5cab703d1d74d769393a463892a862afc12072cb607f89b65dff6a4e1d0"><div class="ttname"><a href="../../d7/d93/a02981.html#afa754e5cab703d1d74d769393a463892a862afc12072cb607f89b65dff6a4e1d0">ERR_GUILDEMBLEM_SUCCESS</a></div><div class="ttdeci">@ ERR_GUILDEMBLEM_SUCCESS</div><div class="ttdef"><b>Definition:</b> Guild.h:220</div></div>
<div class="ttc" id="aa09302_html_aea1326261d893ef3beff026402bf8272"><div class="ttname"><a href="../../dc/d65/a09302.html#aea1326261d893ef3beff026402bf8272">EmblemInfo::SaveToDB</a></div><div class="ttdeci">void SaveToDB(uint32 guildId) const</div><div class="ttdef"><b>Definition:</b> Guild.cpp:701</div></div>
<div class="ttc" id="aa09310_html_a4788f5b94a3767ddc69824e41343b983"><div class="ttname"><a href="../../d8/d60/a09310.html#a4788f5b94a3767ddc69824e41343b983">Guild::HandleQuery</a></div><div class="ttdeci">void HandleQuery(WorldSession *session)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:1250</div></div>
<div class="ttc" id="aa09310_html_ac04211f3519113a67aa4b241292c0ae2"><div class="ttname"><a href="../../d8/d60/a09310.html#ac04211f3519113a67aa4b241292c0ae2">Guild::SendSaveEmblemResult</a></div><div class="ttdeci">static void SendSaveEmblemResult(WorldSession *session, GuildEmblemError errCode)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:125</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02455">_IsLeader()</a>, <a class="el" href="../../#l00041">EMBLEM_PRICE</a>, <a class="el" href="../../#l00224">ERR_GUILDEMBLEM_NOTENOUGHMONEY</a>, <a class="el" href="../../#l00223">ERR_GUILDEMBLEM_NOTGUILDMASTER</a>, <a class="el" href="../../#l00220">ERR_GUILDEMBLEM_SUCCESS</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l01250">HandleQuery()</a>, <a class="el" href="../../#l01618">Player::HasEnoughMoney()</a>, <a class="el" href="../../#l00790">m_emblemInfo</a>, <a class="el" href="../../#l00783">m_id</a>, <a class="el" href="../../#l11547">Player::ModifyMoney()</a>, <a class="el" href="../../#l00701">EmblemInfo::SaveToDB()</a>, and <a class="el" href="../../#l00125">SendSaveEmblemResult()</a>.</p>

</div>
</div>
<a id="a01bedc65f1be1b4f56583cdc9810d321" name="a01bedc65f1be1b4f56583cdc9810d321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01bedc65f1be1b4f56583cdc9810d321">&#9670;&#160;</a></span>HandleSetInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleSetInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1296</span>{</div>
<div class="line"><span class="lineno"> 1297</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d60/a09310.html#ae3ece52e40aa4cc373116b7c32fbb761">m_info</a> == info)</div>
<div class="line"><span class="lineno"> 1298</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1299</span> </div>
<div class="line"><span class="lineno"> 1300</span>    <span class="comment">// Player must have rights to set guild&#39;s info</span></div>
<div class="line"><span class="lineno"> 1301</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d60/a09310.html#ada75072cb9454accd8b5e859615a6b88">_HasRankRight</a>(session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>(), <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a966fe8d17446997c93187cadac659f7e">GR_RIGHT_MODIFY_GUILD_INFO</a>))</div>
<div class="line"><span class="lineno"> 1302</span>    {</div>
<div class="line"><span class="lineno"> 1303</span>        <a class="code hl_variable" href="../../d8/d60/a09310.html#ae3ece52e40aa4cc373116b7c32fbb761">m_info</a> = info;</div>
<div class="line"><span class="lineno"> 1304</span> </div>
<div class="line"><span class="lineno"> 1305</span>        <a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnGuildInfoChanged(<span class="keyword">this</span>, <a class="code hl_variable" href="../../d8/d60/a09310.html#ae3ece52e40aa4cc373116b7c32fbb761">m_info</a>);</div>
<div class="line"><span class="lineno"> 1306</span> </div>
<div class="line"><span class="lineno"> 1307</span>        <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7ac0a33ef6e54de308ceb8b1631f84d2fa">CHAR_UPD_GUILD_INFO</a>);</div>
<div class="line"><span class="lineno"> 1308</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#ae3ece52e40aa4cc373116b7c32fbb761">m_info</a>);</div>
<div class="line"><span class="lineno"> 1309</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 1310</span>        <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno"> 1311</span>    }</div>
<div class="line"><span class="lineno"> 1312</span>}</div>
<div class="ttc" id="aa02981_html_abe65a5c09114479eec37ae55f24aaaa7a966fe8d17446997c93187cadac659f7e"><div class="ttname"><a href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a966fe8d17446997c93187cadac659f7e">GR_RIGHT_MODIFY_GUILD_INFO</a></div><div class="ttdeci">@ GR_RIGHT_MODIFY_GUILD_INFO</div><div class="ttdef"><b>Definition:</b> Guild.h:89</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7ac0a33ef6e54de308ceb8b1631f84d2fa"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7ac0a33ef6e54de308ceb8b1631f84d2fa">CHAR_UPD_GUILD_INFO</a></div><div class="ttdeci">@ CHAR_UPD_GUILD_INFO</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:169</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00806">_HasRankRight()</a>, <a class="el" href="../../#l00169">CHAR_UPD_GUILD_INFO</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00089">GR_RIGHT_MODIFY_GUILD_INFO</a>, <a class="el" href="../../#l00783">m_id</a>, <a class="el" href="../../#l00787">m_info</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, and <a class="el" href="../../#l00709">sScriptMgr</a>.</p>

</div>
</div>
<a id="a0145f8793b5a59d72e6409a68fa2de6f" name="a0145f8793b5a59d72e6409a68fa2de6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0145f8793b5a59d72e6409a68fa2de6f">&#9670;&#160;</a></span>HandleSetLeader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleSetLeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1335</span>{</div>
<div class="line"><span class="lineno"> 1336</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1337</span>    <span class="comment">// Only leader can assign new leader</span></div>
<div class="line"><span class="lineno"> 1338</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d60/a09310.html#aaf78aa36da22b99c10df4a971d538b3d">_IsLeader</a>(player))</div>
<div class="line"><span class="lineno"> 1339</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61a15790b950f024637784202495cfc7887">GUILD_COMMAND_CHANGE_LEADER</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba12d6d5351242de2172f3c77069966373">ERR_GUILD_PERMISSIONS</a>);</div>
<div class="line"><span class="lineno"> 1340</span>    <span class="comment">// Old leader must be a member of guild</span></div>
<div class="line"><span class="lineno"> 1341</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Member* pOldLeader = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()))</div>
<div class="line"><span class="lineno"> 1342</span>    {</div>
<div class="line"><span class="lineno"> 1343</span>        <span class="comment">// New leader must be a member of guild</span></div>
<div class="line"><span class="lineno"> 1344</span>        <span class="keywordflow">if</span> (Member* pNewLeader = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(name))</div>
<div class="line"><span class="lineno"> 1345</span>        {</div>
<div class="line"><span class="lineno"> 1346</span>            <a class="code hl_function" href="../../d8/d60/a09310.html#aac7bfd950eec4b375833956962d0ae57">_SetLeaderGUID</a>(*pNewLeader);</div>
<div class="line"><span class="lineno"> 1347</span>            pOldLeader-&gt;ChangeRank(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a6534fcf172d7fbe4a762e0479601acd4ab167d6658cd49c0909c6f435a7222b70">GR_OFFICER</a>);</div>
<div class="line"><span class="lineno"> 1348</span>            <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59dad4ba70858e9fb573d9bbd3b308ac6b54">GE_LEADER_CHANGED</a>, <a class="code hl_variable" href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a>, player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>(), pNewLeader-&gt;GetName());</div>
<div class="line"><span class="lineno"> 1349</span>        }</div>
<div class="line"><span class="lineno"> 1350</span>    }</div>
<div class="line"><span class="lineno"> 1351</span>}</div>
<div class="ttc" id="aa02981_html_a30d73a1238457bffb5d55ce50c5d1a61a15790b950f024637784202495cfc7887"><div class="ttname"><a href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61a15790b950f024637784202495cfc7887">GUILD_COMMAND_CHANGE_LEADER</a></div><div class="ttdeci">@ GUILD_COMMAND_CHANGE_LEADER</div><div class="ttdef"><b>Definition:</b> Guild.h:106</div></div>
<div class="ttc" id="aa02981_html_a6534fcf172d7fbe4a762e0479601acd4ab167d6658cd49c0909c6f435a7222b70"><div class="ttname"><a href="../../d7/d93/a02981.html#a6534fcf172d7fbe4a762e0479601acd4ab167d6658cd49c0909c6f435a7222b70">GR_OFFICER</a></div><div class="ttdeci">@ GR_OFFICER</div><div class="ttdef"><b>Definition:</b> Guild.h:66</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l02455">_IsLeader()</a>, <a class="el" href="../../#l02492">_SetLeaderGUID()</a>, <a class="el" href="../../#l00120">ObjectGuid::Empty</a>, <a class="el" href="../../#l00128">ERR_GUILD_PERMISSIONS</a>, <a class="el" href="../../#l00154">GE_LEADER_CHANGED</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00463">WorldObject::GetName()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00066">GR_OFFICER</a>, <a class="el" href="../../#l00106">GUILD_COMMAND_CHANGE_LEADER</a>, and <a class="el" href="../../#l00114">SendCommandResult()</a>.</p>

</div>
</div>
<a id="ac97c74c59d3b92c3867f987edaa18292" name="ac97c74c59d3b92c3867f987edaa18292"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac97c74c59d3b92c3867f987edaa18292">&#9670;&#160;</a></span>HandleSetMemberNote()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleSetMemberNote </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>note</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>officer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1368</span>{</div>
<div class="line"><span class="lineno"> 1369</span>    <span class="comment">// Player must have rights to set public/officer note</span></div>
<div class="line"><span class="lineno"> 1370</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d60/a09310.html#ada75072cb9454accd8b5e859615a6b88">_HasRankRight</a>(session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>(), isPublic ? <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a52e417f2751e39a4ec3e1315b0b3d532">GR_RIGHT_EPNOTE</a> : <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a2f3962665bd6827bf747293a361af469">GR_RIGHT_EOFFNOTE</a>))</div>
<div class="line"><span class="lineno"> 1371</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61adef5aeb1e906bccb73480a7ff72627f0">GUILD_COMMAND_PUBLIC_NOTE</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba12d6d5351242de2172f3c77069966373">ERR_GUILD_PERMISSIONS</a>);</div>
<div class="line"><span class="lineno"> 1372</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Member* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(name))</div>
<div class="line"><span class="lineno"> 1373</span>    {</div>
<div class="line"><span class="lineno"> 1374</span>        <span class="keywordflow">if</span> (isPublic)</div>
<div class="line"><span class="lineno"> 1375</span>            member-&gt;SetPublicNote(note);</div>
<div class="line"><span class="lineno"> 1376</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1377</span>            member-&gt;SetOfficerNote(note);</div>
<div class="line"><span class="lineno"> 1378</span> </div>
<div class="line"><span class="lineno"> 1379</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#aec337b417dc733be4ca87d3f670b4224">HandleRoster</a>(session);</div>
<div class="line"><span class="lineno"> 1380</span>    }</div>
<div class="line"><span class="lineno"> 1381</span>}</div>
<div class="ttc" id="aa02981_html_a30d73a1238457bffb5d55ce50c5d1a61adef5aeb1e906bccb73480a7ff72627f0"><div class="ttname"><a href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61adef5aeb1e906bccb73480a7ff72627f0">GUILD_COMMAND_PUBLIC_NOTE</a></div><div class="ttdeci">@ GUILD_COMMAND_PUBLIC_NOTE</div><div class="ttdef"><b>Definition:</b> Guild.h:111</div></div>
<div class="ttc" id="aa02981_html_abe65a5c09114479eec37ae55f24aaaa7a2f3962665bd6827bf747293a361af469"><div class="ttname"><a href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a2f3962665bd6827bf747293a361af469">GR_RIGHT_EOFFNOTE</a></div><div class="ttdeci">@ GR_RIGHT_EOFFNOTE</div><div class="ttdef"><b>Definition:</b> Guild.h:88</div></div>
<div class="ttc" id="aa02981_html_abe65a5c09114479eec37ae55f24aaaa7a52e417f2751e39a4ec3e1315b0b3d532"><div class="ttname"><a href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a52e417f2751e39a4ec3e1315b0b3d532">GR_RIGHT_EPNOTE</a></div><div class="ttdeci">@ GR_RIGHT_EPNOTE</div><div class="ttdef"><b>Definition:</b> Guild.h:86</div></div>
<div class="ttc" id="aa09310_html_aec337b417dc733be4ca87d3f670b4224"><div class="ttname"><a href="../../d8/d60/a09310.html#aec337b417dc733be4ca87d3f670b4224">Guild::HandleRoster</a></div><div class="ttdeci">void HandleRoster(WorldSession *session)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:1203</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00806">_HasRankRight()</a>, <a class="el" href="../../#l00128">ERR_GUILD_PERMISSIONS</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00088">GR_RIGHT_EOFFNOTE</a>, <a class="el" href="../../#l00086">GR_RIGHT_EPNOTE</a>, <a class="el" href="../../#l00111">GUILD_COMMAND_PUBLIC_NOTE</a>, <a class="el" href="../../#l01203">HandleRoster()</a>, and <a class="el" href="../../#l00114">SendCommandResult()</a>.</p>

</div>
</div>
<a id="a1cf2f6743e8ca60a2ea0a384e5efbb72" name="a1cf2f6743e8ca60a2ea0a384e5efbb72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cf2f6743e8ca60a2ea0a384e5efbb72">&#9670;&#160;</a></span>HandleSetMOTD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleSetMOTD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>motd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1273</span>{</div>
<div class="line"><span class="lineno"> 1274</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d60/a09310.html#ab8ca3dad15779135af492a0b26597868">m_motd</a> == motd)</div>
<div class="line"><span class="lineno"> 1275</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1276</span> </div>
<div class="line"><span class="lineno"> 1277</span>    <span class="comment">// Player must have rights to set MOTD</span></div>
<div class="line"><span class="lineno"> 1278</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d60/a09310.html#ada75072cb9454accd8b5e859615a6b88">_HasRankRight</a>(session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>(), <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a7733a2d4555e5b4a35031df77c9ef5d8">GR_RIGHT_SETMOTD</a>))</div>
<div class="line"><span class="lineno"> 1279</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61afd7e6c09b1e1ecbfa37353458871be76">GUILD_COMMAND_EDIT_MOTD</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba12d6d5351242de2172f3c77069966373">ERR_GUILD_PERMISSIONS</a>);</div>
<div class="line"><span class="lineno"> 1280</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1281</span>    {</div>
<div class="line"><span class="lineno"> 1282</span>        <a class="code hl_variable" href="../../d8/d60/a09310.html#ab8ca3dad15779135af492a0b26597868">m_motd</a> = motd;</div>
<div class="line"><span class="lineno"> 1283</span> </div>
<div class="line"><span class="lineno"> 1284</span>        <a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnGuildMOTDChanged(<span class="keyword">this</span>, <a class="code hl_variable" href="../../d8/d60/a09310.html#ab8ca3dad15779135af492a0b26597868">m_motd</a>);</div>
<div class="line"><span class="lineno"> 1285</span> </div>
<div class="line"><span class="lineno"> 1286</span>        <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a0f41d9fd3aa8461231c932f50f94b896">CHAR_UPD_GUILD_MOTD</a>);</div>
<div class="line"><span class="lineno"> 1287</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#ab8ca3dad15779135af492a0b26597868">m_motd</a>);</div>
<div class="line"><span class="lineno"> 1288</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 1289</span>        <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno"> 1290</span> </div>
<div class="line"><span class="lineno"> 1291</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59daab7edbe172dab4cd9f3a08e9d735421a">GE_MOTD</a>, <a class="code hl_variable" href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a>, <a class="code hl_variable" href="../../d8/d60/a09310.html#ab8ca3dad15779135af492a0b26597868">m_motd</a>);</div>
<div class="line"><span class="lineno"> 1292</span>    }</div>
<div class="line"><span class="lineno"> 1293</span>}</div>
<div class="ttc" id="aa02981_html_a06a0aa0a30a110150b9f76a3be9ee59daab7edbe172dab4cd9f3a08e9d735421a"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59daab7edbe172dab4cd9f3a08e9d735421a">GE_MOTD</a></div><div class="ttdeci">@ GE_MOTD</div><div class="ttdef"><b>Definition:</b> Guild.h:149</div></div>
<div class="ttc" id="aa02981_html_a30d73a1238457bffb5d55ce50c5d1a61afd7e6c09b1e1ecbfa37353458871be76"><div class="ttname"><a href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61afd7e6c09b1e1ecbfa37353458871be76">GUILD_COMMAND_EDIT_MOTD</a></div><div class="ttdeci">@ GUILD_COMMAND_EDIT_MOTD</div><div class="ttdef"><b>Definition:</b> Guild.h:107</div></div>
<div class="ttc" id="aa02981_html_abe65a5c09114479eec37ae55f24aaaa7a7733a2d4555e5b4a35031df77c9ef5d8"><div class="ttname"><a href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7a7733a2d4555e5b4a35031df77c9ef5d8">GR_RIGHT_SETMOTD</a></div><div class="ttdeci">@ GR_RIGHT_SETMOTD</div><div class="ttdef"><b>Definition:</b> Guild.h:85</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a0f41d9fd3aa8461231c932f50f94b896"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a0f41d9fd3aa8461231c932f50f94b896">CHAR_UPD_GUILD_MOTD</a></div><div class="ttdeci">@ CHAR_UPD_GUILD_MOTD</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:168</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l00806">_HasRankRight()</a>, <a class="el" href="../../#l00168">CHAR_UPD_GUILD_MOTD</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00120">ObjectGuid::Empty</a>, <a class="el" href="../../#l00128">ERR_GUILD_PERMISSIONS</a>, <a class="el" href="../../#l00149">GE_MOTD</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00085">GR_RIGHT_SETMOTD</a>, <a class="el" href="../../#l00107">GUILD_COMMAND_EDIT_MOTD</a>, <a class="el" href="../../#l00783">m_id</a>, <a class="el" href="../../#l00786">m_motd</a>, <a class="el" href="../../#l00114">SendCommandResult()</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, and <a class="el" href="../../#l00709">sScriptMgr</a>.</p>

</div>
</div>
<a id="a4e136ed59e07705a4ebbded2b792eb4e" name="a4e136ed59e07705a4ebbded2b792eb4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e136ed59e07705a4ebbded2b792eb4e">&#9670;&#160;</a></span>HandleSetRankInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleSetRankInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>rankId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>rights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>moneyPerDay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::array&lt; <a class="el" href="../../df/d6f/a09306.html">GuildBankRightsAndSlots</a>, <a class="el" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaadf100aec6c7a6f10b7af8629930feff7">GUILD_BANK_MAX_TABS</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>rightsAndSlots</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1384</span>{</div>
<div class="line"><span class="lineno"> 1385</span>    <span class="comment">// Only leader can modify ranks</span></div>
<div class="line"><span class="lineno"> 1386</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d60/a09310.html#aaf78aa36da22b99c10df4a971d538b3d">_IsLeader</a>(session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()))</div>
<div class="line"><span class="lineno"> 1387</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61adf3fe7f4670d84ee8356fdaacf05e0a3">GUILD_COMMAND_CHANGE_RANK</a>, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba12d6d5351242de2172f3c77069966373">ERR_GUILD_PERMISSIONS</a>);</div>
<div class="line"><span class="lineno"> 1388</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RankInfo* rankInfo = <a class="code hl_function" href="../../d8/d60/a09310.html#acb913d5002329ec1ad98fe269f1ef08a">GetRankInfo</a>(rankId))</div>
<div class="line"><span class="lineno"> 1389</span>    {</div>
<div class="line"><span class="lineno"> 1390</span>        rankInfo-&gt;SetName(name);</div>
<div class="line"><span class="lineno"> 1391</span>        rankInfo-&gt;SetRights(rights);</div>
<div class="line"><span class="lineno"> 1392</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#a1da2ede98657c593c8c19b598055369b">_SetRankBankMoneyPerDay</a>(rankId, moneyPerDay);</div>
<div class="line"><span class="lineno"> 1393</span> </div>
<div class="line"><span class="lineno"> 1394</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; rightsAndSlot : rightsAndSlots)</div>
<div class="line"><span class="lineno"> 1395</span>            <a class="code hl_function" href="../../d8/d60/a09310.html#a0e78f93becad55338ec435dc46b9ccc4">_SetRankBankTabRightsAndSlots</a>(rankId, rightsAndSlot);</div>
<div class="line"><span class="lineno"> 1396</span> </div>
<div class="line"><span class="lineno"> 1397</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59daf1474532b0c069fe744ed47a24373aa6">GE_RANK_UPDATED</a>, <a class="code hl_variable" href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a>, std::to_string(rankId), rankInfo-&gt;GetName(), std::to_string(<a class="code hl_variable" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a>.size()));</div>
<div class="line"><span class="lineno"> 1398</span> </div>
<div class="line"><span class="lineno"> 1399</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;Changed RankName to &#39;{}&#39;, rights to 0x{:08X}&quot;</span>, rankInfo-&gt;GetName(), rights);</div>
<div class="line"><span class="lineno"> 1400</span>    }</div>
<div class="line"><span class="lineno"> 1401</span>}</div>
<div class="ttc" id="aa02981_html_a30d73a1238457bffb5d55ce50c5d1a61adf3fe7f4670d84ee8356fdaacf05e0a3"><div class="ttname"><a href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61adf3fe7f4670d84ee8356fdaacf05e0a3">GUILD_COMMAND_CHANGE_RANK</a></div><div class="ttdeci">@ GUILD_COMMAND_CHANGE_RANK</div><div class="ttdef"><b>Definition:</b> Guild.h:110</div></div>
<div class="ttc" id="aa09310_html_a0e78f93becad55338ec435dc46b9ccc4"><div class="ttname"><a href="../../d8/d60/a09310.html#a0e78f93becad55338ec435dc46b9ccc4">Guild::_SetRankBankTabRightsAndSlots</a></div><div class="ttdeci">void _SetRankBankTabRightsAndSlots(uint8 rankId, GuildBankRightsAndSlots rightsAndSlots, bool saveToDB=true)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2509</div></div>
<div class="ttc" id="aa09310_html_a1da2ede98657c593c8c19b598055369b"><div class="ttname"><a href="../../d8/d60/a09310.html#a1da2ede98657c593c8c19b598055369b">Guild::_SetRankBankMoneyPerDay</a></div><div class="ttdeci">void _SetRankBankMoneyPerDay(uint8 rankId, uint32 moneyPerDay)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2503</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l02455">_IsLeader()</a>, <a class="el" href="../../#l02503">_SetRankBankMoneyPerDay()</a>, <a class="el" href="../../#l02509">_SetRankBankTabRightsAndSlots()</a>, <a class="el" href="../../#l00120">ObjectGuid::Empty</a>, <a class="el" href="../../#l00128">ERR_GUILD_PERMISSIONS</a>, <a class="el" href="../../#l00157">GE_RANK_UPDATED</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00804">GetRankInfo()</a>, <a class="el" href="../../#l00110">GUILD_COMMAND_CHANGE_RANK</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00794">m_ranks</a>, and <a class="el" href="../../#l00114">SendCommandResult()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00168">WorldSession::HandleGuildRankOpcode()</a>.</p>

</div>
</div>
<a id="a7a36dcb109e06049519062cc505cbdef" name="a7a36dcb109e06049519062cc505cbdef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a36dcb109e06049519062cc505cbdef">&#9670;&#160;</a></span>HandleUpdateMemberRank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::HandleUpdateMemberRank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>demote</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1570</span>{</div>
<div class="line"><span class="lineno"> 1571</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1572</span>    <a class="code hl_enumeration" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61">GuildCommandType</a> type = demote ? <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61add3d85e6b9be764ce7bec60995f9b1df">GUILD_COMMAND_DEMOTE</a> : <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61aae3d0d696beb61d2dfbb9fe3cf913e90">GUILD_COMMAND_PROMOTE</a>;</div>
<div class="line"><span class="lineno"> 1573</span>    <span class="comment">// Player must have rights to promote</span></div>
<div class="line"><span class="lineno"> 1574</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d60/a09310.html#ada75072cb9454accd8b5e859615a6b88">_HasRankRight</a>(player, demote ? <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7af1b7986e010de928a797b01027a54281">GR_RIGHT_DEMOTE</a> : <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7af89d8390d741e7b44ac5e8a3b253f6d8">GR_RIGHT_PROMOTE</a>))</div>
<div class="line"><span class="lineno"> 1575</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, type, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba12d6d5351242de2172f3c77069966373">ERR_GUILD_PERMISSIONS</a>);</div>
<div class="line"><span class="lineno"> 1576</span>    <span class="comment">// Promoted player must be a member of guild</span></div>
<div class="line"><span class="lineno"> 1577</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Member* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(name))</div>
<div class="line"><span class="lineno"> 1578</span>    {</div>
<div class="line"><span class="lineno"> 1579</span>        <span class="comment">// Player cannot promote himself</span></div>
<div class="line"><span class="lineno"> 1580</span>        <span class="keywordflow">if</span> (member-&gt;IsSamePlayer(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()))</div>
<div class="line"><span class="lineno"> 1581</span>        {</div>
<div class="line"><span class="lineno"> 1582</span>            <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, type, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0bae1e9b2619d7b16d241fbe4a59ee28ea5">ERR_GUILD_NAME_INVALID</a>);</div>
<div class="line"><span class="lineno"> 1583</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1584</span>        }</div>
<div class="line"><span class="lineno"> 1585</span> </div>
<div class="line"><span class="lineno"> 1586</span>        Member <span class="keyword">const</span>* memberMe = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno"> 1587</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId = memberMe-&gt;GetRankId();</div>
<div class="line"><span class="lineno"> 1588</span>        <span class="keywordflow">if</span> (demote)</div>
<div class="line"><span class="lineno"> 1589</span>        {</div>
<div class="line"><span class="lineno"> 1590</span>            <span class="comment">// Player can demote only lower rank members</span></div>
<div class="line"><span class="lineno"> 1591</span>            <span class="keywordflow">if</span> (member-&gt;IsRankNotLower(rankId))</div>
<div class="line"><span class="lineno"> 1592</span>            {</div>
<div class="line"><span class="lineno"> 1593</span>                <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, type, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0bac58f3c26d979598e350e1428300d0d68">ERR_GUILD_RANK_TOO_HIGH_S</a>, name);</div>
<div class="line"><span class="lineno"> 1594</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1595</span>            }</div>
<div class="line"><span class="lineno"> 1596</span>            <span class="comment">// Lowest rank cannot be demoted</span></div>
<div class="line"><span class="lineno"> 1597</span>            <span class="keywordflow">if</span> (member-&gt;GetRankId() &gt;= <a class="code hl_function" href="../../d8/d60/a09310.html#aed9d9581db0de4d6c73aa8858024e7a1">_GetLowestRankId</a>())</div>
<div class="line"><span class="lineno"> 1598</span>            {</div>
<div class="line"><span class="lineno"> 1599</span>                <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, type, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba93782a71094ed3ce9186034266661ffa">ERR_GUILD_RANK_TOO_LOW_S</a>, name);</div>
<div class="line"><span class="lineno"> 1600</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1601</span>            }</div>
<div class="line"><span class="lineno"> 1602</span>        }</div>
<div class="line"><span class="lineno"> 1603</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1604</span>        {</div>
<div class="line"><span class="lineno"> 1605</span>            <span class="comment">// Allow to promote only to lower rank than member&#39;s rank</span></div>
<div class="line"><span class="lineno"> 1606</span>            <span class="comment">// member-&gt;GetRankId() + 1 is the highest rank that current player can promote to</span></div>
<div class="line"><span class="lineno"> 1607</span>            <span class="keywordflow">if</span> (member-&gt;IsRankNotLower(rankId + 1))</div>
<div class="line"><span class="lineno"> 1608</span>            {</div>
<div class="line"><span class="lineno"> 1609</span>                <a class="code hl_function" href="../../d8/d60/a09310.html#ad897c70e81cc04541fe54498cff5f0d8">SendCommandResult</a>(session, type, <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0bac58f3c26d979598e350e1428300d0d68">ERR_GUILD_RANK_TOO_HIGH_S</a>, name);</div>
<div class="line"><span class="lineno"> 1610</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1611</span>            }</div>
<div class="line"><span class="lineno"> 1612</span>        }</div>
<div class="line"><span class="lineno"> 1613</span> </div>
<div class="line"><span class="lineno"> 1614</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> newRankId = member-&gt;GetRankId() + (demote ? 1 : -1);</div>
<div class="line"><span class="lineno"> 1615</span>        member-&gt;ChangeRank(newRankId);</div>
<div class="line"><span class="lineno"> 1616</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ae5ffb2824665b4297a0b5d6028169d50">_LogEvent</a>(demote ? <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#aff19569a84ef44eea2acf4d6bcb86690abe7cbc394621d334e2933aa98d103434">GUILD_EVENT_LOG_DEMOTE_PLAYER</a> : <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#aff19569a84ef44eea2acf4d6bcb86690a76587e8e52ae2fb7918f62b5542fe7d4">GUILD_EVENT_LOG_PROMOTE_PLAYER</a>, player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), member-&gt;GetGUID(), newRankId);</div>
<div class="line"><span class="lineno"> 1617</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(demote ? <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59dae1bf3924ca8430f489b567e959cf63d2">GE_DEMOTION</a> : <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da72da68638000a7f33a2d5cba84f4a06f">GE_PROMOTION</a>, <a class="code hl_variable" href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a>, player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>(), member-&gt;GetName(), <a class="code hl_function" href="../../d8/d60/a09310.html#a02c0229f70ce90c28278db543e8d30f5">_GetRankName</a>(newRankId));</div>
<div class="line"><span class="lineno"> 1618</span>    }</div>
<div class="line"><span class="lineno"> 1619</span>}</div>
<div class="ttc" id="aa02981_html_a06a0aa0a30a110150b9f76a3be9ee59da72da68638000a7f33a2d5cba84f4a06f"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59da72da68638000a7f33a2d5cba84f4a06f">GE_PROMOTION</a></div><div class="ttdeci">@ GE_PROMOTION</div><div class="ttdef"><b>Definition:</b> Guild.h:147</div></div>
<div class="ttc" id="aa02981_html_a06a0aa0a30a110150b9f76a3be9ee59dae1bf3924ca8430f489b567e959cf63d2"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59dae1bf3924ca8430f489b567e959cf63d2">GE_DEMOTION</a></div><div class="ttdeci">@ GE_DEMOTION</div><div class="ttdef"><b>Definition:</b> Guild.h:148</div></div>
<div class="ttc" id="aa02981_html_a30d73a1238457bffb5d55ce50c5d1a61"><div class="ttname"><a href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61">GuildCommandType</a></div><div class="ttdeci">GuildCommandType</div><div class="ttdef"><b>Definition:</b> Guild.h:98</div></div>
<div class="ttc" id="aa02981_html_a30d73a1238457bffb5d55ce50c5d1a61aae3d0d696beb61d2dfbb9fe3cf913e90"><div class="ttname"><a href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61aae3d0d696beb61d2dfbb9fe3cf913e90">GUILD_COMMAND_PROMOTE</a></div><div class="ttdeci">@ GUILD_COMMAND_PROMOTE</div><div class="ttdef"><b>Definition:</b> Guild.h:103</div></div>
<div class="ttc" id="aa02981_html_a30d73a1238457bffb5d55ce50c5d1a61add3d85e6b9be764ce7bec60995f9b1df"><div class="ttname"><a href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61add3d85e6b9be764ce7bec60995f9b1df">GUILD_COMMAND_DEMOTE</a></div><div class="ttdeci">@ GUILD_COMMAND_DEMOTE</div><div class="ttdef"><b>Definition:</b> Guild.h:104</div></div>
<div class="ttc" id="aa02981_html_a49f5242ada5394c5a9c6142fec1beb0ba93782a71094ed3ce9186034266661ffa"><div class="ttname"><a href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0ba93782a71094ed3ce9186034266661ffa">ERR_GUILD_RANK_TOO_LOW_S</a></div><div class="ttdeci">@ ERR_GUILD_RANK_TOO_LOW_S</div><div class="ttdef"><b>Definition:</b> Guild.h:134</div></div>
<div class="ttc" id="aa02981_html_a49f5242ada5394c5a9c6142fec1beb0bae1e9b2619d7b16d241fbe4a59ee28ea5"><div class="ttname"><a href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0bae1e9b2619d7b16d241fbe4a59ee28ea5">ERR_GUILD_NAME_INVALID</a></div><div class="ttdeci">@ ERR_GUILD_NAME_INVALID</div><div class="ttdef"><b>Definition:</b> Guild.h:125</div></div>
<div class="ttc" id="aa02981_html_abe65a5c09114479eec37ae55f24aaaa7af1b7986e010de928a797b01027a54281"><div class="ttname"><a href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7af1b7986e010de928a797b01027a54281">GR_RIGHT_DEMOTE</a></div><div class="ttdeci">@ GR_RIGHT_DEMOTE</div><div class="ttdef"><b>Definition:</b> Guild.h:84</div></div>
<div class="ttc" id="aa02981_html_abe65a5c09114479eec37ae55f24aaaa7af89d8390d741e7b44ac5e8a3b253f6d8"><div class="ttname"><a href="../../d7/d93/a02981.html#abe65a5c09114479eec37ae55f24aaaa7af89d8390d741e7b44ac5e8a3b253f6d8">GR_RIGHT_PROMOTE</a></div><div class="ttdeci">@ GR_RIGHT_PROMOTE</div><div class="ttdef"><b>Definition:</b> Guild.h:83</div></div>
<div class="ttc" id="aa02981_html_aff19569a84ef44eea2acf4d6bcb86690a76587e8e52ae2fb7918f62b5542fe7d4"><div class="ttname"><a href="../../d7/d93/a02981.html#aff19569a84ef44eea2acf4d6bcb86690a76587e8e52ae2fb7918f62b5542fe7d4">GUILD_EVENT_LOG_PROMOTE_PLAYER</a></div><div class="ttdeci">@ GUILD_EVENT_LOG_PROMOTE_PLAYER</div><div class="ttdef"><b>Definition:</b> Guild.h:212</div></div>
<div class="ttc" id="aa02981_html_aff19569a84ef44eea2acf4d6bcb86690abe7cbc394621d334e2933aa98d103434"><div class="ttname"><a href="../../d7/d93/a02981.html#aff19569a84ef44eea2acf4d6bcb86690abe7cbc394621d334e2933aa98d103434">GUILD_EVENT_LOG_DEMOTE_PLAYER</a></div><div class="ttdeci">@ GUILD_EVENT_LOG_DEMOTE_PLAYER</div><div class="ttdef"><b>Definition:</b> Guild.h:213</div></div>
<div class="ttc" id="aa09310_html_a02c0229f70ce90c28278db543e8d30f5"><div class="ttname"><a href="../../d8/d60/a09310.html#a02c0229f70ce90c28278db543e8d30f5">Guild::_GetRankName</a></div><div class="ttdeci">std::string _GetRankName(uint8 rankId) const</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2518</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l00814">_GetLowestRankId()</a>, <a class="el" href="../../#l02518">_GetRankName()</a>, <a class="el" href="../../#l00806">_HasRankRight()</a>, <a class="el" href="../../#l02607">_LogEvent()</a>, <a class="el" href="../../#l00120">ObjectGuid::Empty</a>, <a class="el" href="../../#l00125">ERR_GUILD_NAME_INVALID</a>, <a class="el" href="../../#l00128">ERR_GUILD_PERMISSIONS</a>, <a class="el" href="../../#l00133">ERR_GUILD_RANK_TOO_HIGH_S</a>, <a class="el" href="../../#l00134">ERR_GUILD_RANK_TOO_LOW_S</a>, <a class="el" href="../../#l00148">GE_DEMOTION</a>, <a class="el" href="../../#l00147">GE_PROMOTION</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00463">WorldObject::GetName()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00330">Guild::Member::GetRankId()</a>, <a class="el" href="../../#l00084">GR_RIGHT_DEMOTE</a>, <a class="el" href="../../#l00083">GR_RIGHT_PROMOTE</a>, <a class="el" href="../../#l00104">GUILD_COMMAND_DEMOTE</a>, <a class="el" href="../../#l00103">GUILD_COMMAND_PROMOTE</a>, <a class="el" href="../../#l00213">GUILD_EVENT_LOG_DEMOTE_PLAYER</a>, <a class="el" href="../../#l00212">GUILD_EVENT_LOG_PROMOTE_PLAYER</a>, and <a class="el" href="../../#l00114">SendCommandResult()</a>.</p>

</div>
</div>
<a id="ab3284a1160d2e339cbdccc8bc5c659eb" name="ab3284a1160d2e339cbdccc8bc5c659eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3284a1160d2e339cbdccc8bc5c659eb">&#9670;&#160;</a></span>LoadBankEventLogFromDB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::LoadBankEventLogFromDB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/dff/a05618.html">Field</a> *&#160;</td>
          <td class="paramname"><em>fields</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1981</span>{</div>
<div class="line"><span class="lineno"> 1982</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> dbTabId = fields[1].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;();</div>
<div class="line"><span class="lineno"> 1983</span>    <span class="keywordtype">bool</span> isMoneyTab = (dbTabId == <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaa7d5b97c152871f38a9675fbd14056d29">GUILD_BANK_MONEY_LOGS_TAB</a>);</div>
<div class="line"><span class="lineno"> 1984</span>    <span class="keywordflow">if</span> (dbTabId &lt; <a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>() || isMoneyTab)</div>
<div class="line"><span class="lineno"> 1985</span>    {</div>
<div class="line"><span class="lineno"> 1986</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId = isMoneyTab ? <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaadf100aec6c7a6f10b7af8629930feff7">GUILD_BANK_MAX_TABS</a>) : dbTabId;</div>
<div class="line"><span class="lineno"> 1987</span>        LogHolder&lt;BankEventLogEntry&gt;&amp; bankLog = <a class="code hl_variable" href="../../d8/d60/a09310.html#a6579a4863083ec5ea78b73be5395752a">m_bankEventLog</a>[tabId];</div>
<div class="line"><span class="lineno"> 1988</span>        <span class="keywordflow">if</span> (bankLog.CanInsert())</div>
<div class="line"><span class="lineno"> 1989</span>        {</div>
<div class="line"><span class="lineno"> 1990</span>            <a class="code hl_typedef" href="../../d4/df2/a08266.html#aa278d50613c05dc1333df5185a6993eb">ObjectGuid::LowType</a> guid = fields[2].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1991</span>            <a class="code hl_enumeration" href="../../d7/d93/a02981.html#a965ebfa7c809976c6361afae89c98895">GuildBankEventLogTypes</a> eventType = <a class="code hl_enumeration" href="../../d7/d93/a02981.html#a965ebfa7c809976c6361afae89c98895">GuildBankEventLogTypes</a>(fields[3].Get&lt;uint8&gt;());</div>
<div class="line"><span class="lineno"> 1992</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d3/dbd/a09326.html#a9a38b7966bdcc3ec9e871c024c928ce1">BankEventLogEntry::IsMoneyEvent</a>(eventType))</div>
<div class="line"><span class="lineno"> 1993</span>            {</div>
<div class="line"><span class="lineno"> 1994</span>                <span class="keywordflow">if</span> (!isMoneyTab)</div>
<div class="line"><span class="lineno"> 1995</span>                {</div>
<div class="line"><span class="lineno"> 1996</span>                    <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;GuildBankEventLog ERROR: MoneyEvent(LogGuid: {}, Guild: {}) does not belong to money tab ({}), ignoring...&quot;</span>, guid, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>, dbTabId);</div>
<div class="line"><span class="lineno"> 1997</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1998</span>                }</div>
<div class="line"><span class="lineno"> 1999</span>            }</div>
<div class="line"><span class="lineno"> 2000</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isMoneyTab)</div>
<div class="line"><span class="lineno"> 2001</span>            {</div>
<div class="line"><span class="lineno"> 2002</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;GuildBankEventLog ERROR: non-money event (LogGuid: {}, Guild: {}) belongs to money tab, ignoring...&quot;</span>, guid, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 2003</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2004</span>            }</div>
<div class="line"><span class="lineno"> 2005</span>            bankLog.LoadEvent(</div>
<div class="line"><span class="lineno"> 2006</span>                                <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>,                                                       <span class="comment">// guild id</span></div>
<div class="line"><span class="lineno"> 2007</span>                                guid,                                                       <span class="comment">// guid</span></div>
<div class="line"><span class="lineno"> 2008</span>                                time_t(fields[8].Get&lt;uint32&gt;()),                              <span class="comment">// timestamp</span></div>
<div class="line"><span class="lineno"> 2009</span>                                dbTabId,                                                    <span class="comment">// tab id</span></div>
<div class="line"><span class="lineno"> 2010</span>                                eventType,                                                  <span class="comment">// event type</span></div>
<div class="line"><span class="lineno"> 2011</span>                                ObjectGuid::Create&lt;HighGuid::Player&gt;(fields[4].Get&lt;uint32&gt;()), <span class="comment">// player guid</span></div>
<div class="line"><span class="lineno"> 2012</span>                                fields[5].Get&lt;uint32&gt;(),                                      <span class="comment">// item or money</span></div>
<div class="line"><span class="lineno"> 2013</span>                                fields[6].Get&lt;uint16&gt;(),                                      <span class="comment">// itam stack count</span></div>
<div class="line"><span class="lineno"> 2014</span>                                fields[7].Get&lt;uint8&gt;());                                     <span class="comment">// dest tab id</span></div>
<div class="line"><span class="lineno"> 2015</span>        }</div>
<div class="line"><span class="lineno"> 2016</span>    }</div>
<div class="line"><span class="lineno"> 2017</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2018</span>}</div>
<div class="ttc" id="aa02981_html_a965ebfa7c809976c6361afae89c98895"><div class="ttname"><a href="../../d7/d93/a02981.html#a965ebfa7c809976c6361afae89c98895">GuildBankEventLogTypes</a></div><div class="ttdeci">GuildBankEventLogTypes</div><div class="ttdef"><b>Definition:</b> Guild.h:196</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00816">_GetPurchasedTabsSize()</a>, <a class="el" href="../../#l00490">Guild::LogHolder&lt; Entry &gt;::CanInsert()</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00042">GUILD_BANK_MAX_TABS</a>, <a class="el" href="../../#l00044">GUILD_BANK_MONEY_LOGS_TAB</a>, <a class="el" href="../../#l00454">Guild::BankEventLogEntry::IsMoneyEvent()</a>, <a class="el" href="../../#l00141">Guild::LogHolder&lt; Entry &gt;::LoadEvent()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00800">m_bankEventLog</a>, and <a class="el" href="../../#l00783">m_id</a>.</p>

</div>
</div>
<a id="a5a5267e926e1ab8bc67ff7a7f54401b7" name="a5a5267e926e1ab8bc67ff7a7f54401b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a5267e926e1ab8bc67ff7a7f54401b7">&#9670;&#160;</a></span>LoadBankItemFromDB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::LoadBankItemFromDB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/dff/a05618.html">Field</a> *&#160;</td>
          <td class="paramname"><em>fields</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2030</span>{</div>
<div class="line"><span class="lineno"> 2031</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId = fields[12].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;();</div>
<div class="line"><span class="lineno"> 2032</span>    <span class="keywordflow">if</span> (tabId &gt;= <a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>())</div>
<div class="line"><span class="lineno"> 2033</span>    {</div>
<div class="line"><span class="lineno"> 2034</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;Invalid tab for item (GUID: {}, id: #{}) in guild bank, skipped.&quot;</span>,</div>
<div class="line"><span class="lineno"> 2035</span>                       fields[14].Get&lt;uint32&gt;(), fields[15].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno"> 2036</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2037</span>    }</div>
<div class="line"><span class="lineno"> 2038</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/d60/a09310.html#a387321359dc40fb20c38fc2f30992750">m_bankTabs</a>[tabId].LoadItemFromDB(fields);</div>
<div class="line"><span class="lineno"> 2039</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00816">_GetPurchasedTabsSize()</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, and <a class="el" href="../../#l00796">m_bankTabs</a>.</p>

</div>
</div>
<a id="a2083addbe913158d6e369d72c1f4444a" name="a2083addbe913158d6e369d72c1f4444a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2083addbe913158d6e369d72c1f4444a">&#9670;&#160;</a></span>LoadBankRightFromDB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::LoadBankRightFromDB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/dff/a05618.html">Field</a> *&#160;</td>
          <td class="paramname"><em>fields</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1956</span>{</div>
<div class="line"><span class="lineno"> 1957</span>    <span class="comment">// tabId              rights                slots</span></div>
<div class="line"><span class="lineno"> 1958</span>    <a class="code hl_class" href="../../df/d6f/a09306.html">GuildBankRightsAndSlots</a> rightsAndSlots(fields[1].Get&lt;uint8&gt;(), fields[3].Get&lt;uint8&gt;(), fields[4].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno"> 1959</span>    <span class="comment">// rankId</span></div>
<div class="line"><span class="lineno"> 1960</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a0e78f93becad55338ec435dc46b9ccc4">_SetRankBankTabRightsAndSlots</a>(fields[2].Get&lt;uint8&gt;(), rightsAndSlots, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1961</span>}</div>
<div class="ttc" id="aa09306_html"><div class="ttname"><a href="../../df/d6f/a09306.html">GuildBankRightsAndSlots</a></div><div class="ttdef"><b>Definition:</b> Guild.h:263</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02509">_SetRankBankTabRightsAndSlots()</a>.</p>

</div>
</div>
<a id="aeb5fdb4b19981409ded323470c120170" name="aeb5fdb4b19981409ded323470c120170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb5fdb4b19981409ded323470c120170">&#9670;&#160;</a></span>LoadBankTabFromDB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::LoadBankTabFromDB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/dff/a05618.html">Field</a> *&#160;</td>
          <td class="paramname"><em>fields</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2021</span>{</div>
<div class="line"><span class="lineno"> 2022</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId = fields[1].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;();</div>
<div class="line"><span class="lineno"> 2023</span>    <span class="keywordflow">if</span> (tabId &gt;= <a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>())</div>
<div class="line"><span class="lineno"> 2024</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;Invalid tab (tabId: {}) in guild bank, skipped.&quot;</span>, tabId);</div>
<div class="line"><span class="lineno"> 2025</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2026</span>        <a class="code hl_variable" href="../../d8/d60/a09310.html#a387321359dc40fb20c38fc2f30992750">m_bankTabs</a>[tabId].LoadFromDB(fields);</div>
<div class="line"><span class="lineno"> 2027</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00816">_GetPurchasedTabsSize()</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, and <a class="el" href="../../#l00796">m_bankTabs</a>.</p>

</div>
</div>
<a id="a98b993986266e2944c2f931c80ca5c60" name="a98b993986266e2944c2f931c80ca5c60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98b993986266e2944c2f931c80ca5c60">&#9670;&#160;</a></span>LoadEventLogFromDB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::LoadEventLogFromDB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/dff/a05618.html">Field</a> *&#160;</td>
          <td class="paramname"><em>fields</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1964</span>{</div>
<div class="line"><span class="lineno"> 1965</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d60/a09310.html#a8a9ec63cd5937e0d7967c1d3fb94a0b5">m_eventLog</a>.CanInsert())</div>
<div class="line"><span class="lineno"> 1966</span>    {</div>
<div class="line"><span class="lineno"> 1967</span>        <a class="code hl_variable" href="../../d8/d60/a09310.html#a8a9ec63cd5937e0d7967c1d3fb94a0b5">m_eventLog</a>.LoadEvent(</div>
<div class="line"><span class="lineno"> 1968</span>                                  <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>,                                                         <span class="comment">// guild id</span></div>
<div class="line"><span class="lineno"> 1969</span>                                  fields[1].Get&lt;uint32&gt;(),                                        <span class="comment">// guid</span></div>
<div class="line"><span class="lineno"> 1970</span>                                  time_t(fields[6].Get&lt;uint32&gt;()),                                <span class="comment">// timestamp</span></div>
<div class="line"><span class="lineno"> 1971</span>                                  <a class="code hl_enumeration" href="../../d7/d93/a02981.html#aff19569a84ef44eea2acf4d6bcb86690">GuildEventLogTypes</a>(fields[2].Get&lt;uint8&gt;()),                     <span class="comment">// event type</span></div>
<div class="line"><span class="lineno"> 1972</span>                                  ObjectGuid::Create&lt;HighGuid::Player&gt;(fields[3].Get&lt;uint32&gt;()),  <span class="comment">// player guid 1</span></div>
<div class="line"><span class="lineno"> 1973</span>                                  ObjectGuid::Create&lt;HighGuid::Player&gt;(fields[4].Get&lt;uint32&gt;()),  <span class="comment">// player guid 2</span></div>
<div class="line"><span class="lineno"> 1974</span>                                  fields[5].Get&lt;uint8&gt;());                                       <span class="comment">// rank</span></div>
<div class="line"><span class="lineno"> 1975</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1976</span>    }</div>
<div class="line"><span class="lineno"> 1977</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1978</span>}</div>
<div class="ttc" id="aa02981_html_aff19569a84ef44eea2acf4d6bcb86690"><div class="ttname"><a href="../../d7/d93/a02981.html#aff19569a84ef44eea2acf4d6bcb86690">GuildEventLogTypes</a></div><div class="ttdeci">GuildEventLogTypes</div><div class="ttdef"><b>Definition:</b> Guild.h:209</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00799">m_eventLog</a>, and <a class="el" href="../../#l00783">m_id</a>.</p>

</div>
</div>
<a id="a65d2171d25a676929402a800eb7a3e6a" name="a65d2171d25a676929402a800eb7a3e6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65d2171d25a676929402a800eb7a3e6a">&#9670;&#160;</a></span>LoadFromDB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::LoadFromDB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/dff/a05618.html">Field</a> *&#160;</td>
          <td class="paramname"><em>fields</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1901</span>{</div>
<div class="line"><span class="lineno"> 1902</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>            = fields[0].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1903</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a6aa6b5f1c7e4c81c8800dcc55f65b3c5">m_name</a>          = fields[1].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 1904</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">m_leaderGuid</a>    = ObjectGuid::Create&lt;HighGuid::Player&gt;(fields[2].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno"> 1905</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#ada0bd10a22291059151d9ef42b1e3bba">m_emblemInfo</a>.<a class="code hl_function" href="../../dc/d65/a09302.html#a17de371e72a2b29a7f249dbe912636bc">LoadFromDB</a>(fields);</div>
<div class="line"><span class="lineno"> 1906</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#ae3ece52e40aa4cc373116b7c32fbb761">m_info</a>          = fields[8].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 1907</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#ab8ca3dad15779135af492a0b26597868">m_motd</a>          = fields[9].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 1908</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a4e19285fd1730d3515e69a971918f410">m_createdDate</a>   = time_t(fields[10].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno"> 1909</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a148e3da6e65ca7a0724799ad8b09091f">m_bankMoney</a>     = fields[11].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>&gt;();</div>
<div class="line"><span class="lineno"> 1910</span> </div>
<div class="line"><span class="lineno"> 1911</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> purchasedTabs = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(fields[12].Get&lt;uint64&gt;());</div>
<div class="line"><span class="lineno"> 1912</span>    <span class="keywordflow">if</span> (purchasedTabs &gt; <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaadf100aec6c7a6f10b7af8629930feff7">GUILD_BANK_MAX_TABS</a>)</div>
<div class="line"><span class="lineno"> 1913</span>        purchasedTabs = <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaadf100aec6c7a6f10b7af8629930feff7">GUILD_BANK_MAX_TABS</a>;</div>
<div class="line"><span class="lineno"> 1914</span> </div>
<div class="line"><span class="lineno"> 1915</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a387321359dc40fb20c38fc2f30992750">m_bankTabs</a>.clear();</div>
<div class="line"><span class="lineno"> 1916</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a387321359dc40fb20c38fc2f30992750">m_bankTabs</a>.reserve(purchasedTabs);</div>
<div class="line"><span class="lineno"> 1917</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; purchasedTabs; ++i)</div>
<div class="line"><span class="lineno"> 1918</span>        <a class="code hl_variable" href="../../d8/d60/a09310.html#a387321359dc40fb20c38fc2f30992750">m_bankTabs</a>.emplace_back(<a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>, i);</div>
<div class="line"><span class="lineno"> 1919</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1920</span>}</div>
<div class="ttc" id="aa00497_html_ac4dd6ce78ce3b840c53bd4b3c63ed09b"><div class="ttname"><a href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a></div><div class="ttdeci">std::uint64_t uint64</div><div class="ttdef"><b>Definition:</b> Define.h:106</div></div>
<div class="ttc" id="aa09302_html_a17de371e72a2b29a7f249dbe912636bc"><div class="ttname"><a href="../../dc/d65/a09302.html#a17de371e72a2b29a7f249dbe912636bc">EmblemInfo::LoadFromDB</a></div><div class="ttdeci">void LoadFromDB(Field *fields)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:692</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00042">GUILD_BANK_MAX_TABS</a>, <a class="el" href="../../#l00692">EmblemInfo::LoadFromDB()</a>, <a class="el" href="../../#l00792">m_bankMoney</a>, <a class="el" href="../../#l00796">m_bankTabs</a>, <a class="el" href="../../#l00788">m_createdDate</a>, <a class="el" href="../../#l00790">m_emblemInfo</a>, <a class="el" href="../../#l00783">m_id</a>, <a class="el" href="../../#l00787">m_info</a>, <a class="el" href="../../#l00785">m_leaderGuid</a>, <a class="el" href="../../#l00786">m_motd</a>, and <a class="el" href="../../#l00784">m_name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00092">GuildMgr::LoadGuilds()</a>.</p>

</div>
</div>
<a id="a36f774ba251d421ed0a6050b51babbb0" name="a36f774ba251d421ed0a6050b51babbb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36f774ba251d421ed0a6050b51babbb0">&#9670;&#160;</a></span>LoadMemberFromDB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::LoadMemberFromDB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/dff/a05618.html">Field</a> *&#160;</td>
          <td class="paramname"><em>fields</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1932</span>{</div>
<div class="line"><span class="lineno"> 1933</span>    <a class="code hl_typedef" href="../../d4/df2/a08266.html#aa278d50613c05dc1333df5185a6993eb">ObjectGuid::LowType</a> lowguid = fields[1].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1934</span>    <a class="code hl_class" href="../../d4/df2/a08266.html">ObjectGuid</a> playerGuid(HighGuid::Player, lowguid);</div>
<div class="line"><span class="lineno"> 1935</span> </div>
<div class="line"><span class="lineno"> 1936</span>    <span class="keyword">auto</span> [memberIt, isNew] = <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>.try_emplace(lowguid, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>, playerGuid, fields[2].Get&lt;uint8&gt;());</div>
<div class="line"><span class="lineno"> 1937</span>    <span class="keywordflow">if</span> (!isNew)</div>
<div class="line"><span class="lineno"> 1938</span>    {</div>
<div class="line"><span class="lineno"> 1939</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;Tried to add {} to guild &#39;{}&#39;. Member already exists.&quot;</span>, playerGuid.ToString(), <a class="code hl_variable" href="../../d8/d60/a09310.html#a6aa6b5f1c7e4c81c8800dcc55f65b3c5">m_name</a>);</div>
<div class="line"><span class="lineno"> 1940</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1941</span>    }</div>
<div class="line"><span class="lineno"> 1942</span> </div>
<div class="line"><span class="lineno"> 1943</span>    Member&amp; member = memberIt-&gt;second;</div>
<div class="line"><span class="lineno"> 1944</span>    <span class="keywordflow">if</span> (!member.LoadFromDB(fields))</div>
<div class="line"><span class="lineno"> 1945</span>    {</div>
<div class="line"><span class="lineno"> 1946</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#aea25fad25add2347279b0ccc298e905e">_DeleteMemberFromDB</a>(lowguid);</div>
<div class="line"><span class="lineno"> 1947</span>        <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>.erase(memberIt);</div>
<div class="line"><span class="lineno"> 1948</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1949</span>    }</div>
<div class="line"><span class="lineno"> 1950</span> </div>
<div class="line"><span class="lineno"> 1951</span>    <a class="code hl_define" href="../../d4/d7f/a04124.html#a7a32c898b33d6163d83a32f46d58517c">sCharacterCache</a>-&gt;UpdateCharacterGuildId(playerGuid, <a class="code hl_function" href="../../d8/d60/a09310.html#a66dfb8bfc30bb82d9d4361467ef8b8d5">GetId</a>());</div>
<div class="line"><span class="lineno"> 1952</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1953</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00820">_DeleteMemberFromDB()</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00686">GetId()</a>, <a class="el" href="../../#l00601">Guild::Member::LoadFromDB()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00783">m_id</a>, <a class="el" href="../../#l00795">m_members</a>, <a class="el" href="../../#l00784">m_name</a>, and <a class="el" href="../../#l00083">sCharacterCache</a>.</p>

</div>
</div>
<a id="af805b19f736df4c51bacbf96a8e5d38c" name="af805b19f736df4c51bacbf96a8e5d38c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af805b19f736df4c51bacbf96a8e5d38c">&#9670;&#160;</a></span>LoadRankFromDB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::LoadRankFromDB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/dff/a05618.html">Field</a> *&#160;</td>
          <td class="paramname"><em>fields</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1923</span>{</div>
<div class="line"><span class="lineno"> 1924</span>    RankInfo rankInfo(<a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 1925</span> </div>
<div class="line"><span class="lineno"> 1926</span>    rankInfo.LoadFromDB(fields);</div>
<div class="line"><span class="lineno"> 1927</span> </div>
<div class="line"><span class="lineno"> 1928</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a>.push_back(rankInfo);</div>
<div class="line"><span class="lineno"> 1929</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00265">Guild::RankInfo::LoadFromDB()</a>, <a class="el" href="../../#l00783">m_id</a>, and <a class="el" href="../../#l00794">m_ranks</a>.</p>

</div>
</div>
<a id="ae0ae8ead712acb0a209b42d08197daae" name="ae0ae8ead712acb0a209b42d08197daae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0ae8ead712acb0a209b42d08197daae">&#9670;&#160;</a></span>MassInviteToEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::MassInviteToEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>minLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>maxLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>minRank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2143</span>{</div>
<div class="line"><span class="lineno"> 2144</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 2145</span> </div>
<div class="line"><span class="lineno"> 2146</span>    <a class="code hl_class" href="../../dc/dc5/a10766.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9ba6f21e7ae559aef55260905aeb7e6a500">SMSG_CALENDAR_FILTER_GUILD</a>);</div>
<div class="line"><span class="lineno"> 2147</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(count); <span class="comment">// count placeholder</span></div>
<div class="line"><span class="lineno"> 2148</span> </div>
<div class="line"><span class="lineno"> 2149</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [guid, member] : <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>)</div>
<div class="line"><span class="lineno"> 2150</span>    {</div>
<div class="line"><span class="lineno"> 2151</span>        <span class="comment">// not sure if needed, maybe client checks it as well</span></div>
<div class="line"><span class="lineno"> 2152</span>        <span class="keywordflow">if</span> (count &gt;= <a class="code hl_enumvalue" href="../../d7/dbe/a04193.html#adf6bf00c462990adc2b57c02f9db8c32aa5c5d3a6c0bb88385109aa937a047e95">CALENDAR_MAX_INVITES</a>)</div>
<div class="line"><span class="lineno"> 2153</span>        {</div>
<div class="line"><span class="lineno"> 2154</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>())</div>
<div class="line"><span class="lineno"> 2155</span>                <a class="code hl_define" href="../../d7/dbe/a04193.html#a19ac4cd787f75380716d027d20c06b7a">sCalendarMgr</a>-&gt;SendCalendarCommandResult(player-&gt;GetGUID(), <a class="code hl_enumvalue" href="../../d7/dbe/a04193.html#a2812c2f5fdbdaf8b594ea7001772a9c5a93ab32bcbba393e663a662113184d128">CALENDAR_ERROR_INVITES_EXCEEDED</a>);</div>
<div class="line"><span class="lineno"> 2156</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2157</span>        }</div>
<div class="line"><span class="lineno"> 2158</span> </div>
<div class="line"><span class="lineno"> 2159</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> level = <a class="code hl_define" href="../../d4/d7f/a04124.html#a7a32c898b33d6163d83a32f46d58517c">sCharacterCache</a>-&gt;GetCharacterLevelByGuid(member.GetGUID());</div>
<div class="line"><span class="lineno"> 2160</span> </div>
<div class="line"><span class="lineno"> 2161</span>        <span class="keywordflow">if</span> (member.GetGUID() != session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>() &amp;&amp; level &gt;= minLevel &amp;&amp; level &lt;= maxLevel &amp;&amp; member.IsRankNotLower(minRank))</div>
<div class="line"><span class="lineno"> 2162</span>        {</div>
<div class="line"><span class="lineno"> 2163</span>            data.appendPackGUID(member.GetGUID().GetRawValue());</div>
<div class="line"><span class="lineno"> 2164</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0); <span class="comment">// unk</span></div>
<div class="line"><span class="lineno"> 2165</span>            ++count;</div>
<div class="line"><span class="lineno"> 2166</span>        }</div>
<div class="line"><span class="lineno"> 2167</span>    }</div>
<div class="line"><span class="lineno"> 2168</span> </div>
<div class="line"><span class="lineno"> 2169</span>    data.put&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;(0, count);</div>
<div class="line"><span class="lineno"> 2170</span> </div>
<div class="line"><span class="lineno"> 2171</span>    session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><span class="lineno"> 2172</span>}</div>
<div class="ttc" id="aa04193_html_a2812c2f5fdbdaf8b594ea7001772a9c5a93ab32bcbba393e663a662113184d128"><div class="ttname"><a href="../../d7/dbe/a04193.html#a2812c2f5fdbdaf8b594ea7001772a9c5a93ab32bcbba393e663a662113184d128">CALENDAR_ERROR_INVITES_EXCEEDED</a></div><div class="ttdeci">@ CALENDAR_ERROR_INVITES_EXCEEDED</div><div class="ttdef"><b>Definition:</b> CalendarMgr.h:104</div></div>
<div class="ttc" id="aa04193_html_adf6bf00c462990adc2b57c02f9db8c32aa5c5d3a6c0bb88385109aa937a047e95"><div class="ttname"><a href="../../d7/dbe/a04193.html#adf6bf00c462990adc2b57c02f9db8c32aa5c5d3a6c0bb88385109aa937a047e95">CALENDAR_MAX_INVITES</a></div><div class="ttdeci">@ CALENDAR_MAX_INVITES</div><div class="ttdef"><b>Definition:</b> CalendarMgr.h:130</div></div>
<div class="ttc" id="aa04680_html_gga1073b6abb3a749f18bf1633020879e9ba6f21e7ae559aef55260905aeb7e6a500"><div class="ttname"><a href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9ba6f21e7ae559aef55260905aeb7e6a500">SMSG_CALENDAR_FILTER_GUILD</a></div><div class="ttdeci">@ SMSG_CALENDAR_FILTER_GUILD</div><div class="ttdef"><b>Definition:</b> Opcodes.h:1110</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00503">ByteBuffer::appendPackGUID()</a>, <a class="el" href="../../#l00104">CALENDAR_ERROR_INVITES_EXCEEDED</a>, <a class="el" href="../../#l00130">CALENDAR_MAX_INVITES</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00795">m_members</a>, <a class="el" href="../../#l00137">ByteBuffer::put()</a>, <a class="el" href="../../#l00344">sCalendarMgr</a>, <a class="el" href="../../#l00083">sCharacterCache</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, and <a class="el" href="../../#l01110">SMSG_CALENDAR_FILTER_GUILD</a>.</p>

</div>
</div>
<a id="afa4b8cefd0140b86ee10d67c0734e17e" name="afa4b8cefd0140b86ee10d67c0734e17e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa4b8cefd0140b86ee10d67c0734e17e">&#9670;&#160;</a></span>ModifyBankMoney()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::ModifyBankMoney </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a>&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a> &amp;&#160;</td>
          <td class="paramname"><em>amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>add</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  779</span>{ <span class="keywordflow">return</span> <a class="code hl_function" href="../../d8/d60/a09310.html#ac79dc8d555cb9004969c8d028b370dbe">_ModifyBankMoney</a>(trans, amount, add); }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02473">_ModifyBankMoney()</a>.</p>

</div>
</div>
<a id="a39f75e3693d9128691c53ade8e93d3d0" name="a39f75e3693d9128691c53ade8e93d3d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39f75e3693d9128691c53ade8e93d3d0">&#9670;&#160;</a></span>OnPlayerStatusChange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::OnPlayerStatusChange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d06/a08466.html">Player</a> *&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1179</span>{</div>
<div class="line"><span class="lineno"> 1180</span>    <span class="keywordflow">if</span> (Member* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()))</div>
<div class="line"><span class="lineno"> 1181</span>    {</div>
<div class="line"><span class="lineno"> 1182</span>        <span class="keywordflow">if</span> (state)</div>
<div class="line"><span class="lineno"> 1183</span>            member-&gt;AddFlag(flag);</div>
<div class="line"><span class="lineno"> 1184</span>        <span class="keywordflow">else</span> member-&gt;RemFlag(flag);</div>
<div class="line"><span class="lineno"> 1185</span>    }</div>
<div class="line"><span class="lineno"> 1186</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00112">Object::GetGUID()</a>, and <a class="el" href="../../#l00381">GetMember()</a>.</p>

</div>
</div>
<a id="a19f2098d79ea84109f24e78120783f0f" name="a19f2098d79ea84109f24e78120783f0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19f2098d79ea84109f24e78120783f0f">&#9670;&#160;</a></span>ResetTimes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::ResetTimes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2930</span>{</div>
<div class="line"><span class="lineno"> 2931</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [guid, member] : <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>)</div>
<div class="line"><span class="lineno"> 2932</span>        member.ResetValues();</div>
<div class="line"><span class="lineno"> 2933</span> </div>
<div class="line"><span class="lineno"> 2934</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59dae974d4c2fa3918c8a74bca9da8a9c721">GE_BANK_TAB_AND_MONEY_UPDATED</a>, <a class="code hl_variable" href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a>);</div>
<div class="line"><span class="lineno"> 2935</span>}</div>
<div class="ttc" id="aa02981_html_a06a0aa0a30a110150b9f76a3be9ee59dae974d4c2fa3918c8a74bca9da8a9c721"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59dae974d4c2fa3918c8a74bca9da8a9c721">GE_BANK_TAB_AND_MONEY_UPDATED</a></div><div class="ttdeci">@ GE_BANK_TAB_AND_MONEY_UPDATED</div><div class="ttdef"><b>Definition:</b> Guild.h:165</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l00120">ObjectGuid::Empty</a>, <a class="el" href="../../#l00165">GE_BANK_TAB_AND_MONEY_UPDATED</a>, and <a class="el" href="../../#l00795">m_members</a>.</p>

</div>
</div>
<a id="ae659e83533b24458bad9a0d675ef68bb" name="ae659e83533b24458bad9a0d675ef68bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae659e83533b24458bad9a0d675ef68bb">&#9670;&#160;</a></span>SendBankLog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::SendBankLog </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1793</span>{</div>
<div class="line"><span class="lineno"> 1794</span>    <span class="comment">// GUILD_BANK_MAX_TABS send by client for money log</span></div>
<div class="line"><span class="lineno"> 1795</span>    <span class="keywordflow">if</span> (tabId &lt; <a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>() || tabId == <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaadf100aec6c7a6f10b7af8629930feff7">GUILD_BANK_MAX_TABS</a>)</div>
<div class="line"><span class="lineno"> 1796</span>    {</div>
<div class="line"><span class="lineno"> 1797</span>        std::list&lt;BankEventLogEntry&gt; <span class="keyword">const</span>&amp; bankEventLog = <a class="code hl_variable" href="../../d8/d60/a09310.html#a6579a4863083ec5ea78b73be5395752a">m_bankEventLog</a>[tabId].GetGuildLog();</div>
<div class="line"><span class="lineno"> 1798</span> </div>
<div class="line"><span class="lineno"> 1799</span>        <a class="code hl_class" href="../../d5/dea/a10522.html">WorldPackets::Guild::GuildBankLogQueryResults</a> packet;</div>
<div class="line"><span class="lineno"> 1800</span>        packet.<a class="code hl_variable" href="../../d5/dea/a10522.html#a214db612bb08e557dd41d3962c827dca">Tab</a> = tabId;</div>
<div class="line"><span class="lineno"> 1801</span> </div>
<div class="line"><span class="lineno"> 1802</span>        packet.<a class="code hl_variable" href="../../d5/dea/a10522.html#a5f3704df5311f06833c3243201d35930">Entry</a>.reserve(bankEventLog.size());</div>
<div class="line"><span class="lineno"> 1803</span>        <span class="keywordflow">for</span> (BankEventLogEntry <span class="keyword">const</span>&amp; entry : bankEventLog)</div>
<div class="line"><span class="lineno"> 1804</span>            entry.WritePacket(packet);</div>
<div class="line"><span class="lineno"> 1805</span> </div>
<div class="line"><span class="lineno"> 1806</span>        session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(packet.<a class="code hl_function" href="../../d5/dea/a10522.html#aafdb5114c7d0e8a2d18a848f3c94aa38">Write</a>());</div>
<div class="line"><span class="lineno"> 1807</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;MSG_GUILD_BANK_LOG_QUERY [{}]&quot;</span>, session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a5850670ad0e6b6a81abf41246bd92523">GetPlayerInfo</a>());</div>
<div class="line"><span class="lineno"> 1808</span>    }</div>
<div class="line"><span class="lineno"> 1809</span>}</div>
<div class="ttc" id="aa10522_html"><div class="ttname"><a href="../../d5/dea/a10522.html">WorldPackets::Guild::GuildBankLogQueryResults</a></div><div class="ttdef"><b>Definition:</b> GuildPackets.h:546</div></div>
<div class="ttc" id="aa10522_html_a214db612bb08e557dd41d3962c827dca"><div class="ttname"><a href="../../d5/dea/a10522.html#a214db612bb08e557dd41d3962c827dca">WorldPackets::Guild::GuildBankLogQueryResults::Tab</a></div><div class="ttdeci">uint8 Tab</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:552</div></div>
<div class="ttc" id="aa10522_html_a5f3704df5311f06833c3243201d35930"><div class="ttname"><a href="../../d5/dea/a10522.html#a5f3704df5311f06833c3243201d35930">WorldPackets::Guild::GuildBankLogQueryResults::Entry</a></div><div class="ttdeci">std::vector&lt; GuildBankLogEntry &gt; Entry</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:553</div></div>
<div class="ttc" id="aa10522_html_aafdb5114c7d0e8a2d18a848f3c94aa38"><div class="ttname"><a href="../../d5/dea/a10522.html#aafdb5114c7d0e8a2d18a848f3c94aa38">WorldPackets::Guild::GuildBankLogQueryResults::Write</a></div><div class="ttdeci">WorldPacket const * Write() override</div><div class="ttdef"><b>Definition:</b> GuildPackets.cpp:385</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00816">_GetPurchasedTabsSize()</a>, <a class="el" href="../../#l00553">WorldPackets::Guild::GuildBankLogQueryResults::Entry</a>, <a class="el" href="../../#l00189">WorldSession::GetPlayerInfo()</a>, <a class="el" href="../../#l00042">GUILD_BANK_MAX_TABS</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00800">m_bankEventLog</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, <a class="el" href="../../#l00552">WorldPackets::Guild::GuildBankLogQueryResults::Tab</a>, and <a class="el" href="../../#l00385">WorldPackets::Guild::GuildBankLogQueryResults::Write()</a>.</p>

</div>
</div>
<a id="aca68f65c236313cb5d2d79065f22d62e" name="aca68f65c236313cb5d2d79065f22d62e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca68f65c236313cb5d2d79065f22d62e">&#9670;&#160;</a></span>SendBankTabData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::SendBankTabData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sendAllSlots</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1812</span>{</div>
<div class="line"><span class="lineno"> 1813</span>    <span class="keywordflow">if</span> (tabId &lt; <a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>())</div>
<div class="line"><span class="lineno"> 1814</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#aa35aaff8114e214a4900b2b39a02c08b">_SendBankContent</a>(session, tabId, sendAllSlots);</div>
<div class="line"><span class="lineno"> 1815</span>}</div>
<div class="ttc" id="aa09310_html_aa35aaff8114e214a4900b2b39a02c08b"><div class="ttname"><a href="../../d8/d60/a09310.html#aa35aaff8114e214a4900b2b39a02c08b">Guild::_SendBankContent</a></div><div class="ttdeci">void _SendBankContent(WorldSession *session, uint8 tabId, bool sendAllSlots) const</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2748</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00816">_GetPurchasedTabsSize()</a>, and <a class="el" href="../../#l02748">_SendBankContent()</a>.</p>

</div>
</div>
<a id="a60c5218a615056e34543c47f44270b89" name="a60c5218a615056e34543c47f44270b89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60c5218a615056e34543c47f44270b89">&#9670;&#160;</a></span>SendBankTabsInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::SendBankTabsInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>showTabs</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1818</span>{</div>
<div class="line"><span class="lineno"> 1819</span>    Member* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno"> 1820</span>    <span class="keywordflow">if</span> (!member)</div>
<div class="line"><span class="lineno"> 1821</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1822</span> </div>
<div class="line"><span class="lineno"> 1823</span>    member-&gt;SubscribeToGuildBankUpdatePackets();</div>
<div class="line"><span class="lineno"> 1824</span> </div>
<div class="line"><span class="lineno"> 1825</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a2f5789fbad9d569864fe4c13f5774c7f">_SendBankList</a>(session, 0, sendAllSlots);</div>
<div class="line"><span class="lineno"> 1826</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02823">_SendBankList()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, and <a class="el" href="../../#l00354">Guild::Member::SubscribeToGuildBankUpdatePackets()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00271">WorldSession::HandleGuildBankerActivate()</a>.</p>

</div>
</div>
<a id="ac1e4faad0b563dfd69e5536fb035bb29" name="ac1e4faad0b563dfd69e5536fb035bb29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1e4faad0b563dfd69e5536fb035bb29">&#9670;&#160;</a></span>SendBankTabText()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::SendBankTabText </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1829</span>{</div>
<div class="line"><span class="lineno"> 1830</span>    <span class="keywordflow">if</span> (BankTab <span class="keyword">const</span>* tab = <a class="code hl_function" href="../../d8/d60/a09310.html#ac64fffad338feef366cbe672439f1027">GetBankTab</a>(tabId))</div>
<div class="line"><span class="lineno"> 1831</span>        tab-&gt;SendText(<span class="keyword">this</span>, session);</div>
<div class="line"><span class="lineno"> 1832</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00817">GetBankTab()</a>.</p>

</div>
</div>
<a id="ad897c70e81cc04541fe54498cff5f0d8" name="ad897c70e81cc04541fe54498cff5f0d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad897c70e81cc04541fe54498cff5f0d8">&#9670;&#160;</a></span>SendCommandResult()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::SendCommandResult </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d93/a02981.html#a30d73a1238457bffb5d55ce50c5d1a61">GuildCommandType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d93/a02981.html#a49f5242ada5394c5a9c6142fec1beb0b">GuildCommandError</a>&#160;</td>
          <td class="paramname"><em>errCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>param</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  115</span>{</div>
<div class="line"><span class="lineno">  116</span>    <a class="code hl_class" href="../../d8/dc3/a10374.html">WorldPackets::Guild::GuildCommandResult</a> resultPacket;</div>
<div class="line"><span class="lineno">  117</span>    resultPacket.<a class="code hl_variable" href="../../d8/dc3/a10374.html#a099cf9f39c403f76971d006245b03f29">Command</a> = type;</div>
<div class="line"><span class="lineno">  118</span>    resultPacket.<a class="code hl_variable" href="../../d8/dc3/a10374.html#a8b6b2127aa39807a61bf0cc3cce15921">Result</a> = errCode;</div>
<div class="line"><span class="lineno">  119</span>    resultPacket.<a class="code hl_variable" href="../../d8/dc3/a10374.html#a122ee78cb5fc38aa7ecd7a2cad8a33cc">Name</a> = param;</div>
<div class="line"><span class="lineno">  120</span>    session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(resultPacket.<a class="code hl_function" href="../../d8/dc3/a10374.html#a621e211342b3bf9b5de01a9a3b66291b">Write</a>());</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;SMSG_GUILD_COMMAND_RESULT [{}]: Type: {}, code: {}, param: {}&quot;</span>, session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a5850670ad0e6b6a81abf41246bd92523">GetPlayerInfo</a>(), type, errCode, resultPacket.<a class="code hl_variable" href="../../d8/dc3/a10374.html#a122ee78cb5fc38aa7ecd7a2cad8a33cc">Name</a>);</div>
<div class="line"><span class="lineno">  123</span>}</div>
<div class="ttc" id="aa10374_html"><div class="ttname"><a href="../../d8/dc3/a10374.html">WorldPackets::Guild::GuildCommandResult</a></div><div class="ttdef"><b>Definition:</b> GuildPackets.h:154</div></div>
<div class="ttc" id="aa10374_html_a099cf9f39c403f76971d006245b03f29"><div class="ttname"><a href="../../d8/dc3/a10374.html#a099cf9f39c403f76971d006245b03f29">WorldPackets::Guild::GuildCommandResult::Command</a></div><div class="ttdeci">int32 Command</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:162</div></div>
<div class="ttc" id="aa10374_html_a122ee78cb5fc38aa7ecd7a2cad8a33cc"><div class="ttname"><a href="../../d8/dc3/a10374.html#a122ee78cb5fc38aa7ecd7a2cad8a33cc">WorldPackets::Guild::GuildCommandResult::Name</a></div><div class="ttdeci">std::string Name</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:160</div></div>
<div class="ttc" id="aa10374_html_a621e211342b3bf9b5de01a9a3b66291b"><div class="ttname"><a href="../../d8/dc3/a10374.html#a621e211342b3bf9b5de01a9a3b66291b">WorldPackets::Guild::GuildCommandResult::Write</a></div><div class="ttdeci">WorldPacket const * Write() override</div><div class="ttdef"><b>Definition:</b> GuildPackets.cpp:81</div></div>
<div class="ttc" id="aa10374_html_a8b6b2127aa39807a61bf0cc3cce15921"><div class="ttname"><a href="../../d8/dc3/a10374.html#a8b6b2127aa39807a61bf0cc3cce15921">WorldPackets::Guild::GuildCommandResult::Result</a></div><div class="ttdeci">int32 Result</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:161</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00162">WorldPackets::Guild::GuildCommandResult::Command</a>, <a class="el" href="../../#l00189">WorldSession::GetPlayerInfo()</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00160">WorldPackets::Guild::GuildCommandResult::Name</a>, <a class="el" href="../../#l00161">WorldPackets::Guild::GuildCommandResult::Result</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, and <a class="el" href="../../#l00081">WorldPackets::Guild::GuildCommandResult::Write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00271">WorldSession::HandleGuildBankerActivate()</a>, <a class="el" href="../../#l00088">WorldSession::HandleGuildRosterOpcode()</a>, <a class="el" href="../../#l01433">HandleInviteMember()</a>, <a class="el" href="../../#l01506">HandleLeaveMember()</a>, <a class="el" href="../../#l01661">HandleMemberDepositMoney()</a>, <a class="el" href="../../#l00550">WorldSession::HandleOfferPetitionOpcode()</a>, <a class="el" href="../../#l00032">WorldSession::HandlePetitionBuyOpcode()</a>, <a class="el" href="../../#l00325">WorldSession::HandlePetitionRenameOpcode()</a>, <a class="el" href="../../#l00390">WorldSession::HandlePetitionSignOpcode()</a>, <a class="el" href="../../#l01540">HandleRemoveMember()</a>, <a class="el" href="../../#l01334">HandleSetLeader()</a>, <a class="el" href="../../#l01367">HandleSetMemberNote()</a>, <a class="el" href="../../#l01272">HandleSetMOTD()</a>, <a class="el" href="../../#l01383">HandleSetRankInfo()</a>, <a class="el" href="../../#l00641">WorldSession::HandleTurnInPetitionOpcode()</a>, and <a class="el" href="../../#l01569">HandleUpdateMemberRank()</a>.</p>

</div>
</div>
<a id="a51ac1af417881e348cfa25fe4c4a277e" name="a51ac1af417881e348cfa25fe4c4a277e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51ac1af417881e348cfa25fe4c4a277e">&#9670;&#160;</a></span>SendEventLog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::SendEventLog </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1779</span>{</div>
<div class="line"><span class="lineno"> 1780</span>    std::list&lt;EventLogEntry&gt; <span class="keyword">const</span>&amp; eventLog = <a class="code hl_variable" href="../../d8/d60/a09310.html#a8a9ec63cd5937e0d7967c1d3fb94a0b5">m_eventLog</a>.GetGuildLog();</div>
<div class="line"><span class="lineno"> 1781</span> </div>
<div class="line"><span class="lineno"> 1782</span>    <a class="code hl_class" href="../../d1/d7c/a10406.html">WorldPackets::Guild::GuildEventLogQueryResults</a> packet;</div>
<div class="line"><span class="lineno"> 1783</span>    packet.<a class="code hl_variable" href="../../d1/d7c/a10406.html#a227ab5555fccf5c8c78ca10fa229d3d4">Entry</a>.reserve(eventLog.size());</div>
<div class="line"><span class="lineno"> 1784</span> </div>
<div class="line"><span class="lineno"> 1785</span>    <span class="keywordflow">for</span> (EventLogEntry <span class="keyword">const</span>&amp; entry : eventLog)</div>
<div class="line"><span class="lineno"> 1786</span>        entry.WritePacket(packet);</div>
<div class="line"><span class="lineno"> 1787</span> </div>
<div class="line"><span class="lineno"> 1788</span>    session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(packet.<a class="code hl_function" href="../../d1/d7c/a10406.html#aa24738cdd040a883782b50189abdf240">Write</a>());</div>
<div class="line"><span class="lineno"> 1789</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;MSG_GUILD_EVENT_LOG_QUERY [{}]&quot;</span>, session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a5850670ad0e6b6a81abf41246bd92523">GetPlayerInfo</a>());</div>
<div class="line"><span class="lineno"> 1790</span>}</div>
<div class="ttc" id="aa10406_html"><div class="ttname"><a href="../../d1/d7c/a10406.html">WorldPackets::Guild::GuildEventLogQueryResults</a></div><div class="ttdef"><b>Definition:</b> GuildPackets.h:232</div></div>
<div class="ttc" id="aa10406_html_a227ab5555fccf5c8c78ca10fa229d3d4"><div class="ttname"><a href="../../d1/d7c/a10406.html#a227ab5555fccf5c8c78ca10fa229d3d4">WorldPackets::Guild::GuildEventLogQueryResults::Entry</a></div><div class="ttdeci">std::vector&lt; GuildEventEntry &gt; Entry</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:238</div></div>
<div class="ttc" id="aa10406_html_aa24738cdd040a883782b50189abdf240"><div class="ttname"><a href="../../d1/d7c/a10406.html#aa24738cdd040a883782b50189abdf240">WorldPackets::Guild::GuildEventLogQueryResults::Write</a></div><div class="ttdeci">WorldPacket const * Write() override</div><div class="ttdef"><b>Definition:</b> GuildPackets.cpp:144</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00238">WorldPackets::Guild::GuildEventLogQueryResults::Entry</a>, <a class="el" href="../../#l00189">WorldSession::GetPlayerInfo()</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00799">m_eventLog</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, and <a class="el" href="../../#l00144">WorldPackets::Guild::GuildEventLogQueryResults::Write()</a>.</p>

</div>
</div>
<a id="ad04b5e1d7a28c7acaa217fad02ff0cd5" name="ad04b5e1d7a28c7acaa217fad02ff0cd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad04b5e1d7a28c7acaa217fad02ff0cd5">&#9670;&#160;</a></span>SendInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::SendInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1767</span>{</div>
<div class="line"><span class="lineno"> 1768</span>    <a class="code hl_class" href="../../db/d4f/a10350.html">WorldPackets::Guild::GuildInfoResponse</a> guildInfo;</div>
<div class="line"><span class="lineno"> 1769</span>    guildInfo.<a class="code hl_variable" href="../../db/d4f/a10350.html#ad8efc926197e955ed0cf8df6a74b41e8">GuildName</a> = <a class="code hl_variable" href="../../d8/d60/a09310.html#a6aa6b5f1c7e4c81c8800dcc55f65b3c5">m_name</a>;</div>
<div class="line"><span class="lineno"> 1770</span>    guildInfo.<a class="code hl_variable" href="../../db/d4f/a10350.html#a1a0acf334d88751e94257ff76c9e3fd8">CreateDate</a> = <a class="code hl_variable" href="../../d8/d60/a09310.html#a4e19285fd1730d3515e69a971918f410">m_createdDate</a>;</div>
<div class="line"><span class="lineno"> 1771</span>    guildInfo.<a class="code hl_variable" href="../../db/d4f/a10350.html#a7e748a70029e867ba8c90eaba85bf8c9">NumMembers</a> = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(<a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>.size());</div>
<div class="line"><span class="lineno"> 1772</span>    guildInfo.<a class="code hl_variable" href="../../db/d4f/a10350.html#a21b42f1654aa10f7872d87635fea66ac">NumAccounts</a> = <a class="code hl_variable" href="../../d8/d60/a09310.html#a4b93e8964749214369de1f19a9532e2d">m_accountsNumber</a>;</div>
<div class="line"><span class="lineno"> 1773</span> </div>
<div class="line"><span class="lineno"> 1774</span>    session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(guildInfo.<a class="code hl_function" href="../../db/d4f/a10350.html#a3222d0018c9593400d3d01258b82371e">Write</a>());</div>
<div class="line"><span class="lineno"> 1775</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;SMSG_GUILD_INFO [{}]&quot;</span>, session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a5850670ad0e6b6a81abf41246bd92523">GetPlayerInfo</a>());</div>
<div class="line"><span class="lineno"> 1776</span>}</div>
<div class="ttc" id="aa10350_html"><div class="ttname"><a href="../../db/d4f/a10350.html">WorldPackets::Guild::GuildInfoResponse</a></div><div class="ttdef"><b>Definition:</b> GuildPackets.h:85</div></div>
<div class="ttc" id="aa10350_html_a1a0acf334d88751e94257ff76c9e3fd8"><div class="ttname"><a href="../../db/d4f/a10350.html#a1a0acf334d88751e94257ff76c9e3fd8">WorldPackets::Guild::GuildInfoResponse::CreateDate</a></div><div class="ttdeci">time_t CreateDate</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:92</div></div>
<div class="ttc" id="aa10350_html_a21b42f1654aa10f7872d87635fea66ac"><div class="ttname"><a href="../../db/d4f/a10350.html#a21b42f1654aa10f7872d87635fea66ac">WorldPackets::Guild::GuildInfoResponse::NumAccounts</a></div><div class="ttdeci">int32 NumAccounts</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:94</div></div>
<div class="ttc" id="aa10350_html_a3222d0018c9593400d3d01258b82371e"><div class="ttname"><a href="../../db/d4f/a10350.html#a3222d0018c9593400d3d01258b82371e">WorldPackets::Guild::GuildInfoResponse::Write</a></div><div class="ttdeci">WorldPacket const * Write() override</div><div class="ttdef"><b>Definition:</b> GuildPackets.cpp:50</div></div>
<div class="ttc" id="aa10350_html_a7e748a70029e867ba8c90eaba85bf8c9"><div class="ttname"><a href="../../db/d4f/a10350.html#a7e748a70029e867ba8c90eaba85bf8c9">WorldPackets::Guild::GuildInfoResponse::NumMembers</a></div><div class="ttdeci">int32 NumMembers</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:93</div></div>
<div class="ttc" id="aa10350_html_ad8efc926197e955ed0cf8df6a74b41e8"><div class="ttname"><a href="../../db/d4f/a10350.html#ad8efc926197e955ed0cf8df6a74b41e8">WorldPackets::Guild::GuildInfoResponse::GuildName</a></div><div class="ttdeci">std::string GuildName</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:91</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00092">WorldPackets::Guild::GuildInfoResponse::CreateDate</a>, <a class="el" href="../../#l00189">WorldSession::GetPlayerInfo()</a>, <a class="el" href="../../#l00091">WorldPackets::Guild::GuildInfoResponse::GuildName</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00791">m_accountsNumber</a>, <a class="el" href="../../#l00788">m_createdDate</a>, <a class="el" href="../../#l00795">m_members</a>, <a class="el" href="../../#l00784">m_name</a>, <a class="el" href="../../#l00094">WorldPackets::Guild::GuildInfoResponse::NumAccounts</a>, <a class="el" href="../../#l00093">WorldPackets::Guild::GuildInfoResponse::NumMembers</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, and <a class="el" href="../../#l00050">WorldPackets::Guild::GuildInfoResponse::Write()</a>.</p>

</div>
</div>
<a id="a690d3fe379bd3a3fee5531930043e593" name="a690d3fe379bd3a3fee5531930043e593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a690d3fe379bd3a3fee5531930043e593">&#9670;&#160;</a></span>SendLoginInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::SendLoginInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1879</span>{</div>
<div class="line"><span class="lineno"> 1880</span>    <a class="code hl_class" href="../../dc/dc1/a10394.html">WorldPackets::Guild::GuildEvent</a> motd;</div>
<div class="line"><span class="lineno"> 1881</span>    motd.<a class="code hl_variable" href="../../dc/dc1/a10394.html#a961ae90991fa23bfc94a054dba357392">Type</a> = <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59daab7edbe172dab4cd9f3a08e9d735421a">GE_MOTD</a>;</div>
<div class="line"><span class="lineno"> 1882</span>    motd.<a class="code hl_variable" href="../../dc/dc1/a10394.html#a8f0faa70581ca04c26f87ebcd25cee80">Params</a>.emplace_back(<a class="code hl_variable" href="../../d8/d60/a09310.html#ab8ca3dad15779135af492a0b26597868">m_motd</a>);</div>
<div class="line"><span class="lineno"> 1883</span>    session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(motd.<a class="code hl_function" href="../../dc/dc1/a10394.html#a4ae1c0daaec964981ad982b97c1b0408">Write</a>());</div>
<div class="line"><span class="lineno"> 1884</span> </div>
<div class="line"><span class="lineno"> 1885</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;SMSG_GUILD_EVENT [{}] MOTD&quot;</span>, session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a5850670ad0e6b6a81abf41246bd92523">GetPlayerInfo</a>());</div>
<div class="line"><span class="lineno"> 1886</span> </div>
<div class="line"><span class="lineno"> 1887</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1888</span> </div>
<div class="line"><span class="lineno"> 1889</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#aec337b417dc733be4ca87d3f670b4224">HandleRoster</a>(session);</div>
<div class="line"><span class="lineno"> 1890</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#ac945bc85b6372915ef1be2c53b5c70b6">_BroadcastEvent</a>(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59dae1b52b8ecf858eb756e92de351ffecf4">GE_SIGNED_ON</a>, player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>());</div>
<div class="line"><span class="lineno"> 1891</span> </div>
<div class="line"><span class="lineno"> 1892</span>    <span class="keywordflow">if</span> (Member* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()))</div>
<div class="line"><span class="lineno"> 1893</span>    {</div>
<div class="line"><span class="lineno"> 1894</span>        member-&gt;SetStats(player);</div>
<div class="line"><span class="lineno"> 1895</span>        member-&gt;AddFlag(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a123851062f168b4f6f203a4db8279667a82ef49b228d254523c3585bb42547d66">GUILDMEMBER_STATUS_ONLINE</a>);</div>
<div class="line"><span class="lineno"> 1896</span>    }</div>
<div class="line"><span class="lineno"> 1897</span>}</div>
<div class="ttc" id="aa02981_html_a06a0aa0a30a110150b9f76a3be9ee59dae1b52b8ecf858eb756e92de351ffecf4"><div class="ttname"><a href="../../d7/d93/a02981.html#a06a0aa0a30a110150b9f76a3be9ee59dae1b52b8ecf858eb756e92de351ffecf4">GE_SIGNED_ON</a></div><div class="ttdeci">@ GE_SIGNED_ON</div><div class="ttdef"><b>Definition:</b> Guild.h:159</div></div>
<div class="ttc" id="aa02981_html_a123851062f168b4f6f203a4db8279667a82ef49b228d254523c3585bb42547d66"><div class="ttname"><a href="../../d7/d93/a02981.html#a123851062f168b4f6f203a4db8279667a82ef49b228d254523c3585bb42547d66">GUILDMEMBER_STATUS_ONLINE</a></div><div class="ttdeci">@ GUILDMEMBER_STATUS_ONLINE</div><div class="ttdef"><b>Definition:</b> Guild.h:231</div></div>
<div class="ttc" id="aa10394_html_a8f0faa70581ca04c26f87ebcd25cee80"><div class="ttname"><a href="../../dc/dc1/a10394.html#a8f0faa70581ca04c26f87ebcd25cee80">WorldPackets::Guild::GuildEvent::Params</a></div><div class="ttdeci">boost::container::static_vector&lt; std::string_view, 3 &gt; Params</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:210</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02799">_BroadcastEvent()</a>, <a class="el" href="../../#l00149">GE_MOTD</a>, <a class="el" href="../../#l00159">GE_SIGNED_ON</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00463">WorldObject::GetName()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00189">WorldSession::GetPlayerInfo()</a>, <a class="el" href="../../#l00231">GUILDMEMBER_STATUS_ONLINE</a>, <a class="el" href="../../#l01203">HandleRoster()</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00786">m_motd</a>, <a class="el" href="../../#l00210">WorldPackets::Guild::GuildEvent::Params</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, <a class="el" href="../../#l00209">WorldPackets::Guild::GuildEvent::Type</a>, and <a class="el" href="../../#l00122">WorldPackets::Guild::GuildEvent::Write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02175">AddMember()</a>, and <a class="el" href="../../#l00793">WorldSession::HandlePlayerLoginFromDB()</a>.</p>

</div>
</div>
<a id="ae4acde295523f9cf9e6f2e3e09ced8f7" name="ae4acde295523f9cf9e6f2e3e09ced8f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4acde295523f9cf9e6f2e3e09ced8f7">&#9670;&#160;</a></span>SendMoneyInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::SendMoneyInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1864</span>{</div>
<div class="line"><span class="lineno"> 1865</span>    Member <span class="keyword">const</span>* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno"> 1866</span>    <span class="keywordflow">if</span> (!member)</div>
<div class="line"><span class="lineno"> 1867</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1868</span> </div>
<div class="line"><span class="lineno"> 1869</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> amount = <a class="code hl_function" href="../../d8/d60/a09310.html#a19ab0b7ff433180bafc6461c7588084c">_GetMemberRemainingMoney</a>(*member);</div>
<div class="line"><span class="lineno"> 1870</span> </div>
<div class="line"><span class="lineno"> 1871</span>    <a class="code hl_class" href="../../dd/d95/a10486.html">WorldPackets::Guild::GuildBankRemainingWithdrawMoney</a> packet;</div>
<div class="line"><span class="lineno"> 1872</span>    packet.<a class="code hl_variable" href="../../dd/d95/a10486.html#a015ba615ebe4ea09df8233f6a85332f4">RemainingWithdrawMoney</a> = amount;</div>
<div class="line"><span class="lineno"> 1873</span>    session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(packet.<a class="code hl_function" href="../../dd/d95/a10486.html#aecc28f8734a66c562c7baa1575b07ff9">Write</a>());</div>
<div class="line"><span class="lineno"> 1874</span> </div>
<div class="line"><span class="lineno"> 1875</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;MSG_GUILD_BANK_MONEY_WITHDRAWN [{}] Money: {}&quot;</span>, session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a5850670ad0e6b6a81abf41246bd92523">GetPlayerInfo</a>(), amount);</div>
<div class="line"><span class="lineno"> 1876</span>}</div>
<div class="ttc" id="aa10486_html"><div class="ttname"><a href="../../dd/d95/a10486.html">WorldPackets::Guild::GuildBankRemainingWithdrawMoney</a></div><div class="ttdef"><b>Definition:</b> GuildPackets.h:436</div></div>
<div class="ttc" id="aa10486_html_a015ba615ebe4ea09df8233f6a85332f4"><div class="ttname"><a href="../../dd/d95/a10486.html#a015ba615ebe4ea09df8233f6a85332f4">WorldPackets::Guild::GuildBankRemainingWithdrawMoney::RemainingWithdrawMoney</a></div><div class="ttdeci">int32 RemainingWithdrawMoney</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:442</div></div>
<div class="ttc" id="aa10486_html_aecc28f8734a66c562c7baa1575b07ff9"><div class="ttname"><a href="../../dd/d95/a10486.html#aecc28f8734a66c562c7baa1575b07ff9">WorldPackets::Guild::GuildBankRemainingWithdrawMoney::Write</a></div><div class="ttdeci">WorldPacket const * Write() override</div><div class="ttdef"><b>Definition:</b> GuildPackets.cpp:272</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02568">_GetMemberRemainingMoney()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00189">WorldSession::GetPlayerInfo()</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00442">WorldPackets::Guild::GuildBankRemainingWithdrawMoney::RemainingWithdrawMoney</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, and <a class="el" href="../../#l00272">WorldPackets::Guild::GuildBankRemainingWithdrawMoney::Write()</a>.</p>

</div>
</div>
<a id="a4583ba5df806a9bb7d47d139d8648221" name="a4583ba5df806a9bb7d47d139d8648221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4583ba5df806a9bb7d47d139d8648221">&#9670;&#160;</a></span>SendPermissions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::SendPermissions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1835</span>{</div>
<div class="line"><span class="lineno"> 1836</span>    Member* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno"> 1837</span>    <span class="keywordflow">if</span> (!member)</div>
<div class="line"><span class="lineno"> 1838</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1839</span> </div>
<div class="line"><span class="lineno"> 1840</span>    <span class="comment">// We are unsubscribing here since it is the only reliable way to handle /reload from player as</span></div>
<div class="line"><span class="lineno"> 1841</span>    <span class="comment">// GuildPermissionsQuery is sent on each reload, and we don&#39;t want to send partial changes while client</span></div>
<div class="line"><span class="lineno"> 1842</span>    <span class="comment">// doesn&#39;t know the full state</span></div>
<div class="line"><span class="lineno"> 1843</span>    member-&gt;UnsubscribeFromGuildBankUpdatePackets();</div>
<div class="line"><span class="lineno"> 1844</span> </div>
<div class="line"><span class="lineno"> 1845</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId = member-&gt;GetRankId();</div>
<div class="line"><span class="lineno"> 1846</span> </div>
<div class="line"><span class="lineno"> 1847</span>    <a class="code hl_class" href="../../dd/d33/a10414.html">WorldPackets::Guild::GuildPermissionsQueryResults</a> queryResult;</div>
<div class="line"><span class="lineno"> 1848</span>    queryResult.<a class="code hl_variable" href="../../dd/d33/a10414.html#a795ba45650991bd5c1aa03c17886d86b">RankID</a> = rankId;</div>
<div class="line"><span class="lineno"> 1849</span>    queryResult.<a class="code hl_variable" href="../../dd/d33/a10414.html#a9d175a8de69f15c3f8eadf237f68e84a">WithdrawGoldLimit</a> = <a class="code hl_function" href="../../d8/d60/a09310.html#a75c1af97a252a6ab2eec848c92e7cfc7">_GetRankBankMoneyPerDay</a>(rankId);</div>
<div class="line"><span class="lineno"> 1850</span>    queryResult.<a class="code hl_variable" href="../../dd/d33/a10414.html#a368162426ab526adafc7ecb223fdf865">Flags</a> = <a class="code hl_function" href="../../d8/d60/a09310.html#a2d37224ec9bf1c2b1ec75562b62192ea">_GetRankRights</a>(rankId);</div>
<div class="line"><span class="lineno"> 1851</span>    queryResult.<a class="code hl_variable" href="../../dd/d33/a10414.html#ab797ef0f0081c4520a6333afbe6cd5b4">NumTabs</a> = <a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>();</div>
<div class="line"><span class="lineno"> 1852</span> </div>
<div class="line"><span class="lineno"> 1853</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> tabId = 0; tabId &lt; <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaadf100aec6c7a6f10b7af8629930feff7">GUILD_BANK_MAX_TABS</a>; ++tabId)</div>
<div class="line"><span class="lineno"> 1854</span>    {</div>
<div class="line"><span class="lineno"> 1855</span>        queryResult.<a class="code hl_variable" href="../../dd/d33/a10414.html#ae54eeb1a76f5eeaf4a63bcb58bab3460">Tab</a>[tabId].Flags = <a class="code hl_function" href="../../d8/d60/a09310.html#a03604640465ea463f12530add6b0eeb7">_GetRankBankTabRights</a>(rankId, tabId);</div>
<div class="line"><span class="lineno"> 1856</span>        queryResult.<a class="code hl_variable" href="../../dd/d33/a10414.html#ae54eeb1a76f5eeaf4a63bcb58bab3460">Tab</a>[tabId].WithdrawItemLimit = <a class="code hl_function" href="../../d8/d60/a09310.html#a4e4488776daa471ffb5a31c0770633e6">_GetMemberRemainingSlots</a>(*member, tabId);</div>
<div class="line"><span class="lineno"> 1857</span>    }</div>
<div class="line"><span class="lineno"> 1858</span> </div>
<div class="line"><span class="lineno"> 1859</span>    session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(queryResult.<a class="code hl_function" href="../../dd/d33/a10414.html#a4a5937a8daab44b5000a5308ed0be06a">Write</a>());</div>
<div class="line"><span class="lineno"> 1860</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;MSG_GUILD_PERMISSIONS [{}] Rank: {}&quot;</span>, session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a5850670ad0e6b6a81abf41246bd92523">GetPlayerInfo</a>(), rankId);</div>
<div class="line"><span class="lineno"> 1861</span>}</div>
<div class="ttc" id="aa10414_html"><div class="ttname"><a href="../../dd/d33/a10414.html">WorldPackets::Guild::GuildPermissionsQueryResults</a></div><div class="ttdef"><b>Definition:</b> GuildPackets.h:250</div></div>
<div class="ttc" id="aa10414_html_a368162426ab526adafc7ecb223fdf865"><div class="ttname"><a href="../../dd/d33/a10414.html#a368162426ab526adafc7ecb223fdf865">WorldPackets::Guild::GuildPermissionsQueryResults::Flags</a></div><div class="ttdeci">int32 Flags</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:264</div></div>
<div class="ttc" id="aa10414_html_a4a5937a8daab44b5000a5308ed0be06a"><div class="ttname"><a href="../../dd/d33/a10414.html#a4a5937a8daab44b5000a5308ed0be06a">WorldPackets::Guild::GuildPermissionsQueryResults::Write</a></div><div class="ttdeci">WorldPacket const * Write() override</div><div class="ttdef"><b>Definition:</b> GuildPackets.cpp:164</div></div>
<div class="ttc" id="aa10414_html_a795ba45650991bd5c1aa03c17886d86b"><div class="ttname"><a href="../../dd/d33/a10414.html#a795ba45650991bd5c1aa03c17886d86b">WorldPackets::Guild::GuildPermissionsQueryResults::RankID</a></div><div class="ttdeci">uint32 RankID</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:265</div></div>
<div class="ttc" id="aa10414_html_a9d175a8de69f15c3f8eadf237f68e84a"><div class="ttname"><a href="../../dd/d33/a10414.html#a9d175a8de69f15c3f8eadf237f68e84a">WorldPackets::Guild::GuildPermissionsQueryResults::WithdrawGoldLimit</a></div><div class="ttdeci">int32 WithdrawGoldLimit</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:263</div></div>
<div class="ttc" id="aa10414_html_ab797ef0f0081c4520a6333afbe6cd5b4"><div class="ttname"><a href="../../dd/d33/a10414.html#ab797ef0f0081c4520a6333afbe6cd5b4">WorldPackets::Guild::GuildPermissionsQueryResults::NumTabs</a></div><div class="ttdeci">int8 NumTabs</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:262</div></div>
<div class="ttc" id="aa10414_html_ae54eeb1a76f5eeaf4a63bcb58bab3460"><div class="ttname"><a href="../../dd/d33/a10414.html#ae54eeb1a76f5eeaf4a63bcb58bab3460">WorldPackets::Guild::GuildPermissionsQueryResults::Tab</a></div><div class="ttdeci">std::array&lt; GuildRankTabPermissions, GUILD_BANK_MAX_TABS &gt; Tab</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:266</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02554">_GetMemberRemainingSlots()</a>, <a class="el" href="../../#l00816">_GetPurchasedTabsSize()</a>, <a class="el" href="../../#l02532">_GetRankBankMoneyPerDay()</a>, <a class="el" href="../../#l02547">_GetRankBankTabRights()</a>, <a class="el" href="../../#l02525">_GetRankRights()</a>, <a class="el" href="../../#l00264">WorldPackets::Guild::GuildPermissionsQueryResults::Flags</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00189">WorldSession::GetPlayerInfo()</a>, <a class="el" href="../../#l00330">Guild::Member::GetRankId()</a>, <a class="el" href="../../#l00042">GUILD_BANK_MAX_TABS</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00262">WorldPackets::Guild::GuildPermissionsQueryResults::NumTabs</a>, <a class="el" href="../../#l00265">WorldPackets::Guild::GuildPermissionsQueryResults::RankID</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, <a class="el" href="../../#l00266">WorldPackets::Guild::GuildPermissionsQueryResults::Tab</a>, <a class="el" href="../../#l00355">Guild::Member::UnsubscribeFromGuildBankUpdatePackets()</a>, <a class="el" href="../../#l00263">WorldPackets::Guild::GuildPermissionsQueryResults::WithdrawGoldLimit</a>, and <a class="el" href="../../#l00164">WorldPackets::Guild::GuildPermissionsQueryResults::Write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01403">HandleBuyBankTab()</a>.</p>

</div>
</div>
<a id="ac04211f3519113a67aa4b241292c0ae2" name="ac04211f3519113a67aa4b241292c0ae2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac04211f3519113a67aa4b241292c0ae2">&#9670;&#160;</a></span>SendSaveEmblemResult()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::SendSaveEmblemResult </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d93/a02981.html#afa754e5cab703d1d74d769393a463892">GuildEmblemError</a>&#160;</td>
          <td class="paramname"><em>errCode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  126</span>{</div>
<div class="line"><span class="lineno">  127</span>    <a class="code hl_class" href="../../d0/d62/a10546.html">WorldPackets::Guild::PlayerSaveGuildEmblem</a> saveResponse;</div>
<div class="line"><span class="lineno">  128</span>    saveResponse.<a class="code hl_variable" href="../../d0/d62/a10546.html#a76930d3b74bf7b84a311b24b53d03b21">Error</a> = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(errCode);</div>
<div class="line"><span class="lineno">  129</span>    session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(saveResponse.<a class="code hl_function" href="../../d0/d62/a10546.html#a0427be2f46cba4ff6b2ca072924bca7b">Write</a>());</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;MSG_SAVE_GUILD_EMBLEM [{}] Code: {}&quot;</span>, session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a5850670ad0e6b6a81abf41246bd92523">GetPlayerInfo</a>(), errCode);</div>
<div class="line"><span class="lineno">  132</span>}</div>
<div class="ttc" id="aa10546_html"><div class="ttname"><a href="../../d0/d62/a10546.html">WorldPackets::Guild::PlayerSaveGuildEmblem</a></div><div class="ttdef"><b>Definition:</b> GuildPackets.h:614</div></div>
<div class="ttc" id="aa10546_html_a0427be2f46cba4ff6b2ca072924bca7b"><div class="ttname"><a href="../../d0/d62/a10546.html#a0427be2f46cba4ff6b2ca072924bca7b">WorldPackets::Guild::PlayerSaveGuildEmblem::Write</a></div><div class="ttdeci">WorldPacket const * Write() override</div><div class="ttdef"><b>Definition:</b> GuildPackets.cpp:453</div></div>
<div class="ttc" id="aa10546_html_a76930d3b74bf7b84a311b24b53d03b21"><div class="ttname"><a href="../../d0/d62/a10546.html#a76930d3b74bf7b84a311b24b53d03b21">WorldPackets::Guild::PlayerSaveGuildEmblem::Error</a></div><div class="ttdeci">int32 Error</div><div class="ttdef"><b>Definition:</b> GuildPackets.h:620</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00620">WorldPackets::Guild::PlayerSaveGuildEmblem::Error</a>, <a class="el" href="../../#l00189">WorldSession::GetPlayerInfo()</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, and <a class="el" href="../../#l00453">WorldPackets::Guild::PlayerSaveGuildEmblem::Write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00224">WorldSession::HandleSaveGuildEmblemOpcode()</a>, and <a class="el" href="../../#l01314">HandleSetEmblem()</a>.</p>

</div>
</div>
<a id="a74a0bf05d88af8b558310a9ef0ffcef3" name="a74a0bf05d88af8b558310a9ef0ffcef3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74a0bf05d88af8b558310a9ef0ffcef3">&#9670;&#160;</a></span>SetBankTabText()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::SetBankTabText </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>text</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2372</span>{</div>
<div class="line"><span class="lineno"> 2373</span>    <span class="keywordflow">if</span> (BankTab* pTab = <a class="code hl_function" href="../../d8/d60/a09310.html#ac64fffad338feef366cbe672439f1027">GetBankTab</a>(tabId))</div>
<div class="line"><span class="lineno"> 2374</span>    {</div>
<div class="line"><span class="lineno"> 2375</span>        pTab-&gt;SetText(text);</div>
<div class="line"><span class="lineno"> 2376</span>        pTab-&gt;SendText(<span class="keyword">this</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 2377</span>    }</div>
<div class="line"><span class="lineno"> 2378</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00817">GetBankTab()</a>.</p>

</div>
</div>
<a id="ac274430ce4ab2da5cdd9dfea9d4a19e1" name="ac274430ce4ab2da5cdd9dfea9d4a19e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac274430ce4ab2da5cdd9dfea9d4a19e1">&#9670;&#160;</a></span>SetName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::SetName </td>
          <td>(</td>
          <td class="paramtype">std::string_view const &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1189</span>{</div>
<div class="line"><span class="lineno"> 1190</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d60/a09310.html#a6aa6b5f1c7e4c81c8800dcc55f65b3c5">m_name</a> == name || name.empty() || name.length() &gt; 24 || !<a class="code hl_function" href="../../df/d30/a08890.html#aa161beccab5e24086d9f71bed191ea38">ObjectMgr::IsValidCharterName</a>(name))</div>
<div class="line"><span class="lineno"> 1191</span>    {</div>
<div class="line"><span class="lineno"> 1192</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1193</span>    }</div>
<div class="line"><span class="lineno"> 1194</span> </div>
<div class="line"><span class="lineno"> 1195</span>    <a class="code hl_variable" href="../../d8/d60/a09310.html#a6aa6b5f1c7e4c81c8800dcc55f65b3c5">m_name</a> = name;</div>
<div class="line"><span class="lineno"> 1196</span>    <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a32f13df412569d504f4cef5e980988db">CHAR_UPD_GUILD_NAME</a>);</div>
<div class="line"><span class="lineno"> 1197</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_variable" href="../../d8/d60/a09310.html#a6aa6b5f1c7e4c81c8800dcc55f65b3c5">m_name</a>);</div>
<div class="line"><span class="lineno"> 1198</span>    stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, <a class="code hl_function" href="../../d8/d60/a09310.html#a66dfb8bfc30bb82d9d4361467ef8b8d5">GetId</a>());</div>
<div class="line"><span class="lineno"> 1199</span>    <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno"> 1200</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1201</span>}</div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a32f13df412569d504f4cef5e980988db"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a32f13df412569d504f4cef5e980988db">CHAR_UPD_GUILD_NAME</a></div><div class="ttdeci">@ CHAR_UPD_GUILD_NAME</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:142</div></div>
<div class="ttc" id="aa08890_html_aa161beccab5e24086d9f71bed191ea38"><div class="ttname"><a href="../../df/d30/a08890.html#aa161beccab5e24086d9f71bed191ea38">ObjectMgr::IsValidCharterName</a></div><div class="ttdeci">static bool IsValidCharterName(std::string_view name)</div><div class="ttdef"><b>Definition:</b> ObjectMgr.cpp:8471</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00142">CHAR_UPD_GUILD_NAME</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00686">GetId()</a>, <a class="el" href="../../#l08471">ObjectMgr::IsValidCharterName()</a>, <a class="el" href="../../#l00784">m_name</a>, and <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00194">guild_commandscript::HandleGuildRenameCommand()</a>.</p>

</div>
</div>
<a id="a2f35667276ec851e6c1fd0ceb6c3539a" name="a2f35667276ec851e6c1fd0ceb6c3539a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f35667276ec851e6c1fd0ceb6c3539a">&#9670;&#160;</a></span>SwapItems()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::SwapItems </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d06/a08466.html">Player</a> *&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>slotId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>destTabId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>destSlotId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>splitedAmount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2344</span>{</div>
<div class="line"><span class="lineno"> 2345</span>    <span class="keywordflow">if</span> (tabId &gt;= <a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>() || slotId &gt;= <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaab16b15ec75f4e5d66f25c472aa3e8bba">GUILD_BANK_MAX_SLOTS</a> ||</div>
<div class="line"><span class="lineno"> 2346</span>            destTabId &gt;= <a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>() || destSlotId &gt;= <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaab16b15ec75f4e5d66f25c472aa3e8bba">GUILD_BANK_MAX_SLOTS</a>)</div>
<div class="line"><span class="lineno"> 2347</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2348</span> </div>
<div class="line"><span class="lineno"> 2349</span>    <span class="keywordflow">if</span> (tabId == destTabId &amp;&amp; slotId == destSlotId)</div>
<div class="line"><span class="lineno"> 2350</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2351</span> </div>
<div class="line"><span class="lineno"> 2352</span>    BankMoveItemData from(<span class="keyword">this</span>, player, tabId, slotId);</div>
<div class="line"><span class="lineno"> 2353</span>    BankMoveItemData to(<span class="keyword">this</span>, player, destTabId, destSlotId);</div>
<div class="line"><span class="lineno"> 2354</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#aedae13ac977ddf2c8947d652144cfd36">_MoveItems</a>(&amp;from, &amp;to, splitedAmount);</div>
<div class="line"><span class="lineno"> 2355</span>}</div>
<div class="ttc" id="aa09310_html_aedae13ac977ddf2c8947d652144cfd36"><div class="ttname"><a href="../../d8/d60/a09310.html#aedae13ac977ddf2c8947d652144cfd36">Guild::_MoveItems</a></div><div class="ttdeci">void _MoveItems(MoveItemData *pSrc, MoveItemData *pDest, uint32 splitedAmount)</div><div class="ttdef"><b>Definition:</b> Guild.cpp:2651</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00816">_GetPurchasedTabsSize()</a>, <a class="el" href="../../#l02651">_MoveItems()</a>, and <a class="el" href="../../#l00043">GUILD_BANK_MAX_SLOTS</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00321">WorldSession::HandleGuildBankSwapItems()</a>.</p>

</div>
</div>
<a id="a0437adefe4485ff8d9e4e4fa5698ced2" name="a0437adefe4485ff8d9e4e4fa5698ced2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0437adefe4485ff8d9e4e4fa5698ced2">&#9670;&#160;</a></span>SwapItemsWithInventory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::SwapItemsWithInventory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d06/a08466.html">Player</a> *&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>toChar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>tabId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>slotId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>playerBag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>playerSlotId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>splitedAmount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2358</span>{</div>
<div class="line"><span class="lineno"> 2359</span>    <span class="keywordflow">if</span> ((slotId &gt;= <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaab16b15ec75f4e5d66f25c472aa3e8bba">GUILD_BANK_MAX_SLOTS</a> &amp;&amp; slotId != <a class="code hl_enumvalue" href="../../d6/d0e/a03395.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a>) || tabId &gt;= <a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>())</div>
<div class="line"><span class="lineno"> 2360</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2361</span> </div>
<div class="line"><span class="lineno"> 2362</span>    BankMoveItemData bankData(<span class="keyword">this</span>, player, tabId, slotId);</div>
<div class="line"><span class="lineno"> 2363</span>    PlayerMoveItemData charData(<span class="keyword">this</span>, player, playerBag, playerSlotId);</div>
<div class="line"><span class="lineno"> 2364</span>    <span class="keywordflow">if</span> (toChar)</div>
<div class="line"><span class="lineno"> 2365</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#aedae13ac977ddf2c8947d652144cfd36">_MoveItems</a>(&amp;bankData, &amp;charData, splitedAmount);</div>
<div class="line"><span class="lineno"> 2366</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2367</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#aedae13ac977ddf2c8947d652144cfd36">_MoveItems</a>(&amp;charData, &amp;bankData, splitedAmount);</div>
<div class="line"><span class="lineno"> 2368</span>}</div>
<div class="ttc" id="aa03395_html_aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130"><div class="ttname"><a href="../../d6/d0e/a03395.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a></div><div class="ttdeci">@ NULL_SLOT</div><div class="ttdef"><b>Definition:</b> Item.h:41</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00816">_GetPurchasedTabsSize()</a>, <a class="el" href="../../#l02651">_MoveItems()</a>, <a class="el" href="../../#l00043">GUILD_BANK_MAX_SLOTS</a>, and <a class="el" href="../../#l00041">NULL_SLOT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00321">WorldSession::HandleGuildBankSwapItems()</a>.</p>

</div>
</div>
<a id="a460f284740f1bf12b1662eb0809d333f" name="a460f284740f1bf12b1662eb0809d333f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a460f284740f1bf12b1662eb0809d333f">&#9670;&#160;</a></span>UpdateMemberData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Guild::UpdateMemberData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d06/a08466.html">Player</a> *&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>dataid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1159</span>{</div>
<div class="line"><span class="lineno"> 1160</span>    <span class="keywordflow">if</span> (Member* member = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()))</div>
<div class="line"><span class="lineno"> 1161</span>    {</div>
<div class="line"><span class="lineno"> 1162</span>        <span class="keywordflow">switch</span> (dataid)</div>
<div class="line"><span class="lineno"> 1163</span>        {</div>
<div class="line"><span class="lineno"> 1164</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#ae5d0dd5e01476247e0fb95c8983c60d4af3613580ee19a9b12e7081944ae6b9ba">GUILD_MEMBER_DATA_ZONEID</a>:</div>
<div class="line"><span class="lineno"> 1165</span>                member-&gt;SetZoneID(value);</div>
<div class="line"><span class="lineno"> 1166</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1167</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#ae5d0dd5e01476247e0fb95c8983c60d4a110701578c81893944f3d8e5904849a1">GUILD_MEMBER_DATA_LEVEL</a>:</div>
<div class="line"><span class="lineno"> 1168</span>                member-&gt;SetLevel(value);</div>
<div class="line"><span class="lineno"> 1169</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1170</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1171</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;Guild::UpdateMemberData: Called with incorrect DATAID {} (value {})&quot;</span>, dataid, value);</div>
<div class="line"><span class="lineno"> 1172</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1173</span>        }</div>
<div class="line"><span class="lineno"> 1174</span>        <span class="comment">//HandleRoster();</span></div>
<div class="line"><span class="lineno"> 1175</span>    }</div>
<div class="line"><span class="lineno"> 1176</span>}</div>
<div class="ttc" id="aa02981_html_ae5d0dd5e01476247e0fb95c8983c60d4a110701578c81893944f3d8e5904849a1"><div class="ttname"><a href="../../d7/d93/a02981.html#ae5d0dd5e01476247e0fb95c8983c60d4a110701578c81893944f3d8e5904849a1">GUILD_MEMBER_DATA_LEVEL</a></div><div class="ttdeci">@ GUILD_MEMBER_DATA_LEVEL</div><div class="ttdef"><b>Definition:</b> Guild.h:59</div></div>
<div class="ttc" id="aa02981_html_ae5d0dd5e01476247e0fb95c8983c60d4af3613580ee19a9b12e7081944ae6b9ba"><div class="ttname"><a href="../../d7/d93/a02981.html#ae5d0dd5e01476247e0fb95c8983c60d4af3613580ee19a9b12e7081944ae6b9ba">GUILD_MEMBER_DATA_ZONEID</a></div><div class="ttdeci">@ GUILD_MEMBER_DATA_ZONEID</div><div class="ttdef"><b>Definition:</b> Guild.h:58</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00059">GUILD_MEMBER_DATA_LEVEL</a>, <a class="el" href="../../#l00058">GUILD_MEMBER_DATA_ZONEID</a>, and <a class="el" href="../../#l00157">LOG_ERROR</a>.</p>

</div>
</div>
<a id="aedeba5c8ed6e8ad422562be594bd46d4" name="aedeba5c8ed6e8ad422562be594bd46d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedeba5c8ed6e8ad422562be594bd46d4">&#9670;&#160;</a></span>Validate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Guild::Validate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2043</span>{</div>
<div class="line"><span class="lineno"> 2044</span>    <span class="comment">// Validate ranks data</span></div>
<div class="line"><span class="lineno"> 2045</span>    <span class="comment">// GUILD RANKS represent a sequence starting from 0 = GUILD_MASTER (ALL PRIVILEGES) to max 9 (lowest privileges).</span></div>
<div class="line"><span class="lineno"> 2046</span>    <span class="comment">// The lower rank id is considered higher rank - so promotion does rank-- and demotion does rank++</span></div>
<div class="line"><span class="lineno"> 2047</span>    <span class="comment">// Between ranks in sequence cannot be gaps - so 0, 1, 2, 4 is impossible</span></div>
<div class="line"><span class="lineno"> 2048</span>    <span class="comment">// Min ranks count is 5 and max is 10.</span></div>
<div class="line"><span class="lineno"> 2049</span>    <span class="keywordtype">bool</span> broken_ranks = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2050</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> ranks = <a class="code hl_function" href="../../d8/d60/a09310.html#ac250922a980c212c66ea7a2bb7e5b4b3">_GetRanksSize</a>();</div>
<div class="line"><span class="lineno"> 2051</span>    <span class="keywordflow">if</span> (ranks &lt; GUILD_RANKS_MIN_COUNT || ranks &gt; <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaac93065ac20ad4d90f8ef5c0f44154e1b">GUILD_RANKS_MAX_COUNT</a>)</div>
<div class="line"><span class="lineno"> 2052</span>    {</div>
<div class="line"><span class="lineno"> 2053</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;Guild {} has invalid number of ranks, creating new...&quot;</span>, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>);</div>
<div class="line"><span class="lineno"> 2054</span>        broken_ranks = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2055</span>    }</div>
<div class="line"><span class="lineno"> 2056</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2057</span>    {</div>
<div class="line"><span class="lineno"> 2058</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rankId = 0; rankId &lt; ranks; ++rankId)</div>
<div class="line"><span class="lineno"> 2059</span>        {</div>
<div class="line"><span class="lineno"> 2060</span>            RankInfo* rankInfo = <a class="code hl_function" href="../../d8/d60/a09310.html#acb913d5002329ec1ad98fe269f1ef08a">GetRankInfo</a>(rankId);</div>
<div class="line"><span class="lineno"> 2061</span>            <span class="keywordflow">if</span> (rankInfo-&gt;GetId() != rankId)</div>
<div class="line"><span class="lineno"> 2062</span>            {</div>
<div class="line"><span class="lineno"> 2063</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;guild&quot;</span>, <span class="stringliteral">&quot;Guild {} has broken rank id {}, creating default set of ranks...&quot;</span>, <a class="code hl_variable" href="../../d8/d60/a09310.html#a1f3d236dfe2a86fa6c965cc6edbf3e70">m_id</a>, rankId);</div>
<div class="line"><span class="lineno"> 2064</span>                broken_ranks = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2065</span>            }</div>
<div class="line"><span class="lineno"> 2066</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2067</span>            {</div>
<div class="line"><span class="lineno"> 2068</span>                <a class="code hl_typedef" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.BeginTransaction();</div>
<div class="line"><span class="lineno"> 2069</span>                rankInfo-&gt;CreateMissingTabsIfNeeded(<a class="code hl_function" href="../../d8/d60/a09310.html#a568597dd85eee0c661de9ad12978e527">_GetPurchasedTabsSize</a>(), trans, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2070</span>                <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.CommitTransaction(trans);</div>
<div class="line"><span class="lineno"> 2071</span>            }</div>
<div class="line"><span class="lineno"> 2072</span>        }</div>
<div class="line"><span class="lineno"> 2073</span>    }</div>
<div class="line"><span class="lineno"> 2074</span> </div>
<div class="line"><span class="lineno"> 2075</span>    <span class="keywordflow">if</span> (broken_ranks)</div>
<div class="line"><span class="lineno"> 2076</span>    {</div>
<div class="line"><span class="lineno"> 2077</span>        <a class="code hl_variable" href="../../d8/d60/a09310.html#a6747cafe477510f495f4719c8851413c">m_ranks</a>.clear();</div>
<div class="line"><span class="lineno"> 2078</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#aee9f5a339a9073219a29f634072c2f7e">_CreateDefaultGuildRanks</a>(<a class="code hl_define" href="../../d4/d51/a00017.html#a900ed91bceba26c1e05048bd3a9ec4fd">DEFAULT_LOCALE</a>);</div>
<div class="line"><span class="lineno"> 2079</span>    }</div>
<div class="line"><span class="lineno"> 2080</span> </div>
<div class="line"><span class="lineno"> 2081</span>    <span class="comment">// Validate members&#39; data</span></div>
<div class="line"><span class="lineno"> 2082</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [guid, member] : <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>)</div>
<div class="line"><span class="lineno"> 2083</span>        <span class="keywordflow">if</span> (member.GetRankId() &gt; <a class="code hl_function" href="../../d8/d60/a09310.html#ac250922a980c212c66ea7a2bb7e5b4b3">_GetRanksSize</a>())</div>
<div class="line"><span class="lineno"> 2084</span>            member.ChangeRank(<a class="code hl_function" href="../../d8/d60/a09310.html#aed9d9581db0de4d6c73aa8858024e7a1">_GetLowestRankId</a>());</div>
<div class="line"><span class="lineno"> 2085</span> </div>
<div class="line"><span class="lineno"> 2086</span>    <span class="comment">// Repair the structure of the guild.</span></div>
<div class="line"><span class="lineno"> 2087</span>    <span class="comment">// If the guildmaster doesn&#39;t exist or isn&#39;t member of the guild</span></div>
<div class="line"><span class="lineno"> 2088</span>    <span class="comment">// attempt to promote another member.</span></div>
<div class="line"><span class="lineno"> 2089</span>    Member* pLeader = <a class="code hl_function" href="../../d8/d60/a09310.html#a828c4a38bd1520e4f993dd8350c64f8b">GetMember</a>(<a class="code hl_variable" href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">m_leaderGuid</a>);</div>
<div class="line"><span class="lineno"> 2090</span>    <span class="keywordflow">if</span> (!pLeader)</div>
<div class="line"><span class="lineno"> 2091</span>    {</div>
<div class="line"><span class="lineno"> 2092</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#a4b1c1eae7f85a92e17ba48c4ac52f0c9">DeleteMember</a>(<a class="code hl_variable" href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">m_leaderGuid</a>);</div>
<div class="line"><span class="lineno"> 2093</span>        <span class="comment">// If no more members left, disband guild</span></div>
<div class="line"><span class="lineno"> 2094</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>.empty())</div>
<div class="line"><span class="lineno"> 2095</span>        {</div>
<div class="line"><span class="lineno"> 2096</span>            <a class="code hl_function" href="../../d8/d60/a09310.html#acba39ec95f021c6d02241d9d6b9bd492">Disband</a>();</div>
<div class="line"><span class="lineno"> 2097</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2098</span>        }</div>
<div class="line"><span class="lineno"> 2099</span>    }</div>
<div class="line"><span class="lineno"> 2100</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!pLeader-&gt;IsRank(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a6534fcf172d7fbe4a762e0479601acd4a349203b98139f80965ab3d7e3379c36d">GR_GUILDMASTER</a>))</div>
<div class="line"><span class="lineno"> 2101</span>        <a class="code hl_function" href="../../d8/d60/a09310.html#aac7bfd950eec4b375833956962d0ae57">_SetLeaderGUID</a>(*pLeader);</div>
<div class="line"><span class="lineno"> 2102</span> </div>
<div class="line"><span class="lineno"> 2103</span>    <span class="comment">// Check config if multiple guildmasters are allowed</span></div>
<div class="line"><span class="lineno"> 2104</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d9/d4a/a00479.html#a7236988e98bdd405bf435a029b70a26f">sConfigMgr</a>-&gt;GetOption&lt;<span class="keywordtype">bool</span>&gt;(<span class="stringliteral">&quot;Guild.AllowMultipleGuildMaster&quot;</span>, 0))</div>
<div class="line"><span class="lineno"> 2105</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [guid, member] : <a class="code hl_variable" href="../../d8/d60/a09310.html#a8f0ca92339ce7aea2b8909edd37f9835">m_members</a>)</div>
<div class="line"><span class="lineno"> 2106</span>            <span class="keywordflow">if</span> ((member.GetRankId() == <a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a6534fcf172d7fbe4a762e0479601acd4a349203b98139f80965ab3d7e3379c36d">GR_GUILDMASTER</a>) &amp;&amp; !member.IsSamePlayer(<a class="code hl_variable" href="../../d8/d60/a09310.html#a82ebf987d4458f10b90122e69605b096">m_leaderGuid</a>))</div>
<div class="line"><span class="lineno"> 2107</span>                member.ChangeRank(<a class="code hl_enumvalue" href="../../d7/d93/a02981.html#a6534fcf172d7fbe4a762e0479601acd4ab167d6658cd49c0909c6f435a7222b70">GR_OFFICER</a>);</div>
<div class="line"><span class="lineno"> 2108</span> </div>
<div class="line"><span class="lineno"> 2109</span>    <a class="code hl_function" href="../../d8/d60/a09310.html#a86f4c4bcdb3d744f9438d53148830698">_UpdateAccountsNumber</a>();</div>
<div class="line"><span class="lineno"> 2110</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2111</span>}</div>
<div class="ttc" id="aa00017_html_a900ed91bceba26c1e05048bd3a9ec4fd"><div class="ttname"><a href="../../d4/d51/a00017.html#a900ed91bceba26c1e05048bd3a9ec4fd">DEFAULT_LOCALE</a></div><div class="ttdeci">#define DEFAULT_LOCALE</div><div class="ttdef"><b>Definition:</b> Common.h:79</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02405">_CreateDefaultGuildRanks()</a>, <a class="el" href="../../#l00814">_GetLowestRankId()</a>, <a class="el" href="../../#l00816">_GetPurchasedTabsSize()</a>, <a class="el" href="../../#l00803">_GetRanksSize()</a>, <a class="el" href="../../#l02492">_SetLeaderGUID()</a>, <a class="el" href="../../#l02442">_UpdateAccountsNumber()</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00286">Guild::RankInfo::CreateMissingTabsIfNeeded()</a>, <a class="el" href="../../#l00079">DEFAULT_LOCALE</a>, <a class="el" href="../../#l02259">DeleteMember()</a>, <a class="el" href="../../#l01108">Disband()</a>, <a class="el" href="../../#l00521">Guild::RankInfo::GetId()</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00804">GetRankInfo()</a>, <a class="el" href="../../#l00065">GR_GUILDMASTER</a>, <a class="el" href="../../#l00066">GR_OFFICER</a>, <a class="el" href="../../#l00046">GUILD_RANKS_MAX_COUNT</a>, <a class="el" href="../../#l00344">Guild::Member::IsRank()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00783">m_id</a>, <a class="el" href="../../#l00785">m_leaderGuid</a>, <a class="el" href="../../#l00795">m_members</a>, <a class="el" href="../../#l00794">m_ranks</a>, and <a class="el" href="../../#l00074">sConfigMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00092">GuildMgr::LoadGuilds()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a4b93e8964749214369de1f19a9532e2d" name="a4b93e8964749214369de1f19a9532e2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b93e8964749214369de1f19a9532e2d">&#9670;&#160;</a></span>m_accountsNumber</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> Guild::m_accountsNumber</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l02442">_UpdateAccountsNumber()</a>, and <a class="el" href="../../#l01766">SendInfo()</a>.</p>

</div>
</div>
<a id="a6579a4863083ec5ea78b73be5395752a" name="a6579a4863083ec5ea78b73be5395752a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6579a4863083ec5ea78b73be5395752a">&#9670;&#160;</a></span>m_bankEventLog</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt;<a class="el" href="../../db/d50/a09330.html">LogHolder</a>&lt;<a class="el" href="../../d3/dbd/a09326.html">BankEventLogEntry</a>&gt;, <a class="el" href="../../d7/d93/a02981.html#a06a462b77a279ae7e2e901b2a8b42fbaadf100aec6c7a6f10b7af8629930feff7">GUILD_BANK_MAX_TABS</a> + 1&gt; Guild::m_bankEventLog = {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l02617">_LogBankEvent()</a>, <a class="el" href="../../#l01980">LoadBankEventLogFromDB()</a>, and <a class="el" href="../../#l01792">SendBankLog()</a>.</p>

</div>
</div>
<a id="a148e3da6e65ca7a0724799ad8b09091f" name="a148e3da6e65ca7a0724799ad8b09091f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a148e3da6e65ca7a0724799ad8b09091f">&#9670;&#160;</a></span>m_bankMoney</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a> Guild::m_bankMoney</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l02473">_ModifyBankMoney()</a>, <a class="el" href="../../#l02823">_SendBankList()</a>, <a class="el" href="../../#l01049">Create()</a>, <a class="el" href="../../#l00770">GetTotalBankMoney()</a>, <a class="el" href="../../#l01661">HandleMemberDepositMoney()</a>, <a class="el" href="../../#l01691">HandleMemberWithdrawMoney()</a>, and <a class="el" href="../../#l01900">LoadFromDB()</a>.</p>

</div>
</div>
<a id="a387321359dc40fb20c38fc2f30992750" name="a387321359dc40fb20c38fc2f30992750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a387321359dc40fb20c38fc2f30992750">&#9670;&#160;</a></span>m_bankTabs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d2/dc1/a09338.html">BankTab</a>&gt; Guild::m_bankTabs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l02381">_CreateNewBankTab()</a>, <a class="el" href="../../#l02464">_DeleteBankItems()</a>, <a class="el" href="../../#l00816">_GetPurchasedTabsSize()</a>, <a class="el" href="../../#l02823">_SendBankList()</a>, <a class="el" href="../../#l00817">GetBankTab()</a>, <a class="el" href="../../#l02029">LoadBankItemFromDB()</a>, <a class="el" href="../../#l02020">LoadBankTabFromDB()</a>, and <a class="el" href="../../#l01900">LoadFromDB()</a>.</p>

</div>
</div>
<a id="a4e19285fd1730d3515e69a971918f410" name="a4e19285fd1730d3515e69a971918f410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e19285fd1730d3515e69a971918f410">&#9670;&#160;</a></span>m_createdDate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">time_t Guild::m_createdDate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01049">Create()</a>, <a class="el" href="../../#l00772">GetCreatedDate()</a>, <a class="el" href="../../#l01900">LoadFromDB()</a>, and <a class="el" href="../../#l01766">SendInfo()</a>.</p>

</div>
</div>
<a id="ada0bd10a22291059151d9ef42b1e3bba" name="ada0bd10a22291059151d9ef42b1e3bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada0bd10a22291059151d9ef42b1e3bba">&#9670;&#160;</a></span>m_emblemInfo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d65/a09302.html">EmblemInfo</a> Guild::m_emblemInfo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01049">Create()</a>, <a class="el" href="../../#l01250">HandleQuery()</a>, <a class="el" href="../../#l01314">HandleSetEmblem()</a>, and <a class="el" href="../../#l01900">LoadFromDB()</a>.</p>

</div>
</div>
<a id="a8a9ec63cd5937e0d7967c1d3fb94a0b5" name="a8a9ec63cd5937e0d7967c1d3fb94a0b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a9ec63cd5937e0d7967c1d3fb94a0b5">&#9670;&#160;</a></span>m_eventLog</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d50/a09330.html">LogHolder</a>&lt;<a class="el" href="../../d1/d6c/a09322.html">EventLogEntry</a>&gt; Guild::m_eventLog</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l02607">_LogEvent()</a>, <a class="el" href="../../#l01963">LoadEventLogFromDB()</a>, and <a class="el" href="../../#l01778">SendEventLog()</a>.</p>

</div>
</div>
<a id="a1f3d236dfe2a86fa6c965cc6edbf3e70" name="a1f3d236dfe2a86fa6c965cc6edbf3e70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f3d236dfe2a86fa6c965cc6edbf3e70">&#9670;&#160;</a></span>m_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> Guild::m_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l02405">_CreateDefaultGuildRanks()</a>, <a class="el" href="../../#l02381">_CreateNewBankTab()</a>, <a class="el" href="../../#l02422">_CreateRank()</a>, <a class="el" href="../../#l02617">_LogBankEvent()</a>, <a class="el" href="../../#l02607">_LogEvent()</a>, <a class="el" href="../../#l02473">_ModifyBankMoney()</a>, <a class="el" href="../../#l02492">_SetLeaderGUID()</a>, <a class="el" href="../../#l02175">AddMember()</a>, <a class="el" href="../../#l02320">ChangeMemberRank()</a>, <a class="el" href="../../#l01049">Create()</a>, <a class="el" href="../../#l01108">Disband()</a>, <a class="el" href="../../#l00686">GetId()</a>, <a class="el" href="../../#l01433">HandleInviteMember()</a>, <a class="el" href="../../#l01250">HandleQuery()</a>, <a class="el" href="../../#l01638">HandleRemoveRank()</a>, <a class="el" href="../../#l01314">HandleSetEmblem()</a>, <a class="el" href="../../#l01295">HandleSetInfo()</a>, <a class="el" href="../../#l01272">HandleSetMOTD()</a>, <a class="el" href="../../#l01980">LoadBankEventLogFromDB()</a>, <a class="el" href="../../#l01963">LoadEventLogFromDB()</a>, <a class="el" href="../../#l01900">LoadFromDB()</a>, <a class="el" href="../../#l01931">LoadMemberFromDB()</a>, <a class="el" href="../../#l01922">LoadRankFromDB()</a>, and <a class="el" href="../../#l02042">Validate()</a>.</p>

</div>
</div>
<a id="ae3ece52e40aa4cc373116b7c32fbb761" name="ae3ece52e40aa4cc373116b7c32fbb761"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3ece52e40aa4cc373116b7c32fbb761">&#9670;&#160;</a></span>m_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Guild::m_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01049">Create()</a>, <a class="el" href="../../#l00690">GetInfo()</a>, <a class="el" href="../../#l01203">HandleRoster()</a>, <a class="el" href="../../#l01295">HandleSetInfo()</a>, and <a class="el" href="../../#l01900">LoadFromDB()</a>.</p>

</div>
</div>
<a id="a82ebf987d4458f10b90122e69605b096" name="a82ebf987d4458f10b90122e69605b096"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82ebf987d4458f10b90122e69605b096">&#9670;&#160;</a></span>m_leaderGuid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> Guild::m_leaderGuid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l02455">_IsLeader()</a>, <a class="el" href="../../#l02594">_MemberHasTabRights()</a>, <a class="el" href="../../#l02492">_SetLeaderGUID()</a>, <a class="el" href="../../#l02320">ChangeMemberRank()</a>, <a class="el" href="../../#l01049">Create()</a>, <a class="el" href="../../#l02259">DeleteMember()</a>, <a class="el" href="../../#l00687">GetLeaderGUID()</a>, <a class="el" href="../../#l01900">LoadFromDB()</a>, and <a class="el" href="../../#l02042">Validate()</a>.</p>

</div>
</div>
<a id="a8f0ca92339ce7aea2b8909edd37f9835" name="a8f0ca92339ce7aea2b8909edd37f9835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f0ca92339ce7aea2b8909edd37f9835">&#9670;&#160;</a></span>m_members</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>, <a class="el" href="../../d7/da5/a09314.html">Member</a>&gt; Guild::m_members</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l02823">_SendBankList()</a>, <a class="el" href="../../#l02442">_UpdateAccountsNumber()</a>, <a class="el" href="../../#l02175">AddMember()</a>, <a class="el" href="../../#l02135">BroadcastPacket()</a>, <a class="el" href="../../#l02127">BroadcastPacketToRank()</a>, <a class="el" href="../../#l02114">BroadcastToGuild()</a>, <a class="el" href="../../#l00751">BroadcastWorker()</a>, <a class="el" href="../../#l02259">DeleteMember()</a>, <a class="el" href="../../#l01108">Disband()</a>, <a class="el" href="../../#l00381">GetMember()</a>, <a class="el" href="../../#l00771">GetMemberCount()</a>, <a class="el" href="../../#l00780">GetMemberSize()</a>, <a class="el" href="../../#l01506">HandleLeaveMember()</a>, <a class="el" href="../../#l01203">HandleRoster()</a>, <a class="el" href="../../#l01931">LoadMemberFromDB()</a>, <a class="el" href="../../#l02142">MassInviteToEvent()</a>, <a class="el" href="../../#l02929">ResetTimes()</a>, <a class="el" href="../../#l01766">SendInfo()</a>, and <a class="el" href="../../#l02042">Validate()</a>.</p>

</div>
</div>
<a id="ab8ca3dad15779135af492a0b26597868" name="ab8ca3dad15779135af492a0b26597868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8ca3dad15779135af492a0b26597868">&#9670;&#160;</a></span>m_motd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Guild::m_motd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01049">Create()</a>, <a class="el" href="../../#l00689">GetMOTD()</a>, <a class="el" href="../../#l01203">HandleRoster()</a>, <a class="el" href="../../#l01272">HandleSetMOTD()</a>, <a class="el" href="../../#l01900">LoadFromDB()</a>, and <a class="el" href="../../#l01878">SendLoginInfo()</a>.</p>

</div>
</div>
<a id="a6aa6b5f1c7e4c81c8800dcc55f65b3c5" name="a6aa6b5f1c7e4c81c8800dcc55f65b3c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aa6b5f1c7e4c81c8800dcc55f65b3c5">&#9670;&#160;</a></span>m_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Guild::m_name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l02175">AddMember()</a>, <a class="el" href="../../#l01049">Create()</a>, <a class="el" href="../../#l00688">GetName()</a>, <a class="el" href="../../#l01506">HandleLeaveMember()</a>, <a class="el" href="../../#l01250">HandleQuery()</a>, <a class="el" href="../../#l00265">Guild::RankInfo::LoadFromDB()</a>, <a class="el" href="../../#l00380">Guild::BankTab::LoadFromDB()</a>, <a class="el" href="../../#l01900">LoadFromDB()</a>, <a class="el" href="../../#l01931">LoadMemberFromDB()</a>, <a class="el" href="../../#l00275">Guild::RankInfo::SaveToDB()</a>, <a class="el" href="../../#l01766">SendInfo()</a>, <a class="el" href="../../#l00439">Guild::BankTab::SetInfo()</a>, <a class="el" href="../../#l01188">SetName()</a>, <a class="el" href="../../#l00311">Guild::RankInfo::SetName()</a>, and <a class="el" href="../../#l00522">Guild::Member::SetStats()</a>.</p>

</div>
</div>
<a id="a6747cafe477510f495f4719c8851413c" name="a6747cafe477510f495f4719c8851413c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6747cafe477510f495f4719c8851413c">&#9670;&#160;</a></span>m_ranks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../db/d42/a09334.html">RankInfo</a>&gt; Guild::m_ranks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l02381">_CreateNewBankTab()</a>, <a class="el" href="../../#l02422">_CreateRank()</a>, <a class="el" href="../../#l00814">_GetLowestRankId()</a>, <a class="el" href="../../#l00803">_GetRanksSize()</a>, <a class="el" href="../../#l00804">GetRankInfo()</a>, <a class="el" href="../../#l01621">HandleAddNewRank()</a>, <a class="el" href="../../#l01250">HandleQuery()</a>, <a class="el" href="../../#l01638">HandleRemoveRank()</a>, <a class="el" href="../../#l01203">HandleRoster()</a>, <a class="el" href="../../#l01383">HandleSetRankInfo()</a>, <a class="el" href="../../#l01922">LoadRankFromDB()</a>, and <a class="el" href="../../#l02042">Validate()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d8/d60/a09310.html">Guild</a></li>
    <li class="footer">Generated on Mon Dec 23 2024 20:39:45 for AzerothCore by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
