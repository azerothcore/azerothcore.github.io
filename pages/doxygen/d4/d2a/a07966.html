<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AzerothCore: PlayerMenu Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AzerothCore<span id="projectnumber">&#160;3.3.5a</span>
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d4/d2a/a07966.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d7/dbd/a07963.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">PlayerMenu Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &quot;<a class="el" href="../../">GossipDef.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acc519746fa45290cde3967dc5f604158"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d8c/a07958.html">GossipMenu</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#acc519746fa45290cde3967dc5f604158">GetGossipMenu</a> ()</td></tr>
<tr class="separator:acc519746fa45290cde3967dc5f604158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6129e728a42a0d74e462073ba7219eb1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d49/a07962.html">QuestMenu</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#a6129e728a42a0d74e462073ba7219eb1">GetQuestMenu</a> ()</td></tr>
<tr class="separator:a6129e728a42a0d74e462073ba7219eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b8937a48631f9dab1ab117ea9e3dfaf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#a7b8937a48631f9dab1ab117ea9e3dfaf">Empty</a> () const</td></tr>
<tr class="separator:a7b8937a48631f9dab1ab117ea9e3dfaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab85bfb274849b70e5e49d9dfdd9ea414"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#ab85bfb274849b70e5e49d9dfdd9ea414">GetGossipOptionSender</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> selection) const</td></tr>
<tr class="separator:ab85bfb274849b70e5e49d9dfdd9ea414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2b7121b08000226986315ab2da007c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#afe2b7121b08000226986315ab2da007c">GetGossipOptionAction</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> selection) const</td></tr>
<tr class="separator:afe2b7121b08000226986315ab2da007c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74e2796d83f1643a98aa8107d496ca22"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#a74e2796d83f1643a98aa8107d496ca22">IsGossipOptionCoded</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> selection) const</td></tr>
<tr class="separator:a74e2796d83f1643a98aa8107d496ca22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">AddMenuItem</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Adds a localized gossip menu item from db by menu id and menu item id.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">menuId</td><td>Gossip menu id. </td></tr>
    <tr><td class="paramname">menuItemId</td><td>Gossip menu item id. </td></tr>
    <tr><td class="paramname">sender</td><td>Identifier of the current menu. </td></tr>
    <tr><td class="paramname">action</td><td>Custom action given to OnGossipHello. </td></tr>
    <tr><td class="paramname">boxMoney</td><td>Custom price for pop-up box. If &gt; 0, it will replace DB value. </td></tr>
  </table>
  </dd>
</dl>
</div></td></tr>
<tr class="memitem:a690175d52d57aa33ec8fac8c1f25972a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#a690175d52d57aa33ec8fac8c1f25972a">PlayerMenu</a> (<a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *session)</td></tr>
<tr class="separator:a690175d52d57aa33ec8fac8c1f25972a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a764418c67a206ddfb783ea2f8a755bcc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#a764418c67a206ddfb783ea2f8a755bcc">~PlayerMenu</a> ()</td></tr>
<tr class="separator:a764418c67a206ddfb783ea2f8a755bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64e6ddbdb6e894f56578339efa62e752"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#a64e6ddbdb6e894f56578339efa62e752">ClearMenus</a> ()</td></tr>
<tr class="separator:a64e6ddbdb6e894f56578339efa62e752"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78a00a19e9e55fe5582dd70183b01e8b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#a78a00a19e9e55fe5582dd70183b01e8b">SendGossipMenu</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> titleTextId, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> objectGUID)</td></tr>
<tr class="separator:a78a00a19e9e55fe5582dd70183b01e8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1071f28b7138ecbd7e94d95175059ba1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#a1071f28b7138ecbd7e94d95175059ba1">SendCloseGossip</a> ()</td></tr>
<tr class="separator:a1071f28b7138ecbd7e94d95175059ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a192c3c40d28b331851fb36a8c936bde3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#a192c3c40d28b331851fb36a8c936bde3">SendPointOfInterest</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> poiId) const</td></tr>
<tr class="separator:a192c3c40d28b331851fb36a8c936bde3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a873a174b6ef46140ff8d8acf0c683ffb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#a873a174b6ef46140ff8d8acf0c683ffb">SendQuestGiverStatus</a> (<a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> questStatus, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> npcGUID) const</td></tr>
<tr class="separator:a873a174b6ef46140ff8d8acf0c683ffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1995bf53009911627fbbcb20049a1fbf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#a1995bf53009911627fbbcb20049a1fbf">SendQuestGiverQuestList</a> (<a class="el" href="../../d6/dc1/a09370.html">QEmote</a> const &amp;eEmote, std::string const &amp;Title, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> guid)</td></tr>
<tr class="separator:a1995bf53009911627fbbcb20049a1fbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a950ed922c39040db8a1fe16588c7c65a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#a950ed922c39040db8a1fe16588c7c65a">SendQuestQueryResponse</a> (<a class="el" href="../../d1/d52/a09982.html">Quest</a> const *quest) const</td></tr>
<tr class="separator:a950ed922c39040db8a1fe16588c7c65a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3961687838852446af0db40d6458fb41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#a3961687838852446af0db40d6458fb41">SendQuestGiverQuestDetails</a> (<a class="el" href="../../d1/d52/a09982.html">Quest</a> const *quest, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> npcGUID, bool activateAccept) const</td></tr>
<tr class="separator:a3961687838852446af0db40d6458fb41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc3d8fc9f8fd2f20ea0068b101d90f91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#afc3d8fc9f8fd2f20ea0068b101d90f91">SendQuestGiverOfferReward</a> (<a class="el" href="../../d1/d52/a09982.html">Quest</a> const *quest, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> npcGUID, bool enableNext) const</td></tr>
<tr class="separator:afc3d8fc9f8fd2f20ea0068b101d90f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61a5f8d9b8b9c4baa511028884011f89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#a61a5f8d9b8b9c4baa511028884011f89">SendQuestGiverRequestItems</a> (<a class="el" href="../../d1/d52/a09982.html">Quest</a> const *quest, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> npcGUID, bool canComplete, bool closeOnCancel) const</td></tr>
<tr class="separator:a61a5f8d9b8b9c4baa511028884011f89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a7a31b60fd003326c8f975675168efd10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d8c/a07958.html">GossipMenu</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#a7a31b60fd003326c8f975675168efd10">_gossipMenu</a></td></tr>
<tr class="separator:a7a31b60fd003326c8f975675168efd10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d1d9ec0ac5fea6b1905390f0719073a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d49/a07962.html">QuestMenu</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#a1d1d9ec0ac5fea6b1905390f0719073a">_questMenu</a></td></tr>
<tr class="separator:a1d1d9ec0ac5fea6b1905390f0719073a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa55a3dbe879c3d0166ba7a8deda0d6e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a></td></tr>
<tr class="separator:aa55a3dbe879c3d0166ba7a8deda0d6e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a690175d52d57aa33ec8fac8c1f25972a" name="a690175d52d57aa33ec8fac8c1f25972a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a690175d52d57aa33ec8fac8c1f25972a">&#9670;&#160;</a></span>PlayerMenu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PlayerMenu::PlayerMenu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  177</span>                                            : <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>(session)</div>
<div class="line"><span class="lineno">  178</span>{</div>
<div class="line"><span class="lineno">  179</span>    <a class="code hl_variable" href="../../d4/d2a/a07966.html#a7a31b60fd003326c8f975675168efd10">_gossipMenu</a>.<a class="code hl_function" href="../../d0/d8c/a07958.html#a2a1a8781e502f814d7b5f8368c02030e">SetLocale</a>(session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38ff97828c0efe89c092f5772c543564">GetSessionDbLocaleIndex</a>());</div>
<div class="line"><span class="lineno">  180</span>}</div>
<div class="ttc" id="aa07958_html_a2a1a8781e502f814d7b5f8368c02030e"><div class="ttname"><a href="../../d0/d8c/a07958.html#a2a1a8781e502f814d7b5f8368c02030e">GossipMenu::SetLocale</a></div><div class="ttdeci">void SetLocale(LocaleConstant locale)</div><div class="ttdef"><b>Definition:</b> GossipDef.h:173</div></div>
<div class="ttc" id="aa07966_html_a7a31b60fd003326c8f975675168efd10"><div class="ttname"><a href="../../d4/d2a/a07966.html#a7a31b60fd003326c8f975675168efd10">PlayerMenu::_gossipMenu</a></div><div class="ttdeci">GossipMenu _gossipMenu</div><div class="ttdef"><b>Definition:</b> GossipDef.h:292</div></div>
<div class="ttc" id="aa07966_html_aa55a3dbe879c3d0166ba7a8deda0d6e0"><div class="ttname"><a href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">PlayerMenu::_session</a></div><div class="ttdeci">WorldSession * _session</div><div class="ttdef"><b>Definition:</b> GossipDef.h:294</div></div>
<div class="ttc" id="aa10810_html_a38ff97828c0efe89c092f5772c543564"><div class="ttname"><a href="../../d9/d7c/a10810.html#a38ff97828c0efe89c092f5772c543564">WorldSession::GetSessionDbLocaleIndex</a></div><div class="ttdeci">LocaleConstant GetSessionDbLocaleIndex() const</div><div class="ttdef"><b>Definition:</b> WorldSession.h:512</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00292">_gossipMenu</a>, <a class="el" href="../../#l00512">WorldSession::GetSessionDbLocaleIndex()</a>, and <a class="el" href="../../#l00173">GossipMenu::SetLocale()</a>.</p>

</div>
</div>
<a id="a764418c67a206ddfb783ea2f8a755bcc" name="a764418c67a206ddfb783ea2f8a755bcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a764418c67a206ddfb783ea2f8a755bcc">&#9670;&#160;</a></span>~PlayerMenu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PlayerMenu::~PlayerMenu </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  183</span>{</div>
<div class="line"><span class="lineno">  184</span>    <a class="code hl_function" href="../../d4/d2a/a07966.html#a64e6ddbdb6e894f56578339efa62e752">ClearMenus</a>();</div>
<div class="line"><span class="lineno">  185</span>}</div>
<div class="ttc" id="aa07966_html_a64e6ddbdb6e894f56578339efa62e752"><div class="ttname"><a href="../../d4/d2a/a07966.html#a64e6ddbdb6e894f56578339efa62e752">PlayerMenu::ClearMenus</a></div><div class="ttdeci">void ClearMenus()</div><div class="ttdef"><b>Definition:</b> GossipDef.cpp:187</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00187">ClearMenus()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a64e6ddbdb6e894f56578339efa62e752" name="a64e6ddbdb6e894f56578339efa62e752"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64e6ddbdb6e894f56578339efa62e752">&#9670;&#160;</a></span>ClearMenus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PlayerMenu::ClearMenus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  188</span>{</div>
<div class="line"><span class="lineno">  189</span>    <a class="code hl_variable" href="../../d4/d2a/a07966.html#a7a31b60fd003326c8f975675168efd10">_gossipMenu</a>.<a class="code hl_function" href="../../d0/d8c/a07958.html#ac6ce4a1565afa7c86eb93ab0c981b866">ClearMenu</a>();</div>
<div class="line"><span class="lineno">  190</span>    <a class="code hl_variable" href="../../d4/d2a/a07966.html#a1d1d9ec0ac5fea6b1905390f0719073a">_questMenu</a>.<a class="code hl_function" href="../../d0/d49/a07962.html#ab3d3881aabe000694acab37a3774507e">ClearMenu</a>();</div>
<div class="line"><span class="lineno">  191</span>}</div>
<div class="ttc" id="aa07958_html_ac6ce4a1565afa7c86eb93ab0c981b866"><div class="ttname"><a href="../../d0/d8c/a07958.html#ac6ce4a1565afa7c86eb93ab0c981b866">GossipMenu::ClearMenu</a></div><div class="ttdeci">void ClearMenu()</div><div class="ttdef"><b>Definition:</b> GossipDef.cpp:171</div></div>
<div class="ttc" id="aa07962_html_ab3d3881aabe000694acab37a3774507e"><div class="ttname"><a href="../../d0/d49/a07962.html#ab3d3881aabe000694acab37a3774507e">QuestMenu::ClearMenu</a></div><div class="ttdeci">void ClearMenu()</div><div class="ttdef"><b>Definition:</b> GossipDef.cpp:310</div></div>
<div class="ttc" id="aa07966_html_a1d1d9ec0ac5fea6b1905390f0719073a"><div class="ttname"><a href="../../d4/d2a/a07966.html#a1d1d9ec0ac5fea6b1905390f0719073a">PlayerMenu::_questMenu</a></div><div class="ttdeci">QuestMenu _questMenu</div><div class="ttdef"><b>Definition:</b> GossipDef.h:293</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00292">_gossipMenu</a>, <a class="el" href="../../#l00293">_questMenu</a>, <a class="el" href="../../#l00171">GossipMenu::ClearMenu()</a>, and <a class="el" href="../../#l00310">QuestMenu::ClearMenu()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00022">ClearGossipMenuFor()</a>, <a class="el" href="../../#l00032">Player::PrepareGossipMenu()</a>, and <a class="el" href="../../#l00182">~PlayerMenu()</a>.</p>

</div>
</div>
<a id="a7b8937a48631f9dab1ab117ea9e3dfaf" name="a7b8937a48631f9dab1ab117ea9e3dfaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b8937a48631f9dab1ab117ea9e3dfaf">&#9670;&#160;</a></span>Empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool PlayerMenu::Empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  267</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d2a/a07966.html#a7a31b60fd003326c8f975675168efd10">_gossipMenu</a>.<a class="code hl_function" href="../../d0/d8c/a07958.html#a02393cb3a0a3b9cf3ccfc788479bd1ca">Empty</a>() &amp;&amp; <a class="code hl_variable" href="../../d4/d2a/a07966.html#a1d1d9ec0ac5fea6b1905390f0719073a">_questMenu</a>.<a class="code hl_function" href="../../d0/d49/a07962.html#a1a850cb70956f299ea91cb0d732ad202">Empty</a>(); }</div>
<div class="ttc" id="aa07958_html_a02393cb3a0a3b9cf3ccfc788479bd1ca"><div class="ttname"><a href="../../d0/d8c/a07958.html#a02393cb3a0a3b9cf3ccfc788479bd1ca">GossipMenu::Empty</a></div><div class="ttdeci">bool Empty() const</div><div class="ttdef"><b>Definition:</b> GossipDef.h:183</div></div>
<div class="ttc" id="aa07962_html_a1a850cb70956f299ea91cb0d732ad202"><div class="ttname"><a href="../../d0/d49/a07962.html#a1a850cb70956f299ea91cb0d732ad202">QuestMenu::Empty</a></div><div class="ttdeci">bool Empty() const</div><div class="ttdef"><b>Definition:</b> GossipDef.h:242</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00292">_gossipMenu</a>, <a class="el" href="../../#l00293">_questMenu</a>, <a class="el" href="../../#l00183">GossipMenu::Empty()</a>, and <a class="el" href="../../#l00242">QuestMenu::Empty()</a>.</p>

</div>
</div>
<a id="acc519746fa45290cde3967dc5f604158" name="acc519746fa45290cde3967dc5f604158"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc519746fa45290cde3967dc5f604158">&#9670;&#160;</a></span>GetGossipMenu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d8c/a07958.html">GossipMenu</a> &amp; PlayerMenu::GetGossipMenu </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  264</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d2a/a07966.html#a7a31b60fd003326c8f975675168efd10">_gossipMenu</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00292">_gossipMenu</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00028">AddGossipItemFor()</a>, <a class="el" href="../../#l00087">WorldSession::HandleGossipSelectOptionOpcode()</a>, <a class="el" href="../../#l01430">npc_cos_chromie_start::OnGossipSelect()</a>, <a class="el" href="../../#l01485">npc_cos_chromie_middle::OnGossipSelect()</a>, <a class="el" href="../../#l00232">npc_thrall_old_hillsbrad::OnGossipSelect()</a>, <a class="el" href="../../#l03181">npc_icc_buff_switcher::OnGossipSelect()</a>, <a class="el" href="../../#l00244">Player::OnGossipSelect()</a>, <a class="el" href="../../#l00032">Player::PrepareGossipMenu()</a>, and <a class="el" href="../../#l00209">Player::SendPreparedGossip()</a>.</p>

</div>
</div>
<a id="afe2b7121b08000226986315ab2da007c" name="afe2b7121b08000226986315ab2da007c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe2b7121b08000226986315ab2da007c">&#9670;&#160;</a></span>GetGossipOptionAction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> PlayerMenu::GetGossipOptionAction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>selection</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  271</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d2a/a07966.html#a7a31b60fd003326c8f975675168efd10">_gossipMenu</a>.<a class="code hl_function" href="../../d0/d8c/a07958.html#a46a06b2b50a50ad061a3e11b08f35153">GetMenuItemAction</a>(selection); }</div>
<div class="ttc" id="aa07958_html_a46a06b2b50a50ad061a3e11b08f35153"><div class="ttname"><a href="../../d0/d8c/a07958.html#a46a06b2b50a50ad061a3e11b08f35153">GossipMenu::GetMenuItemAction</a></div><div class="ttdeci">uint32 GetMenuItemAction(uint32 menuItemId) const</div><div class="ttdef"><b>Definition:</b> GossipDef.cpp:153</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00292">_gossipMenu</a>, and <a class="el" href="../../#l00153">GossipMenu::GetMenuItemAction()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00087">WorldSession::HandleGossipSelectOptionOpcode()</a>, <a class="el" href="../../#l01369">npc_echo_of_medivh::sGossipSelect()</a>, <a class="el" href="../../#l01996">npc_chesspiece::sGossipSelect()</a>, <a class="el" href="../../#l00268">npc_sergeant_bly::npc_sergeant_blyAI::sGossipSelect()</a>, and <a class="el" href="../../#l00552">npc_weegli_blastfuse::npc_weegli_blastfuseAI::sGossipSelect()</a>.</p>

</div>
</div>
<a id="ab85bfb274849b70e5e49d9dfdd9ea414" name="ab85bfb274849b70e5e49d9dfdd9ea414"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab85bfb274849b70e5e49d9dfdd9ea414">&#9670;&#160;</a></span>GetGossipOptionSender()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> PlayerMenu::GetGossipOptionSender </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>selection</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  270</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d2a/a07966.html#a7a31b60fd003326c8f975675168efd10">_gossipMenu</a>.<a class="code hl_function" href="../../d0/d8c/a07958.html#a95b4a761301c7d76437a2dea0bcd304a">GetMenuItemSender</a>(selection); }</div>
<div class="ttc" id="aa07958_html_a95b4a761301c7d76437a2dea0bcd304a"><div class="ttname"><a href="../../d0/d8c/a07958.html#a95b4a761301c7d76437a2dea0bcd304a">GossipMenu::GetMenuItemSender</a></div><div class="ttdeci">uint32 GetMenuItemSender(uint32 menuItemId) const</div><div class="ttdef"><b>Definition:</b> GossipDef.cpp:144</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00292">_gossipMenu</a>, and <a class="el" href="../../#l00144">GossipMenu::GetMenuItemSender()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00087">WorldSession::HandleGossipSelectOptionOpcode()</a>.</p>

</div>
</div>
<a id="a6129e728a42a0d74e462073ba7219eb1" name="a6129e728a42a0d74e462073ba7219eb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6129e728a42a0d74e462073ba7219eb1">&#9670;&#160;</a></span>GetQuestMenu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d49/a07962.html">QuestMenu</a> &amp; PlayerMenu::GetQuestMenu </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  265</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d2a/a07966.html#a1d1d9ec0ac5fea6b1905390f0719073a">_questMenu</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00293">_questMenu</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00409">npc_wg_quest_giver::OnGossipHello()</a>, <a class="el" href="../../#l00133">npc_elder_clearwater::OnGossipHello()</a>, <a class="el" href="../../#l00039">Player::PrepareQuestMenu()</a>, <a class="el" href="../../#l00209">Player::SendPreparedGossip()</a>, <a class="el" href="../../#l00115">Player::SendPreparedQuest()</a>, and <a class="el" href="../../#l00450">npc_costumed_orphan_matron::sGossipHello()</a>.</p>

</div>
</div>
<a id="a74e2796d83f1643a98aa8107d496ca22" name="a74e2796d83f1643a98aa8107d496ca22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74e2796d83f1643a98aa8107d496ca22">&#9670;&#160;</a></span>IsGossipOptionCoded()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool PlayerMenu::IsGossipOptionCoded </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>selection</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  272</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d2a/a07966.html#a7a31b60fd003326c8f975675168efd10">_gossipMenu</a>.<a class="code hl_function" href="../../d0/d8c/a07958.html#abbf16fa0780a4ce02f75e379bfefb2b9">IsMenuItemCoded</a>(selection); }</div>
<div class="ttc" id="aa07958_html_abbf16fa0780a4ce02f75e379bfefb2b9"><div class="ttname"><a href="../../d0/d8c/a07958.html#abbf16fa0780a4ce02f75e379bfefb2b9">GossipMenu::IsMenuItemCoded</a></div><div class="ttdeci">bool IsMenuItemCoded(uint32 menuItemId) const</div><div class="ttdef"><b>Definition:</b> GossipDef.cpp:162</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00292">_gossipMenu</a>, and <a class="el" href="../../#l00162">GossipMenu::IsMenuItemCoded()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00087">WorldSession::HandleGossipSelectOptionOpcode()</a>.</p>

</div>
</div>
<a id="a1071f28b7138ecbd7e94d95175059ba1" name="a1071f28b7138ecbd7e94d95175059ba1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1071f28b7138ecbd7e94d95175059ba1">&#9670;&#160;</a></span>SendCloseGossip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PlayerMenu::SendCloseGossip </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  240</span>{</div>
<div class="line"><span class="lineno">  241</span>    <a class="code hl_variable" href="../../d4/d2a/a07966.html#a7a31b60fd003326c8f975675168efd10">_gossipMenu</a>.<a class="code hl_function" href="../../d0/d8c/a07958.html#ac85ede62cc43925ba82a5c407e115243">SetSenderGUID</a>(<a class="code hl_variable" href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a>);</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>    <a class="code hl_class" href="../../dc/dc5/a10766.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9bab74bb40835164f8d13b4cb5db5cb0f6a">SMSG_GOSSIP_COMPLETE</a>, 0);</div>
<div class="line"><span class="lineno">  244</span>    <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><span class="lineno">  245</span>}</div>
<div class="ttc" id="aa04680_html_gga1073b6abb3a749f18bf1633020879e9bab74bb40835164f8d13b4cb5db5cb0f6a"><div class="ttname"><a href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9bab74bb40835164f8d13b4cb5db5cb0f6a">SMSG_GOSSIP_COMPLETE</a></div><div class="ttdeci">@ SMSG_GOSSIP_COMPLETE</div><div class="ttdef"><b>Definition:</b> Opcodes.h:412</div></div>
<div class="ttc" id="aa07958_html_ac85ede62cc43925ba82a5c407e115243"><div class="ttname"><a href="../../d0/d8c/a07958.html#ac85ede62cc43925ba82a5c407e115243">GossipMenu::SetSenderGUID</a></div><div class="ttdeci">void SetSenderGUID(ObjectGuid guid)</div><div class="ttdef"><b>Definition:</b> GossipDef.h:217</div></div>
<div class="ttc" id="aa08266_html_a14039d3f3df79203693f713495503165"><div class="ttname"><a href="../../d4/df2/a08266.html#a14039d3f3df79203693f713495503165">ObjectGuid::Empty</a></div><div class="ttdeci">static ObjectGuid const Empty</div><div class="ttdef"><b>Definition:</b> ObjectGuid.h:120</div></div>
<div class="ttc" id="aa10766_html"><div class="ttname"><a href="../../dc/dc5/a10766.html">WorldPacket</a></div><div class="ttdef"><b>Definition:</b> WorldPacket.h:26</div></div>
<div class="ttc" id="aa10810_html_a2c74b80ca9b81765049e315813b29269"><div class="ttname"><a href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">WorldSession::SendPacket</a></div><div class="ttdeci">void SendPacket(WorldPacket const *packet)</div><div class="ttdoc">Send a packet to the client.</div><div class="ttdef"><b>Definition:</b> WorldSession.cpp:225</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00292">_gossipMenu</a>, <a class="el" href="../../#l00294">_session</a>, <a class="el" href="../../#l00120">ObjectGuid::Empty</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, <a class="el" href="../../#l00217">GossipMenu::SetSenderGUID()</a>, and <a class="el" href="../../#l00412">SMSG_GOSSIP_COMPLETE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00056">CloseGossipMenuFor()</a>, <a class="el" href="../../#l01077">go_wind_stone::go_wind_stoneAI::GossipSelect()</a>, <a class="el" href="../../#l00350">OPvPCapturePointZM_GraveYard::HandleGossipOption()</a>, <a class="el" href="../../#l00087">WorldSession::HandleGossipSelectOptionOpcode()</a>, <a class="el" href="../../#l00110">WorldSession::HandleQuestgiverAcceptQuestOpcode()</a>, <a class="el" href="../../#l00378">WorldSession::HandleQuestgiverCancel()</a>, <a class="el" href="../../#l00247">WorldSession::HandleQuestgiverChooseRewardOpcode()</a>, <a class="el" href="../../#l00200">WorldSession::HandleQuestgiverQueryQuestOpcode()</a>, <a class="el" href="../../#l02037">npc_experience::OnGossipSelect()</a>, <a class="el" href="../../#l00660">npc_ulduar_expedition_commander::OnGossipSelect()</a>, <a class="el" href="../../#l00244">Player::OnGossipSelect()</a>, <a class="el" href="../../#l00440">WorldSession::SendBindPoint()</a>, <a class="el" href="../../#l00115">Player::SendPreparedQuest()</a>, <a class="el" href="../../#l01836">npc_pet_trainer::npc_pet_trainerAI::sGossipSelect()</a>, <a class="el" href="../../#l02465">npc_stable_master::npc_stable_masterAI::sGossipSelect()</a>, and <a class="el" href="../../#l01455">npc_zafod_boombox::npc_zafod_boomboxAI::sGossipSelect()</a>.</p>

</div>
</div>
<a id="a78a00a19e9e55fe5582dd70183b01e8b" name="a78a00a19e9e55fe5582dd70183b01e8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78a00a19e9e55fe5582dd70183b01e8b">&#9670;&#160;</a></span>SendGossipMenu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PlayerMenu::SendGossipMenu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>titleTextId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>objectGUID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  194</span>{</div>
<div class="line"><span class="lineno">  195</span>    <a class="code hl_variable" href="../../d4/d2a/a07966.html#a7a31b60fd003326c8f975675168efd10">_gossipMenu</a>.<a class="code hl_function" href="../../d0/d8c/a07958.html#ac85ede62cc43925ba82a5c407e115243">SetSenderGUID</a>(objectGUID);</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>    <a class="code hl_class" href="../../dc/dc5/a10766.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9ba33ad2c389346295f36b2959a6ddabea0">SMSG_GOSSIP_MESSAGE</a>, 24 + <a class="code hl_variable" href="../../d4/d2a/a07966.html#a7a31b60fd003326c8f975675168efd10">_gossipMenu</a>.<a class="code hl_function" href="../../d0/d8c/a07958.html#a143ee125ba5709c1a3f5fb75fb9ade1c">GetMenuItemCount</a>() * 100 + <a class="code hl_variable" href="../../d4/d2a/a07966.html#a1d1d9ec0ac5fea6b1905390f0719073a">_questMenu</a>.<a class="code hl_function" href="../../d0/d49/a07962.html#a2338a6fb88c32bfb66fe524a8ffaa0d7">GetMenuItemCount</a>() * 75);     <span class="comment">// guess size</span></div>
<div class="line"><span class="lineno">  198</span>    data &lt;&lt; objectGUID;</div>
<div class="line"><span class="lineno">  199</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(<a class="code hl_variable" href="../../d4/d2a/a07966.html#a7a31b60fd003326c8f975675168efd10">_gossipMenu</a>.<a class="code hl_function" href="../../d0/d8c/a07958.html#a6bc424e3e19032ac7516a566412436d1">GetMenuId</a>());            <span class="comment">// new 2.4.0</span></div>
<div class="line"><span class="lineno">  200</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(titleTextId);</div>
<div class="line"><span class="lineno">  201</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(<a class="code hl_variable" href="../../d4/d2a/a07966.html#a7a31b60fd003326c8f975675168efd10">_gossipMenu</a>.<a class="code hl_function" href="../../d0/d8c/a07958.html#a143ee125ba5709c1a3f5fb75fb9ade1c">GetMenuItemCount</a>());     <span class="comment">// max count 0x10</span></div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">for</span> (GossipMenuItemContainer::const_iterator itr = <a class="code hl_variable" href="../../d4/d2a/a07966.html#a7a31b60fd003326c8f975675168efd10">_gossipMenu</a>.<a class="code hl_function" href="../../d0/d8c/a07958.html#a8fff76a2af9895fe41bc958712466191">GetMenuItems</a>().begin(); itr != <a class="code hl_variable" href="../../d4/d2a/a07966.html#a7a31b60fd003326c8f975675168efd10">_gossipMenu</a>.<a class="code hl_function" href="../../d0/d8c/a07958.html#a8fff76a2af9895fe41bc958712466191">GetMenuItems</a>().end(); ++itr)</div>
<div class="line"><span class="lineno">  204</span>    {</div>
<div class="line"><span class="lineno">  205</span>        <a class="code hl_struct" href="../../dd/db3/a07946.html">GossipMenuItem</a> <span class="keyword">const</span>&amp; item = itr-&gt;second;</div>
<div class="line"><span class="lineno">  206</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(itr-&gt;first);</div>
<div class="line"><span class="lineno">  207</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(item.<a class="code hl_variable" href="../../dd/db3/a07946.html#a987724c4673be20f5386f44245267bc9">MenuItemIcon</a>);</div>
<div class="line"><span class="lineno">  208</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(item.<a class="code hl_variable" href="../../dd/db3/a07946.html#accca334730f578bd28c0e9a7fe7ec0ab">IsCoded</a>);                    <span class="comment">// makes pop up box password</span></div>
<div class="line"><span class="lineno">  209</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(item.<a class="code hl_variable" href="../../dd/db3/a07946.html#a52a12645b55f5757cc61e9a014a71f32">BoxMoney</a>);                  <span class="comment">// money required to open menu, 2.0.3</span></div>
<div class="line"><span class="lineno">  210</span>        data &lt;&lt; item.<a class="code hl_variable" href="../../dd/db3/a07946.html#af130b33294cd49261b3c093cf6f9542c">Message</a>;                           <span class="comment">// text for gossip item</span></div>
<div class="line"><span class="lineno">  211</span>        data &lt;&lt; item.<a class="code hl_variable" href="../../dd/db3/a07946.html#a450f6063a89db2d152370bc997c844a3">BoxMessage</a>;                        <span class="comment">// accept text (related to money) pop up box, 2.0.3</span></div>
<div class="line"><span class="lineno">  212</span>    }</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(<a class="code hl_variable" href="../../d4/d2a/a07966.html#a1d1d9ec0ac5fea6b1905390f0719073a">_questMenu</a>.<a class="code hl_function" href="../../d0/d49/a07962.html#a2338a6fb88c32bfb66fe524a8ffaa0d7">GetMenuItemCount</a>());      <span class="comment">// max count 0x20</span></div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> iI = 0; iI &lt; <a class="code hl_variable" href="../../d4/d2a/a07966.html#a1d1d9ec0ac5fea6b1905390f0719073a">_questMenu</a>.<a class="code hl_function" href="../../d0/d49/a07962.html#a2338a6fb88c32bfb66fe524a8ffaa0d7">GetMenuItemCount</a>(); ++iI)</div>
<div class="line"><span class="lineno">  217</span>    {</div>
<div class="line"><span class="lineno">  218</span>        <a class="code hl_struct" href="../../d8/de1/a07954.html">QuestMenuItem</a> <span class="keyword">const</span>&amp; item = <a class="code hl_variable" href="../../d4/d2a/a07966.html#a1d1d9ec0ac5fea6b1905390f0719073a">_questMenu</a>.<a class="code hl_function" href="../../d0/d49/a07962.html#a08240a8d18dce0cb96db19f54c67dd2c">GetItem</a>(iI);</div>
<div class="line"><span class="lineno">  219</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questID = item.<a class="code hl_variable" href="../../d8/de1/a07954.html#a522a4fcb28daec3e1a620b6f02c3d8fe">QuestId</a>;</div>
<div class="line"><span class="lineno">  220</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d1/d52/a09982.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questID))</div>
<div class="line"><span class="lineno">  221</span>        {</div>
<div class="line"><span class="lineno">  222</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(questID);</div>
<div class="line"><span class="lineno">  223</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(item.<a class="code hl_variable" href="../../d8/de1/a07954.html#ad8bbfe08780eaa68a8205e2634d211b8">QuestIcon</a>);</div>
<div class="line"><span class="lineno">  224</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(quest-&gt;GetQuestLevel());</div>
<div class="line"><span class="lineno">  225</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetFlags()); <span class="comment">// 3.3.3 quest flags</span></div>
<div class="line"><span class="lineno">  226</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(quest-&gt;IsRepeatable() &amp;&amp; !quest-&gt;IsDailyOrWeekly() &amp;&amp; !quest-&gt;IsMonthly()); <span class="comment">// 3.3.3 icon changes: blue question mark or yellow exclamation mark</span></div>
<div class="line"><span class="lineno">  227</span>            std::string title = quest-&gt;GetTitle();</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>            <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> locale = <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38ff97828c0efe89c092f5772c543564">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><span class="lineno">  230</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d6/d21/a09970.html">QuestLocale</a> <span class="keyword">const</span>* localeData = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestLocale(questID))</div>
<div class="line"><span class="lineno">  231</span>                <a class="code hl_function" href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a>(localeData-&gt;Title, locale, title);</div>
<div class="line"><span class="lineno">  232</span>            data &lt;&lt; title;</div>
<div class="line"><span class="lineno">  233</span>        }</div>
<div class="line"><span class="lineno">  234</span>    }</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>    <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><span class="lineno">  237</span>}</div>
<div class="ttc" id="aa00497_html_a0bf9964a3ce962c07ad3d8b5432bbbcd"><div class="ttname"><a href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a></div><div class="ttdeci">std::int32_t int32</div><div class="ttdef"><b>Definition:</b> Define.h:103</div></div>
<div class="ttc" id="aa00497_html_a15a8d014fadf85c99a2268d8cbd00767"><div class="ttname"><a href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a></div><div class="ttdeci">std::uint8_t uint8</div><div class="ttdef"><b>Definition:</b> Define.h:109</div></div>
<div class="ttc" id="aa00497_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition:</b> Define.h:107</div></div>
<div class="ttc" id="aa02843_html_a736e30da2b5261060ac6cdbb5de3b787"><div class="ttname"><a href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a></div><div class="ttdeci">#define sObjectMgr</div><div class="ttdef"><b>Definition:</b> ObjectMgr.h:1635</div></div>
<div class="ttc" id="aa04680_html_gga1073b6abb3a749f18bf1633020879e9ba33ad2c389346295f36b2959a6ddabea0"><div class="ttname"><a href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9ba33ad2c389346295f36b2959a6ddabea0">SMSG_GOSSIP_MESSAGE</a></div><div class="ttdeci">@ SMSG_GOSSIP_MESSAGE</div><div class="ttdef"><b>Definition:</b> Opcodes.h:411</div></div>
<div class="ttc" id="aa07946_html"><div class="ttname"><a href="../../dd/db3/a07946.html">GossipMenuItem</a></div><div class="ttdef"><b>Definition:</b> GossipDef.h:132</div></div>
<div class="ttc" id="aa07946_html_a450f6063a89db2d152370bc997c844a3"><div class="ttname"><a href="../../dd/db3/a07946.html#a450f6063a89db2d152370bc997c844a3">GossipMenuItem::BoxMessage</a></div><div class="ttdeci">std::string BoxMessage</div><div class="ttdef"><b>Definition:</b> GossipDef.h:138</div></div>
<div class="ttc" id="aa07946_html_a52a12645b55f5757cc61e9a014a71f32"><div class="ttname"><a href="../../dd/db3/a07946.html#a52a12645b55f5757cc61e9a014a71f32">GossipMenuItem::BoxMoney</a></div><div class="ttdeci">uint32 BoxMoney</div><div class="ttdef"><b>Definition:</b> GossipDef.h:139</div></div>
<div class="ttc" id="aa07946_html_a987724c4673be20f5386f44245267bc9"><div class="ttname"><a href="../../dd/db3/a07946.html#a987724c4673be20f5386f44245267bc9">GossipMenuItem::MenuItemIcon</a></div><div class="ttdeci">uint8 MenuItemIcon</div><div class="ttdef"><b>Definition:</b> GossipDef.h:133</div></div>
<div class="ttc" id="aa07946_html_accca334730f578bd28c0e9a7fe7ec0ab"><div class="ttname"><a href="../../dd/db3/a07946.html#accca334730f578bd28c0e9a7fe7ec0ab">GossipMenuItem::IsCoded</a></div><div class="ttdeci">bool IsCoded</div><div class="ttdef"><b>Definition:</b> GossipDef.h:134</div></div>
<div class="ttc" id="aa07946_html_af130b33294cd49261b3c093cf6f9542c"><div class="ttname"><a href="../../dd/db3/a07946.html#af130b33294cd49261b3c093cf6f9542c">GossipMenuItem::Message</a></div><div class="ttdeci">std::string Message</div><div class="ttdef"><b>Definition:</b> GossipDef.h:135</div></div>
<div class="ttc" id="aa07954_html"><div class="ttname"><a href="../../d8/de1/a07954.html">QuestMenuItem</a></div><div class="ttdef"><b>Definition:</b> GossipDef.h:155</div></div>
<div class="ttc" id="aa07954_html_a522a4fcb28daec3e1a620b6f02c3d8fe"><div class="ttname"><a href="../../d8/de1/a07954.html#a522a4fcb28daec3e1a620b6f02c3d8fe">QuestMenuItem::QuestId</a></div><div class="ttdeci">uint32 QuestId</div><div class="ttdef"><b>Definition:</b> GossipDef.h:156</div></div>
<div class="ttc" id="aa07954_html_ad8bbfe08780eaa68a8205e2634d211b8"><div class="ttname"><a href="../../d8/de1/a07954.html#ad8bbfe08780eaa68a8205e2634d211b8">QuestMenuItem::QuestIcon</a></div><div class="ttdeci">uint8 QuestIcon</div><div class="ttdef"><b>Definition:</b> GossipDef.h:157</div></div>
<div class="ttc" id="aa07958_html_a143ee125ba5709c1a3f5fb75fb9ade1c"><div class="ttname"><a href="../../d0/d8c/a07958.html#a143ee125ba5709c1a3f5fb75fb9ade1c">GossipMenu::GetMenuItemCount</a></div><div class="ttdeci">uint32 GetMenuItemCount() const</div><div class="ttdef"><b>Definition:</b> GossipDef.h:178</div></div>
<div class="ttc" id="aa07958_html_a6bc424e3e19032ac7516a566412436d1"><div class="ttname"><a href="../../d0/d8c/a07958.html#a6bc424e3e19032ac7516a566412436d1">GossipMenu::GetMenuId</a></div><div class="ttdeci">uint32 GetMenuId() const</div><div class="ttdef"><b>Definition:</b> GossipDef.h:172</div></div>
<div class="ttc" id="aa07958_html_a8fff76a2af9895fe41bc958712466191"><div class="ttname"><a href="../../d0/d8c/a07958.html#a8fff76a2af9895fe41bc958712466191">GossipMenu::GetMenuItems</a></div><div class="ttdeci">GossipMenuItemContainer const &amp; GetMenuItems() const</div><div class="ttdef"><b>Definition:</b> GossipDef.h:212</div></div>
<div class="ttc" id="aa07962_html_a08240a8d18dce0cb96db19f54c67dd2c"><div class="ttname"><a href="../../d0/d49/a07962.html#a08240a8d18dce0cb96db19f54c67dd2c">QuestMenu::GetItem</a></div><div class="ttdeci">QuestMenuItem const &amp; GetItem(uint16 index) const</div><div class="ttdef"><b>Definition:</b> GossipDef.h:249</div></div>
<div class="ttc" id="aa07962_html_a2338a6fb88c32bfb66fe524a8ffaa0d7"><div class="ttname"><a href="../../d0/d49/a07962.html#a2338a6fb88c32bfb66fe524a8ffaa0d7">QuestMenu::GetMenuItemCount</a></div><div class="ttdeci">uint8 GetMenuItemCount() const</div><div class="ttdef"><b>Definition:</b> GossipDef.h:237</div></div>
<div class="ttc" id="aa08890_html_afaf0c44e499261c10276edc4c3cb15a0"><div class="ttname"><a href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a></div><div class="ttdeci">static std::string_view GetLocaleString(std::vector&lt; std::string &gt; const &amp;data, std::size_t locale)</div><div class="ttdef"><b>Definition:</b> ObjectMgr.h:1407</div></div>
<div class="ttc" id="aa09970_html"><div class="ttname"><a href="../../d6/d21/a09970.html">QuestLocale</a></div><div class="ttdef"><b>Definition:</b> QuestDef.h:183</div></div>
<div class="ttc" id="aa09982_html"><div class="ttname"><a href="../../d1/d52/a09982.html">Quest</a></div><div class="ttdef"><b>Definition:</b> QuestDef.h:210</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00292">_gossipMenu</a>, <a class="el" href="../../#l00293">_questMenu</a>, <a class="el" href="../../#l00294">_session</a>, <a class="el" href="../../#l00138">GossipMenuItem::BoxMessage</a>, <a class="el" href="../../#l00139">GossipMenuItem::BoxMoney</a>, <a class="el" href="../../#l00249">QuestMenu::GetItem()</a>, <a class="el" href="../../#l01407">ObjectMgr::GetLocaleString()</a>, <a class="el" href="../../#l00172">GossipMenu::GetMenuId()</a>, <a class="el" href="../../#l00178">GossipMenu::GetMenuItemCount()</a>, <a class="el" href="../../#l00237">QuestMenu::GetMenuItemCount()</a>, <a class="el" href="../../#l00212">GossipMenu::GetMenuItems()</a>, <a class="el" href="../../#l00512">WorldSession::GetSessionDbLocaleIndex()</a>, <a class="el" href="../../#l00134">GossipMenuItem::IsCoded</a>, <a class="el" href="../../#l00133">GossipMenuItem::MenuItemIcon</a>, <a class="el" href="../../#l00135">GossipMenuItem::Message</a>, <a class="el" href="../../#l00157">QuestMenuItem::QuestIcon</a>, <a class="el" href="../../#l00156">QuestMenuItem::QuestId</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, <a class="el" href="../../#l00217">GossipMenu::SetSenderGUID()</a>, <a class="el" href="../../#l00411">SMSG_GOSSIP_MESSAGE</a>, and <a class="el" href="../../#l01635">sObjectMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00045">SendGossipMenuFor()</a>, and <a class="el" href="../../#l00209">Player::SendPreparedGossip()</a>.</p>

</div>
</div>
<a id="a192c3c40d28b331851fb36a8c936bde3" name="a192c3c40d28b331851fb36a8c936bde3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a192c3c40d28b331851fb36a8c936bde3">&#9670;&#160;</a></span>SendPointOfInterest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PlayerMenu::SendPointOfInterest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>poiId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  248</span>{</div>
<div class="line"><span class="lineno">  249</span>    <a class="code hl_struct" href="../../d0/da3/a08858.html">PointOfInterest</a> <span class="keyword">const</span>* poi = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetPointOfInterest(poiId);</div>
<div class="line"><span class="lineno">  250</span>    <span class="keywordflow">if</span> (!poi)</div>
<div class="line"><span class="lineno">  251</span>    {</div>
<div class="line"><span class="lineno">  252</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Request to send non-existing POI (Id: {}), ignored.&quot;</span>, poiId);</div>
<div class="line"><span class="lineno">  253</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  254</span>    }</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>    std::string name = poi-&gt;<a class="code hl_variable" href="../../d0/da3/a08858.html#a45c6eb50f0d56bbdabd6c3b3469c607c">Name</a>;</div>
<div class="line"><span class="lineno">  257</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> locale = <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38ff97828c0efe89c092f5772c543564">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><span class="lineno">  258</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../da/de7/a07890.html">PointOfInterestLocale</a> <span class="keyword">const</span>* localeData = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetPointOfInterestLocale(poiId))</div>
<div class="line"><span class="lineno">  259</span>        <a class="code hl_function" href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a>(localeData-&gt;Name, locale, name);</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>    <a class="code hl_class" href="../../dc/dc5/a10766.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9ba509ad1977343f2055549a4e6f633e4ac">SMSG_GOSSIP_POI</a>, 4 + 4 + 4 + 4 + 4 + 20);  <span class="comment">// guess size</span></div>
<div class="line"><span class="lineno">  262</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(poi-&gt;<a class="code hl_variable" href="../../d0/da3/a08858.html#a5292a64de662f608915844d58199542f">Flags</a>);</div>
<div class="line"><span class="lineno">  263</span>    data &lt;&lt; float(poi-&gt;<a class="code hl_variable" href="../../d0/da3/a08858.html#a561763556f1ac77e988c350c37a3a0a1">PositionX</a>);</div>
<div class="line"><span class="lineno">  264</span>    data &lt;&lt; float(poi-&gt;<a class="code hl_variable" href="../../d0/da3/a08858.html#abec7b2b3e649263f0b963f3fedef60fe">PositionY</a>);</div>
<div class="line"><span class="lineno">  265</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(poi-&gt;<a class="code hl_variable" href="../../d0/da3/a08858.html#ab7460f125e05509baf9331e424b8bacf">Icon</a>);</div>
<div class="line"><span class="lineno">  266</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(poi-&gt;<a class="code hl_variable" href="../../d0/da3/a08858.html#a623d8bdc2bf5eea161466340ae8e3cd1">Importance</a>);</div>
<div class="line"><span class="lineno">  267</span>    data &lt;&lt; name;</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>    <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><span class="lineno">  270</span>}</div>
<div class="ttc" id="aa00035_html_a43832e3fa8508deb4ce43e520005fcd9"><div class="ttname"><a href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(filterType__,...)</div><div class="ttdef"><b>Definition:</b> Log.h:157</div></div>
<div class="ttc" id="aa04680_html_gga1073b6abb3a749f18bf1633020879e9ba509ad1977343f2055549a4e6f633e4ac"><div class="ttname"><a href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9ba509ad1977343f2055549a4e6f633e4ac">SMSG_GOSSIP_POI</a></div><div class="ttdeci">@ SMSG_GOSSIP_POI</div><div class="ttdef"><b>Definition:</b> Opcodes.h:578</div></div>
<div class="ttc" id="aa07890_html"><div class="ttname"><a href="../../da/de7/a07890.html">PointOfInterestLocale</a></div><div class="ttdef"><b>Definition:</b> CreatureData.h:355</div></div>
<div class="ttc" id="aa08858_html"><div class="ttname"><a href="../../d0/da3/a08858.html">PointOfInterest</a></div><div class="ttdef"><b>Definition:</b> ObjectMgr.h:588</div></div>
<div class="ttc" id="aa08858_html_a45c6eb50f0d56bbdabd6c3b3469c607c"><div class="ttname"><a href="../../d0/da3/a08858.html#a45c6eb50f0d56bbdabd6c3b3469c607c">PointOfInterest::Name</a></div><div class="ttdeci">std::string Name</div><div class="ttdef"><b>Definition:</b> ObjectMgr.h:595</div></div>
<div class="ttc" id="aa08858_html_a5292a64de662f608915844d58199542f"><div class="ttname"><a href="../../d0/da3/a08858.html#a5292a64de662f608915844d58199542f">PointOfInterest::Flags</a></div><div class="ttdeci">uint32 Flags</div><div class="ttdef"><b>Definition:</b> ObjectMgr.h:593</div></div>
<div class="ttc" id="aa08858_html_a561763556f1ac77e988c350c37a3a0a1"><div class="ttname"><a href="../../d0/da3/a08858.html#a561763556f1ac77e988c350c37a3a0a1">PointOfInterest::PositionX</a></div><div class="ttdeci">float PositionX</div><div class="ttdef"><b>Definition:</b> ObjectMgr.h:590</div></div>
<div class="ttc" id="aa08858_html_a623d8bdc2bf5eea161466340ae8e3cd1"><div class="ttname"><a href="../../d0/da3/a08858.html#a623d8bdc2bf5eea161466340ae8e3cd1">PointOfInterest::Importance</a></div><div class="ttdeci">uint32 Importance</div><div class="ttdef"><b>Definition:</b> ObjectMgr.h:594</div></div>
<div class="ttc" id="aa08858_html_ab7460f125e05509baf9331e424b8bacf"><div class="ttname"><a href="../../d0/da3/a08858.html#ab7460f125e05509baf9331e424b8bacf">PointOfInterest::Icon</a></div><div class="ttdeci">uint32 Icon</div><div class="ttdef"><b>Definition:</b> ObjectMgr.h:592</div></div>
<div class="ttc" id="aa08858_html_abec7b2b3e649263f0b963f3fedef60fe"><div class="ttname"><a href="../../d0/da3/a08858.html#abec7b2b3e649263f0b963f3fedef60fe">PointOfInterest::PositionY</a></div><div class="ttdeci">float PositionY</div><div class="ttdef"><b>Definition:</b> ObjectMgr.h:591</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00294">_session</a>, <a class="el" href="../../#l00593">PointOfInterest::Flags</a>, <a class="el" href="../../#l01407">ObjectMgr::GetLocaleString()</a>, <a class="el" href="../../#l00512">WorldSession::GetSessionDbLocaleIndex()</a>, <a class="el" href="../../#l00592">PointOfInterest::Icon</a>, <a class="el" href="../../#l00594">PointOfInterest::Importance</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00595">PointOfInterest::Name</a>, <a class="el" href="../../#l00590">PointOfInterest::PositionX</a>, <a class="el" href="../../#l00591">PointOfInterest::PositionY</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, <a class="el" href="../../#l00578">SMSG_GOSSIP_POI</a>, and <a class="el" href="../../#l01635">sObjectMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00244">Player::OnGossipSelect()</a>.</p>

</div>
</div>
<a id="afc3d8fc9f8fd2f20ea0068b101d90f91" name="afc3d8fc9f8fd2f20ea0068b101d90f91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc3d8fc9f8fd2f20ea0068b101d90f91">&#9670;&#160;</a></span>SendQuestGiverOfferReward()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PlayerMenu::SendQuestGiverOfferReward </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d52/a09982.html">Quest</a> const *&#160;</td>
          <td class="paramname"><em>quest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>npcGUID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enableNext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  648</span>{</div>
<div class="line"><span class="lineno">  649</span>    std::string questTitle = quest-&gt;GetTitle();</div>
<div class="line"><span class="lineno">  650</span>    std::string RewardText = quest-&gt;GetOfferRewardText();</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> locale = <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38ff97828c0efe89c092f5772c543564">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><span class="lineno">  653</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d6/d21/a09970.html">QuestLocale</a> <span class="keyword">const</span>* localeData = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestLocale(quest-&gt;GetQuestId()))</div>
<div class="line"><span class="lineno">  654</span>        <a class="code hl_function" href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a>(localeData-&gt;Title, locale, questTitle);</div>
<div class="line"><span class="lineno">  655</span> </div>
<div class="line"><span class="lineno">  656</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d7/db2/a09978.html">QuestOfferRewardLocale</a> <span class="keyword">const</span>* questOfferRewardLocale = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestOfferRewardLocale(quest-&gt;GetQuestId()))</div>
<div class="line"><span class="lineno">  657</span>        <a class="code hl_function" href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a>(questOfferRewardLocale-&gt;RewardText, locale, RewardText);</div>
<div class="line"><span class="lineno">  658</span> </div>
<div class="line"><span class="lineno">  659</span>    <a class="code hl_class" href="../../dc/dc5/a10766.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9bafd42c7c06fdefd05faf58608b57ac17c">SMSG_QUESTGIVER_OFFER_REWARD</a>, 400);    <span class="comment">// guess size</span></div>
<div class="line"><span class="lineno">  660</span>    data &lt;&lt; npcGUID;</div>
<div class="line"><span class="lineno">  661</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetQuestId());</div>
<div class="line"><span class="lineno">  662</span>    data &lt;&lt; questTitle;</div>
<div class="line"><span class="lineno">  663</span>    data &lt;&lt; RewardText;</div>
<div class="line"><span class="lineno">  664</span> </div>
<div class="line"><span class="lineno">  665</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(enableNext ? 1 : 0);                      <span class="comment">// Auto Finish</span></div>
<div class="line"><span class="lineno">  666</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetFlags());                      <span class="comment">// 3.3.3 questFlags</span></div>
<div class="line"><span class="lineno">  667</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetSuggestedPlayers());           <span class="comment">// SuggestedGroupNum</span></div>
<div class="line"><span class="lineno">  668</span> </div>
<div class="line"><span class="lineno">  669</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> emoteCount = 0;</div>
<div class="line"><span class="lineno">  670</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#a63297dd973bbf1f493882c44e7b32d75">QUEST_EMOTE_COUNT</a>; ++i)</div>
<div class="line"><span class="lineno">  671</span>    {</div>
<div class="line"><span class="lineno">  672</span>        <span class="keywordflow">if</span> (quest-&gt;OfferRewardEmote[i] &lt;= 0)</div>
<div class="line"><span class="lineno">  673</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  674</span>        ++emoteCount;</div>
<div class="line"><span class="lineno">  675</span>    }</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>    data &lt;&lt; emoteCount;                                     <span class="comment">// Emote Count</span></div>
<div class="line"><span class="lineno">  678</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; emoteCount; ++i)</div>
<div class="line"><span class="lineno">  679</span>    {</div>
<div class="line"><span class="lineno">  680</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;OfferRewardEmoteDelay[i]);    <span class="comment">// Delay Emote</span></div>
<div class="line"><span class="lineno">  681</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;OfferRewardEmote[i]);</div>
<div class="line"><span class="lineno">  682</span>    }</div>
<div class="line"><span class="lineno">  683</span> </div>
<div class="line"><span class="lineno">  684</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetRewChoiceItemsCount());</div>
<div class="line"><span class="lineno">  685</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; quest-&gt;GetRewChoiceItemsCount(); ++i)</div>
<div class="line"><span class="lineno">  686</span>    {</div>
<div class="line"><span class="lineno">  687</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RewardChoiceItemId[i]);</div>
<div class="line"><span class="lineno">  688</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RewardChoiceItemCount[i]);</div>
<div class="line"><span class="lineno">  689</span> </div>
<div class="line"><span class="lineno">  690</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d9/d08/a08198.html">ItemTemplate</a> <span class="keyword">const</span>* itemTemplate = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(quest-&gt;RewardChoiceItemId[i]))</div>
<div class="line"><span class="lineno">  691</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(itemTemplate-&gt;DisplayInfoID);</div>
<div class="line"><span class="lineno">  692</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  693</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><span class="lineno">  694</span>    }</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetRewItemsCount());</div>
<div class="line"><span class="lineno">  697</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; quest-&gt;GetRewItemsCount(); ++i)</div>
<div class="line"><span class="lineno">  698</span>    {</div>
<div class="line"><span class="lineno">  699</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RewardItemId[i]);</div>
<div class="line"><span class="lineno">  700</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RewardItemIdCount[i]);</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d9/d08/a08198.html">ItemTemplate</a> <span class="keyword">const</span>* itemTemplate = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(quest-&gt;RewardItemId[i]))</div>
<div class="line"><span class="lineno">  703</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(itemTemplate-&gt;DisplayInfoID);</div>
<div class="line"><span class="lineno">  704</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  705</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><span class="lineno">  706</span>    }</div>
<div class="line"><span class="lineno">  707</span> </div>
<div class="line"><span class="lineno">  708</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> moneyRew = 0;</div>
<div class="line"><span class="lineno">  709</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno">  710</span>    <span class="keywordflow">if</span> (player &amp;&amp; (player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#af4767dc4f1480f7c0527db4efe2643d9">GetLevel</a>() &gt;= <a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41a6684273cdd36b9b8215844fc51358ae1">CONFIG_MAX_PLAYER_LEVEL</a>) || <a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;ShouldBeRewardedWithMoneyInsteadOfExp(player)))</div>
<div class="line"><span class="lineno">  711</span>    {</div>
<div class="line"><span class="lineno">  712</span>        moneyRew = quest-&gt;GetRewMoneyMaxLevel();</div>
<div class="line"><span class="lineno">  713</span>    }</div>
<div class="line"><span class="lineno">  714</span>    moneyRew += quest-&gt;GetRewOrReqMoney(player ? player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#af4767dc4f1480f7c0527db4efe2643d9">GetLevel</a>() : 0); <span class="comment">// reward money (below max lvl)</span></div>
<div class="line"><span class="lineno">  715</span>    data &lt;&lt; moneyRew;</div>
<div class="line"><span class="lineno">  716</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questXp;</div>
<div class="line"><span class="lineno">  717</span>    <span class="keywordflow">if</span> (player &amp;&amp; !<a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;ShouldBeRewardedWithMoneyInsteadOfExp(player))</div>
<div class="line"><span class="lineno">  718</span>    {</div>
<div class="line"><span class="lineno">  719</span>        questXp = player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a36ba847524b621ee9b4f46fa85fc9df8">CalculateQuestRewardXP</a>(quest);</div>
<div class="line"><span class="lineno">  720</span>    }</div>
<div class="line"><span class="lineno">  721</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  722</span>    {</div>
<div class="line"><span class="lineno">  723</span>        questXp = 0;</div>
<div class="line"><span class="lineno">  724</span>    }</div>
<div class="line"><span class="lineno">  725</span>    <a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnQuestComputeXP(player, quest, questXp);</div>
<div class="line"><span class="lineno">  726</span>    data &lt;&lt; questXp;</div>
<div class="line"><span class="lineno">  727</span> </div>
<div class="line"><span class="lineno">  728</span>    <span class="comment">// rewarded honor points. Multiply with 10 to satisfy client</span></div>
<div class="line"><span class="lineno">  729</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(10 * quest-&gt;CalculateHonorGain(<a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a12c144fe6e00820ed8929e0547ab04f3">GetQuestLevel</a>(quest)));</div>
<div class="line"><span class="lineno">  730</span>    data &lt;&lt; float(0.0f);                                    <span class="comment">// unk, honor multiplier?</span></div>
<div class="line"><span class="lineno">  731</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0x08);                                   <span class="comment">// unused by client?</span></div>
<div class="line"><span class="lineno">  732</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetRewSpell());                   <span class="comment">// reward spell, this spell will display (icon) (casted if RewSpellCast == 0)</span></div>
<div class="line"><span class="lineno">  733</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(quest-&gt;GetRewSpellCast());                <span class="comment">// casted spell</span></div>
<div class="line"><span class="lineno">  734</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetCharTitleId());                <span class="comment">// CharTitleId, new 2.4.0, player gets this title (id from CharTitles)</span></div>
<div class="line"><span class="lineno">  735</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetBonusTalents());               <span class="comment">// bonus talents</span></div>
<div class="line"><span class="lineno">  736</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetRewArenaPoints());             <span class="comment">// arena points</span></div>
<div class="line"><span class="lineno">  737</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><span class="lineno">  738</span> </div>
<div class="line"><span class="lineno">  739</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#aca7218f1a80ba33fb21a51073850202e">QUEST_REPUTATIONS_COUNT</a>; ++i)    <span class="comment">// reward factions ids</span></div>
<div class="line"><span class="lineno">  740</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RewardFactionId[i]);</div>
<div class="line"><span class="lineno">  741</span> </div>
<div class="line"><span class="lineno">  742</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#aca7218f1a80ba33fb21a51073850202e">QUEST_REPUTATIONS_COUNT</a>; ++i)    <span class="comment">// columnid in QuestFactionReward.dbc (zero based)?</span></div>
<div class="line"><span class="lineno">  743</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(quest-&gt;RewardFactionValueId[i]);</div>
<div class="line"><span class="lineno">  744</span> </div>
<div class="line"><span class="lineno">  745</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#aca7218f1a80ba33fb21a51073850202e">QUEST_REPUTATIONS_COUNT</a>; ++i)    <span class="comment">// reward reputation override?</span></div>
<div class="line"><span class="lineno">  746</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RewardFactionValueIdOverride[i]);</div>
<div class="line"><span class="lineno">  747</span> </div>
<div class="line"><span class="lineno">  748</span>    <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><span class="lineno">  749</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTGIVER_OFFER_REWARD {}, questid={}&quot;</span>, npcGUID.ToString(), quest-&gt;GetQuestId());</div>
<div class="line"><span class="lineno">  750</span>}</div>
<div class="ttc" id="aa00035_html_a47ac782b14a7531c6232777165a1a161"><div class="ttname"><a href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a></div><div class="ttdeci">#define LOG_DEBUG(filterType__,...)</div><div class="ttdef"><b>Definition:</b> Log.h:169</div></div>
<div class="ttc" id="aa03026_html_a63297dd973bbf1f493882c44e7b32d75"><div class="ttname"><a href="../../dd/da3/a03026.html#a63297dd973bbf1f493882c44e7b32d75">QUEST_EMOTE_COUNT</a></div><div class="ttdeci">#define QUEST_EMOTE_COUNT</div><div class="ttdef"><b>Definition:</b> QuestDef.h:42</div></div>
<div class="ttc" id="aa03026_html_aca7218f1a80ba33fb21a51073850202e"><div class="ttname"><a href="../../dd/da3/a03026.html#aca7218f1a80ba33fb21a51073850202e">QUEST_REPUTATIONS_COUNT</a></div><div class="ttdeci">#define QUEST_REPUTATIONS_COUNT</div><div class="ttdef"><b>Definition:</b> QuestDef.h:41</div></div>
<div class="ttc" id="aa03317_html_a17aac4c166ebe43e3b8fdccf9e012e41a6684273cdd36b9b8215844fc51358ae1"><div class="ttname"><a href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41a6684273cdd36b9b8215844fc51358ae1">CONFIG_MAX_PLAYER_LEVEL</a></div><div class="ttdeci">@ CONFIG_MAX_PLAYER_LEVEL</div><div class="ttdef"><b>Definition:</b> IWorld.h:236</div></div>
<div class="ttc" id="aa04202_html_ae8161e629869974bc49b1cbfc73c1087"><div class="ttname"><a href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a></div><div class="ttdeci">#define sScriptMgr</div><div class="ttdef"><b>Definition:</b> ScriptMgr.h:709</div></div>
<div class="ttc" id="aa04680_html_gga1073b6abb3a749f18bf1633020879e9bafd42c7c06fdefd05faf58608b57ac17c"><div class="ttname"><a href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9bafd42c7c06fdefd05faf58608b57ac17c">SMSG_QUESTGIVER_OFFER_REWARD</a></div><div class="ttdeci">@ SMSG_QUESTGIVER_OFFER_REWARD</div><div class="ttdef"><b>Definition:</b> Opcodes.h:427</div></div>
<div class="ttc" id="aa04681_html_ga05dfb35c344e5b947a19e4284e7f5fa7"><div class="ttname"><a href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a></div><div class="ttdeci">#define sWorld</div><div class="ttdef"><b>Definition:</b> World.h:442</div></div>
<div class="ttc" id="aa08198_html"><div class="ttname"><a href="../../d9/d08/a08198.html">ItemTemplate</a></div><div class="ttdef"><b>Definition:</b> ItemTemplate.h:619</div></div>
<div class="ttc" id="aa08466_html"><div class="ttname"><a href="../../dc/d06/a08466.html">Player</a></div><div class="ttdef"><b>Definition:</b> Player.h:1081</div></div>
<div class="ttc" id="aa08466_html_a12c144fe6e00820ed8929e0547ab04f3"><div class="ttname"><a href="../../dc/d06/a08466.html#a12c144fe6e00820ed8929e0547ab04f3">Player::GetQuestLevel</a></div><div class="ttdeci">int32 GetQuestLevel(Quest const *quest) const</div><div class="ttdef"><b>Definition:</b> Player.h:1434</div></div>
<div class="ttc" id="aa08466_html_a36ba847524b621ee9b4f46fa85fc9df8"><div class="ttname"><a href="../../dc/d06/a08466.html#a36ba847524b621ee9b4f46fa85fc9df8">Player::CalculateQuestRewardXP</a></div><div class="ttdeci">uint32 CalculateQuestRewardXP(Quest const *quest)</div><div class="ttdef"><b>Definition:</b> PlayerQuest.cpp:1402</div></div>
<div class="ttc" id="aa08598_html_af4767dc4f1480f7c0527db4efe2643d9"><div class="ttname"><a href="../../d4/d46/a08598.html#af4767dc4f1480f7c0527db4efe2643d9">Unit::GetLevel</a></div><div class="ttdeci">uint8 GetLevel() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1024</div></div>
<div class="ttc" id="aa09978_html"><div class="ttname"><a href="../../d7/db2/a09978.html">QuestOfferRewardLocale</a></div><div class="ttdef"><b>Definition:</b> QuestDef.h:202</div></div>
<div class="ttc" id="aa10810_html_a62c786bcb829a021c267e7eb56809952"><div class="ttname"><a href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">WorldSession::GetPlayer</a></div><div class="ttdeci">Player * GetPlayer() const</div><div class="ttdef"><b>Definition:</b> WorldSession.h:376</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00294">_session</a>, <a class="el" href="../../#l00304">Quest::CalculateHonorGain()</a>, <a class="el" href="../../#l01402">Player::CalculateQuestRewardXP()</a>, <a class="el" href="../../#l00236">CONFIG_MAX_PLAYER_LEVEL</a>, <a class="el" href="../../#l00255">Quest::GetBonusTalents()</a>, <a class="el" href="../../#l00253">Quest::GetCharTitleId()</a>, <a class="el" href="../../#l00286">Quest::GetFlags()</a>, <a class="el" href="../../#l01024">Unit::GetLevel()</a>, <a class="el" href="../../#l01407">ObjectMgr::GetLocaleString()</a>, <a class="el" href="../../#l00264">Quest::GetOfferRewardText()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00228">Quest::GetQuestId()</a>, <a class="el" href="../../#l01434">Player::GetQuestLevel()</a>, <a class="el" href="../../#l00256">Quest::GetRewArenaPoints()</a>, <a class="el" href="../../#l00320">Quest::GetRewChoiceItemsCount()</a>, <a class="el" href="../../#l00321">Quest::GetRewItemsCount()</a>, <a class="el" href="../../#l00257">Quest::GetRewMoneyMaxLevel()</a>, <a class="el" href="../../#l00238">Quest::GetRewOrReqMoney()</a>, <a class="el" href="../../#l00272">Quest::GetRewSpell()</a>, <a class="el" href="../../#l00273">Quest::GetRewSpellCast()</a>, <a class="el" href="../../#l00512">WorldSession::GetSessionDbLocaleIndex()</a>, <a class="el" href="../../#l00247">Quest::GetSuggestedPlayers()</a>, <a class="el" href="../../#l00261">Quest::GetTitle()</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00315">Quest::OfferRewardEmote</a>, <a class="el" href="../../#l00316">Quest::OfferRewardEmoteDelay</a>, <a class="el" href="../../#l00042">QUEST_EMOTE_COUNT</a>, <a class="el" href="../../#l00041">QUEST_REPUTATIONS_COUNT</a>, <a class="el" href="../../#l00307">Quest::RewardChoiceItemCount</a>, <a class="el" href="../../#l00306">Quest::RewardChoiceItemId</a>, <a class="el" href="../../#l00310">Quest::RewardFactionId</a>, <a class="el" href="../../#l00311">Quest::RewardFactionValueId</a>, <a class="el" href="../../#l00312">Quest::RewardFactionValueIdOverride</a>, <a class="el" href="../../#l00308">Quest::RewardItemId</a>, <a class="el" href="../../#l00309">Quest::RewardItemIdCount</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, <a class="el" href="../../#l00427">SMSG_QUESTGIVER_OFFER_REWARD</a>, <a class="el" href="../../#l01635">sObjectMgr</a>, <a class="el" href="../../#l00709">sScriptMgr</a>, <a class="el" href="../../#l00442">sWorld</a>, and <a class="el" href="../../#l00047">ObjectGuid::ToString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00247">WorldSession::HandleQuestgiverChooseRewardOpcode()</a>, <a class="el" href="../../#l00484">WorldSession::HandleQuestgiverCompleteQuest()</a>, <a class="el" href="../../#l00352">WorldSession::HandleQuestgiverRequestRewardOpcode()</a>, and <a class="el" href="../../#l00752">SendQuestGiverRequestItems()</a>.</p>

</div>
</div>
<a id="a3961687838852446af0db40d6458fb41" name="a3961687838852446af0db40d6458fb41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3961687838852446af0db40d6458fb41">&#9670;&#160;</a></span>SendQuestGiverQuestDetails()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PlayerMenu::SendQuestGiverQuestDetails </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d52/a09982.html">Quest</a> const *&#160;</td>
          <td class="paramname"><em>quest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>npcGUID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>activateAccept</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  389</span>{</div>
<div class="line"><span class="lineno">  390</span>    std::string questTitle           = quest-&gt;GetTitle();</div>
<div class="line"><span class="lineno">  391</span>    std::string questDetails         = quest-&gt;GetDetails();</div>
<div class="line"><span class="lineno">  392</span>    std::string questObjectives      = quest-&gt;GetObjectives();</div>
<div class="line"><span class="lineno">  393</span>    std::string questAreaDescription = quest-&gt;GetAreaDescription();</div>
<div class="line"><span class="lineno">  394</span> </div>
<div class="line"><span class="lineno">  395</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> locale = <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38ff97828c0efe89c092f5772c543564">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><span class="lineno">  396</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d6/d21/a09970.html">QuestLocale</a> <span class="keyword">const</span>* localeData = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestLocale(quest-&gt;GetQuestId()))</div>
<div class="line"><span class="lineno">  397</span>    {</div>
<div class="line"><span class="lineno">  398</span>        <a class="code hl_function" href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a>(localeData-&gt;Title, locale, questTitle);</div>
<div class="line"><span class="lineno">  399</span>        <a class="code hl_function" href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a>(localeData-&gt;Details, locale, questDetails);</div>
<div class="line"><span class="lineno">  400</span>        <a class="code hl_function" href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a>(localeData-&gt;Objectives, locale, questObjectives);</div>
<div class="line"><span class="lineno">  401</span>        <a class="code hl_function" href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a>(localeData-&gt;AreaDescription, locale, questAreaDescription);</div>
<div class="line"><span class="lineno">  402</span>    }</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>    <a class="code hl_class" href="../../dc/dc5/a10766.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9badcea14bef7e919842e5b55b481057c23">SMSG_QUESTGIVER_QUEST_DETAILS</a>, 500);   <span class="comment">// guess size</span></div>
<div class="line"><span class="lineno">  405</span>    data &lt;&lt; npcGUID;</div>
<div class="line"><span class="lineno">  406</span>    data &lt;&lt; <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a7b449484512d2259d9d6a7a5469e43e7">GetDivider</a>();</div>
<div class="line"><span class="lineno">  407</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetQuestId());</div>
<div class="line"><span class="lineno">  408</span>    data &lt;&lt; questTitle;</div>
<div class="line"><span class="lineno">  409</span>    data &lt;&lt; questDetails;</div>
<div class="line"><span class="lineno">  410</span>    data &lt;&lt; questObjectives;</div>
<div class="line"><span class="lineno">  411</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(activateAccept ? 1 : 0);                  <span class="comment">// auto finish</span></div>
<div class="line"><span class="lineno">  412</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetFlags());                      <span class="comment">// 3.3.3 questFlags</span></div>
<div class="line"><span class="lineno">  413</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetSuggestedPlayers());</div>
<div class="line"><span class="lineno">  414</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0);                                       <span class="comment">// IsFinished? value is sent back to server in quest accept packet</span></div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>    <span class="keywordflow">if</span> (quest-&gt;HasFlag(<a class="code hl_enumvalue" href="../../dd/da3/a03026.html#a881ebe30fbf0f088d54bfa959cefe47ca516bd7b6d09994b8591abdfc6ac0c449">QUEST_FLAGS_HIDDEN_REWARDS</a>))</div>
<div class="line"><span class="lineno">  417</span>    {</div>
<div class="line"><span class="lineno">  418</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);                                  <span class="comment">// Rewarded chosen items hidden</span></div>
<div class="line"><span class="lineno">  419</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);                                  <span class="comment">// Rewarded items hidden</span></div>
<div class="line"><span class="lineno">  420</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);                                  <span class="comment">// Rewarded money hidden</span></div>
<div class="line"><span class="lineno">  421</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);                                  <span class="comment">// Rewarded XP hidden</span></div>
<div class="line"><span class="lineno">  422</span>    }</div>
<div class="line"><span class="lineno">  423</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  424</span>    {</div>
<div class="line"><span class="lineno">  425</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetRewChoiceItemsCount());</div>
<div class="line"><span class="lineno">  426</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#ad2f1fa1fe4676a225f4c3319310907aa">QUEST_REWARD_CHOICES_COUNT</a>; ++i)</div>
<div class="line"><span class="lineno">  427</span>        {</div>
<div class="line"><span class="lineno">  428</span>            <span class="keywordflow">if</span> (!quest-&gt;RewardChoiceItemId[i])</div>
<div class="line"><span class="lineno">  429</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RewardChoiceItemId[i]);</div>
<div class="line"><span class="lineno">  432</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RewardChoiceItemCount[i]);</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d9/d08/a08198.html">ItemTemplate</a> <span class="keyword">const</span>* itemTemplate = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(quest-&gt;RewardChoiceItemId[i]))</div>
<div class="line"><span class="lineno">  435</span>                data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(itemTemplate-&gt;DisplayInfoID);</div>
<div class="line"><span class="lineno">  436</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  437</span>                data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0x00);</div>
<div class="line"><span class="lineno">  438</span>        }</div>
<div class="line"><span class="lineno">  439</span> </div>
<div class="line"><span class="lineno">  440</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetRewItemsCount());</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#a15eafb369f3711f92bd7ec296be6af15">QUEST_REWARDS_COUNT</a>; ++i)</div>
<div class="line"><span class="lineno">  443</span>        {</div>
<div class="line"><span class="lineno">  444</span>            <span class="keywordflow">if</span> (!quest-&gt;RewardItemId[i])</div>
<div class="line"><span class="lineno">  445</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RewardItemId[i]);</div>
<div class="line"><span class="lineno">  448</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RewardItemIdCount[i]);</div>
<div class="line"><span class="lineno">  449</span> </div>
<div class="line"><span class="lineno">  450</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d9/d08/a08198.html">ItemTemplate</a> <span class="keyword">const</span>* itemTemplate = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(quest-&gt;RewardItemId[i]))</div>
<div class="line"><span class="lineno">  451</span>                data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(itemTemplate-&gt;DisplayInfoID);</div>
<div class="line"><span class="lineno">  452</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  453</span>                data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><span class="lineno">  454</span>        }</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> moneyRew = 0;</div>
<div class="line"><span class="lineno">  457</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno">  458</span>        <span class="keywordflow">if</span> (player &amp;&amp; (player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#af4767dc4f1480f7c0527db4efe2643d9">GetLevel</a>() &gt;= <a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41a6684273cdd36b9b8215844fc51358ae1">CONFIG_MAX_PLAYER_LEVEL</a>) || <a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;ShouldBeRewardedWithMoneyInsteadOfExp(player)))</div>
<div class="line"><span class="lineno">  459</span>        {</div>
<div class="line"><span class="lineno">  460</span>            moneyRew = quest-&gt;GetRewMoneyMaxLevel();</div>
<div class="line"><span class="lineno">  461</span>        }</div>
<div class="line"><span class="lineno">  462</span>        moneyRew += quest-&gt;GetRewOrReqMoney(player ? player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#af4767dc4f1480f7c0527db4efe2643d9">GetLevel</a>() : 0); <span class="comment">// reward money (below max lvl)</span></div>
<div class="line"><span class="lineno">  463</span>        data &lt;&lt; moneyRew;</div>
<div class="line"><span class="lineno">  464</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questXp;</div>
<div class="line"><span class="lineno">  465</span>        <span class="keywordflow">if</span> (player &amp;&amp; !<a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;ShouldBeRewardedWithMoneyInsteadOfExp(player))</div>
<div class="line"><span class="lineno">  466</span>        {</div>
<div class="line"><span class="lineno">  467</span>            questXp = player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a36ba847524b621ee9b4f46fa85fc9df8">CalculateQuestRewardXP</a>(quest);</div>
<div class="line"><span class="lineno">  468</span>        }</div>
<div class="line"><span class="lineno">  469</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  470</span>        {</div>
<div class="line"><span class="lineno">  471</span>            questXp = 0;</div>
<div class="line"><span class="lineno">  472</span>        }</div>
<div class="line"><span class="lineno">  473</span>        <a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnQuestComputeXP(player, quest, questXp);</div>
<div class="line"><span class="lineno">  474</span>        data &lt;&lt; questXp;</div>
<div class="line"><span class="lineno">  475</span>    }</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>    <span class="comment">// rewarded honor points. Multiply with 10 to satisfy client</span></div>
<div class="line"><span class="lineno">  478</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(10 * quest-&gt;CalculateHonorGain(<a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a12c144fe6e00820ed8929e0547ab04f3">GetQuestLevel</a>(quest)));</div>
<div class="line"><span class="lineno">  479</span>    data &lt;&lt; float(0.0f);                                    <span class="comment">// unk, honor multiplier?</span></div>
<div class="line"><span class="lineno">  480</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetRewSpell());                   <span class="comment">// reward spell, this spell will display (icon) (casted if RewSpellCast == 0)</span></div>
<div class="line"><span class="lineno">  481</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(quest-&gt;GetRewSpellCast());                <span class="comment">// casted spell</span></div>
<div class="line"><span class="lineno">  482</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetCharTitleId());                <span class="comment">// CharTitleId, new 2.4.0, player gets this title (id from CharTitles)</span></div>
<div class="line"><span class="lineno">  483</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetBonusTalents());               <span class="comment">// bonus talents</span></div>
<div class="line"><span class="lineno">  484</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetRewArenaPoints());             <span class="comment">// reward arena points</span></div>
<div class="line"><span class="lineno">  485</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);                                      <span class="comment">// unk</span></div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#aca7218f1a80ba33fb21a51073850202e">QUEST_REPUTATIONS_COUNT</a>; ++i)</div>
<div class="line"><span class="lineno">  488</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RewardFactionId[i]);</div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#aca7218f1a80ba33fb21a51073850202e">QUEST_REPUTATIONS_COUNT</a>; ++i)</div>
<div class="line"><span class="lineno">  491</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(quest-&gt;RewardFactionValueId[i]);</div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#aca7218f1a80ba33fb21a51073850202e">QUEST_REPUTATIONS_COUNT</a>; ++i)</div>
<div class="line"><span class="lineno">  494</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(quest-&gt;RewardFactionValueIdOverride[i]);</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(<a class="code hl_define" href="../../dd/da3/a03026.html#a63297dd973bbf1f493882c44e7b32d75">QUEST_EMOTE_COUNT</a>);</div>
<div class="line"><span class="lineno">  497</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#a63297dd973bbf1f493882c44e7b32d75">QUEST_EMOTE_COUNT</a>; ++i)</div>
<div class="line"><span class="lineno">  498</span>    {</div>
<div class="line"><span class="lineno">  499</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;DetailsEmote[i]);</div>
<div class="line"><span class="lineno">  500</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;DetailsEmoteDelay[i]);       <span class="comment">// DetailsEmoteDelay (in ms)</span></div>
<div class="line"><span class="lineno">  501</span>    }</div>
<div class="line"><span class="lineno">  502</span>    <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><span class="lineno">  503</span> </div>
<div class="line"><span class="lineno">  504</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTGIVER_QUEST_DETAILS {}, questid={}&quot;</span>, npcGUID.ToString(), quest-&gt;GetQuestId());</div>
<div class="line"><span class="lineno">  505</span>}</div>
<div class="ttc" id="aa03026_html_a15eafb369f3711f92bd7ec296be6af15"><div class="ttname"><a href="../../dd/da3/a03026.html#a15eafb369f3711f92bd7ec296be6af15">QUEST_REWARDS_COUNT</a></div><div class="ttdeci">#define QUEST_REWARDS_COUNT</div><div class="ttdef"><b>Definition:</b> QuestDef.h:39</div></div>
<div class="ttc" id="aa03026_html_a881ebe30fbf0f088d54bfa959cefe47ca516bd7b6d09994b8591abdfc6ac0c449"><div class="ttname"><a href="../../dd/da3/a03026.html#a881ebe30fbf0f088d54bfa959cefe47ca516bd7b6d09994b8591abdfc6ac0c449">QUEST_FLAGS_HIDDEN_REWARDS</a></div><div class="ttdeci">@ QUEST_FLAGS_HIDDEN_REWARDS</div><div class="ttdef"><b>Definition:</b> QuestDef.h:141</div></div>
<div class="ttc" id="aa03026_html_ad2f1fa1fe4676a225f4c3319310907aa"><div class="ttname"><a href="../../dd/da3/a03026.html#ad2f1fa1fe4676a225f4c3319310907aa">QUEST_REWARD_CHOICES_COUNT</a></div><div class="ttdeci">#define QUEST_REWARD_CHOICES_COUNT</div><div class="ttdef"><b>Definition:</b> QuestDef.h:38</div></div>
<div class="ttc" id="aa04680_html_gga1073b6abb3a749f18bf1633020879e9badcea14bef7e919842e5b55b481057c23"><div class="ttname"><a href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9badcea14bef7e919842e5b55b481057c23">SMSG_QUESTGIVER_QUEST_DETAILS</a></div><div class="ttdeci">@ SMSG_QUESTGIVER_QUEST_DETAILS</div><div class="ttdef"><b>Definition:</b> Opcodes.h:422</div></div>
<div class="ttc" id="aa08466_html_a7b449484512d2259d9d6a7a5469e43e7"><div class="ttname"><a href="../../dc/d06/a08466.html#a7b449484512d2259d9d6a7a5469e43e7">Player::GetDivider</a></div><div class="ttdeci">ObjectGuid GetDivider()</div><div class="ttdef"><b>Definition:</b> Player.h:1558</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00294">_session</a>, <a class="el" href="../../#l00304">Quest::CalculateHonorGain()</a>, <a class="el" href="../../#l01402">Player::CalculateQuestRewardXP()</a>, <a class="el" href="../../#l00236">CONFIG_MAX_PLAYER_LEVEL</a>, <a class="el" href="../../#l00313">Quest::DetailsEmote</a>, <a class="el" href="../../#l00314">Quest::DetailsEmoteDelay</a>, <a class="el" href="../../#l00266">Quest::GetAreaDescription()</a>, <a class="el" href="../../#l00255">Quest::GetBonusTalents()</a>, <a class="el" href="../../#l00253">Quest::GetCharTitleId()</a>, <a class="el" href="../../#l00262">Quest::GetDetails()</a>, <a class="el" href="../../#l01558">Player::GetDivider()</a>, <a class="el" href="../../#l00286">Quest::GetFlags()</a>, <a class="el" href="../../#l01024">Unit::GetLevel()</a>, <a class="el" href="../../#l01407">ObjectMgr::GetLocaleString()</a>, <a class="el" href="../../#l00263">Quest::GetObjectives()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00228">Quest::GetQuestId()</a>, <a class="el" href="../../#l01434">Player::GetQuestLevel()</a>, <a class="el" href="../../#l00256">Quest::GetRewArenaPoints()</a>, <a class="el" href="../../#l00320">Quest::GetRewChoiceItemsCount()</a>, <a class="el" href="../../#l00321">Quest::GetRewItemsCount()</a>, <a class="el" href="../../#l00257">Quest::GetRewMoneyMaxLevel()</a>, <a class="el" href="../../#l00238">Quest::GetRewOrReqMoney()</a>, <a class="el" href="../../#l00272">Quest::GetRewSpell()</a>, <a class="el" href="../../#l00273">Quest::GetRewSpellCast()</a>, <a class="el" href="../../#l00512">WorldSession::GetSessionDbLocaleIndex()</a>, <a class="el" href="../../#l00247">Quest::GetSuggestedPlayers()</a>, <a class="el" href="../../#l00261">Quest::GetTitle()</a>, <a class="el" href="../../#l00221">Quest::HasFlag()</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00042">QUEST_EMOTE_COUNT</a>, <a class="el" href="../../#l00141">QUEST_FLAGS_HIDDEN_REWARDS</a>, <a class="el" href="../../#l00041">QUEST_REPUTATIONS_COUNT</a>, <a class="el" href="../../#l00038">QUEST_REWARD_CHOICES_COUNT</a>, <a class="el" href="../../#l00039">QUEST_REWARDS_COUNT</a>, <a class="el" href="../../#l00307">Quest::RewardChoiceItemCount</a>, <a class="el" href="../../#l00306">Quest::RewardChoiceItemId</a>, <a class="el" href="../../#l00310">Quest::RewardFactionId</a>, <a class="el" href="../../#l00311">Quest::RewardFactionValueId</a>, <a class="el" href="../../#l00312">Quest::RewardFactionValueIdOverride</a>, <a class="el" href="../../#l00308">Quest::RewardItemId</a>, <a class="el" href="../../#l00309">Quest::RewardItemIdCount</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, <a class="el" href="../../#l00422">SMSG_QUESTGIVER_QUEST_DETAILS</a>, <a class="el" href="../../#l01635">sObjectMgr</a>, <a class="el" href="../../#l00709">sScriptMgr</a>, <a class="el" href="../../#l00442">sWorld</a>, and <a class="el" href="../../#l00047">ObjectGuid::ToString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l05749">Spell::EffectQuestStart()</a>, <a class="el" href="../../#l00535">WorldSession::HandlePushQuestToParty()</a>, <a class="el" href="../../#l00247">WorldSession::HandleQuestgiverChooseRewardOpcode()</a>, <a class="el" href="../../#l00200">WorldSession::HandleQuestgiverQueryQuestOpcode()</a>, <a class="el" href="../../#l00163">SmartScript::ProcessAction()</a>, and <a class="el" href="../../#l00115">Player::SendPreparedQuest()</a>.</p>

</div>
</div>
<a id="a1995bf53009911627fbbcb20049a1fbf" name="a1995bf53009911627fbbcb20049a1fbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1995bf53009911627fbbcb20049a1fbf">&#9670;&#160;</a></span>SendQuestGiverQuestList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PlayerMenu::SendQuestGiverQuestList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dc1/a09370.html">QEmote</a> const &amp;&#160;</td>
          <td class="paramname"><em>eEmote</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>Title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>guid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  316</span>{</div>
<div class="line"><span class="lineno">  317</span>    <a class="code hl_class" href="../../dc/dc5/a10766.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9ba100d4103bb857e2d6f59799abb17eab4">SMSG_QUESTGIVER_QUEST_LIST</a>, 100);  <span class="comment">// guess size</span></div>
<div class="line"><span class="lineno">  318</span>    data &lt;&lt; guid;</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d2/d23/a08862.html">QuestGreeting</a> <span class="keyword">const</span>* questGreeting = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestGreeting(guid.GetTypeId(), guid.GetEntry()))</div>
<div class="line"><span class="lineno">  321</span>    {</div>
<div class="line"><span class="lineno">  322</span>        std::string strGreeting;</div>
<div class="line"><span class="lineno">  323</span>        <span class="comment">// Check if greeting exists. Blizzlike that some creatures have empty greeting</span></div>
<div class="line"><span class="lineno">  324</span>        <span class="keywordflow">if</span> (!questGreeting-&gt;Greeting.empty())</div>
<div class="line"><span class="lineno">  325</span>        {</div>
<div class="line"><span class="lineno">  326</span>            <a class="code hl_enumeration" href="../../d4/d51/a00017.html#a54c9b637be7283ba1a04fb5215594332">LocaleConstant</a> locale = <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38ff97828c0efe89c092f5772c543564">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><span class="lineno">  327</span>            <span class="keywordflow">if</span> (questGreeting-&gt;Greeting.size() &gt; <span class="keywordtype">size_t</span>(locale))</div>
<div class="line"><span class="lineno">  328</span>                strGreeting = questGreeting-&gt;Greeting[locale];</div>
<div class="line"><span class="lineno">  329</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  330</span>                strGreeting = questGreeting-&gt;Greeting[<a class="code hl_define" href="../../d4/d51/a00017.html#a900ed91bceba26c1e05048bd3a9ec4fd">DEFAULT_LOCALE</a>];</div>
<div class="line"><span class="lineno">  331</span>        }</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>        data &lt;&lt; strGreeting;</div>
<div class="line"><span class="lineno">  334</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(questGreeting-&gt;EmoteDelay);</div>
<div class="line"><span class="lineno">  335</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(questGreeting-&gt;EmoteType);</div>
<div class="line"><span class="lineno">  336</span>    }</div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  338</span>    {</div>
<div class="line"><span class="lineno">  339</span>        data &lt;&lt; Title;</div>
<div class="line"><span class="lineno">  340</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(eEmote._Delay); <span class="comment">// player emote</span></div>
<div class="line"><span class="lineno">  341</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(eEmote._Emote); <span class="comment">// NPC emote</span></div>
<div class="line"><span class="lineno">  342</span>    }</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>    std::size_t count_pos = data.wpos();</div>
<div class="line"><span class="lineno">  345</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0);</div>
<div class="line"><span class="lineno">  346</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_variable" href="../../d4/d2a/a07966.html#a1d1d9ec0ac5fea6b1905390f0719073a">_questMenu</a>.<a class="code hl_function" href="../../d0/d49/a07962.html#a2338a6fb88c32bfb66fe524a8ffaa0d7">GetMenuItemCount</a>(); ++i)</div>
<div class="line"><span class="lineno">  349</span>    {</div>
<div class="line"><span class="lineno">  350</span>        <a class="code hl_struct" href="../../d8/de1/a07954.html">QuestMenuItem</a> <span class="keyword">const</span>&amp; questMenuItem = <a class="code hl_variable" href="../../d4/d2a/a07966.html#a1d1d9ec0ac5fea6b1905390f0719073a">_questMenu</a>.<a class="code hl_function" href="../../d0/d49/a07962.html#a08240a8d18dce0cb96db19f54c67dd2c">GetItem</a>(i);</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> questID = questMenuItem.<a class="code hl_variable" href="../../d8/de1/a07954.html#a522a4fcb28daec3e1a620b6f02c3d8fe">QuestId</a>;</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d1/d52/a09982.html">Quest</a> <span class="keyword">const</span>* quest = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(questID))</div>
<div class="line"><span class="lineno">  355</span>        {</div>
<div class="line"><span class="lineno">  356</span>            ++count;</div>
<div class="line"><span class="lineno">  357</span>            std::string title = quest-&gt;GetTitle();</div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span>            <a class="code hl_enumeration" href="../../d4/d51/a00017.html#a54c9b637be7283ba1a04fb5215594332">LocaleConstant</a> localeConstant = <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38ff97828c0efe89c092f5772c543564">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><span class="lineno">  360</span>            <span class="keywordflow">if</span> (localeConstant != <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#a54c9b637be7283ba1a04fb5215594332ac07b7e8b5def3b0907685ac6c3566de3">LOCALE_enUS</a>)</div>
<div class="line"><span class="lineno">  361</span>                <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d6/d21/a09970.html">QuestLocale</a> <span class="keyword">const</span>* questTemplateLocale = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestLocale(questID))</div>
<div class="line"><span class="lineno">  362</span>                    <a class="code hl_function" href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a>(questTemplateLocale-&gt;Title, localeConstant, title);</div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(questID);</div>
<div class="line"><span class="lineno">  365</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(questMenuItem.<a class="code hl_variable" href="../../d8/de1/a07954.html#ad8bbfe08780eaa68a8205e2634d211b8">QuestIcon</a>);</div>
<div class="line"><span class="lineno">  366</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(quest-&gt;GetQuestLevel());</div>
<div class="line"><span class="lineno">  367</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetFlags());                                                        <span class="comment">// 3.3.3 quest flags</span></div>
<div class="line"><span class="lineno">  368</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(quest-&gt;IsRepeatable() &amp;&amp; !quest-&gt;IsDailyOrWeekly() &amp;&amp; !quest-&gt;IsMonthly()); <span class="comment">// 3.3.3 changes icon: blue question or yellow exclamation</span></div>
<div class="line"><span class="lineno">  369</span>            data &lt;&lt; title;</div>
<div class="line"><span class="lineno">  370</span>        }</div>
<div class="line"><span class="lineno">  371</span>    }</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>    data.put&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;(count_pos, count);</div>
<div class="line"><span class="lineno">  374</span>    <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><span class="lineno">  375</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTGIVER_QUEST_LIST (QuestGiver: {})&quot;</span>, guid.ToString());</div>
<div class="line"><span class="lineno">  376</span>}</div>
<div class="ttc" id="aa00017_html_a54c9b637be7283ba1a04fb5215594332"><div class="ttname"><a href="../../d4/d51/a00017.html#a54c9b637be7283ba1a04fb5215594332">LocaleConstant</a></div><div class="ttdeci">LocaleConstant</div><div class="ttdef"><b>Definition:</b> Common.h:65</div></div>
<div class="ttc" id="aa00017_html_a54c9b637be7283ba1a04fb5215594332ac07b7e8b5def3b0907685ac6c3566de3"><div class="ttname"><a href="../../d4/d51/a00017.html#a54c9b637be7283ba1a04fb5215594332ac07b7e8b5def3b0907685ac6c3566de3">LOCALE_enUS</a></div><div class="ttdeci">@ LOCALE_enUS</div><div class="ttdef"><b>Definition:</b> Common.h:66</div></div>
<div class="ttc" id="aa00017_html_a900ed91bceba26c1e05048bd3a9ec4fd"><div class="ttname"><a href="../../d4/d51/a00017.html#a900ed91bceba26c1e05048bd3a9ec4fd">DEFAULT_LOCALE</a></div><div class="ttdeci">#define DEFAULT_LOCALE</div><div class="ttdef"><b>Definition:</b> Common.h:79</div></div>
<div class="ttc" id="aa04680_html_gga1073b6abb3a749f18bf1633020879e9ba100d4103bb857e2d6f59799abb17eab4"><div class="ttname"><a href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9ba100d4103bb857e2d6f59799abb17eab4">SMSG_QUESTGIVER_QUEST_LIST</a></div><div class="ttdeci">@ SMSG_QUESTGIVER_QUEST_LIST</div><div class="ttdef"><b>Definition:</b> Opcodes.h:419</div></div>
<div class="ttc" id="aa08862_html"><div class="ttname"><a href="../../d2/d23/a08862.html">QuestGreeting</a></div><div class="ttdef"><b>Definition:</b> ObjectMgr.h:599</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00027">QEmote::_Delay</a>, <a class="el" href="../../#l00026">QEmote::_Emote</a>, <a class="el" href="../../#l00293">_questMenu</a>, <a class="el" href="../../#l00294">_session</a>, <a class="el" href="../../#l00079">DEFAULT_LOCALE</a>, <a class="el" href="../../#l00144">ObjectGuid::GetEntry()</a>, <a class="el" href="../../#l00249">QuestMenu::GetItem()</a>, <a class="el" href="../../#l01407">ObjectMgr::GetLocaleString()</a>, <a class="el" href="../../#l00237">QuestMenu::GetMenuItemCount()</a>, <a class="el" href="../../#l00512">WorldSession::GetSessionDbLocaleIndex()</a>, <a class="el" href="../../#l00180">ObjectGuid::GetTypeId()</a>, <a class="el" href="../../#l00066">LOCALE_enUS</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00137">ByteBuffer::put()</a>, <a class="el" href="../../#l00157">QuestMenuItem::QuestIcon</a>, <a class="el" href="../../#l00156">QuestMenuItem::QuestId</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, <a class="el" href="../../#l00419">SMSG_QUESTGIVER_QUEST_LIST</a>, <a class="el" href="../../#l01635">sObjectMgr</a>, <a class="el" href="../../#l00047">ObjectGuid::ToString()</a>, and <a class="el" href="../../#l00330">ByteBuffer::wpos()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00115">Player::SendPreparedQuest()</a>.</p>

</div>
</div>
<a id="a61a5f8d9b8b9c4baa511028884011f89" name="a61a5f8d9b8b9c4baa511028884011f89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61a5f8d9b8b9c4baa511028884011f89">&#9670;&#160;</a></span>SendQuestGiverRequestItems()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PlayerMenu::SendQuestGiverRequestItems </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d52/a09982.html">Quest</a> const *&#160;</td>
          <td class="paramname"><em>quest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>npcGUID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>canComplete</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>closeOnCancel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  753</span>{</div>
<div class="line"><span class="lineno">  754</span>    <span class="comment">// We can always call to RequestItems, but this packet only goes out if there are actually</span></div>
<div class="line"><span class="lineno">  755</span>    <span class="comment">// items.  Otherwise, we&#39;ll skip straight to the OfferReward</span></div>
<div class="line"><span class="lineno">  756</span> </div>
<div class="line"><span class="lineno">  757</span>    std::string questTitle = quest-&gt;GetTitle();</div>
<div class="line"><span class="lineno">  758</span>    std::string requestItemsText = quest-&gt;GetRequestItemsText();</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> locale = <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38ff97828c0efe89c092f5772c543564">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><span class="lineno">  761</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d6/d21/a09970.html">QuestLocale</a> <span class="keyword">const</span>* localeData = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestLocale(quest-&gt;GetQuestId()))</div>
<div class="line"><span class="lineno">  762</span>        <a class="code hl_function" href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a>(localeData-&gt;Title, locale, questTitle);</div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d9/da8/a09974.html">QuestRequestItemsLocale</a> <span class="keyword">const</span>* questRequestItemsLocale = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestRequestItemsLocale(quest-&gt;GetQuestId()))</div>
<div class="line"><span class="lineno">  765</span>        <a class="code hl_function" href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a>(questRequestItemsLocale-&gt;CompletionText, locale, requestItemsText);</div>
<div class="line"><span class="lineno">  766</span> </div>
<div class="line"><span class="lineno">  767</span>    <span class="keywordflow">if</span> (!quest-&gt;GetReqItemsCount() &amp;&amp; canComplete)</div>
<div class="line"><span class="lineno">  768</span>    {</div>
<div class="line"><span class="lineno">  769</span>        <a class="code hl_function" href="../../d4/d2a/a07966.html#afc3d8fc9f8fd2f20ea0068b101d90f91">SendQuestGiverOfferReward</a>(quest, npcGUID, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  770</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  771</span>    }</div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span>    <span class="comment">// Xinef: recheck completion on reward display</span></div>
<div class="line"><span class="lineno">  774</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* _player = <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno">  775</span>    QuestStatusMap::iterator qsitr = _player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a218f48b60269525adf800c1a7278f232">getQuestStatusMap</a>().find(quest-&gt;GetQuestId());</div>
<div class="line"><span class="lineno">  776</span>    <span class="keywordflow">if</span> (qsitr != _player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a218f48b60269525adf800c1a7278f232">getQuestStatusMap</a>().end() &amp;&amp; qsitr-&gt;second.Status == <a class="code hl_enumvalue" href="../../dd/da3/a03026.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a>)</div>
<div class="line"><span class="lineno">  777</span>    {</div>
<div class="line"><span class="lineno">  778</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; 6; ++i)</div>
<div class="line"><span class="lineno">  779</span>            <span class="keywordflow">if</span> (quest-&gt;RequiredItemId[i] &amp;&amp; qsitr-&gt;second.ItemCount[i] &lt; quest-&gt;RequiredItemCount[i])</div>
<div class="line"><span class="lineno">  780</span>                <span class="keywordflow">if</span> (_player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a5aa219a691b0c5212fda9de12dfd72e9">GetItemCount</a>(quest-&gt;RequiredItemId[i], <span class="keyword">false</span>) &gt;= quest-&gt;RequiredItemCount[i])</div>
<div class="line"><span class="lineno">  781</span>                    qsitr-&gt;second.ItemCount[i] = quest-&gt;RequiredItemCount[i];</div>
<div class="line"><span class="lineno">  782</span> </div>
<div class="line"><span class="lineno">  783</span>        <span class="keywordflow">if</span> (_player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#aa620106c0c7396e8264a4d8e0e4dc4d9">CanCompleteQuest</a>(quest-&gt;GetQuestId()))</div>
<div class="line"><span class="lineno">  784</span>        {</div>
<div class="line"><span class="lineno">  785</span>            _player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a67b53af432006bf83e80cb6991b6e146">CompleteQuest</a>(quest-&gt;GetQuestId());</div>
<div class="line"><span class="lineno">  786</span>            canComplete = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  787</span>        }</div>
<div class="line"><span class="lineno">  788</span>    }</div>
<div class="line"><span class="lineno">  789</span> </div>
<div class="line"><span class="lineno">  790</span>    <a class="code hl_class" href="../../dc/dc5/a10766.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9ba867a38ad15c0c30df59b8e16cef0f63f">SMSG_QUESTGIVER_REQUEST_ITEMS</a>, 300);   <span class="comment">// guess size</span></div>
<div class="line"><span class="lineno">  791</span>    data &lt;&lt; npcGUID;</div>
<div class="line"><span class="lineno">  792</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetQuestId());</div>
<div class="line"><span class="lineno">  793</span>    data &lt;&lt; questTitle;</div>
<div class="line"><span class="lineno">  794</span>    data &lt;&lt; requestItemsText;</div>
<div class="line"><span class="lineno">  795</span> </div>
<div class="line"><span class="lineno">  796</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0x00);                                   <span class="comment">// unknown</span></div>
<div class="line"><span class="lineno">  797</span> </div>
<div class="line"><span class="lineno">  798</span>    <span class="keywordflow">if</span> (canComplete)</div>
<div class="line"><span class="lineno">  799</span>        data &lt;&lt; quest-&gt;GetCompleteEmote();</div>
<div class="line"><span class="lineno">  800</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  801</span>        data &lt;&lt; quest-&gt;GetIncompleteEmote();</div>
<div class="line"><span class="lineno">  802</span> </div>
<div class="line"><span class="lineno">  803</span>    <span class="comment">// Close Window after cancel</span></div>
<div class="line"><span class="lineno">  804</span>    <span class="keywordflow">if</span> (closeOnCancel)</div>
<div class="line"><span class="lineno">  805</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0x01);</div>
<div class="line"><span class="lineno">  806</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  807</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0x00);</div>
<div class="line"><span class="lineno">  808</span> </div>
<div class="line"><span class="lineno">  809</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetFlags());                      <span class="comment">// 3.3.3 questFlags</span></div>
<div class="line"><span class="lineno">  810</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetSuggestedPlayers());           <span class="comment">// SuggestedGroupNum</span></div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>    <span class="comment">// Required Money</span></div>
<div class="line"><span class="lineno">  813</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetRewOrReqMoney() &lt; 0 ? -quest-&gt;GetRewOrReqMoney() : 0);</div>
<div class="line"><span class="lineno">  814</span> </div>
<div class="line"><span class="lineno">  815</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetReqItemsCount());</div>
<div class="line"><span class="lineno">  816</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><span class="lineno">  817</span>    {</div>
<div class="line"><span class="lineno">  818</span>        <span class="keywordflow">if</span> (!quest-&gt;RequiredItemId[i])</div>
<div class="line"><span class="lineno">  819</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  820</span> </div>
<div class="line"><span class="lineno">  821</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RequiredItemId[i]);</div>
<div class="line"><span class="lineno">  822</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RequiredItemCount[i]);</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d9/d08/a08198.html">ItemTemplate</a> <span class="keyword">const</span>* itemTemplate = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(quest-&gt;RequiredItemId[i]))</div>
<div class="line"><span class="lineno">  825</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(itemTemplate-&gt;DisplayInfoID);</div>
<div class="line"><span class="lineno">  826</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  827</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><span class="lineno">  828</span>    }</div>
<div class="line"><span class="lineno">  829</span> </div>
<div class="line"><span class="lineno">  830</span>    <span class="keywordflow">if</span> (!canComplete)</div>
<div class="line"><span class="lineno">  831</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0x00);</div>
<div class="line"><span class="lineno">  832</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  833</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0x03);</div>
<div class="line"><span class="lineno">  834</span> </div>
<div class="line"><span class="lineno">  835</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0x04);</div>
<div class="line"><span class="lineno">  836</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0x08);</div>
<div class="line"><span class="lineno">  837</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0x10);</div>
<div class="line"><span class="lineno">  838</span> </div>
<div class="line"><span class="lineno">  839</span>    <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><span class="lineno">  840</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTGIVER_REQUEST_ITEMS {}, questid={}&quot;</span>, npcGUID.ToString(), quest-&gt;GetQuestId());</div>
<div class="line"><span class="lineno">  841</span>}</div>
<div class="ttc" id="aa03026_html_a5b538720bd7de8c4468dc6d21b412f10"><div class="ttname"><a href="../../dd/da3/a03026.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a></div><div class="ttdeci">#define QUEST_ITEM_OBJECTIVES_COUNT</div><div class="ttdef"><b>Definition:</b> QuestDef.h:36</div></div>
<div class="ttc" id="aa03026_html_abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484"><div class="ttname"><a href="../../dd/da3/a03026.html#abfc87d39d69176ad25e800fb4aa6f0d8a9d062f65bead287785d9b540987bb484">QUEST_STATUS_INCOMPLETE</a></div><div class="ttdeci">@ QUEST_STATUS_INCOMPLETE</div><div class="ttdef"><b>Definition:</b> QuestDef.h:103</div></div>
<div class="ttc" id="aa04680_html_gga1073b6abb3a749f18bf1633020879e9ba867a38ad15c0c30df59b8e16cef0f63f"><div class="ttname"><a href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9ba867a38ad15c0c30df59b8e16cef0f63f">SMSG_QUESTGIVER_REQUEST_ITEMS</a></div><div class="ttdeci">@ SMSG_QUESTGIVER_REQUEST_ITEMS</div><div class="ttdef"><b>Definition:</b> Opcodes.h:425</div></div>
<div class="ttc" id="aa07966_html_afc3d8fc9f8fd2f20ea0068b101d90f91"><div class="ttname"><a href="../../d4/d2a/a07966.html#afc3d8fc9f8fd2f20ea0068b101d90f91">PlayerMenu::SendQuestGiverOfferReward</a></div><div class="ttdeci">void SendQuestGiverOfferReward(Quest const *quest, ObjectGuid npcGUID, bool enableNext) const</div><div class="ttdef"><b>Definition:</b> GossipDef.cpp:647</div></div>
<div class="ttc" id="aa08466_html_a218f48b60269525adf800c1a7278f232"><div class="ttname"><a href="../../dc/d06/a08466.html#a218f48b60269525adf800c1a7278f232">Player::getQuestStatusMap</a></div><div class="ttdeci">QuestStatusMap &amp; getQuestStatusMap()</div><div class="ttdef"><b>Definition:</b> Player.h:1634</div></div>
<div class="ttc" id="aa08466_html_a5aa219a691b0c5212fda9de12dfd72e9"><div class="ttname"><a href="../../dc/d06/a08466.html#a5aa219a691b0c5212fda9de12dfd72e9">Player::GetItemCount</a></div><div class="ttdeci">uint32 GetItemCount(uint32 item, bool inBankAlso=false, Item *skipItem=nullptr) const</div><div class="ttdef"><b>Definition:</b> PlayerStorage.cpp:327</div></div>
<div class="ttc" id="aa08466_html_a67b53af432006bf83e80cb6991b6e146"><div class="ttname"><a href="../../dc/d06/a08466.html#a67b53af432006bf83e80cb6991b6e146">Player::CompleteQuest</a></div><div class="ttdeci">void CompleteQuest(uint32 quest_id)</div><div class="ttdef"><b>Definition:</b> PlayerQuest.cpp:598</div></div>
<div class="ttc" id="aa08466_html_aa620106c0c7396e8264a4d8e0e4dc4d9"><div class="ttname"><a href="../../dc/d06/a08466.html#aa620106c0c7396e8264a4d8e0e4dc4d9">Player::CanCompleteQuest</a></div><div class="ttdeci">bool CanCompleteQuest(uint32 quest_id, const QuestStatusData *q_savedStatus=nullptr)</div><div class="ttdef"><b>Definition:</b> PlayerQuest.cpp:289</div></div>
<div class="ttc" id="aa09974_html"><div class="ttname"><a href="../../d9/da8/a09974.html">QuestRequestItemsLocale</a></div><div class="ttdef"><b>Definition:</b> QuestDef.h:197</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00294">_session</a>, <a class="el" href="../../#l00289">Player::CanCompleteQuest()</a>, <a class="el" href="../../#l00598">Player::CompleteQuest()</a>, <a class="el" href="../../#l00282">Quest::GetCompleteEmote()</a>, <a class="el" href="../../#l00286">Quest::GetFlags()</a>, <a class="el" href="../../#l00281">Quest::GetIncompleteEmote()</a>, <a class="el" href="../../#l00327">Player::GetItemCount()</a>, <a class="el" href="../../#l01407">ObjectMgr::GetLocaleString()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00228">Quest::GetQuestId()</a>, <a class="el" href="../../#l01634">Player::getQuestStatusMap()</a>, <a class="el" href="../../#l00318">Quest::GetReqItemsCount()</a>, <a class="el" href="../../#l00265">Quest::GetRequestItemsText()</a>, <a class="el" href="../../#l00238">Quest::GetRewOrReqMoney()</a>, <a class="el" href="../../#l00512">WorldSession::GetSessionDbLocaleIndex()</a>, <a class="el" href="../../#l00247">Quest::GetSuggestedPlayers()</a>, <a class="el" href="../../#l00261">Quest::GetTitle()</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00036">QUEST_ITEM_OBJECTIVES_COUNT</a>, <a class="el" href="../../#l00103">QUEST_STATUS_INCOMPLETE</a>, <a class="el" href="../../#l00301">Quest::RequiredItemCount</a>, <a class="el" href="../../#l00300">Quest::RequiredItemId</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, <a class="el" href="../../#l00647">SendQuestGiverOfferReward()</a>, <a class="el" href="../../#l00425">SMSG_QUESTGIVER_REQUEST_ITEMS</a>, <a class="el" href="../../#l01635">sObjectMgr</a>, and <a class="el" href="../../#l00047">ObjectGuid::ToString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00535">WorldSession::HandlePushQuestToParty()</a>, <a class="el" href="../../#l00484">WorldSession::HandleQuestgiverCompleteQuest()</a>, <a class="el" href="../../#l00200">WorldSession::HandleQuestgiverQueryQuestOpcode()</a>, <a class="el" href="../../#l00133">npc_elder_clearwater::OnGossipHello()</a>, and <a class="el" href="../../#l00115">Player::SendPreparedQuest()</a>.</p>

</div>
</div>
<a id="a873a174b6ef46140ff8d8acf0c683ffb" name="a873a174b6ef46140ff8d8acf0c683ffb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a873a174b6ef46140ff8d8acf0c683ffb">&#9670;&#160;</a></span>SendQuestGiverStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PlayerMenu::SendQuestGiverStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>questStatus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>npcGUID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  379</span>{</div>
<div class="line"><span class="lineno">  380</span>    <a class="code hl_class" href="../../dc/dc5/a10766.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9ba4611213f563f4ddbd69b3c745ae1befc">SMSG_QUESTGIVER_STATUS</a>, 9);</div>
<div class="line"><span class="lineno">  381</span>    data &lt;&lt; npcGUID;</div>
<div class="line"><span class="lineno">  382</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(questStatus);</div>
<div class="line"><span class="lineno">  383</span> </div>
<div class="line"><span class="lineno">  384</span>    <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><span class="lineno">  385</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUESTGIVER_STATUS NPC {}, status={}&quot;</span>, npcGUID.ToString(), questStatus);</div>
<div class="line"><span class="lineno">  386</span>}</div>
<div class="ttc" id="aa04680_html_gga1073b6abb3a749f18bf1633020879e9ba4611213f563f4ddbd69b3c745ae1befc"><div class="ttname"><a href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9ba4611213f563f4ddbd69b3c745ae1befc">SMSG_QUESTGIVER_STATUS</a></div><div class="ttdeci">@ SMSG_QUESTGIVER_STATUS</div><div class="ttdef"><b>Definition:</b> Opcodes.h:417</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00294">_session</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, <a class="el" href="../../#l00417">SMSG_QUESTGIVER_STATUS</a>, and <a class="el" href="../../#l00047">ObjectGuid::ToString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00247">WorldSession::HandleQuestgiverChooseRewardOpcode()</a>, and <a class="el" href="../../#l00035">WorldSession::HandleQuestgiverStatusQueryOpcode()</a>.</p>

</div>
</div>
<a id="a950ed922c39040db8a1fe16588c7c65a" name="a950ed922c39040db8a1fe16588c7c65a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a950ed922c39040db8a1fe16588c7c65a">&#9670;&#160;</a></span>SendQuestQueryResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PlayerMenu::SendQuestQueryResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d52/a09982.html">Quest</a> const *&#160;</td>
          <td class="paramname"><em>quest</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  508</span>{</div>
<div class="line"><span class="lineno">  509</span>    std::string questTitle           = quest-&gt;GetTitle();</div>
<div class="line"><span class="lineno">  510</span>    std::string questDetails         = quest-&gt;GetDetails();</div>
<div class="line"><span class="lineno">  511</span>    std::string questObjectives      = quest-&gt;GetObjectives();</div>
<div class="line"><span class="lineno">  512</span>    std::string questAreaDescription = quest-&gt;GetAreaDescription();</div>
<div class="line"><span class="lineno">  513</span>    std::string questCompletedText   = quest-&gt;GetCompletedText();</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>    std::string questObjectiveText[<a class="code hl_define" href="../../dd/da3/a03026.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a>];</div>
<div class="line"><span class="lineno">  516</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><span class="lineno">  517</span>        questObjectiveText[i] = quest-&gt;ObjectiveText[i];</div>
<div class="line"><span class="lineno">  518</span> </div>
<div class="line"><span class="lineno">  519</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> locale = <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38ff97828c0efe89c092f5772c543564">GetSessionDbLocaleIndex</a>();</div>
<div class="line"><span class="lineno">  520</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d6/d21/a09970.html">QuestLocale</a> <span class="keyword">const</span>* localeData = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestLocale(quest-&gt;GetQuestId()))</div>
<div class="line"><span class="lineno">  521</span>    {</div>
<div class="line"><span class="lineno">  522</span>        <a class="code hl_function" href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a>(localeData-&gt;Title, locale, questTitle);</div>
<div class="line"><span class="lineno">  523</span>        <a class="code hl_function" href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a>(localeData-&gt;Details, locale, questDetails);</div>
<div class="line"><span class="lineno">  524</span>        <a class="code hl_function" href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a>(localeData-&gt;Objectives, locale, questObjectives);</div>
<div class="line"><span class="lineno">  525</span>        <a class="code hl_function" href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a>(localeData-&gt;AreaDescription, locale, questAreaDescription);</div>
<div class="line"><span class="lineno">  526</span>        <a class="code hl_function" href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a>(localeData-&gt;CompletedText, locale, questCompletedText);</div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><span class="lineno">  529</span>            <a class="code hl_function" href="../../df/d30/a08890.html#afaf0c44e499261c10276edc4c3cb15a0">ObjectMgr::GetLocaleString</a>(localeData-&gt;ObjectiveText[i], locale, questObjectiveText[i]);</div>
<div class="line"><span class="lineno">  530</span>    }</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span>    <a class="code hl_class" href="../../dc/dc5/a10766.html">WorldPacket</a> data(<a class="code hl_enumvalue" href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9baeb980bf1e4018d70d00e6e879f2cb9be">SMSG_QUEST_QUERY_RESPONSE</a>, 100);       <span class="comment">// guess size</span></div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetQuestId());                    <span class="comment">// quest id</span></div>
<div class="line"><span class="lineno">  535</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetQuestMethod());                <span class="comment">// Accepted values: 0, 1 or 2. 0 == IsAutoComplete() (skip objectives/details)</span></div>
<div class="line"><span class="lineno">  536</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetQuestLevel());                 <span class="comment">// may be -1, static data, in other cases must be used dynamic level: Player::GetQuestLevel (0 is not known, but assuming this is no longer valid for quest intended for client)</span></div>
<div class="line"><span class="lineno">  537</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetMinLevel());                   <span class="comment">// min level</span></div>
<div class="line"><span class="lineno">  538</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetZoneOrSort());                 <span class="comment">// zone or sort to display in quest log</span></div>
<div class="line"><span class="lineno">  539</span> </div>
<div class="line"><span class="lineno">  540</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetType());                       <span class="comment">// quest type</span></div>
<div class="line"><span class="lineno">  541</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetSuggestedPlayers());           <span class="comment">// suggested players count</span></div>
<div class="line"><span class="lineno">  542</span> </div>
<div class="line"><span class="lineno">  543</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetRepObjectiveFaction());        <span class="comment">// shown in quest log as part of quest objective</span></div>
<div class="line"><span class="lineno">  544</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetRepObjectiveValue());          <span class="comment">// shown in quest log as part of quest objective</span></div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  546</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetRepObjectiveFaction2());       <span class="comment">// shown in quest log as part of quest objective OPPOSITE faction</span></div>
<div class="line"><span class="lineno">  547</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetRepObjectiveValue2());         <span class="comment">// shown in quest log as part of quest objective OPPOSITE faction</span></div>
<div class="line"><span class="lineno">  548</span> </div>
<div class="line"><span class="lineno">  549</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetNextQuestInChain());           <span class="comment">// client will request this quest from NPC, if not 0</span></div>
<div class="line"><span class="lineno">  550</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetXPId());                       <span class="comment">// used for calculating rewarded experience</span></div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span>    <span class="keywordflow">if</span> (quest-&gt;HasFlag(<a class="code hl_enumvalue" href="../../dd/da3/a03026.html#a881ebe30fbf0f088d54bfa959cefe47ca516bd7b6d09994b8591abdfc6ac0c449">QUEST_FLAGS_HIDDEN_REWARDS</a>))</div>
<div class="line"><span class="lineno">  553</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);                                  <span class="comment">// Hide money rewarded</span></div>
<div class="line"><span class="lineno">  554</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  555</span>    {</div>
<div class="line"><span class="lineno">  556</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> moneyRew = 0;</div>
<div class="line"><span class="lineno">  557</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno">  558</span>        <span class="keywordflow">if</span> (player &amp;&amp; (player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#af4767dc4f1480f7c0527db4efe2643d9">GetLevel</a>() &gt;= <a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41a6684273cdd36b9b8215844fc51358ae1">CONFIG_MAX_PLAYER_LEVEL</a>) || <a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;ShouldBeRewardedWithMoneyInsteadOfExp(player)))</div>
<div class="line"><span class="lineno">  559</span>        {</div>
<div class="line"><span class="lineno">  560</span>            moneyRew = quest-&gt;GetRewMoneyMaxLevel();</div>
<div class="line"><span class="lineno">  561</span>        }</div>
<div class="line"><span class="lineno">  562</span>        moneyRew += quest-&gt;GetRewOrReqMoney(player ? player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#af4767dc4f1480f7c0527db4efe2643d9">GetLevel</a>() : 0); <span class="comment">// reward money (below max lvl)</span></div>
<div class="line"><span class="lineno">  563</span>        data &lt;&lt; moneyRew;</div>
<div class="line"><span class="lineno">  564</span>    }</div>
<div class="line"><span class="lineno">  565</span> </div>
<div class="line"><span class="lineno">  566</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetRewMoneyMaxLevel());           <span class="comment">// used in XP calculation at client</span></div>
<div class="line"><span class="lineno">  567</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetRewSpell());                   <span class="comment">// reward spell, this spell will display (icon) (cast if RewSpellCast == 0)</span></div>
<div class="line"><span class="lineno">  568</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(quest-&gt;GetRewSpellCast());                <span class="comment">// cast spell</span></div>
<div class="line"><span class="lineno">  569</span> </div>
<div class="line"><span class="lineno">  570</span>    <span class="comment">// rewarded honor points</span></div>
<div class="line"><span class="lineno">  571</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetRewHonorAddition());</div>
<div class="line"><span class="lineno">  572</span>    data &lt;&lt; float(quest-&gt;GetRewHonorMultiplier());</div>
<div class="line"><span class="lineno">  573</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetSrcItemId());                  <span class="comment">// source item id</span></div>
<div class="line"><span class="lineno">  574</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetFlags() &amp; 0xFFFF);             <span class="comment">// quest flags</span></div>
<div class="line"><span class="lineno">  575</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetCharTitleId());                <span class="comment">// CharTitleId, new 2.4.0, player gets this title (id from CharTitles)</span></div>
<div class="line"><span class="lineno">  576</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetPlayersSlain());               <span class="comment">// players slain</span></div>
<div class="line"><span class="lineno">  577</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetBonusTalents());               <span class="comment">// bonus talents</span></div>
<div class="line"><span class="lineno">  578</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetRewArenaPoints());             <span class="comment">// bonus arena points</span></div>
<div class="line"><span class="lineno">  579</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);                                      <span class="comment">// review rep show mask</span></div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>    <span class="keywordflow">if</span> (quest-&gt;HasFlag(<a class="code hl_enumvalue" href="../../dd/da3/a03026.html#a881ebe30fbf0f088d54bfa959cefe47ca516bd7b6d09994b8591abdfc6ac0c449">QUEST_FLAGS_HIDDEN_REWARDS</a>))</div>
<div class="line"><span class="lineno">  582</span>    {</div>
<div class="line"><span class="lineno">  583</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#a15eafb369f3711f92bd7ec296be6af15">QUEST_REWARDS_COUNT</a>; ++i)</div>
<div class="line"><span class="lineno">  584</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0) &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><span class="lineno">  585</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#ad2f1fa1fe4676a225f4c3319310907aa">QUEST_REWARD_CHOICES_COUNT</a>; ++i)</div>
<div class="line"><span class="lineno">  586</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0) &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><span class="lineno">  587</span>    }</div>
<div class="line"><span class="lineno">  588</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  589</span>    {</div>
<div class="line"><span class="lineno">  590</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#a15eafb369f3711f92bd7ec296be6af15">QUEST_REWARDS_COUNT</a>; ++i)</div>
<div class="line"><span class="lineno">  591</span>        {</div>
<div class="line"><span class="lineno">  592</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RewardItemId[i]);</div>
<div class="line"><span class="lineno">  593</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RewardItemIdCount[i]);</div>
<div class="line"><span class="lineno">  594</span>        }</div>
<div class="line"><span class="lineno">  595</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#ad2f1fa1fe4676a225f4c3319310907aa">QUEST_REWARD_CHOICES_COUNT</a>; ++i)</div>
<div class="line"><span class="lineno">  596</span>        {</div>
<div class="line"><span class="lineno">  597</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RewardChoiceItemId[i]);</div>
<div class="line"><span class="lineno">  598</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RewardChoiceItemCount[i]);</div>
<div class="line"><span class="lineno">  599</span>        }</div>
<div class="line"><span class="lineno">  600</span>    }</div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="line"><span class="lineno">  602</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#aca7218f1a80ba33fb21a51073850202e">QUEST_REPUTATIONS_COUNT</a>; ++i)        <span class="comment">// reward factions ids</span></div>
<div class="line"><span class="lineno">  603</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RewardFactionId[i]);</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#aca7218f1a80ba33fb21a51073850202e">QUEST_REPUTATIONS_COUNT</a>; ++i)        <span class="comment">// columnid+1 QuestFactionReward.dbc?</span></div>
<div class="line"><span class="lineno">  606</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(quest-&gt;RewardFactionValueId[i]);</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#aca7218f1a80ba33fb21a51073850202e">QUEST_REPUTATIONS_COUNT</a>; ++i)        <span class="comment">// unk (0)</span></div>
<div class="line"><span class="lineno">  609</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(quest-&gt;RewardFactionValueIdOverride[i]);</div>
<div class="line"><span class="lineno">  610</span> </div>
<div class="line"><span class="lineno">  611</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetPOIContinent());</div>
<div class="line"><span class="lineno">  612</span>    data &lt;&lt; float(quest-&gt;GetPOIx());</div>
<div class="line"><span class="lineno">  613</span>    data &lt;&lt; float(quest-&gt;GetPOIy());</div>
<div class="line"><span class="lineno">  614</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;GetPointOpt());</div>
<div class="line"><span class="lineno">  615</span> </div>
<div class="line"><span class="lineno">  616</span>    data &lt;&lt; questTitle;</div>
<div class="line"><span class="lineno">  617</span>    data &lt;&lt; questObjectives;</div>
<div class="line"><span class="lineno">  618</span>    data &lt;&lt; questDetails;</div>
<div class="line"><span class="lineno">  619</span>    data &lt;&lt; questAreaDescription;</div>
<div class="line"><span class="lineno">  620</span>    data &lt;&lt; questCompletedText;                                 <span class="comment">// display in quest objectives window once all objectives are completed</span></div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><span class="lineno">  623</span>    {</div>
<div class="line"><span class="lineno">  624</span>        <span class="keywordflow">if</span> (quest-&gt;RequiredNpcOrGo[i] &lt; 0)</div>
<div class="line"><span class="lineno">  625</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>((quest-&gt;RequiredNpcOrGo[i] * (-1)) | 0x80000000);    <span class="comment">// client expects gameobject template id in form (id|0x80000000)</span></div>
<div class="line"><span class="lineno">  626</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  627</span>            data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RequiredNpcOrGo[i]);</div>
<div class="line"><span class="lineno">  628</span> </div>
<div class="line"><span class="lineno">  629</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RequiredNpcOrGoCount[i]);</div>
<div class="line"><span class="lineno">  630</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;ItemDrop[i]);</div>
<div class="line"><span class="lineno">  631</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);                                  <span class="comment">// req source count?</span></div>
<div class="line"><span class="lineno">  632</span>    }</div>
<div class="line"><span class="lineno">  633</span> </div>
<div class="line"><span class="lineno">  634</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#a5b538720bd7de8c4468dc6d21b412f10">QUEST_ITEM_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><span class="lineno">  635</span>    {</div>
<div class="line"><span class="lineno">  636</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RequiredItemId[i]);</div>
<div class="line"><span class="lineno">  637</span>        data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(quest-&gt;RequiredItemCount[i]);</div>
<div class="line"><span class="lineno">  638</span>    }</div>
<div class="line"><span class="lineno">  639</span> </div>
<div class="line"><span class="lineno">  640</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../dd/da3/a03026.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a>; ++i)</div>
<div class="line"><span class="lineno">  641</span>        data &lt;&lt; questObjectiveText[i];</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>    <a class="code hl_variable" href="../../d4/d2a/a07966.html#aa55a3dbe879c3d0166ba7a8deda0d6e0">_session</a>-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><span class="lineno">  644</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;network&quot;</span>, <span class="stringliteral">&quot;WORLD: Sent SMSG_QUEST_QUERY_RESPONSE questid={}&quot;</span>, quest-&gt;GetQuestId());</div>
<div class="line"><span class="lineno">  645</span>}</div>
<div class="ttc" id="aa03026_html_a7dab6182ee1bbabf205ed30f9c2d6c8b"><div class="ttname"><a href="../../dd/da3/a03026.html#a7dab6182ee1bbabf205ed30f9c2d6c8b">QUEST_OBJECTIVES_COUNT</a></div><div class="ttdeci">#define QUEST_OBJECTIVES_COUNT</div><div class="ttdef"><b>Definition:</b> QuestDef.h:35</div></div>
<div class="ttc" id="aa04680_html_gga1073b6abb3a749f18bf1633020879e9baeb980bf1e4018d70d00e6e879f2cb9be"><div class="ttname"><a href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9baeb980bf1e4018d70d00e6e879f2cb9be">SMSG_QUEST_QUERY_RESPONSE</a></div><div class="ttdeci">@ SMSG_QUEST_QUERY_RESPONSE</div><div class="ttdef"><b>Definition:</b> Opcodes.h:123</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00294">_session</a>, <a class="el" href="../../#l00236">CONFIG_MAX_PLAYER_LEVEL</a>, <a class="el" href="../../#l00266">Quest::GetAreaDescription()</a>, <a class="el" href="../../#l00255">Quest::GetBonusTalents()</a>, <a class="el" href="../../#l00253">Quest::GetCharTitleId()</a>, <a class="el" href="../../#l00267">Quest::GetCompletedText()</a>, <a class="el" href="../../#l00262">Quest::GetDetails()</a>, <a class="el" href="../../#l00286">Quest::GetFlags()</a>, <a class="el" href="../../#l01024">Unit::GetLevel()</a>, <a class="el" href="../../#l01407">ObjectMgr::GetLocaleString()</a>, <a class="el" href="../../#l00231">Quest::GetMinLevel()</a>, <a class="el" href="../../#l00252">Quest::GetNextQuestInChain()</a>, <a class="el" href="../../#l00263">Quest::GetObjectives()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00254">Quest::GetPlayersSlain()</a>, <a class="el" href="../../#l00277">Quest::GetPOIContinent()</a>, <a class="el" href="../../#l00280">Quest::GetPointOpt()</a>, <a class="el" href="../../#l00278">Quest::GetPOIx()</a>, <a class="el" href="../../#l00279">Quest::GetPOIy()</a>, <a class="el" href="../../#l00228">Quest::GetQuestId()</a>, <a class="el" href="../../#l00233">Quest::GetQuestLevel()</a>, <a class="el" href="../../#l00229">Quest::GetQuestMethod()</a>, <a class="el" href="../../#l00239">Quest::GetRepObjectiveFaction()</a>, <a class="el" href="../../#l00241">Quest::GetRepObjectiveFaction2()</a>, <a class="el" href="../../#l00240">Quest::GetRepObjectiveValue()</a>, <a class="el" href="../../#l00242">Quest::GetRepObjectiveValue2()</a>, <a class="el" href="../../#l00256">Quest::GetRewArenaPoints()</a>, <a class="el" href="../../#l00269">Quest::GetRewHonorAddition()</a>, <a class="el" href="../../#l00270">Quest::GetRewHonorMultiplier()</a>, <a class="el" href="../../#l00257">Quest::GetRewMoneyMaxLevel()</a>, <a class="el" href="../../#l00238">Quest::GetRewOrReqMoney()</a>, <a class="el" href="../../#l00272">Quest::GetRewSpell()</a>, <a class="el" href="../../#l00273">Quest::GetRewSpellCast()</a>, <a class="el" href="../../#l00512">WorldSession::GetSessionDbLocaleIndex()</a>, <a class="el" href="../../#l00258">Quest::GetSrcItemId()</a>, <a class="el" href="../../#l00247">Quest::GetSuggestedPlayers()</a>, <a class="el" href="../../#l00261">Quest::GetTitle()</a>, <a class="el" href="../../#l00234">Quest::GetType()</a>, <a class="el" href="../../#l00257">Quest::GetXPId()</a>, <a class="el" href="../../#l00230">Quest::GetZoneOrSort()</a>, <a class="el" href="../../#l00221">Quest::HasFlag()</a>, <a class="el" href="../../#l00302">Quest::ItemDrop</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00299">Quest::ObjectiveText</a>, <a class="el" href="../../#l00141">QUEST_FLAGS_HIDDEN_REWARDS</a>, <a class="el" href="../../#l00036">QUEST_ITEM_OBJECTIVES_COUNT</a>, <a class="el" href="../../#l00035">QUEST_OBJECTIVES_COUNT</a>, <a class="el" href="../../#l00041">QUEST_REPUTATIONS_COUNT</a>, <a class="el" href="../../#l00038">QUEST_REWARD_CHOICES_COUNT</a>, <a class="el" href="../../#l00039">QUEST_REWARDS_COUNT</a>, <a class="el" href="../../#l00301">Quest::RequiredItemCount</a>, <a class="el" href="../../#l00300">Quest::RequiredItemId</a>, <a class="el" href="../../#l00304">Quest::RequiredNpcOrGo</a>, <a class="el" href="../../#l00305">Quest::RequiredNpcOrGoCount</a>, <a class="el" href="../../#l00307">Quest::RewardChoiceItemCount</a>, <a class="el" href="../../#l00306">Quest::RewardChoiceItemId</a>, <a class="el" href="../../#l00310">Quest::RewardFactionId</a>, <a class="el" href="../../#l00311">Quest::RewardFactionValueId</a>, <a class="el" href="../../#l00312">Quest::RewardFactionValueIdOverride</a>, <a class="el" href="../../#l00308">Quest::RewardItemId</a>, <a class="el" href="../../#l00309">Quest::RewardItemIdCount</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, <a class="el" href="../../#l00123">SMSG_QUEST_QUERY_RESPONSE</a>, <a class="el" href="../../#l01635">sObjectMgr</a>, <a class="el" href="../../#l00709">sScriptMgr</a>, and <a class="el" href="../../#l00442">sWorld</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00234">WorldSession::HandleQuestQueryOpcode()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7a31b60fd003326c8f975675168efd10" name="a7a31b60fd003326c8f975675168efd10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a31b60fd003326c8f975675168efd10">&#9670;&#160;</a></span>_gossipMenu</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d8c/a07958.html">GossipMenu</a> PlayerMenu::_gossipMenu</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00187">ClearMenus()</a>, <a class="el" href="../../#l00267">Empty()</a>, <a class="el" href="../../#l00264">GetGossipMenu()</a>, <a class="el" href="../../#l00271">GetGossipOptionAction()</a>, <a class="el" href="../../#l00270">GetGossipOptionSender()</a>, <a class="el" href="../../#l00272">IsGossipOptionCoded()</a>, <a class="el" href="../../#l00177">PlayerMenu()</a>, <a class="el" href="../../#l00239">SendCloseGossip()</a>, and <a class="el" href="../../#l00193">SendGossipMenu()</a>.</p>

</div>
</div>
<a id="a1d1d9ec0ac5fea6b1905390f0719073a" name="a1d1d9ec0ac5fea6b1905390f0719073a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d1d9ec0ac5fea6b1905390f0719073a">&#9670;&#160;</a></span>_questMenu</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d49/a07962.html">QuestMenu</a> PlayerMenu::_questMenu</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00187">ClearMenus()</a>, <a class="el" href="../../#l00267">Empty()</a>, <a class="el" href="../../#l00265">GetQuestMenu()</a>, <a class="el" href="../../#l00193">SendGossipMenu()</a>, and <a class="el" href="../../#l00315">SendQuestGiverQuestList()</a>.</p>

</div>
</div>
<a id="aa55a3dbe879c3d0166ba7a8deda0d6e0" name="aa55a3dbe879c3d0166ba7a8deda0d6e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa55a3dbe879c3d0166ba7a8deda0d6e0">&#9670;&#160;</a></span>_session</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d7c/a10810.html">WorldSession</a>* PlayerMenu::_session</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00239">SendCloseGossip()</a>, <a class="el" href="../../#l00193">SendGossipMenu()</a>, <a class="el" href="../../#l00247">SendPointOfInterest()</a>, <a class="el" href="../../#l00647">SendQuestGiverOfferReward()</a>, <a class="el" href="../../#l00388">SendQuestGiverQuestDetails()</a>, <a class="el" href="../../#l00315">SendQuestGiverQuestList()</a>, <a class="el" href="../../#l00752">SendQuestGiverRequestItems()</a>, <a class="el" href="../../#l00378">SendQuestGiverStatus()</a>, and <a class="el" href="../../#l00507">SendQuestQueryResponse()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d4/d2a/a07966.html">PlayerMenu</a></li>
    <li class="footer">Generated on Mon Dec 23 2024 20:40:14 for AzerothCore by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
