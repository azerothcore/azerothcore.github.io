<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AzerothCore: SpellMgr Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AzerothCore<span id="projectnumber">&#160;3.3.5a</span>
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d4/d62/a10962.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d6/d4c/a10959.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">SpellMgr Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &quot;<a class="el" href="../../">SpellMgr.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abba48283a65ce30e83030b7cfc4d6a2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#abba48283a65ce30e83030b7cfc4d6a2a">GetSpellDifficultyId</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId) const</td></tr>
<tr class="separator:abba48283a65ce30e83030b7cfc4d6a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d78ba697367cda75056836937d7976e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a1d78ba697367cda75056836937d7976e">SetSpellDifficultyId</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> id)</td></tr>
<tr class="separator:a1d78ba697367cda75056836937d7976e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a229921c46ca2e8e849d1dd5682f78247"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a229921c46ca2e8e849d1dd5682f78247">GetSpellIdForDifficulty</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId, <a class="el" href="../../d6/d15/a08526.html">Unit</a> const *caster) const</td></tr>
<tr class="separator:a229921c46ca2e8e849d1dd5682f78247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6df7fb4895452850c8b8f151ccfd2536"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a6df7fb4895452850c8b8f151ccfd2536">GetSpellForDifficultyFromSpell</a> (<a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *spell, <a class="el" href="../../d6/d15/a08526.html">Unit</a> const *caster) const</td></tr>
<tr class="separator:a6df7fb4895452850c8b8f151ccfd2536"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acebee697f2b732ae70bc247c1cdfee01"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/deb/a10946.html">SpellChainNode</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#acebee697f2b732ae70bc247c1cdfee01">GetSpellChainNode</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id) const</td></tr>
<tr class="separator:acebee697f2b732ae70bc247c1cdfee01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a917957b9f03d8fec71dde17da1a88d51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a917957b9f03d8fec71dde17da1a88d51">GetFirstSpellInChain</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id) const</td></tr>
<tr class="separator:a917957b9f03d8fec71dde17da1a88d51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7381cd829bd62cd16c242e61dd7d1c18"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a7381cd829bd62cd16c242e61dd7d1c18">GetLastSpellInChain</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id) const</td></tr>
<tr class="separator:a7381cd829bd62cd16c242e61dd7d1c18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f2cb73a9f834280867da755e5a6f1c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a2f2cb73a9f834280867da755e5a6f1c4">GetNextSpellInChain</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id) const</td></tr>
<tr class="separator:a2f2cb73a9f834280867da755e5a6f1c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a624b4e60fda126e6a868ac252fda2757"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a624b4e60fda126e6a868ac252fda2757">GetPrevSpellInChain</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id) const</td></tr>
<tr class="separator:a624b4e60fda126e6a868ac252fda2757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abff37b8018ffb588f42b2c0a4c229783"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#abff37b8018ffb588f42b2c0a4c229783">GetSpellRank</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id) const</td></tr>
<tr class="separator:abff37b8018ffb588f42b2c0a4c229783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a542127facbfc4376dcc0a732dc46086e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a542127facbfc4376dcc0a732dc46086e">GetSpellWithRank</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> rank, bool strict=false) const</td></tr>
<tr class="separator:a542127facbfc4376dcc0a732dc46086e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bdcfedf4f314c64b7ed33a1a7726c87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a88ffc1e3eda7c90f1f55e169dc76b444">SpellRequiredMapBounds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a5bdcfedf4f314c64b7ed33a1a7726c87">GetSpellsRequiredForSpellBounds</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id) const</td></tr>
<tr class="separator:a5bdcfedf4f314c64b7ed33a1a7726c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3ba910260b662307aecc92b0e696930"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a387f031811a92887df5962b41c7b2532">SpellsRequiringSpellMapBounds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#ad3ba910260b662307aecc92b0e696930">GetSpellsRequiringSpellBounds</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id) const</td></tr>
<tr class="separator:ad3ba910260b662307aecc92b0e696930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62767dc60e5f32a91b8428a01d083184"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a62767dc60e5f32a91b8428a01d083184">IsSpellRequiringSpell</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellid, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> req_spellid) const</td></tr>
<tr class="separator:a62767dc60e5f32a91b8428a01d083184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5447b1a2108c3f9ae01d5a29a4adaed4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/daf/a10950.html">SpellLearnSkillNode</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a5447b1a2108c3f9ae01d5a29a4adaed4">GetSpellLearnSkill</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id) const</td></tr>
<tr class="separator:a5447b1a2108c3f9ae01d5a29a4adaed4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad78451cae5cf043b4d39cc3fa7666d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d3a/a10934.html">SpellTargetPosition</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#aad78451cae5cf043b4d39cc3fa7666d8">GetSpellTargetPosition</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id, <a class="el" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ff">SpellEffIndex</a> effIndex) const</td></tr>
<tr class="separator:aad78451cae5cf043b4d39cc3fa7666d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a679972bc59cdebe7764c078a82fa63f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a679972bc59cdebe7764c078a82fa63f3">GetSpellGroup</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellid) const</td></tr>
<tr class="separator:a679972bc59cdebe7764c078a82fa63f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff6f0cb835c53a025c937376089e68a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eb">SpellGroupSpecialFlags</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#aff6f0cb835c53a025c937376089e68a2">GetSpellGroupSpecialFlags</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id) const</td></tr>
<tr class="separator:aff6f0cb835c53a025c937376089e68a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ecece8a77d5714f64bb27a364381de6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88">SpellGroupStackFlags</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a6ecece8a77d5714f64bb27a364381de6">GetGroupStackFlags</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> groupid) const</td></tr>
<tr class="separator:a6ecece8a77d5714f64bb27a364381de6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b1307c84dbe345de1f16b117a5fa6c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88">SpellGroupStackFlags</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a4b1307c84dbe345de1f16b117a5fa6c7">CheckSpellGroupStackRules</a> (<a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *spellInfo1, <a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *spellInfo2, bool remove, bool areaAura) const</td></tr>
<tr class="separator:a4b1307c84dbe345de1f16b117a5fa6c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1915eeb1c6f142f7ff156846c98e4119"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a1915eeb1c6f142f7ff156846c98e4119">GetSetOfSpellsInSpellGroupWithFlag</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> group_id, <a class="el" href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eb">SpellGroupSpecialFlags</a> flag, std::set&lt; <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> &gt; &amp;availableElixirs) const</td></tr>
<tr class="separator:a1915eeb1c6f142f7ff156846c98e4119"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a252d713f0b10a4665f9470174463bbf5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/df5/a10910.html">SpellProcEventEntry</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a252d713f0b10a4665f9470174463bbf5">GetSpellProcEvent</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId) const</td></tr>
<tr class="separator:a252d713f0b10a4665f9470174463bbf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4df85133eeda585b39e5a00e31edfd8e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a4df85133eeda585b39e5a00e31edfd8e">IsSpellProcEventCanTriggeredBy</a> (<a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *spellProto, <a class="el" href="../../dd/df5/a10910.html">SpellProcEventEntry</a> const *spellProcEvent, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> EventProcFlag, <a class="el" href="../../d3/daf/a08498.html">ProcEventInfo</a> const &amp;eventInfo, bool active) const</td></tr>
<tr class="separator:a4df85133eeda585b39e5a00e31edfd8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5fc4532b216d557e88841f5ffc00865"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d6c/a10914.html">SpellProcEntry</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#aa5fc4532b216d557e88841f5ffc00865">GetSpellProcEntry</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId) const</td></tr>
<tr class="separator:aa5fc4532b216d557e88841f5ffc00865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a919c83a4b20dbe2095f7ec0992c00593"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a919c83a4b20dbe2095f7ec0992c00593">CanSpellTriggerProcOnEvent</a> (<a class="el" href="../../d1/d6c/a10914.html">SpellProcEntry</a> const &amp;procEntry, <a class="el" href="../../d3/daf/a08498.html">ProcEventInfo</a> &amp;eventInfo) const</td></tr>
<tr class="separator:a919c83a4b20dbe2095f7ec0992c00593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39f100081db0eed42978f65b80592a78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/db8/a10922.html">SpellBonusEntry</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a39f100081db0eed42978f65b80592a78">GetSpellBonusData</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId) const</td></tr>
<tr class="separator:a39f100081db0eed42978f65b80592a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88999f0d29a0aba73ec20deef99297a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/df1/a10930.html">SpellThreatEntry</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a88999f0d29a0aba73ec20deef99297a8">GetSpellThreatEntry</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellID) const</td></tr>
<tr class="separator:a88999f0d29a0aba73ec20deef99297a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a427b7f918b77886b820f3a7518271bc0"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a427b7f918b77886b820f3a7518271bc0">GetSpellMixologyBonus</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId) const</td></tr>
<tr class="separator:a427b7f918b77886b820f3a7518271bc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ae3376eeaa7e4a445075d651d3493aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#ac821b7d2d8a9effd8fafef038528e877">SkillLineAbilityMapBounds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a3ae3376eeaa7e4a445075d651d3493aa">GetSkillLineAbilityMapBounds</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id) const</td></tr>
<tr class="separator:a3ae3376eeaa7e4a445075d651d3493aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1b22f6a0392194bcaf234148f693237"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/dac/a10938.html">PetAura</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#ae1b22f6a0392194bcaf234148f693237">GetPetAura</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> eff) const</td></tr>
<tr class="separator:ae1b22f6a0392194bcaf234148f693237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4b0ea63ff350768aedc13ab7dbbf576"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/ddf/a10918.html">SpellEnchantProcEntry</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#ab4b0ea63ff350768aedc13ab7dbbf576">GetSpellEnchantProcEvent</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> enchId) const</td></tr>
<tr class="separator:ab4b0ea63ff350768aedc13ab7dbbf576"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae99d902c882462c230177ae98b8d6ddd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#ae99d902c882462c230177ae98b8d6ddd">IsArenaAllowedEnchancment</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> ench_id) const</td></tr>
<tr class="separator:ae99d902c882462c230177ae98b8d6ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a584653ee18b92069bbfe9e934eeef3bb"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a584653ee18b92069bbfe9e934eeef3bb">GetSpellLinked</a> (<a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> spell_id) const</td></tr>
<tr class="separator:a584653ee18b92069bbfe9e934eeef3bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2167cf52f6947d5dc921b3f08afce83a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#aff302d7ad23409ef738f15bcb560ed89">PetLevelupSpellSet</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a2167cf52f6947d5dc921b3f08afce83a">GetPetLevelupSpellList</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> petFamily) const</td></tr>
<tr class="separator:a2167cf52f6947d5dc921b3f08afce83a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacc0a22eca190f3633657be4d3387e9d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d40/a10954.html">PetDefaultSpellsEntry</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#aacc0a22eca190f3633657be4d3387e9d">GetPetDefaultSpellsEntry</a> (<a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> id) const</td></tr>
<tr class="separator:aacc0a22eca190f3633657be4d3387e9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a126f0b2c2c1bdedea38a31967bee99a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a4edcdc3e020b29d06505e8048874c414">SpellAreaMapBounds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a126f0b2c2c1bdedea38a31967bee99a9">GetSpellAreaMapBounds</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id) const</td></tr>
<tr class="separator:a126f0b2c2c1bdedea38a31967bee99a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3645472cf901d4fc9d42c9f8af8164b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#aebca17b4bc1b0129c26a7c769d90159b">SpellAreaForQuestMapBounds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a3645472cf901d4fc9d42c9f8af8164b4">GetSpellAreaForQuestMapBounds</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id) const</td></tr>
<tr class="separator:a3645472cf901d4fc9d42c9f8af8164b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24a05bd91ad57dcef7fa0fee73daa867"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#aebca17b4bc1b0129c26a7c769d90159b">SpellAreaForQuestMapBounds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a24a05bd91ad57dcef7fa0fee73daa867">GetSpellAreaForQuestEndMapBounds</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> quest_id) const</td></tr>
<tr class="separator:a24a05bd91ad57dcef7fa0fee73daa867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65d4c8ef866eb02e4a8e81b3166286c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#ac0bf7c1f4212d9675abaaa9b3ca6f33d">SpellAreaForAuraMapBounds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a65d4c8ef866eb02e4a8e81b3166286c1">GetSpellAreaForAuraMapBounds</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id) const</td></tr>
<tr class="separator:a65d4c8ef866eb02e4a8e81b3166286c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae41eaa751f7d67dfa0c38aa55b2f6c7e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a69bbd3906e9d334176d6a0ffde617490">SpellAreaForAreaMapBounds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#ae41eaa751f7d67dfa0c38aa55b2f6c7e">GetSpellAreaForAreaMapBounds</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> area_id) const</td></tr>
<tr class="separator:ae41eaa751f7d67dfa0c38aa55b2f6c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f55093e0190a68e75b2f3f49a07e853"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId) const</td></tr>
<tr class="separator:a5f55093e0190a68e75b2f3f49a07e853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a061f79f3c13d01b29c5445d6253a7808"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a061f79f3c13d01b29c5445d6253a7808">AssertSpellInfo</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId) const</td></tr>
<tr class="separator:a061f79f3c13d01b29c5445d6253a7808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a978271947a41f2e9429d3862c7ff7539"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a978271947a41f2e9429d3862c7ff7539">CheckSpellInfo</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId) const</td></tr>
<tr class="separator:a978271947a41f2e9429d3862c7ff7539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca8a0eccca0aa32dc2cc9802597c0256"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a> () const</td></tr>
<tr class="separator:aca8a0eccca0aa32dc2cc9802597c0256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d4a69f77e7dc8ec225bede9d730ab71"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a9d4a69f77e7dc8ec225bede9d730ab71">IsAdditionalTalentSpell</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId) const</td></tr>
<tr class="separator:a9d4a69f77e7dc8ec225bede9d730ab71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff0216d5ca025b8fb37a0feb3d4097b6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#aff0216d5ca025b8fb37a0feb3d4097b6">HasSpellCooldownOverride</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId) const</td></tr>
<tr class="separator:aff0216d5ca025b8fb37a0feb3d4097b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa42cd474dcb20407ec1253f05e74895e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/da6/a10958.html">SpellCooldownOverride</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#aa42cd474dcb20407ec1253f05e74895e">GetSpellCooldownOverride</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId) const</td></tr>
<tr class="separator:aa42cd474dcb20407ec1253f05e74895e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa249eca149df213b191ea7009e51fe6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#afa249eca149df213b191ea7009e51fe6">UnloadSpellInfoChains</a> ()</td></tr>
<tr class="separator:afa249eca149df213b191ea7009e51fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8527d75d2203fba05133d32f2cf0fa55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a8527d75d2203fba05133d32f2cf0fa55">LoadSpellTalentRanks</a> ()</td></tr>
<tr class="separator:a8527d75d2203fba05133d32f2cf0fa55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad453a0dfca614de29d7015dda91b0ce1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#ad453a0dfca614de29d7015dda91b0ce1">LoadSpellRanks</a> ()</td></tr>
<tr class="separator:ad453a0dfca614de29d7015dda91b0ce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb46bdc9ec9da1b486d07b281e953d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a6cb46bdc9ec9da1b486d07b281e953d0">LoadSpellRequired</a> ()</td></tr>
<tr class="separator:a6cb46bdc9ec9da1b486d07b281e953d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a728b29c7bbad1e6a4a924197579a9c28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a728b29c7bbad1e6a4a924197579a9c28">LoadSpellLearnSkills</a> ()</td></tr>
<tr class="separator:a728b29c7bbad1e6a4a924197579a9c28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fedac5a7c8e66606b363266ed413dba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a6fedac5a7c8e66606b363266ed413dba">LoadSpellTargetPositions</a> ()</td></tr>
<tr class="separator:a6fedac5a7c8e66606b363266ed413dba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb5ead246a7c2e98e9e1e09004b00c6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#adb5ead246a7c2e98e9e1e09004b00c6f">LoadSpellGroups</a> ()</td></tr>
<tr class="separator:adb5ead246a7c2e98e9e1e09004b00c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a48919d60d012b7cc5206dea2640f3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a8a48919d60d012b7cc5206dea2640f3a">LoadSpellGroupStackRules</a> ()</td></tr>
<tr class="separator:a8a48919d60d012b7cc5206dea2640f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abda66c7b90ba0dfa8dbafe742c501939"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#abda66c7b90ba0dfa8dbafe742c501939">LoadSpellProcEvents</a> ()</td></tr>
<tr class="separator:abda66c7b90ba0dfa8dbafe742c501939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeca13d7535faa653ad4de42e2cef9c48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#aeca13d7535faa653ad4de42e2cef9c48">LoadSpellProcs</a> ()</td></tr>
<tr class="separator:aeca13d7535faa653ad4de42e2cef9c48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23e6294abaa89d25c15a8d4fe30e712a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a23e6294abaa89d25c15a8d4fe30e712a">LoadSpellBonuses</a> ()</td></tr>
<tr class="separator:a23e6294abaa89d25c15a8d4fe30e712a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a639ed2f06c1e6457882c02bee9da7dcb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a639ed2f06c1e6457882c02bee9da7dcb">LoadSpellThreats</a> ()</td></tr>
<tr class="separator:a639ed2f06c1e6457882c02bee9da7dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2abb2ff60931b9849f928fd74892971"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#ae2abb2ff60931b9849f928fd74892971">LoadSpellMixology</a> ()</td></tr>
<tr class="separator:ae2abb2ff60931b9849f928fd74892971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a8a52ae46abd7dc3b7cc5829d5c9b34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a3a8a52ae46abd7dc3b7cc5829d5c9b34">LoadSkillLineAbilityMap</a> ()</td></tr>
<tr class="separator:a3a8a52ae46abd7dc3b7cc5829d5c9b34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0075b5d8cabc7ff2cea2537a1c31ead"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#ac0075b5d8cabc7ff2cea2537a1c31ead">LoadSpellPetAuras</a> ()</td></tr>
<tr class="separator:ac0075b5d8cabc7ff2cea2537a1c31ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a7101c0a7d47abe2c8814684794aa5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a2a7101c0a7d47abe2c8814684794aa5b">LoadEnchantCustomAttr</a> ()</td></tr>
<tr class="separator:a2a7101c0a7d47abe2c8814684794aa5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac898d28aeb3a83564da1d172972d0029"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#ac898d28aeb3a83564da1d172972d0029">LoadSpellEnchantProcData</a> ()</td></tr>
<tr class="separator:ac898d28aeb3a83564da1d172972d0029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a085ba1ffcde6b34c7b612d11e36513df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a085ba1ffcde6b34c7b612d11e36513df">LoadSpellLinked</a> ()</td></tr>
<tr class="separator:a085ba1ffcde6b34c7b612d11e36513df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addc82985cf1f7562dea166dc1102a18e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#addc82985cf1f7562dea166dc1102a18e">LoadPetLevelupSpellMap</a> ()</td></tr>
<tr class="separator:addc82985cf1f7562dea166dc1102a18e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93fc6f749ad5494262414df607985706"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a93fc6f749ad5494262414df607985706">LoadPetDefaultSpells</a> ()</td></tr>
<tr class="separator:a93fc6f749ad5494262414df607985706"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5bbd51995218e7f28884c591633086"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a2e5bbd51995218e7f28884c591633086">LoadSpellAreas</a> ()</td></tr>
<tr class="separator:a2e5bbd51995218e7f28884c591633086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a223c626fa01fd3c17c80b9f8eb63e5a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a223c626fa01fd3c17c80b9f8eb63e5a1">LoadSpellInfoStore</a> ()</td></tr>
<tr class="separator:a223c626fa01fd3c17c80b9f8eb63e5a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d86c836d54b84596cb582b88f576a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a32d86c836d54b84596cb582b88f576a3">LoadSpellCooldownOverrides</a> ()</td></tr>
<tr class="separator:a32d86c836d54b84596cb582b88f576a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b2cc6f3ee5006297dff23eb8567db29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a2b2cc6f3ee5006297dff23eb8567db29">UnloadSpellInfoStore</a> ()</td></tr>
<tr class="separator:a2b2cc6f3ee5006297dff23eb8567db29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac325f4a1c1164352f4a4f1adf1be9ce0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#ac325f4a1c1164352f4a4f1adf1be9ce0">UnloadSpellInfoImplicitTargetConditionLists</a> ()</td></tr>
<tr class="separator:ac325f4a1c1164352f4a4f1adf1be9ce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57a52b9d7490bc3e73d5906c6c7780a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a57a52b9d7490bc3e73d5906c6c7780a0">LoadSpellInfoCustomAttributes</a> ()</td></tr>
<tr class="separator:a57a52b9d7490bc3e73d5906c6c7780a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa246091a96d42f80b5beb68091264b29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#aa246091a96d42f80b5beb68091264b29">LoadSpellInfoCorrections</a> ()</td></tr>
<tr class="separator:aa246091a96d42f80b5beb68091264b29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabba2e6d9d126d1622b6723b10f9e52e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#aabba2e6d9d126d1622b6723b10f9e52e">LoadSpellSpecificAndAuraState</a> ()</td></tr>
<tr class="separator:aabba2e6d9d126d1622b6723b10f9e52e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3140ce48682bc3540bac63cace6b8fb2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/d62/a10962.html">SpellMgr</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a3140ce48682bc3540bac63cace6b8fb2">instance</a> ()</td></tr>
<tr class="separator:a3140ce48682bc3540bac63cace6b8fb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e15d35af8a99f10e6b6413308a93e95"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a1e15d35af8a99f10e6b6413308a93e95">ComputeIsSpellValid</a> (<a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *spellInfo, bool msg=true)</td></tr>
<tr class="memdesc:a1e15d35af8a99f10e6b6413308a93e95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Some checks for spells, to prevent adding deprecated/broken spells for trainers, spell book, etc.  <a href="../../d4/d62/a10962.html#a1e15d35af8a99f10e6b6413308a93e95">More...</a><br /></td></tr>
<tr class="separator:a1e15d35af8a99f10e6b6413308a93e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dfd3856cb381953bfeb1db1a4a4bad7"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a8dfd3856cb381953bfeb1db1a4a4bad7">IsSpellValid</a> (<a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *spellInfo)</td></tr>
<tr class="separator:a8dfd3856cb381953bfeb1db1a4a4bad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe816e2868b4fed89cc9ac88bb9d177"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a3fe816e2868b4fed89cc9ac88bb9d177">CheckSpellValid</a> (<a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *spellInfo, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId, bool isTalent)</td></tr>
<tr class="separator:a3fe816e2868b4fed89cc9ac88bb9d177"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:acde17452bf5b457f00aa5f7cb4b597b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#acde17452bf5b457f00aa5f7cb4b597b4">SpellMgr</a> ()</td></tr>
<tr class="separator:acde17452bf5b457f00aa5f7cb4b597b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0986a6cd3ad91df5cb800d7a5d95b34"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#af0986a6cd3ad91df5cb800d7a5d95b34">~SpellMgr</a> ()</td></tr>
<tr class="separator:af0986a6cd3ad91df5cb800d7a5d95b34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af81d67c3029f7bafd5f9d7b54af48782"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#af81d67c3029f7bafd5f9d7b54af48782">_GetSpellInfo</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId)</td></tr>
<tr class="separator:af81d67c3029f7bafd5f9d7b54af48782"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a7095c038ec0ebbc2c9528edacf29f1b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a4fe5e2a01f1b4ea090aa00a5c6146490">SpellDifficultySearcherMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a7095c038ec0ebbc2c9528edacf29f1b4">mSpellDifficultySearcherMap</a></td></tr>
<tr class="separator:a7095c038ec0ebbc2c9528edacf29f1b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25446ffa46c3712a64d43f88f4799e16"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a6ff6942e4e3e7cb8a0e686d4cd15663d">SpellChainMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a></td></tr>
<tr class="separator:a25446ffa46c3712a64d43f88f4799e16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa03760f8043a0c684d18527d7ed934d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#ae0e9e109c85ec767315ccab043ed8cb7">SpellsRequiringSpellMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#aa03760f8043a0c684d18527d7ed934d3">mSpellsReqSpell</a></td></tr>
<tr class="separator:aa03760f8043a0c684d18527d7ed934d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0037908371f475d84ba4319c7109e12d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#ae2cfddda5812604f30326706107ce20b">SpellRequiredMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a0037908371f475d84ba4319c7109e12d">mSpellReq</a></td></tr>
<tr class="separator:a0037908371f475d84ba4319c7109e12d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d05e01103bd64f22e3993bf46e4bb6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#ac02351fce8a30ebfe6d2ced766e2e4df">SpellLearnSkillMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a32d05e01103bd64f22e3993bf46e4bb6">mSpellLearnSkills</a></td></tr>
<tr class="separator:a32d05e01103bd64f22e3993bf46e4bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa36449309e445b361a05bf77e4bd5698"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a417d2e36bfcef2c7aafbb8455eeed69f">SpellTargetPositionMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#aa36449309e445b361a05bf77e4bd5698">mSpellTargetPositions</a></td></tr>
<tr class="separator:aa36449309e445b361a05bf77e4bd5698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a1fa3679f9c375b88603ec4775769fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#ac7df41f0a89d4e98f71779b2460269b6">SpellGroupMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a></td></tr>
<tr class="separator:a7a1fa3679f9c375b88603ec4775769fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60283ceb69bf92310153db6769f70a6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#afa6aca1aa3653c24f6168b60d6512a09">SpellGroupStackMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a60283ceb69bf92310153db6769f70a6a">mSpellGroupStackMap</a></td></tr>
<tr class="separator:a60283ceb69bf92310153db6769f70a6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e6353afe01453ebf0bab09cde94673e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a1b0fd27c7a9df1abc01dcafac549fa57">SpellProcEventMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a3e6353afe01453ebf0bab09cde94673e">mSpellProcEventMap</a></td></tr>
<tr class="separator:a3e6353afe01453ebf0bab09cde94673e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f6998b4fee8fba87ad8d372abd8693d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a729c75c0a1016cc9e4d93d87f6b894bc">SpellProcMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a9f6998b4fee8fba87ad8d372abd8693d">mSpellProcMap</a></td></tr>
<tr class="separator:a9f6998b4fee8fba87ad8d372abd8693d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acad2b4b3647850a59bea2a0763ef972c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#ad10a4fadd8c7f9a2263538df7932e5c3">SpellBonusMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#acad2b4b3647850a59bea2a0763ef972c">mSpellBonusMap</a></td></tr>
<tr class="separator:acad2b4b3647850a59bea2a0763ef972c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9c903197d7e59109bdc7675663ff93f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a83a1058767f1f4fd343208f7b9d74645">SpellThreatMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#ae9c903197d7e59109bdc7675663ff93f">mSpellThreatMap</a></td></tr>
<tr class="separator:ae9c903197d7e59109bdc7675663ff93f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5637b3248011a308a57338e6f74b7bdd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a32c0062c9375f8172af06d8d93eda685">SpellMixologyMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a5637b3248011a308a57338e6f74b7bdd">mSpellMixologyMap</a></td></tr>
<tr class="separator:a5637b3248011a308a57338e6f74b7bdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32090ca7b9037cdd52aa11d5ecb1bc51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a9298eb96c8d5310030455030d2bbcb9d">SpellPetAuraMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a32090ca7b9037cdd52aa11d5ecb1bc51">mSpellPetAuraMap</a></td></tr>
<tr class="separator:a32090ca7b9037cdd52aa11d5ecb1bc51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a032f25dee822225e2dfbb75e1c6d56f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a5b7d1112d52fa7a4d81f9ac996c7030f">SpellLinkedMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a032f25dee822225e2dfbb75e1c6d56f5">mSpellLinkedMap</a></td></tr>
<tr class="separator:a032f25dee822225e2dfbb75e1c6d56f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92a4c6ade6c7005f1d001c6935139272"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a183ff5e89f6053b74daa4e3c73b28684">SpellEnchantProcEventMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a92a4c6ade6c7005f1d001c6935139272">mSpellEnchantProcEventMap</a></td></tr>
<tr class="separator:a92a4c6ade6c7005f1d001c6935139272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d1bde8d692b959379b27d29bfdd1e48"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#aaf44c511d7aca68a0e2f56287dc2999d">EnchantCustomAttribute</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a1d1bde8d692b959379b27d29bfdd1e48">mEnchantCustomAttr</a></td></tr>
<tr class="separator:a1d1bde8d692b959379b27d29bfdd1e48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac68d8e843d1a7a14d16c397e4595ce17"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a4d797e41da5b1af2e9d3554edb509bea">SpellAreaMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#ac68d8e843d1a7a14d16c397e4595ce17">mSpellAreaMap</a></td></tr>
<tr class="separator:ac68d8e843d1a7a14d16c397e4595ce17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb50fa0b06b178d23731a9d27156b7b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#aa10abaefa9eb85e4ab3ae20543519d8e">SpellAreaForQuestMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#aeb50fa0b06b178d23731a9d27156b7b7">mSpellAreaForQuestMap</a></td></tr>
<tr class="separator:aeb50fa0b06b178d23731a9d27156b7b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4943f12ccc2090045b94e26a53e935a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#aa10abaefa9eb85e4ab3ae20543519d8e">SpellAreaForQuestMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a4943f12ccc2090045b94e26a53e935a2">mSpellAreaForQuestEndMap</a></td></tr>
<tr class="separator:a4943f12ccc2090045b94e26a53e935a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24cfc05b7291e1e490fed982059a7c66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a1d7845eefd83649331689ae0a99b51b6">SpellAreaForAuraMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a24cfc05b7291e1e490fed982059a7c66">mSpellAreaForAuraMap</a></td></tr>
<tr class="separator:a24cfc05b7291e1e490fed982059a7c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab76464f94e9f4189902985e9e86147e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a8376fb57333e49309455eb6a5389938d">SpellAreaForAreaMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#ab76464f94e9f4189902985e9e86147e3">mSpellAreaForAreaMap</a></td></tr>
<tr class="separator:ab76464f94e9f4189902985e9e86147e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1230ba374bf128c6d0857d787bb68af4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a92884d38e54e1a658ef812cfb5ecc2b5">SkillLineAbilityMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a1230ba374bf128c6d0857d787bb68af4">mSkillLineAbilityMap</a></td></tr>
<tr class="separator:a1230ba374bf128c6d0857d787bb68af4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a961a18df4995256a1754503ff574f11e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#ad3397bc4e1407330978a0adb42d4aa26">PetLevelupSpellMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a961a18df4995256a1754503ff574f11e">mPetLevelupSpellMap</a></td></tr>
<tr class="separator:a961a18df4995256a1754503ff574f11e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ec8d854c5357f1edfd29a136203b0da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#aa48a311ee3f1729a60deb3e4cddca333">PetDefaultSpellsMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a4ec8d854c5357f1edfd29a136203b0da">mPetDefaultSpellsMap</a></td></tr>
<tr class="separator:a4ec8d854c5357f1edfd29a136203b0da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebc7d657f29471ecb5136ee294873e96"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#ae39437b5ea860c3380638469c07e196c">SpellInfoMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a></td></tr>
<tr class="separator:aebc7d657f29471ecb5136ee294873e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4262cb58b8845c23eda2fa345679206"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a548a7734b72d00c646549629de190faf">SpellCooldownOverrideMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#ab4262cb58b8845c23eda2fa345679206">mSpellCooldownOverrideMap</a></td></tr>
<tr class="separator:ab4262cb58b8845c23eda2fa345679206"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ff5508005286ab678b47bcc211ac24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d64/a03110.html#a7c0cdd053514c40a2feec0fec57fcbfb">TalentAdditionalSet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d62/a10962.html#a16ff5508005286ab678b47bcc211ac24">mTalentSpellAdditionalSet</a></td></tr>
<tr class="separator:a16ff5508005286ab678b47bcc211ac24"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="acde17452bf5b457f00aa5f7cb4b597b4" name="acde17452bf5b457f00aa5f7cb4b597b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acde17452bf5b457f00aa5f7cb4b597b4">&#9670;&#160;</a></span>SpellMgr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SpellMgr::SpellMgr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  355</span>{</div>
<div class="line"><span class="lineno">  356</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af0986a6cd3ad91df5cb800d7a5d95b34" name="af0986a6cd3ad91df5cb800d7a5d95b34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0986a6cd3ad91df5cb800d7a5d95b34">&#9670;&#160;</a></span>~SpellMgr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SpellMgr::~SpellMgr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  359</span>{</div>
<div class="line"><span class="lineno">  360</span>    <a class="code hl_function" href="../../d4/d62/a10962.html#a2b2cc6f3ee5006297dff23eb8567db29">UnloadSpellInfoStore</a>();</div>
<div class="line"><span class="lineno">  361</span>}</div>
<div class="ttc" id="aa10962_html_a2b2cc6f3ee5006297dff23eb8567db29"><div class="ttname"><a href="../../d4/d62/a10962.html#a2b2cc6f3ee5006297dff23eb8567db29">SpellMgr::UnloadSpellInfoStore</a></div><div class="ttdeci">void UnloadSpellInfoStore()</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:2761</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02761">UnloadSpellInfoStore()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af81d67c3029f7bafd5f9d7b54af48782" name="af81d67c3029f7bafd5f9d7b54af48782"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af81d67c3029f7bafd5f9d7b54af48782">&#9670;&#160;</a></span>_GetSpellInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> * SpellMgr::_GetSpellInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  760</span>{ <span class="keywordflow">return</span> spellId &lt; <a class="code hl_function" href="../../d4/d62/a10962.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>() ? <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[spellId] : <span class="keyword">nullptr</span>; }</div>
<div class="ttc" id="aa10962_html_aca8a0eccca0aa32dc2cc9802597c0256"><div class="ttname"><a href="../../d4/d62/a10962.html#aca8a0eccca0aa32dc2cc9802597c0256">SpellMgr::GetSpellInfoStoreSize</a></div><div class="ttdeci">uint32 GetSpellInfoStoreSize() const</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:751</div></div>
<div class="ttc" id="aa10962_html_aebc7d657f29471ecb5136ee294873e96"><div class="ttname"><a href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">SpellMgr::mSpellInfoMap</a></div><div class="ttdeci">SpellInfoMap mSpellInfoMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:820</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00751">GetSpellInfoStoreSize()</a>, and <a class="el" href="../../#l00820">mSpellInfoMap</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02796">LoadSpellInfoCustomAttributes()</a>.</p>

</div>
</div>
<a id="a061f79f3c13d01b29c5445d6253a7808" name="a061f79f3c13d01b29c5445d6253a7808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a061f79f3c13d01b29c5445d6253a7808">&#9670;&#160;</a></span>AssertSpellInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const  * SpellMgr::AssertSpellInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  729</span>    {</div>
<div class="line"><span class="lineno">  730</span>        <a class="code hl_define" href="../../da/d45/a00011.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(spellId &lt; <a class="code hl_function" href="../../d4/d62/a10962.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>());</div>
<div class="line"><span class="lineno">  731</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[spellId];</div>
<div class="line"><span class="lineno">  732</span>        <a class="code hl_define" href="../../da/d45/a00011.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(spellInfo);</div>
<div class="line"><span class="lineno">  733</span>        <span class="keywordflow">return</span> spellInfo;</div>
<div class="line"><span class="lineno">  734</span>    }</div>
<div class="ttc" id="aa00011_html_af343b20373ba49a92fce523e948f2ab3"><div class="ttname"><a href="../../da/d45/a00011.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a></div><div class="ttdeci">#define ASSERT</div><div class="ttdef"><b>Definition:</b> Errors.h:68</div></div>
<div class="ttc" id="aa10906_html"><div class="ttname"><a href="../../d4/db9/a10906.html">SpellInfo</a></div><div class="ttdef"><b>Definition:</b> SpellInfo.h:316</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00068">ASSERT</a>, <a class="el" href="../../#l00751">GetSpellInfoStoreSize()</a>, and <a class="el" href="../../#l00820">mSpellInfoMap</a>.</p>

</div>
</div>
<a id="a919c83a4b20dbe2095f7ec0992c00593" name="a919c83a4b20dbe2095f7ec0992c00593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a919c83a4b20dbe2095f7ec0992c00593">&#9670;&#160;</a></span>CanSpellTriggerProcOnEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpellMgr::CanSpellTriggerProcOnEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d6c/a10914.html">SpellProcEntry</a> const &amp;&#160;</td>
          <td class="paramname"><em>procEntry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/daf/a08498.html">ProcEventInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>eventInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  898</span>{</div>
<div class="line"><span class="lineno">  899</span>    <span class="comment">// proc type doesn&#39;t match</span></div>
<div class="line"><span class="lineno">  900</span>    <span class="keywordflow">if</span> (!(eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#a5e2c60a3e242f69afa2cb2bccf5a072b">GetTypeMask</a>() &amp; procEntry.ProcFlags))</div>
<div class="line"><span class="lineno">  901</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  902</span> </div>
<div class="line"><span class="lineno">  903</span>    <span class="comment">// check XP or honor target requirement</span></div>
<div class="line"><span class="lineno">  904</span>    <span class="keywordflow">if</span> (procEntry.AttributesMask &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a7fd74f5d829c140285ca6ed18c0e136aa93a1480d7caabfa7a963f8ada8c5fe83">PROC_ATTR_REQ_EXP_OR_HONOR</a>)</div>
<div class="line"><span class="lineno">  905</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="../../da/da3/a08394.html">Player</a>* actor = eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#a89d8ab0bf0b01e3e1ca4ae10a3cbde10">GetActor</a>()-&gt;<a class="code hl_function" href="../../d6/d80/a08150.html#a328d5f752cc33ed398b3d9861ef6929d">ToPlayer</a>())</div>
<div class="line"><span class="lineno">  906</span>            <span class="keywordflow">if</span> (eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#a1b55684ec526bdc9b7d5d3b2ac4297a9">GetActionTarget</a>() &amp;&amp; !actor-&gt;isHonorOrXPTarget(eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#a1b55684ec526bdc9b7d5d3b2ac4297a9">GetActionTarget</a>()))</div>
<div class="line"><span class="lineno">  907</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>    <span class="comment">// always trigger for these types</span></div>
<div class="line"><span class="lineno">  910</span>    <span class="keywordflow">if</span> (eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#a5e2c60a3e242f69afa2cb2bccf5a072b">GetTypeMask</a>() &amp; (<a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a77a138ad03b6e16e4ab21aba26d98ec3">PROC_FLAG_KILLED</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aadedce3b69f2042ebb950a48165fc89a">PROC_FLAG_KILL</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a8b6d98edef5c8763d9b8d5f0d1b95d40">PROC_FLAG_DEATH</a>))</div>
<div class="line"><span class="lineno">  911</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  912</span> </div>
<div class="line"><span class="lineno">  913</span>    <span class="comment">// check school mask (if set) for other trigger types</span></div>
<div class="line"><span class="lineno">  914</span>    <span class="keywordflow">if</span> (procEntry.SchoolMask &amp;&amp; !(eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#a175351e318f9066e28a8d106e9c9e1f9">GetSchoolMask</a>() &amp; procEntry.SchoolMask))</div>
<div class="line"><span class="lineno">  915</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span>    <span class="comment">// check spell family name/flags (if set) for spells</span></div>
<div class="line"><span class="lineno">  918</span>    <span class="keywordflow">if</span> (eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#a5e2c60a3e242f69afa2cb2bccf5a072b">GetTypeMask</a>() &amp; (<a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a6d718a09392612753a07abe19d65299c">PERIODIC_PROC_FLAG_MASK</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6adc3fb7dd56615e62d28af0ea87793d58">SPELL_PROC_FLAG_MASK</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aec3e2077cfabdc92fbbc9a1858dd5c7b">PROC_FLAG_DONE_TRAP_ACTIVATION</a>))</div>
<div class="line"><span class="lineno">  919</span>    {</div>
<div class="line"><span class="lineno">  920</span>        <span class="keywordflow">if</span> (procEntry.SpellFamilyName &amp;&amp; (procEntry.SpellFamilyName != eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#a759add2c89e786125196eb6bd3b20c6d">GetSpellInfo</a>()-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#af6ec577353f7d3cc59badd7d332153b0">SpellFamilyName</a>))</div>
<div class="line"><span class="lineno">  921</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span>        <span class="keywordflow">if</span> (procEntry.SpellFamilyMask &amp;&amp; !(procEntry.SpellFamilyMask &amp; eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#a759add2c89e786125196eb6bd3b20c6d">GetSpellInfo</a>()-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>))</div>
<div class="line"><span class="lineno">  924</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  925</span>    }</div>
<div class="line"><span class="lineno">  926</span> </div>
<div class="line"><span class="lineno">  927</span>    <span class="comment">// check spell type mask (if set)</span></div>
<div class="line"><span class="lineno">  928</span>    <span class="keywordflow">if</span> (eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#a5e2c60a3e242f69afa2cb2bccf5a072b">GetTypeMask</a>() &amp; (<a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6adc3fb7dd56615e62d28af0ea87793d58">SPELL_PROC_FLAG_MASK</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a6d718a09392612753a07abe19d65299c">PERIODIC_PROC_FLAG_MASK</a>))</div>
<div class="line"><span class="lineno">  929</span>    {</div>
<div class="line"><span class="lineno">  930</span>        <span class="keywordflow">if</span> (procEntry.SpellTypeMask &amp;&amp; !(eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#a4182094d88130ae30dd6c5f3f73c18c0">GetSpellTypeMask</a>() &amp; procEntry.SpellTypeMask))</div>
<div class="line"><span class="lineno">  931</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  932</span>    }</div>
<div class="line"><span class="lineno">  933</span> </div>
<div class="line"><span class="lineno">  934</span>    <span class="comment">// check spell phase mask</span></div>
<div class="line"><span class="lineno">  935</span>    <span class="keywordflow">if</span> (eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#a5e2c60a3e242f69afa2cb2bccf5a072b">GetTypeMask</a>() &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a9e17ffa130a52703402b183e53ec18c9">REQ_SPELL_PHASE_PROC_FLAG_MASK</a>)</div>
<div class="line"><span class="lineno">  936</span>    {</div>
<div class="line"><span class="lineno">  937</span>        <span class="keywordflow">if</span> (!(eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#ab3b2d919ecc5f4bfd15e3656a6990708">GetSpellPhaseMask</a>() &amp; procEntry.SpellPhaseMask))</div>
<div class="line"><span class="lineno">  938</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  939</span>    }</div>
<div class="line"><span class="lineno">  940</span> </div>
<div class="line"><span class="lineno">  941</span>    <span class="comment">// check hit mask (on taken hit or on done hit, but not on spell cast phase)</span></div>
<div class="line"><span class="lineno">  942</span>    <span class="keywordflow">if</span> ((eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#a5e2c60a3e242f69afa2cb2bccf5a072b">GetTypeMask</a>() &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a4ef079da228b08645ef20ead47c22a73">TAKEN_HIT_PROC_FLAG_MASK</a>) || ((eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#a5e2c60a3e242f69afa2cb2bccf5a072b">GetTypeMask</a>() &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6ae0cef27dc24d6bd6fa46efa85df7d488">DONE_HIT_PROC_FLAG_MASK</a>) &amp;&amp; !(eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#ab3b2d919ecc5f4bfd15e3656a6990708">GetSpellPhaseMask</a>() &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#addbb65f0e6c920d8577112d9dd55beb4a617052b5687a5e0fa6d4106e3816449d">PROC_SPELL_PHASE_CAST</a>)))</div>
<div class="line"><span class="lineno">  943</span>    {</div>
<div class="line"><span class="lineno">  944</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> hitMask = procEntry.HitMask;</div>
<div class="line"><span class="lineno">  945</span>        <span class="comment">// get default values if hit mask not set</span></div>
<div class="line"><span class="lineno">  946</span>        <span class="keywordflow">if</span> (!hitMask)</div>
<div class="line"><span class="lineno">  947</span>        {</div>
<div class="line"><span class="lineno">  948</span>            <span class="comment">// for taken procs allow normal + critical hits by default</span></div>
<div class="line"><span class="lineno">  949</span>            <span class="keywordflow">if</span> (eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#a5e2c60a3e242f69afa2cb2bccf5a072b">GetTypeMask</a>() &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a4ef079da228b08645ef20ead47c22a73">TAKEN_HIT_PROC_FLAG_MASK</a>)</div>
<div class="line"><span class="lineno">  950</span>                hitMask |= <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799">PROC_HIT_NORMAL</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a318db75286b71ffeb7f24d6d2c992bc9ae0db62fc42fe80503a49d3b3197b8d12">PROC_HIT_CRITICAL</a>;</div>
<div class="line"><span class="lineno">  951</span>            <span class="comment">// for done procs allow normal + critical + absorbs by default</span></div>
<div class="line"><span class="lineno">  952</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  953</span>                hitMask |= <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799">PROC_HIT_NORMAL</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a318db75286b71ffeb7f24d6d2c992bc9ae0db62fc42fe80503a49d3b3197b8d12">PROC_HIT_CRITICAL</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a318db75286b71ffeb7f24d6d2c992bc9ac3e5e7204eb9768e20c9a484f55a813b">PROC_HIT_ABSORB</a>;</div>
<div class="line"><span class="lineno">  954</span>        }</div>
<div class="line"><span class="lineno">  955</span>        <span class="keywordflow">if</span> (!(eventInfo.<a class="code hl_function" href="../../d3/daf/a08498.html#a0129f2b5cfdebb9f3618331e297a0db1">GetHitMask</a>() &amp; hitMask))</div>
<div class="line"><span class="lineno">  956</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  957</span>    }</div>
<div class="line"><span class="lineno">  958</span> </div>
<div class="line"><span class="lineno">  959</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  960</span>}</div>
<div class="ttc" id="aa00497_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition:</b> Define.h:107</div></div>
<div class="ttc" id="aa03110_html_a318db75286b71ffeb7f24d6d2c992bc9ac3e5e7204eb9768e20c9a484f55a813b"><div class="ttname"><a href="../../df/d64/a03110.html#a318db75286b71ffeb7f24d6d2c992bc9ac3e5e7204eb9768e20c9a484f55a813b">PROC_HIT_ABSORB</a></div><div class="ttdeci">@ PROC_HIT_ABSORB</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:262</div></div>
<div class="ttc" id="aa03110_html_a318db75286b71ffeb7f24d6d2c992bc9ae0db62fc42fe80503a49d3b3197b8d12"><div class="ttname"><a href="../../df/d64/a03110.html#a318db75286b71ffeb7f24d6d2c992bc9ae0db62fc42fe80503a49d3b3197b8d12">PROC_HIT_CRITICAL</a></div><div class="ttdeci">@ PROC_HIT_CRITICAL</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:253</div></div>
<div class="ttc" id="aa03110_html_a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799"><div class="ttname"><a href="../../df/d64/a03110.html#a318db75286b71ffeb7f24d6d2c992bc9ae95d140282fc160c7b229ab5c7409799">PROC_HIT_NORMAL</a></div><div class="ttdeci">@ PROC_HIT_NORMAL</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:252</div></div>
<div class="ttc" id="aa03110_html_a7fd74f5d829c140285ca6ed18c0e136aa93a1480d7caabfa7a963f8ada8c5fe83"><div class="ttname"><a href="../../df/d64/a03110.html#a7fd74f5d829c140285ca6ed18c0e136aa93a1480d7caabfa7a963f8ada8c5fe83">PROC_ATTR_REQ_EXP_OR_HONOR</a></div><div class="ttdeci">@ PROC_ATTR_REQ_EXP_OR_HONOR</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:271</div></div>
<div class="ttc" id="aa03110_html_addbb65f0e6c920d8577112d9dd55beb4a617052b5687a5e0fa6d4106e3816449d"><div class="ttname"><a href="../../df/d64/a03110.html#addbb65f0e6c920d8577112d9dd55beb4a617052b5687a5e0fa6d4106e3816449d">PROC_SPELL_PHASE_CAST</a></div><div class="ttdeci">@ PROC_SPELL_PHASE_CAST</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:243</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a4ef079da228b08645ef20ead47c22a73"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a4ef079da228b08645ef20ead47c22a73">TAKEN_HIT_PROC_FLAG_MASK</a></div><div class="ttdeci">@ TAKEN_HIT_PROC_FLAG_MASK</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:173</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a6d718a09392612753a07abe19d65299c"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a6d718a09392612753a07abe19d65299c">PERIODIC_PROC_FLAG_MASK</a></div><div class="ttdeci">@ PERIODIC_PROC_FLAG_MASK</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:165</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a77a138ad03b6e16e4ab21aba26d98ec3"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a77a138ad03b6e16e4ab21aba26d98ec3">PROC_FLAG_KILLED</a></div><div class="ttdeci">@ PROC_FLAG_KILLED</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:107</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a8b6d98edef5c8763d9b8d5f0d1b95d40"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a8b6d98edef5c8763d9b8d5f0d1b95d40">PROC_FLAG_DEATH</a></div><div class="ttdeci">@ PROC_FLAG_DEATH</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:143</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a9e17ffa130a52703402b183e53ec18c9"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a9e17ffa130a52703402b183e53ec18c9">REQ_SPELL_PHASE_PROC_FLAG_MASK</a></div><div class="ttdeci">@ REQ_SPELL_PHASE_PROC_FLAG_MASK</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:179</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6aadedce3b69f2042ebb950a48165fc89a"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aadedce3b69f2042ebb950a48165fc89a">PROC_FLAG_KILL</a></div><div class="ttdeci">@ PROC_FLAG_KILL</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:108</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6adc3fb7dd56615e62d28af0ea87793d58"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6adc3fb7dd56615e62d28af0ea87793d58">SPELL_PROC_FLAG_MASK</a></div><div class="ttdeci">@ SPELL_PROC_FLAG_MASK</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:156</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6ae0cef27dc24d6bd6fa46efa85df7d488"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6ae0cef27dc24d6bd6fa46efa85df7d488">DONE_HIT_PROC_FLAG_MASK</a></div><div class="ttdeci">@ DONE_HIT_PROC_FLAG_MASK</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:167</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6aec3e2077cfabdc92fbbc9a1858dd5c7b"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aec3e2077cfabdc92fbbc9a1858dd5c7b">PROC_FLAG_DONE_TRAP_ACTIVATION</a></div><div class="ttdeci">@ PROC_FLAG_DONE_TRAP_ACTIVATION</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:138</div></div>
<div class="ttc" id="aa08150_html_a328d5f752cc33ed398b3d9861ef6929d"><div class="ttname"><a href="../../d6/d80/a08150.html#a328d5f752cc33ed398b3d9861ef6929d">Object::ToPlayer</a></div><div class="ttdeci">Player * ToPlayer()</div><div class="ttdef"><b>Definition:</b> Object.h:198</div></div>
<div class="ttc" id="aa08394_html"><div class="ttname"><a href="../../da/da3/a08394.html">Player</a></div><div class="ttdef"><b>Definition:</b> Player.h:1064</div></div>
<div class="ttc" id="aa08498_html_a0129f2b5cfdebb9f3618331e297a0db1"><div class="ttname"><a href="../../d3/daf/a08498.html#a0129f2b5cfdebb9f3618331e297a0db1">ProcEventInfo::GetHitMask</a></div><div class="ttdeci">uint32 GetHitMask() const</div><div class="ttdef"><b>Definition:</b> Unit.h:445</div></div>
<div class="ttc" id="aa08498_html_a175351e318f9066e28a8d106e9c9e1f9"><div class="ttname"><a href="../../d3/daf/a08498.html#a175351e318f9066e28a8d106e9c9e1f9">ProcEventInfo::GetSchoolMask</a></div><div class="ttdeci">SpellSchoolMask GetSchoolMask() const</div><div class="ttdef"><b>Definition:</b> Unit.h:447</div></div>
<div class="ttc" id="aa08498_html_a1b55684ec526bdc9b7d5d3b2ac4297a9"><div class="ttname"><a href="../../d3/daf/a08498.html#a1b55684ec526bdc9b7d5d3b2ac4297a9">ProcEventInfo::GetActionTarget</a></div><div class="ttdeci">Unit * GetActionTarget() const</div><div class="ttdef"><b>Definition:</b> Unit.h:440</div></div>
<div class="ttc" id="aa08498_html_a4182094d88130ae30dd6c5f3f73c18c0"><div class="ttname"><a href="../../d3/daf/a08498.html#a4182094d88130ae30dd6c5f3f73c18c0">ProcEventInfo::GetSpellTypeMask</a></div><div class="ttdeci">uint32 GetSpellTypeMask() const</div><div class="ttdef"><b>Definition:</b> Unit.h:443</div></div>
<div class="ttc" id="aa08498_html_a5e2c60a3e242f69afa2cb2bccf5a072b"><div class="ttname"><a href="../../d3/daf/a08498.html#a5e2c60a3e242f69afa2cb2bccf5a072b">ProcEventInfo::GetTypeMask</a></div><div class="ttdeci">uint32 GetTypeMask() const</div><div class="ttdef"><b>Definition:</b> Unit.h:442</div></div>
<div class="ttc" id="aa08498_html_a759add2c89e786125196eb6bd3b20c6d"><div class="ttname"><a href="../../d3/daf/a08498.html#a759add2c89e786125196eb6bd3b20c6d">ProcEventInfo::GetSpellInfo</a></div><div class="ttdeci">SpellInfo const * GetSpellInfo() const</div><div class="ttdef"><b>Definition:</b> Unit.cpp:184</div></div>
<div class="ttc" id="aa08498_html_a89d8ab0bf0b01e3e1ca4ae10a3cbde10"><div class="ttname"><a href="../../d3/daf/a08498.html#a89d8ab0bf0b01e3e1ca4ae10a3cbde10">ProcEventInfo::GetActor</a></div><div class="ttdeci">Unit * GetActor()</div><div class="ttdef"><b>Definition:</b> Unit.h:439</div></div>
<div class="ttc" id="aa08498_html_ab3b2d919ecc5f4bfd15e3656a6990708"><div class="ttname"><a href="../../d3/daf/a08498.html#ab3b2d919ecc5f4bfd15e3656a6990708">ProcEventInfo::GetSpellPhaseMask</a></div><div class="ttdeci">uint32 GetSpellPhaseMask() const</div><div class="ttdef"><b>Definition:</b> Unit.h:444</div></div>
<div class="ttc" id="aa10906_html_a30452de2bd62607418f3962d00124144"><div class="ttname"><a href="../../d4/db9/a10906.html#a30452de2bd62607418f3962d00124144">SpellInfo::SpellFamilyFlags</a></div><div class="ttdeci">flag96 SpellFamilyFlags</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:388</div></div>
<div class="ttc" id="aa10906_html_af6ec577353f7d3cc59badd7d332153b0"><div class="ttname"><a href="../../d4/db9/a10906.html#af6ec577353f7d3cc59badd7d332153b0">SpellInfo::SpellFamilyName</a></div><div class="ttdeci">uint32 SpellFamilyName</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:387</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00298">SpellProcEntry::AttributesMask</a>, <a class="el" href="../../#l00167">DONE_HIT_PROC_FLAG_MASK</a>, <a class="el" href="../../#l00440">ProcEventInfo::GetActionTarget()</a>, <a class="el" href="../../#l00439">ProcEventInfo::GetActor()</a>, <a class="el" href="../../#l00445">ProcEventInfo::GetHitMask()</a>, <a class="el" href="../../#l00447">ProcEventInfo::GetSchoolMask()</a>, <a class="el" href="../../#l00184">ProcEventInfo::GetSpellInfo()</a>, <a class="el" href="../../#l00444">ProcEventInfo::GetSpellPhaseMask()</a>, <a class="el" href="../../#l00443">ProcEventInfo::GetSpellTypeMask()</a>, <a class="el" href="../../#l00442">ProcEventInfo::GetTypeMask()</a>, <a class="el" href="../../#l00297">SpellProcEntry::HitMask</a>, <a class="el" href="../../#l00165">PERIODIC_PROC_FLAG_MASK</a>, <a class="el" href="../../#l00271">PROC_ATTR_REQ_EXP_OR_HONOR</a>, <a class="el" href="../../#l00143">PROC_FLAG_DEATH</a>, <a class="el" href="../../#l00138">PROC_FLAG_DONE_TRAP_ACTIVATION</a>, <a class="el" href="../../#l00108">PROC_FLAG_KILL</a>, <a class="el" href="../../#l00107">PROC_FLAG_KILLED</a>, <a class="el" href="../../#l00262">PROC_HIT_ABSORB</a>, <a class="el" href="../../#l00253">PROC_HIT_CRITICAL</a>, <a class="el" href="../../#l00252">PROC_HIT_NORMAL</a>, <a class="el" href="../../#l00243">PROC_SPELL_PHASE_CAST</a>, <a class="el" href="../../#l00294">SpellProcEntry::ProcFlags</a>, <a class="el" href="../../#l00179">REQ_SPELL_PHASE_PROC_FLAG_MASK</a>, <a class="el" href="../../#l00291">SpellProcEntry::SchoolMask</a>, <a class="el" href="../../#l00156">SPELL_PROC_FLAG_MASK</a>, <a class="el" href="../../#l00388">SpellInfo::SpellFamilyFlags</a>, <a class="el" href="../../#l00293">SpellProcEntry::SpellFamilyMask</a>, <a class="el" href="../../#l00387">SpellInfo::SpellFamilyName</a>, <a class="el" href="../../#l00292">SpellProcEntry::SpellFamilyName</a>, <a class="el" href="../../#l00296">SpellProcEntry::SpellPhaseMask</a>, <a class="el" href="../../#l00295">SpellProcEntry::SpellTypeMask</a>, <a class="el" href="../../#l00173">TAKEN_HIT_PROC_FLAG_MASK</a>, and <a class="el" href="../../#l00198">Object::ToPlayer()</a>.</p>

</div>
</div>
<a id="a4b1307c84dbe345de1f16b117a5fa6c7" name="a4b1307c84dbe345de1f16b117a5fa6c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b1307c84dbe345de1f16b117a5fa6c7">&#9670;&#160;</a></span>CheckSpellGroupStackRules()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88">SpellGroupStackFlags</a> SpellMgr::CheckSpellGroupStackRules </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *&#160;</td>
          <td class="paramname"><em>spellInfo1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *&#160;</td>
          <td class="paramname"><em>spellInfo2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>remove</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>areaAura</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  681</span>{</div>
<div class="line"><span class="lineno">  682</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellid_1 = spellInfo1-&gt;GetFirstRankSpell()-&gt;Id;</div>
<div class="line"><span class="lineno">  683</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellid_2 = spellInfo2-&gt;GetFirstRankSpell()-&gt;Id;</div>
<div class="line"><span class="lineno">  684</span> </div>
<div class="line"><span class="lineno">  685</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> groupId = <a class="code hl_function" href="../../d4/d62/a10962.html#a679972bc59cdebe7764c078a82fa63f3">GetSpellGroup</a>(spellid_1);</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>    <a class="code hl_enumeration" href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eb">SpellGroupSpecialFlags</a> flag1 = <a class="code hl_function" href="../../d4/d62/a10962.html#aff6f0cb835c53a025c937376089e68a2">GetSpellGroupSpecialFlags</a>(spellid_1);</div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span>    <span class="comment">// xinef: dunno why i added this</span></div>
<div class="line"><span class="lineno">  690</span>    <span class="keywordflow">if</span> (spellid_1 == spellid_2 &amp;&amp; remove &amp;&amp; !areaAura)</div>
<div class="line"><span class="lineno">  691</span>    {</div>
<div class="line"><span class="lineno">  692</span>        <span class="keywordflow">if</span> (flag1 &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eba7839f95fbf97ecde100bfe23ad17a6bf">SPELL_GROUP_SPECIAL_FLAG_SAME_SPELL_CHECK</a>)</div>
<div class="line"><span class="lineno">  693</span>        {</div>
<div class="line"><span class="lineno">  694</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88a3556b4b6eac1a9cc343a58851626cc35">SPELL_GROUP_STACK_FLAG_EXCLUSIVE</a>;</div>
<div class="line"><span class="lineno">  695</span>        }</div>
<div class="line"><span class="lineno">  696</span> </div>
<div class="line"><span class="lineno">  697</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88ada08c4380c426461aa28160bd3e36481">SPELL_GROUP_STACK_FLAG_NONE</a>;</div>
<div class="line"><span class="lineno">  698</span>    }</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>    <span class="keywordflow">if</span> (groupId &gt; 0 &amp;&amp; groupId == <a class="code hl_function" href="../../d4/d62/a10962.html#a679972bc59cdebe7764c078a82fa63f3">GetSpellGroup</a>(spellid_2))</div>
<div class="line"><span class="lineno">  701</span>    {</div>
<div class="line"><span class="lineno">  702</span>        <a class="code hl_enumeration" href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eb">SpellGroupSpecialFlags</a> flag2 = <a class="code hl_function" href="../../d4/d62/a10962.html#aff6f0cb835c53a025c937376089e68a2">GetSpellGroupSpecialFlags</a>(spellid_2);</div>
<div class="line"><span class="lineno">  703</span>        <a class="code hl_enumeration" href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88">SpellGroupStackFlags</a> additionFlag = <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88ada08c4380c426461aa28160bd3e36481">SPELL_GROUP_STACK_FLAG_NONE</a>;</div>
<div class="line"><span class="lineno">  704</span>        <span class="comment">// xinef: first flags are used for elixir stacking rules</span></div>
<div class="line"><span class="lineno">  705</span>        <span class="keywordflow">if</span> (flag1 &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eba88058107a5eb1341d5edf23eefaade52">SPELL_GROUP_SPECIAL_FLAG_STACK_EXCLUSIVE_MAX</a> &amp;&amp; flag2 &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eba88058107a5eb1341d5edf23eefaade52">SPELL_GROUP_SPECIAL_FLAG_STACK_EXCLUSIVE_MAX</a>)</div>
<div class="line"><span class="lineno">  706</span>        {</div>
<div class="line"><span class="lineno">  707</span>            <span class="keywordflow">if</span> (flag1 &amp; flag2)</div>
<div class="line"><span class="lineno">  708</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88adf0c38d0364b5e9c36aa3bf4f68da680">SPELL_GROUP_STACK_FLAG_NEVER_STACK</a>;</div>
<div class="line"><span class="lineno">  709</span>        }</div>
<div class="line"><span class="lineno">  710</span>        <span class="comment">// xinef: check only flag1 (new spell)</span></div>
<div class="line"><span class="lineno">  711</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flag1 &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eba63c0705fb6979627890de8e601fa6828">SPELL_GROUP_SPECIAL_FLAG_FORCED_STRONGEST</a>)</div>
<div class="line"><span class="lineno">  712</span>            additionFlag = <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88a657ce08869043f0b71ee8815c6fb869e">SPELL_GROUP_STACK_FLAG_FORCED_STRONGEST</a>;</div>
<div class="line"><span class="lineno">  713</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flag2 &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eba63c0705fb6979627890de8e601fa6828">SPELL_GROUP_SPECIAL_FLAG_FORCED_STRONGEST</a>)</div>
<div class="line"><span class="lineno">  714</span>            additionFlag = <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88a4cfbddea486e9940cbeb5ebdab267b3e">SPELL_GROUP_STACK_FLAG_FORCED_WEAKEST</a>;</div>
<div class="line"><span class="lineno">  715</span> </div>
<div class="line"><span class="lineno">  716</span>        <span class="keywordflow">return</span> <a class="code hl_enumeration" href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88">SpellGroupStackFlags</a>(<a class="code hl_function" href="../../d4/d62/a10962.html#a6ecece8a77d5714f64bb27a364381de6">GetGroupStackFlags</a>(groupId) | additionFlag);</div>
<div class="line"><span class="lineno">  717</span>    }</div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88ada08c4380c426461aa28160bd3e36481">SPELL_GROUP_STACK_FLAG_NONE</a>;</div>
<div class="line"><span class="lineno">  720</span>}</div>
<div class="ttc" id="aa03110_html_a3384f828e7f362dbdaecb22673641c88"><div class="ttname"><a href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88">SpellGroupStackFlags</a></div><div class="ttdeci">SpellGroupStackFlags</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:356</div></div>
<div class="ttc" id="aa03110_html_a3384f828e7f362dbdaecb22673641c88a3556b4b6eac1a9cc343a58851626cc35"><div class="ttname"><a href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88a3556b4b6eac1a9cc343a58851626cc35">SPELL_GROUP_STACK_FLAG_EXCLUSIVE</a></div><div class="ttdeci">@ SPELL_GROUP_STACK_FLAG_EXCLUSIVE</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:358</div></div>
<div class="ttc" id="aa03110_html_a3384f828e7f362dbdaecb22673641c88a4cfbddea486e9940cbeb5ebdab267b3e"><div class="ttname"><a href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88a4cfbddea486e9940cbeb5ebdab267b3e">SPELL_GROUP_STACK_FLAG_FORCED_WEAKEST</a></div><div class="ttdeci">@ SPELL_GROUP_STACK_FLAG_FORCED_WEAKEST</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:367</div></div>
<div class="ttc" id="aa03110_html_a3384f828e7f362dbdaecb22673641c88a657ce08869043f0b71ee8815c6fb869e"><div class="ttname"><a href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88a657ce08869043f0b71ee8815c6fb869e">SPELL_GROUP_STACK_FLAG_FORCED_STRONGEST</a></div><div class="ttdeci">@ SPELL_GROUP_STACK_FLAG_FORCED_STRONGEST</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:366</div></div>
<div class="ttc" id="aa03110_html_a3384f828e7f362dbdaecb22673641c88ada08c4380c426461aa28160bd3e36481"><div class="ttname"><a href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88ada08c4380c426461aa28160bd3e36481">SPELL_GROUP_STACK_FLAG_NONE</a></div><div class="ttdeci">@ SPELL_GROUP_STACK_FLAG_NONE</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:357</div></div>
<div class="ttc" id="aa03110_html_a3384f828e7f362dbdaecb22673641c88adf0c38d0364b5e9c36aa3bf4f68da680"><div class="ttname"><a href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88adf0c38d0364b5e9c36aa3bf4f68da680">SPELL_GROUP_STACK_FLAG_NEVER_STACK</a></div><div class="ttdeci">@ SPELL_GROUP_STACK_FLAG_NEVER_STACK</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:361</div></div>
<div class="ttc" id="aa03110_html_ab9f8654c03ec40ac9bdc5214da99e1eb"><div class="ttname"><a href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eb">SpellGroupSpecialFlags</a></div><div class="ttdeci">SpellGroupSpecialFlags</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:334</div></div>
<div class="ttc" id="aa03110_html_ab9f8654c03ec40ac9bdc5214da99e1eba63c0705fb6979627890de8e601fa6828"><div class="ttname"><a href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eba63c0705fb6979627890de8e601fa6828">SPELL_GROUP_SPECIAL_FLAG_FORCED_STRONGEST</a></div><div class="ttdeci">@ SPELL_GROUP_SPECIAL_FLAG_FORCED_STRONGEST</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:341</div></div>
<div class="ttc" id="aa03110_html_ab9f8654c03ec40ac9bdc5214da99e1eba7839f95fbf97ecde100bfe23ad17a6bf"><div class="ttname"><a href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eba7839f95fbf97ecde100bfe23ad17a6bf">SPELL_GROUP_SPECIAL_FLAG_SAME_SPELL_CHECK</a></div><div class="ttdeci">@ SPELL_GROUP_SPECIAL_FLAG_SAME_SPELL_CHECK</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:348</div></div>
<div class="ttc" id="aa03110_html_ab9f8654c03ec40ac9bdc5214da99e1eba88058107a5eb1341d5edf23eefaade52"><div class="ttname"><a href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eba88058107a5eb1341d5edf23eefaade52">SPELL_GROUP_SPECIAL_FLAG_STACK_EXCLUSIVE_MAX</a></div><div class="ttdeci">@ SPELL_GROUP_SPECIAL_FLAG_STACK_EXCLUSIVE_MAX</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:340</div></div>
<div class="ttc" id="aa10962_html_a679972bc59cdebe7764c078a82fa63f3"><div class="ttname"><a href="../../d4/d62/a10962.html#a679972bc59cdebe7764c078a82fa63f3">SpellMgr::GetSpellGroup</a></div><div class="ttdeci">uint32 GetSpellGroup(uint32 spellid) const</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:660</div></div>
<div class="ttc" id="aa10962_html_a6ecece8a77d5714f64bb27a364381de6"><div class="ttname"><a href="../../d4/d62/a10962.html#a6ecece8a77d5714f64bb27a364381de6">SpellMgr::GetGroupStackFlags</a></div><div class="ttdeci">SpellGroupStackFlags GetGroupStackFlags(uint32 groupid) const</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:651</div></div>
<div class="ttc" id="aa10962_html_aff6f0cb835c53a025c937376089e68a2"><div class="ttname"><a href="../../d4/d62/a10962.html#aff6f0cb835c53a025c937376089e68a2">SpellMgr::GetSpellGroupSpecialFlags</a></div><div class="ttdeci">SpellGroupSpecialFlags GetSpellGroupSpecialFlags(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:670</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02501">SpellInfo::GetFirstRankSpell()</a>, <a class="el" href="../../#l00651">GetGroupStackFlags()</a>, <a class="el" href="../../#l00660">GetSpellGroup()</a>, <a class="el" href="../../#l00670">GetSpellGroupSpecialFlags()</a>, <a class="el" href="../../#l00320">SpellInfo::Id</a>, <a class="el" href="../../#l00341">SPELL_GROUP_SPECIAL_FLAG_FORCED_STRONGEST</a>, <a class="el" href="../../#l00348">SPELL_GROUP_SPECIAL_FLAG_SAME_SPELL_CHECK</a>, <a class="el" href="../../#l00340">SPELL_GROUP_SPECIAL_FLAG_STACK_EXCLUSIVE_MAX</a>, <a class="el" href="../../#l00358">SPELL_GROUP_STACK_FLAG_EXCLUSIVE</a>, <a class="el" href="../../#l00366">SPELL_GROUP_STACK_FLAG_FORCED_STRONGEST</a>, <a class="el" href="../../#l00367">SPELL_GROUP_STACK_FLAG_FORCED_WEAKEST</a>, <a class="el" href="../../#l00361">SPELL_GROUP_STACK_FLAG_NEVER_STACK</a>, and <a class="el" href="../../#l00357">SPELL_GROUP_STACK_FLAG_NONE</a>.</p>

</div>
</div>
<a id="a978271947a41f2e9429d3862c7ff7539" name="a978271947a41f2e9429d3862c7ff7539"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a978271947a41f2e9429d3862c7ff7539">&#9670;&#160;</a></span>CheckSpellInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const  * SpellMgr::CheckSpellInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  737</span>    {</div>
<div class="line"><span class="lineno">  738</span>        <span class="keywordflow">if</span> (spellId &gt;= <a class="code hl_function" href="../../d4/d62/a10962.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>())</div>
<div class="line"><span class="lineno">  739</span>        {</div>
<div class="line"><span class="lineno">  740</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;server&quot;</span>, <span class="stringliteral">&quot;spellId {} is not lower than GetSpellInfoStoreSize() ({})&quot;</span>, spellId, <a class="code hl_function" href="../../d4/d62/a10962.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>());</div>
<div class="line"><span class="lineno">  741</span>            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  742</span>        }</div>
<div class="line"><span class="lineno">  743</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[spellId];</div>
<div class="line"><span class="lineno">  744</span>        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno">  745</span>        {</div>
<div class="line"><span class="lineno">  746</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;server&quot;</span>, <span class="stringliteral">&quot;spellId {} has invalid spellInfo&quot;</span>, spellId);</div>
<div class="line"><span class="lineno">  747</span>            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  748</span>        }</div>
<div class="line"><span class="lineno">  749</span>        <span class="keywordflow">return</span> spellInfo;</div>
<div class="line"><span class="lineno">  750</span>    }</div>
<div class="ttc" id="aa00035_html_a43832e3fa8508deb4ce43e520005fcd9"><div class="ttname"><a href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(filterType__,...)</div><div class="ttdef"><b>Definition:</b> Log.h:157</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00751">GetSpellInfoStoreSize()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, and <a class="el" href="../../#l00820">mSpellInfoMap</a>.</p>

</div>
</div>
<a id="a3fe816e2868b4fed89cc9ac88bb9d177" name="a3fe816e2868b4fed89cc9ac88bb9d177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fe816e2868b4fed89cc9ac88bb9d177">&#9670;&#160;</a></span>CheckSpellValid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SpellMgr::CheckSpellValid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *&#160;</td>
          <td class="paramname"><em>spellInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isTalent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  460</span>{</div>
<div class="line"><span class="lineno">  461</span>    <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno">  462</span>    {</div>
<div class="line"><span class="lineno">  463</span>        <a class="code hl_function" href="../../da/d5d/a03068.html#af0dec25ac7c118b67a71a0356eb37877">DeleteSpellFromAllPlayers</a>(spellId);</div>
<div class="line"><span class="lineno">  464</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;spells&quot;</span>, <span class="stringliteral">&quot;Player::{}: Non-existed in SpellStore spell #{} request.&quot;</span>, (isTalent ? <span class="stringliteral">&quot;AddTalent&quot;</span> : <span class="stringliteral">&quot;addSpell&quot;</span>), spellId);</div>
<div class="line"><span class="lineno">  465</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  466</span>    }</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d4/d62/a10962.html#a8dfd3856cb381953bfeb1db1a4a4bad7">IsSpellValid</a>(spellInfo))</div>
<div class="line"><span class="lineno">  469</span>    {</div>
<div class="line"><span class="lineno">  470</span>        <a class="code hl_function" href="../../da/d5d/a03068.html#af0dec25ac7c118b67a71a0356eb37877">DeleteSpellFromAllPlayers</a>(spellId);</div>
<div class="line"><span class="lineno">  471</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;spells&quot;</span>, <span class="stringliteral">&quot;Player::{}: Broken spell #{} learning not allowed.&quot;</span>, (isTalent ? <span class="stringliteral">&quot;AddTalent&quot;</span> : <span class="stringliteral">&quot;addSpell&quot;</span>), spellId);</div>
<div class="line"><span class="lineno">  472</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  473</span>    }</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  476</span>}</div>
<div class="ttc" id="aa03068_html_af0dec25ac7c118b67a71a0356eb37877"><div class="ttname"><a href="../../da/d5d/a03068.html#af0dec25ac7c118b67a71a0356eb37877">DeleteSpellFromAllPlayers</a></div><div class="ttdeci">void DeleteSpellFromAllPlayers(uint32 spellId)</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:448</div></div>
<div class="ttc" id="aa10962_html_a8dfd3856cb381953bfeb1db1a4a4bad7"><div class="ttname"><a href="../../d4/d62/a10962.html#a8dfd3856cb381953bfeb1db1a4a4bad7">SpellMgr::IsSpellValid</a></div><div class="ttdeci">static bool IsSpellValid(SpellInfo const *spellInfo)</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:441</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00448">DeleteSpellFromAllPlayers()</a>, <a class="el" href="../../#l00441">IsSpellValid()</a>, and <a class="el" href="../../#l00157">LOG_ERROR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l03094">Player::_addSpell()</a>, and <a class="el" href="../../#l02896">Player::addTalent()</a>.</p>

</div>
</div>
<a id="a1e15d35af8a99f10e6b6413308a93e95" name="a1e15d35af8a99f10e6b6413308a93e95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e15d35af8a99f10e6b6413308a93e95">&#9670;&#160;</a></span>ComputeIsSpellValid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SpellMgr::ComputeIsSpellValid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *&#160;</td>
          <td class="paramname"><em>spellInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>msg</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Some checks for spells, to prevent adding deprecated/broken spells for trainers, spell book, etc. </p>
<div class="fragment"><div class="line"><span class="lineno">  371</span>{</div>
<div class="line"><span class="lineno">  372</span>    <span class="comment">// not exist</span></div>
<div class="line"><span class="lineno">  373</span>    <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno">  374</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span>    <span class="keywordtype">bool</span> need_check_reagents = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>    <span class="comment">// check effects</span></div>
<div class="line"><span class="lineno">  379</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++i)</div>
<div class="line"><span class="lineno">  380</span>    {</div>
<div class="line"><span class="lineno">  381</span>        <span class="keywordflow">switch</span> (spellInfo-&gt;Effects[i].Effect)</div>
<div class="line"><span class="lineno">  382</span>        {</div>
<div class="line"><span class="lineno">  383</span>            <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno">  384</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>            <span class="comment">// craft spell for crafting non-existed item (break client recipes list show)</span></div>
<div class="line"><span class="lineno">  387</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af5abf258b008fbff818ad32ac7a95fbb">SPELL_EFFECT_CREATE_ITEM</a>:</div>
<div class="line"><span class="lineno">  388</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a98bf198da925a04fa041c7d82114b626">SPELL_EFFECT_CREATE_ITEM_2</a>:</div>
<div class="line"><span class="lineno">  389</span>                {</div>
<div class="line"><span class="lineno">  390</span>                    <span class="keywordflow">if</span> (spellInfo-&gt;Effects[i].ItemType == 0)</div>
<div class="line"><span class="lineno">  391</span>                    {</div>
<div class="line"><span class="lineno">  392</span>                        <span class="comment">// skip auto-loot crafting spells, its not need explicit item info (but have special fake items sometime)</span></div>
<div class="line"><span class="lineno">  393</span>                        <span class="keywordflow">if</span> (!spellInfo-&gt;IsLootCrafting())</div>
<div class="line"><span class="lineno">  394</span>                        {</div>
<div class="line"><span class="lineno">  395</span>                            <span class="keywordflow">if</span> (msg)</div>
<div class="line"><span class="lineno">  396</span>                                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Craft spell {} not have create item entry.&quot;</span>, spellInfo-&gt;Id);</div>
<div class="line"><span class="lineno">  397</span>                            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  398</span>                        }</div>
<div class="line"><span class="lineno">  399</span>                    }</div>
<div class="line"><span class="lineno">  400</span>                    <span class="comment">// also possible IsLootCrafting case but fake item must exist anyway</span></div>
<div class="line"><span class="lineno">  401</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(spellInfo-&gt;Effects[i].ItemType))</div>
<div class="line"><span class="lineno">  402</span>                    {</div>
<div class="line"><span class="lineno">  403</span>                        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><span class="lineno">  404</span>                            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Craft spell {} create not-exist in DB item (Entry: {}) and then...&quot;</span>, spellInfo-&gt;Id, spellInfo-&gt;Effects[i].ItemType);</div>
<div class="line"><span class="lineno">  405</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  406</span>                    }</div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>                    need_check_reagents = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  409</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  410</span>                }</div>
<div class="line"><span class="lineno">  411</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97acef490c9f3480852d33dbbec7727fa7f">SPELL_EFFECT_LEARN_SPELL</a>:</div>
<div class="line"><span class="lineno">  412</span>                {</div>
<div class="line"><span class="lineno">  413</span>                    <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo2 = <a class="code hl_define" href="../../df/d64/a03110.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellInfo(spellInfo-&gt;Effects[i].TriggerSpell);</div>
<div class="line"><span class="lineno">  414</span>                    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d4/d62/a10962.html#a1e15d35af8a99f10e6b6413308a93e95">ComputeIsSpellValid</a>(spellInfo2, msg))</div>
<div class="line"><span class="lineno">  415</span>                    {</div>
<div class="line"><span class="lineno">  416</span>                        <span class="keywordflow">if</span> (msg)</div>
<div class="line"><span class="lineno">  417</span>                            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} learn to invalid spell {}, and then...&quot;</span>, spellInfo-&gt;Id, spellInfo-&gt;Effects[i].TriggerSpell);</div>
<div class="line"><span class="lineno">  418</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  419</span>                    }</div>
<div class="line"><span class="lineno">  420</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  421</span>                }</div>
<div class="line"><span class="lineno">  422</span>        }</div>
<div class="line"><span class="lineno">  423</span>    }</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>    <span class="keywordflow">if</span> (need_check_reagents)</div>
<div class="line"><span class="lineno">  426</span>    {</div>
<div class="line"><span class="lineno">  427</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#a7dfd9b5e0adb5c5e3ebf3173f80fbcce">MAX_SPELL_REAGENTS</a>; ++j)</div>
<div class="line"><span class="lineno">  428</span>        {</div>
<div class="line"><span class="lineno">  429</span>            <span class="keywordflow">if</span> (spellInfo-&gt;Reagent[j] &gt; 0 &amp;&amp; !<a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(spellInfo-&gt;Reagent[j]))</div>
<div class="line"><span class="lineno">  430</span>            {</div>
<div class="line"><span class="lineno">  431</span>                <span class="keywordflow">if</span> (msg)</div>
<div class="line"><span class="lineno">  432</span>                    <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Craft spell {} have not-exist reagent in DB item (Entry: {}) and then...&quot;</span>, spellInfo-&gt;Id, spellInfo-&gt;Reagent[j]);</div>
<div class="line"><span class="lineno">  433</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  434</span>            }</div>
<div class="line"><span class="lineno">  435</span>        }</div>
<div class="line"><span class="lineno">  436</span>    }</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  439</span>}</div>
<div class="ttc" id="aa00497_html_a15a8d014fadf85c99a2268d8cbd00767"><div class="ttname"><a href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a></div><div class="ttdeci">std::uint8_t uint8</div><div class="ttdef"><b>Definition:</b> Define.h:109</div></div>
<div class="ttc" id="aa02750_html_a7dfd9b5e0adb5c5e3ebf3173f80fbcce"><div class="ttname"><a href="../../d7/d14/a02750.html#a7dfd9b5e0adb5c5e3ebf3173f80fbcce">MAX_SPELL_REAGENTS</a></div><div class="ttdeci">#define MAX_SPELL_REAGENTS</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1638</div></div>
<div class="ttc" id="aa02750_html_ac5733f5b58bf8a23a1919a005b5ec895"><div class="ttname"><a href="../../d7/d14/a02750.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a></div><div class="ttdeci">#define MAX_SPELL_EFFECTS</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1636</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a98bf198da925a04fa041c7d82114b626"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a98bf198da925a04fa041c7d82114b626">SPELL_EFFECT_CREATE_ITEM_2</a></div><div class="ttdeci">@ SPELL_EFFECT_CREATE_ITEM_2</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:935</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97acef490c9f3480852d33dbbec7727fa7f"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97acef490c9f3480852d33dbbec7727fa7f">SPELL_EFFECT_LEARN_SPELL</a></div><div class="ttdeci">@ SPELL_EFFECT_LEARN_SPELL</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:814</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97af5abf258b008fbff818ad32ac7a95fbb"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af5abf258b008fbff818ad32ac7a95fbb">SPELL_EFFECT_CREATE_ITEM</a></div><div class="ttdeci">@ SPELL_EFFECT_CREATE_ITEM</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:802</div></div>
<div class="ttc" id="aa02843_html_a736e30da2b5261060ac6cdbb5de3b787"><div class="ttname"><a href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a></div><div class="ttdeci">#define sObjectMgr</div><div class="ttdef"><b>Definition:</b> ObjectMgr.h:1635</div></div>
<div class="ttc" id="aa03110_html_aa21e14d8e1145507b746a69b5487109d"><div class="ttname"><a href="../../df/d64/a03110.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a></div><div class="ttdeci">#define sSpellMgr</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:825</div></div>
<div class="ttc" id="aa10962_html_a1e15d35af8a99f10e6b6413308a93e95"><div class="ttname"><a href="../../d4/d62/a10962.html#a1e15d35af8a99f10e6b6413308a93e95">SpellMgr::ComputeIsSpellValid</a></div><div class="ttdeci">static bool ComputeIsSpellValid(SpellInfo const *spellInfo, bool msg=true)</div><div class="ttdoc">Some checks for spells, to prevent adding deprecated/broken spells for trainers, spell book,...</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:370</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00370">ComputeIsSpellValid()</a>, <a class="el" href="../../#l00393">SpellInfo::Effects</a>, <a class="el" href="../../#l00320">SpellInfo::Id</a>, <a class="el" href="../../#l00925">SpellInfo::IsLootCrafting()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l01636">MAX_SPELL_EFFECTS</a>, <a class="el" href="../../#l01638">MAX_SPELL_REAGENTS</a>, <a class="el" href="../../#l00373">SpellInfo::Reagent</a>, <a class="el" href="../../#l01635">sObjectMgr</a>, <a class="el" href="../../#l00802">SPELL_EFFECT_CREATE_ITEM</a>, <a class="el" href="../../#l00935">SPELL_EFFECT_CREATE_ITEM_2</a>, <a class="el" href="../../#l00814">SPELL_EFFECT_LEARN_SPELL</a>, and <a class="el" href="../../#l00825">sSpellMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l09092">ObjectMgr::AddSpellToTrainer()</a>, <a class="el" href="../../#l00370">ComputeIsSpellValid()</a>, <a class="el" href="../../#l05743">ObjectMgr::InitializeSpellInfoPrecomputedData()</a>, and <a class="el" href="../../#l04408">ObjectMgr::LoadQuests()</a>.</p>

</div>
</div>
<a id="a917957b9f03d8fec71dde17da1a88d51" name="a917957b9f03d8fec71dde17da1a88d51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a917957b9f03d8fec71dde17da1a88d51">&#9670;&#160;</a></span>GetFirstSpellInChain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> SpellMgr::GetFirstSpellInChain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spell_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  555</span>{</div>
<div class="line"><span class="lineno">  556</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d5/deb/a10946.html">SpellChainNode</a> <span class="keyword">const</span>* node = <a class="code hl_function" href="../../d4/d62/a10962.html#acebee697f2b732ae70bc247c1cdfee01">GetSpellChainNode</a>(spell_id))</div>
<div class="line"><span class="lineno">  557</span>        <span class="keywordflow">return</span> node-&gt;first-&gt;Id;</div>
<div class="line"><span class="lineno">  558</span> </div>
<div class="line"><span class="lineno">  559</span>    <span class="keywordflow">return</span> spell_id;</div>
<div class="line"><span class="lineno">  560</span>}</div>
<div class="ttc" id="aa10946_html"><div class="ttname"><a href="../../d5/deb/a10946.html">SpellChainNode</a></div><div class="ttdef"><b>Definition:</b> SpellMgr.h:554</div></div>
<div class="ttc" id="aa10962_html_acebee697f2b732ae70bc247c1cdfee01"><div class="ttname"><a href="../../d4/d62/a10962.html#acebee697f2b732ae70bc247c1cdfee01">SpellMgr::GetSpellChainNode</a></div><div class="ttdeci">SpellChainNode const * GetSpellChainNode(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:545</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00545">GetSpellChainNode()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00962">GetSpellBonusData()</a>, <a class="el" href="../../#l00660">GetSpellGroup()</a>, <a class="el" href="../../#l00670">GetSpellGroupSpecialFlags()</a>, <a class="el" href="../../#l00978">GetSpellThreatEntry()</a>, and <a class="el" href="../../#l01403">LoadSpellRequired()</a>.</p>

</div>
</div>
<a id="a6ecece8a77d5714f64bb27a364381de6" name="a6ecece8a77d5714f64bb27a364381de6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ecece8a77d5714f64bb27a364381de6">&#9670;&#160;</a></span>GetGroupStackFlags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88">SpellGroupStackFlags</a> SpellMgr::GetGroupStackFlags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>groupid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  652</span>{</div>
<div class="line"><span class="lineno">  653</span>    SpellGroupStackMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#a60283ceb69bf92310153db6769f70a6a">mSpellGroupStackMap</a>.find(groupid);</div>
<div class="line"><span class="lineno">  654</span>    <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#a60283ceb69bf92310153db6769f70a6a">mSpellGroupStackMap</a>.end())</div>
<div class="line"><span class="lineno">  655</span>        <span class="keywordflow">return</span> itr-&gt;second;</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88ada08c4380c426461aa28160bd3e36481">SPELL_GROUP_STACK_FLAG_NONE</a>;</div>
<div class="line"><span class="lineno">  658</span>}</div>
<div class="ttc" id="aa10962_html_a60283ceb69bf92310153db6769f70a6a"><div class="ttname"><a href="../../d4/d62/a10962.html#a60283ceb69bf92310153db6769f70a6a">SpellMgr::mSpellGroupStackMap</a></div><div class="ttdeci">SpellGroupStackMap mSpellGroupStackMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:802</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00802">mSpellGroupStackMap</a>, and <a class="el" href="../../#l00357">SPELL_GROUP_STACK_FLAG_NONE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00680">CheckSpellGroupStackRules()</a>.</p>

</div>
</div>
<a id="a7381cd829bd62cd16c242e61dd7d1c18" name="a7381cd829bd62cd16c242e61dd7d1c18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7381cd829bd62cd16c242e61dd7d1c18">&#9670;&#160;</a></span>GetLastSpellInChain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> SpellMgr::GetLastSpellInChain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spell_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  563</span>{</div>
<div class="line"><span class="lineno">  564</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d5/deb/a10946.html">SpellChainNode</a> <span class="keyword">const</span>* node = <a class="code hl_function" href="../../d4/d62/a10962.html#acebee697f2b732ae70bc247c1cdfee01">GetSpellChainNode</a>(spell_id))</div>
<div class="line"><span class="lineno">  565</span>        <span class="keywordflow">return</span> node-&gt;last-&gt;Id;</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>    <span class="keywordflow">return</span> spell_id;</div>
<div class="line"><span class="lineno">  568</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00545">GetSpellChainNode()</a>.</p>

</div>
</div>
<a id="a2f2cb73a9f834280867da755e5a6f1c4" name="a2f2cb73a9f834280867da755e5a6f1c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f2cb73a9f834280867da755e5a6f1c4">&#9670;&#160;</a></span>GetNextSpellInChain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> SpellMgr::GetNextSpellInChain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spell_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  571</span>{</div>
<div class="line"><span class="lineno">  572</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d5/deb/a10946.html">SpellChainNode</a> <span class="keyword">const</span>* node = <a class="code hl_function" href="../../d4/d62/a10962.html#acebee697f2b732ae70bc247c1cdfee01">GetSpellChainNode</a>(spell_id))</div>
<div class="line"><span class="lineno">  573</span>        <span class="keywordflow">if</span> (node-&gt;next)</div>
<div class="line"><span class="lineno">  574</span>            <span class="keywordflow">return</span> node-&gt;next-&gt;Id;</div>
<div class="line"><span class="lineno">  575</span> </div>
<div class="line"><span class="lineno">  576</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  577</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00545">GetSpellChainNode()</a>.</p>

</div>
</div>
<a id="ae1b22f6a0392194bcaf234148f693237" name="ae1b22f6a0392194bcaf234148f693237"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1b22f6a0392194bcaf234148f693237">&#9670;&#160;</a></span>GetPetAura()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dac/a10938.html">PetAura</a> const  * SpellMgr::GetPetAura </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spell_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>eff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1008</span>{</div>
<div class="line"><span class="lineno"> 1009</span>    SpellPetAuraMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#a32090ca7b9037cdd52aa11d5ecb1bc51">mSpellPetAuraMap</a>.find((spell_id &lt;&lt; 8) + eff);</div>
<div class="line"><span class="lineno"> 1010</span>    <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#a32090ca7b9037cdd52aa11d5ecb1bc51">mSpellPetAuraMap</a>.end())</div>
<div class="line"><span class="lineno"> 1011</span>        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><span class="lineno"> 1012</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1013</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1014</span>}</div>
<div class="ttc" id="aa10962_html_a32090ca7b9037cdd52aa11d5ecb1bc51"><div class="ttname"><a href="../../d4/d62/a10962.html#a32090ca7b9037cdd52aa11d5ecb1bc51">SpellMgr::mSpellPetAuraMap</a></div><div class="ttdeci">SpellPetAuraMap mSpellPetAuraMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:808</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00808">mSpellPetAuraMap</a>.</p>

</div>
</div>
<a id="aacc0a22eca190f3633657be4d3387e9d" name="aacc0a22eca190f3633657be4d3387e9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacc0a22eca190f3633657be4d3387e9d">&#9670;&#160;</a></span>GetPetDefaultSpellsEntry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d40/a10954.html">PetDefaultSpellsEntry</a> const  * SpellMgr::GetPetDefaultSpellsEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1045</span>{</div>
<div class="line"><span class="lineno"> 1046</span>    PetDefaultSpellsMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#a4ec8d854c5357f1edfd29a136203b0da">mPetDefaultSpellsMap</a>.find(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno"> 1047</span>    <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#a4ec8d854c5357f1edfd29a136203b0da">mPetDefaultSpellsMap</a>.end())</div>
<div class="line"><span class="lineno"> 1048</span>        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><span class="lineno"> 1049</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1050</span>}</div>
<div class="ttc" id="aa10962_html_a4ec8d854c5357f1edfd29a136203b0da"><div class="ttname"><a href="../../d4/d62/a10962.html#a4ec8d854c5357f1edfd29a136203b0da">SpellMgr::mPetDefaultSpellsMap</a></div><div class="ttdeci">PetDefaultSpellsMap mPetDefaultSpellsMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:819</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00819">mPetDefaultSpellsMap</a>.</p>

</div>
</div>
<a id="a2167cf52f6947d5dc921b3f08afce83a" name="a2167cf52f6947d5dc921b3f08afce83a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2167cf52f6947d5dc921b3f08afce83a">&#9670;&#160;</a></span>GetPetLevelupSpellList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#aff302d7ad23409ef738f15bcb560ed89">PetLevelupSpellSet</a> const  * SpellMgr::GetPetLevelupSpellList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>petFamily</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1036</span>{</div>
<div class="line"><span class="lineno"> 1037</span>    PetLevelupSpellMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#a961a18df4995256a1754503ff574f11e">mPetLevelupSpellMap</a>.find(petFamily);</div>
<div class="line"><span class="lineno"> 1038</span>    <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#a961a18df4995256a1754503ff574f11e">mPetLevelupSpellMap</a>.end())</div>
<div class="line"><span class="lineno"> 1039</span>        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><span class="lineno"> 1040</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1041</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1042</span>}</div>
<div class="ttc" id="aa10962_html_a961a18df4995256a1754503ff574f11e"><div class="ttname"><a href="../../d4/d62/a10962.html#a961a18df4995256a1754503ff574f11e">SpellMgr::mPetLevelupSpellMap</a></div><div class="ttdeci">PetLevelupSpellMap mPetLevelupSpellMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:818</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00818">mPetLevelupSpellMap</a>.</p>

</div>
</div>
<a id="a624b4e60fda126e6a868ac252fda2757" name="a624b4e60fda126e6a868ac252fda2757"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a624b4e60fda126e6a868ac252fda2757">&#9670;&#160;</a></span>GetPrevSpellInChain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> SpellMgr::GetPrevSpellInChain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spell_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  580</span>{</div>
<div class="line"><span class="lineno">  581</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d5/deb/a10946.html">SpellChainNode</a> <span class="keyword">const</span>* node = <a class="code hl_function" href="../../d4/d62/a10962.html#acebee697f2b732ae70bc247c1cdfee01">GetSpellChainNode</a>(spell_id))</div>
<div class="line"><span class="lineno">  582</span>        <span class="keywordflow">if</span> (node-&gt;prev)</div>
<div class="line"><span class="lineno">  583</span>            <span class="keywordflow">return</span> node-&gt;prev-&gt;Id;</div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  586</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00545">GetSpellChainNode()</a>.</p>

</div>
</div>
<a id="a1915eeb1c6f142f7ff156846c98e4119" name="a1915eeb1c6f142f7ff156846c98e4119"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1915eeb1c6f142f7ff156846c98e4119">&#9670;&#160;</a></span>GetSetOfSpellsInSpellGroupWithFlag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::GetSetOfSpellsInSpellGroupWithFlag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>group_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eb">SpellGroupSpecialFlags</a>&#160;</td>
          <td class="paramname"><em>flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>availableElixirs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  723</span>{</div>
<div class="line"><span class="lineno">  724</span>    <span class="keywordflow">for</span> (SpellGroupMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.begin(); itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.end(); ++itr)</div>
<div class="line"><span class="lineno">  725</span>        <span class="keywordflow">if</span> (itr-&gt;second.groupId == group_id &amp;&amp; itr-&gt;second.specialFlags == flag)</div>
<div class="line"><span class="lineno">  726</span>            availableElixirs.insert(itr-&gt;first); <span class="comment">// insert spell id</span></div>
<div class="line"><span class="lineno">  727</span>}</div>
<div class="ttc" id="aa10962_html_a7a1fa3679f9c375b88603ec4775769fd"><div class="ttname"><a href="../../d4/d62/a10962.html#a7a1fa3679f9c375b88603ec4775769fd">SpellMgr::mSpellGroupMap</a></div><div class="ttdeci">SpellGroupMap mSpellGroupMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:801</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00801">mSpellGroupMap</a>.</p>

</div>
</div>
<a id="a3ae3376eeaa7e4a445075d651d3493aa" name="a3ae3376eeaa7e4a445075d651d3493aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ae3376eeaa7e4a445075d651d3493aa">&#9670;&#160;</a></span>GetSkillLineAbilityMapBounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#ac821b7d2d8a9effd8fafef038528e877">SkillLineAbilityMapBounds</a> SpellMgr::GetSkillLineAbilityMapBounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spell_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1003</span>{</div>
<div class="line"><span class="lineno"> 1004</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d62/a10962.html#a1230ba374bf128c6d0857d787bb68af4">mSkillLineAbilityMap</a>.equal_range(spell_id);</div>
<div class="line"><span class="lineno"> 1005</span>}</div>
<div class="ttc" id="aa10962_html_a1230ba374bf128c6d0857d787bb68af4"><div class="ttname"><a href="../../d4/d62/a10962.html#a1230ba374bf128c6d0857d787bb68af4">SpellMgr::mSkillLineAbilityMap</a></div><div class="ttdeci">SkillLineAbilityMap mSkillLineAbilityMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:817</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00817">mSkillLineAbilityMap</a>.</p>

</div>
</div>
<a id="ae41eaa751f7d67dfa0c38aa55b2f6c7e" name="ae41eaa751f7d67dfa0c38aa55b2f6c7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae41eaa751f7d67dfa0c38aa55b2f6c7e">&#9670;&#160;</a></span>GetSpellAreaForAreaMapBounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a69bbd3906e9d334176d6a0ffde617490">SpellAreaForAreaMapBounds</a> SpellMgr::GetSpellAreaForAreaMapBounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>area_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1073</span>{</div>
<div class="line"><span class="lineno"> 1074</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d62/a10962.html#ab76464f94e9f4189902985e9e86147e3">mSpellAreaForAreaMap</a>.equal_range(area_id);</div>
<div class="line"><span class="lineno"> 1075</span>}</div>
<div class="ttc" id="aa10962_html_ab76464f94e9f4189902985e9e86147e3"><div class="ttname"><a href="../../d4/d62/a10962.html#ab76464f94e9f4189902985e9e86147e3">SpellMgr::mSpellAreaForAreaMap</a></div><div class="ttdeci">SpellAreaForAreaMap mSpellAreaForAreaMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:816</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00816">mSpellAreaForAreaMap</a>.</p>

</div>
</div>
<a id="a65d4c8ef866eb02e4a8e81b3166286c1" name="a65d4c8ef866eb02e4a8e81b3166286c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65d4c8ef866eb02e4a8e81b3166286c1">&#9670;&#160;</a></span>GetSpellAreaForAuraMapBounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#ac0bf7c1f4212d9675abaaa9b3ca6f33d">SpellAreaForAuraMapBounds</a> SpellMgr::GetSpellAreaForAuraMapBounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spell_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1068</span>{</div>
<div class="line"><span class="lineno"> 1069</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d62/a10962.html#a24cfc05b7291e1e490fed982059a7c66">mSpellAreaForAuraMap</a>.equal_range(spell_id);</div>
<div class="line"><span class="lineno"> 1070</span>}</div>
<div class="ttc" id="aa10962_html_a24cfc05b7291e1e490fed982059a7c66"><div class="ttname"><a href="../../d4/d62/a10962.html#a24cfc05b7291e1e490fed982059a7c66">SpellMgr::mSpellAreaForAuraMap</a></div><div class="ttdeci">SpellAreaForAuraMap mSpellAreaForAuraMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:815</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00815">mSpellAreaForAuraMap</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02479">LoadSpellAreas()</a>.</p>

</div>
</div>
<a id="a24a05bd91ad57dcef7fa0fee73daa867" name="a24a05bd91ad57dcef7fa0fee73daa867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24a05bd91ad57dcef7fa0fee73daa867">&#9670;&#160;</a></span>GetSpellAreaForQuestEndMapBounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#aebca17b4bc1b0129c26a7c769d90159b">SpellAreaForQuestMapBounds</a> SpellMgr::GetSpellAreaForQuestEndMapBounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>quest_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1063</span>{</div>
<div class="line"><span class="lineno"> 1064</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d62/a10962.html#a4943f12ccc2090045b94e26a53e935a2">mSpellAreaForQuestEndMap</a>.equal_range(quest_id);</div>
<div class="line"><span class="lineno"> 1065</span>}</div>
<div class="ttc" id="aa10962_html_a4943f12ccc2090045b94e26a53e935a2"><div class="ttname"><a href="../../d4/d62/a10962.html#a4943f12ccc2090045b94e26a53e935a2">SpellMgr::mSpellAreaForQuestEndMap</a></div><div class="ttdeci">SpellAreaForQuestMap mSpellAreaForQuestEndMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:814</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00814">mSpellAreaForQuestEndMap</a>.</p>

</div>
</div>
<a id="a3645472cf901d4fc9d42c9f8af8164b4" name="a3645472cf901d4fc9d42c9f8af8164b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3645472cf901d4fc9d42c9f8af8164b4">&#9670;&#160;</a></span>GetSpellAreaForQuestMapBounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#aebca17b4bc1b0129c26a7c769d90159b">SpellAreaForQuestMapBounds</a> SpellMgr::GetSpellAreaForQuestMapBounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>quest_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1058</span>{</div>
<div class="line"><span class="lineno"> 1059</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d62/a10962.html#aeb50fa0b06b178d23731a9d27156b7b7">mSpellAreaForQuestMap</a>.equal_range(quest_id);</div>
<div class="line"><span class="lineno"> 1060</span>}</div>
<div class="ttc" id="aa10962_html_aeb50fa0b06b178d23731a9d27156b7b7"><div class="ttname"><a href="../../d4/d62/a10962.html#aeb50fa0b06b178d23731a9d27156b7b7">SpellMgr::mSpellAreaForQuestMap</a></div><div class="ttdeci">SpellAreaForQuestMap mSpellAreaForQuestMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:813</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00813">mSpellAreaForQuestMap</a>.</p>

</div>
</div>
<a id="a126f0b2c2c1bdedea38a31967bee99a9" name="a126f0b2c2c1bdedea38a31967bee99a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a126f0b2c2c1bdedea38a31967bee99a9">&#9670;&#160;</a></span>GetSpellAreaMapBounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a4edcdc3e020b29d06505e8048874c414">SpellAreaMapBounds</a> SpellMgr::GetSpellAreaMapBounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spell_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1053</span>{</div>
<div class="line"><span class="lineno"> 1054</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d62/a10962.html#ac68d8e843d1a7a14d16c397e4595ce17">mSpellAreaMap</a>.equal_range(spell_id);</div>
<div class="line"><span class="lineno"> 1055</span>}</div>
<div class="ttc" id="aa10962_html_ac68d8e843d1a7a14d16c397e4595ce17"><div class="ttname"><a href="../../d4/d62/a10962.html#ac68d8e843d1a7a14d16c397e4595ce17">SpellMgr::mSpellAreaMap</a></div><div class="ttdeci">SpellAreaMap mSpellAreaMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:812</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00812">mSpellAreaMap</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02479">LoadSpellAreas()</a>.</p>

</div>
</div>
<a id="a39f100081db0eed42978f65b80592a78" name="a39f100081db0eed42978f65b80592a78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39f100081db0eed42978f65b80592a78">&#9670;&#160;</a></span>GetSpellBonusData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/db8/a10922.html">SpellBonusEntry</a> const  * SpellMgr::GetSpellBonusData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  963</span>{</div>
<div class="line"><span class="lineno">  964</span>    <span class="comment">// Lookup data</span></div>
<div class="line"><span class="lineno">  965</span>    SpellBonusMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#acad2b4b3647850a59bea2a0763ef972c">mSpellBonusMap</a>.find(spellId);</div>
<div class="line"><span class="lineno">  966</span>    <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#acad2b4b3647850a59bea2a0763ef972c">mSpellBonusMap</a>.end())</div>
<div class="line"><span class="lineno">  967</span>        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><span class="lineno">  968</span>    <span class="comment">// Not found, try lookup for 1 spell rank if exist</span></div>
<div class="line"><span class="lineno">  969</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> rank_1 = <a class="code hl_function" href="../../d4/d62/a10962.html#a917957b9f03d8fec71dde17da1a88d51">GetFirstSpellInChain</a>(spellId))</div>
<div class="line"><span class="lineno">  970</span>    {</div>
<div class="line"><span class="lineno">  971</span>        SpellBonusMap::const_iterator itr2 = <a class="code hl_variable" href="../../d4/d62/a10962.html#acad2b4b3647850a59bea2a0763ef972c">mSpellBonusMap</a>.find(rank_1);</div>
<div class="line"><span class="lineno">  972</span>        <span class="keywordflow">if</span> (itr2 != <a class="code hl_variable" href="../../d4/d62/a10962.html#acad2b4b3647850a59bea2a0763ef972c">mSpellBonusMap</a>.end())</div>
<div class="line"><span class="lineno">  973</span>            <span class="keywordflow">return</span> &amp;itr2-&gt;second;</div>
<div class="line"><span class="lineno">  974</span>    }</div>
<div class="line"><span class="lineno">  975</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  976</span>}</div>
<div class="ttc" id="aa10962_html_a917957b9f03d8fec71dde17da1a88d51"><div class="ttname"><a href="../../d4/d62/a10962.html#a917957b9f03d8fec71dde17da1a88d51">SpellMgr::GetFirstSpellInChain</a></div><div class="ttdeci">uint32 GetFirstSpellInChain(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:554</div></div>
<div class="ttc" id="aa10962_html_acad2b4b3647850a59bea2a0763ef972c"><div class="ttname"><a href="../../d4/d62/a10962.html#acad2b4b3647850a59bea2a0763ef972c">SpellMgr::mSpellBonusMap</a></div><div class="ttdeci">SpellBonusMap mSpellBonusMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:805</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00554">GetFirstSpellInChain()</a>, and <a class="el" href="../../#l00805">mSpellBonusMap</a>.</p>

</div>
</div>
<a id="acebee697f2b732ae70bc247c1cdfee01" name="acebee697f2b732ae70bc247c1cdfee01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acebee697f2b732ae70bc247c1cdfee01">&#9670;&#160;</a></span>GetSpellChainNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/deb/a10946.html">SpellChainNode</a> const  * SpellMgr::GetSpellChainNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spell_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  546</span>{</div>
<div class="line"><span class="lineno">  547</span>    SpellChainMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>.find(spell_id);</div>
<div class="line"><span class="lineno">  548</span>    <span class="keywordflow">if</span> (itr == <a class="code hl_variable" href="../../d4/d62/a10962.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>.end())</div>
<div class="line"><span class="lineno">  549</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  550</span> </div>
<div class="line"><span class="lineno">  551</span>    <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><span class="lineno">  552</span>}</div>
<div class="ttc" id="aa10962_html_a25446ffa46c3712a64d43f88f4799e16"><div class="ttname"><a href="../../d4/d62/a10962.html#a25446ffa46c3712a64d43f88f4799e16">SpellMgr::mSpellChains</a></div><div class="ttdeci">SpellChainMap mSpellChains</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:796</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00796">mSpellChains</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00554">GetFirstSpellInChain()</a>, <a class="el" href="../../#l00562">GetLastSpellInChain()</a>, <a class="el" href="../../#l00570">GetNextSpellInChain()</a>, <a class="el" href="../../#l00579">GetPrevSpellInChain()</a>, <a class="el" href="../../#l00588">GetSpellRank()</a>, and <a class="el" href="../../#l00596">GetSpellWithRank()</a>.</p>

</div>
</div>
<a id="aa42cd474dcb20407ec1253f05e74895e" name="aa42cd474dcb20407ec1253f05e74895e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa42cd474dcb20407ec1253f05e74895e">&#9670;&#160;</a></span>GetSpellCooldownOverride()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/da6/a10958.html">SpellCooldownOverride</a> SpellMgr::GetSpellCooldownOverride </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2756</span>{</div>
<div class="line"><span class="lineno"> 2757</span>    <span class="keyword">auto</span> range = <a class="code hl_variable" href="../../d4/d62/a10962.html#ab4262cb58b8845c23eda2fa345679206">mSpellCooldownOverrideMap</a>.find(spellId);</div>
<div class="line"><span class="lineno"> 2758</span>    <span class="keywordflow">return</span> range-&gt;second;</div>
<div class="line"><span class="lineno"> 2759</span>}</div>
<div class="ttc" id="aa10962_html_ab4262cb58b8845c23eda2fa345679206"><div class="ttname"><a href="../../d4/d62/a10962.html#ab4262cb58b8845c23eda2fa345679206">SpellMgr::mSpellCooldownOverrideMap</a></div><div class="ttdeci">SpellCooldownOverrideMap mSpellCooldownOverrideMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:821</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00821">mSpellCooldownOverrideMap</a>.</p>

</div>
</div>
<a id="abba48283a65ce30e83030b7cfc4d6a2a" name="abba48283a65ce30e83030b7cfc4d6a2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abba48283a65ce30e83030b7cfc4d6a2a">&#9670;&#160;</a></span>GetSpellDifficultyId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> SpellMgr::GetSpellDifficultyId </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  479</span>{</div>
<div class="line"><span class="lineno">  480</span>    SpellDifficultySearcherMap::const_iterator i = <a class="code hl_variable" href="../../d4/d62/a10962.html#a7095c038ec0ebbc2c9528edacf29f1b4">mSpellDifficultySearcherMap</a>.find(spellId);</div>
<div class="line"><span class="lineno">  481</span>    <span class="keywordflow">return</span> i == <a class="code hl_variable" href="../../d4/d62/a10962.html#a7095c038ec0ebbc2c9528edacf29f1b4">mSpellDifficultySearcherMap</a>.end() ? 0 : (*i).second;</div>
<div class="line"><span class="lineno">  482</span>}</div>
<div class="ttc" id="aa10962_html_a7095c038ec0ebbc2c9528edacf29f1b4"><div class="ttname"><a href="../../d4/d62/a10962.html#a7095c038ec0ebbc2c9528edacf29f1b4">SpellMgr::mSpellDifficultySearcherMap</a></div><div class="ttdeci">SpellDifficultySearcherMap mSpellDifficultySearcherMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:795</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00795">mSpellDifficultySearcherMap</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00489">GetSpellIdForDifficulty()</a>.</p>

</div>
</div>
<a id="ab4b0ea63ff350768aedc13ab7dbbf576" name="ab4b0ea63ff350768aedc13ab7dbbf576"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4b0ea63ff350768aedc13ab7dbbf576">&#9670;&#160;</a></span>GetSpellEnchantProcEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/ddf/a10918.html">SpellEnchantProcEntry</a> const  * SpellMgr::GetSpellEnchantProcEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>enchId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1017</span>{</div>
<div class="line"><span class="lineno"> 1018</span>    SpellEnchantProcEventMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#a92a4c6ade6c7005f1d001c6935139272">mSpellEnchantProcEventMap</a>.find(enchId);</div>
<div class="line"><span class="lineno"> 1019</span>    <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#a92a4c6ade6c7005f1d001c6935139272">mSpellEnchantProcEventMap</a>.end())</div>
<div class="line"><span class="lineno"> 1020</span>        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><span class="lineno"> 1021</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1022</span>}</div>
<div class="ttc" id="aa10962_html_a92a4c6ade6c7005f1d001c6935139272"><div class="ttname"><a href="../../d4/d62/a10962.html#a92a4c6ade6c7005f1d001c6935139272">SpellMgr::mSpellEnchantProcEventMap</a></div><div class="ttdeci">SpellEnchantProcEventMap mSpellEnchantProcEventMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:810</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00810">mSpellEnchantProcEventMap</a>.</p>

</div>
</div>
<a id="a6df7fb4895452850c8b8f151ccfd2536" name="a6df7fb4895452850c8b8f151ccfd2536"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6df7fb4895452850c8b8f151ccfd2536">&#9670;&#160;</a></span>GetSpellForDifficultyFromSpell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const  * SpellMgr::GetSpellForDifficultyFromSpell </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *&#160;</td>
          <td class="paramname"><em>spell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d15/a08526.html">Unit</a> const *&#160;</td>
          <td class="paramname"><em>caster</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  532</span>{</div>
<div class="line"><span class="lineno">  533</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> newSpellId = <a class="code hl_function" href="../../d4/d62/a10962.html#a229921c46ca2e8e849d1dd5682f78247">GetSpellIdForDifficulty</a>(spell-&gt;Id, caster);</div>
<div class="line"><span class="lineno">  534</span>    <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* newSpell = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(newSpellId);</div>
<div class="line"><span class="lineno">  535</span>    <span class="keywordflow">if</span> (!newSpell)</div>
<div class="line"><span class="lineno">  536</span>    {</div>
<div class="line"><span class="lineno">  537</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;spells.aura&quot;</span>, <span class="stringliteral">&quot;SpellMgr::GetSpellForDifficultyFromSpell: spell {} not found. Check spelldifficulty_dbc!&quot;</span>, newSpellId);</div>
<div class="line"><span class="lineno">  538</span>        <span class="keywordflow">return</span> spell;</div>
<div class="line"><span class="lineno">  539</span>    }</div>
<div class="line"><span class="lineno">  540</span> </div>
<div class="line"><span class="lineno">  541</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;spells.aura&quot;</span>, <span class="stringliteral">&quot;SpellMgr::GetSpellForDifficultyFromSpell: Spell id for instance mode is {} (original {})&quot;</span>, newSpell-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>, spell-&gt;Id);</div>
<div class="line"><span class="lineno">  542</span>    <span class="keywordflow">return</span> newSpell;</div>
<div class="line"><span class="lineno">  543</span>}</div>
<div class="ttc" id="aa00035_html_a47ac782b14a7531c6232777165a1a161"><div class="ttname"><a href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a></div><div class="ttdeci">#define LOG_DEBUG(filterType__,...)</div><div class="ttdef"><b>Definition:</b> Log.h:169</div></div>
<div class="ttc" id="aa10906_html_a49bc14059c2bd3785231c52e0d54d382"><div class="ttname"><a href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">SpellInfo::Id</a></div><div class="ttdeci">uint32 Id</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:320</div></div>
<div class="ttc" id="aa10962_html_a229921c46ca2e8e849d1dd5682f78247"><div class="ttname"><a href="../../d4/d62/a10962.html#a229921c46ca2e8e849d1dd5682f78247">SpellMgr::GetSpellIdForDifficulty</a></div><div class="ttdeci">uint32 GetSpellIdForDifficulty(uint32 spellId, Unit const *caster) const</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:489</div></div>
<div class="ttc" id="aa10962_html_a5f55093e0190a68e75b2f3f49a07e853"><div class="ttname"><a href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">SpellMgr::GetSpellInfo</a></div><div class="ttdeci">SpellInfo const * GetSpellInfo(uint32 spellId) const</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:726</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00489">GetSpellIdForDifficulty()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00320">SpellInfo::Id</a>, and <a class="el" href="../../#l00169">LOG_DEBUG</a>.</p>

</div>
</div>
<a id="a679972bc59cdebe7764c078a82fa63f3" name="a679972bc59cdebe7764c078a82fa63f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a679972bc59cdebe7764c078a82fa63f3">&#9670;&#160;</a></span>GetSpellGroup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> SpellMgr::GetSpellGroup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  661</span>{</div>
<div class="line"><span class="lineno">  662</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> first_rank = <a class="code hl_function" href="../../d4/d62/a10962.html#a917957b9f03d8fec71dde17da1a88d51">GetFirstSpellInChain</a>(spell_id);</div>
<div class="line"><span class="lineno">  663</span>    SpellGroupMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.find(first_rank);</div>
<div class="line"><span class="lineno">  664</span>    <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.end())</div>
<div class="line"><span class="lineno">  665</span>        <span class="keywordflow">return</span> itr-&gt;second.groupId;</div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  668</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00554">GetFirstSpellInChain()</a>, and <a class="el" href="../../#l00801">mSpellGroupMap</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00680">CheckSpellGroupStackRules()</a>.</p>

</div>
</div>
<a id="aff6f0cb835c53a025c937376089e68a2" name="aff6f0cb835c53a025c937376089e68a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff6f0cb835c53a025c937376089e68a2">&#9670;&#160;</a></span>GetSpellGroupSpecialFlags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eb">SpellGroupSpecialFlags</a> SpellMgr::GetSpellGroupSpecialFlags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spell_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  671</span>{</div>
<div class="line"><span class="lineno">  672</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> first_rank = <a class="code hl_function" href="../../d4/d62/a10962.html#a917957b9f03d8fec71dde17da1a88d51">GetFirstSpellInChain</a>(spell_id);</div>
<div class="line"><span class="lineno">  673</span>    SpellGroupMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.find(first_rank);</div>
<div class="line"><span class="lineno">  674</span>    <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.end())</div>
<div class="line"><span class="lineno">  675</span>        <span class="keywordflow">return</span> itr-&gt;second.specialFlags;</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1ebafcdcc89a75089da2c021819a91f01c2e">SPELL_GROUP_SPECIAL_FLAG_NONE</a>;</div>
<div class="line"><span class="lineno">  678</span>}</div>
<div class="ttc" id="aa03110_html_ab9f8654c03ec40ac9bdc5214da99e1ebafcdcc89a75089da2c021819a91f01c2e"><div class="ttname"><a href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1ebafcdcc89a75089da2c021819a91f01c2e">SPELL_GROUP_SPECIAL_FLAG_NONE</a></div><div class="ttdeci">@ SPELL_GROUP_SPECIAL_FLAG_NONE</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:335</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00554">GetFirstSpellInChain()</a>, <a class="el" href="../../#l00801">mSpellGroupMap</a>, and <a class="el" href="../../#l00335">SPELL_GROUP_SPECIAL_FLAG_NONE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00680">CheckSpellGroupStackRules()</a>.</p>

</div>
</div>
<a id="a229921c46ca2e8e849d1dd5682f78247" name="a229921c46ca2e8e849d1dd5682f78247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a229921c46ca2e8e849d1dd5682f78247">&#9670;&#160;</a></span>GetSpellIdForDifficulty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> SpellMgr::GetSpellIdForDifficulty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d15/a08526.html">Unit</a> const *&#160;</td>
          <td class="paramname"><em>caster</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  490</span>{</div>
<div class="line"><span class="lineno">  491</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(spellId))</div>
<div class="line"><span class="lineno">  492</span>        <span class="keywordflow">return</span> spellId;</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>    <span class="keywordflow">if</span> (!caster || !caster-&gt;GetMap() || (!caster-&gt;GetMap()-&gt;IsDungeon() &amp;&amp; !caster-&gt;GetMap()-&gt;IsBattleground()))</div>
<div class="line"><span class="lineno">  495</span>        <span class="keywordflow">return</span> spellId;</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> mode = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(caster-&gt;GetMap()-&gt;GetSpawnMode());</div>
<div class="line"><span class="lineno">  498</span>    <span class="keywordflow">if</span> (mode &gt;= <a class="code hl_define" href="../../dc/d80/a02756.html#a4b8f96edf5459f120db77f80275dfe5c">MAX_DIFFICULTY</a>)</div>
<div class="line"><span class="lineno">  499</span>    {</div>
<div class="line"><span class="lineno">  500</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;spells&quot;</span>, <span class="stringliteral">&quot;SpellMgr::GetSpellIdForDifficulty: Incorrect Difficulty for spell {}.&quot;</span>, spellId);</div>
<div class="line"><span class="lineno">  501</span>        <span class="keywordflow">return</span> spellId; <span class="comment">//return source spell</span></div>
<div class="line"><span class="lineno">  502</span>    }</div>
<div class="line"><span class="lineno">  503</span> </div>
<div class="line"><span class="lineno">  504</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> difficultyId = <a class="code hl_function" href="../../d4/d62/a10962.html#abba48283a65ce30e83030b7cfc4d6a2a">GetSpellDifficultyId</a>(spellId);</div>
<div class="line"><span class="lineno">  505</span>    <span class="keywordflow">if</span> (!difficultyId)</div>
<div class="line"><span class="lineno">  506</span>        <span class="keywordflow">return</span> spellId; <span class="comment">//return source spell, it has only REGULAR_DIFFICULTY</span></div>
<div class="line"><span class="lineno">  507</span> </div>
<div class="line"><span class="lineno">  508</span>    <a class="code hl_struct" href="../../d7/d30/a27934.html">SpellDifficultyEntry</a> <span class="keyword">const</span>* difficultyEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a6b21bf3194949981805945033714bbd8">sSpellDifficultyStore</a>.LookupEntry(difficultyId);</div>
<div class="line"><span class="lineno">  509</span>    <span class="keywordflow">if</span> (!difficultyEntry)</div>
<div class="line"><span class="lineno">  510</span>    {</div>
<div class="line"><span class="lineno">  511</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;spells.aura&quot;</span>, <span class="stringliteral">&quot;SpellMgr::GetSpellIdForDifficulty: SpellDifficultyEntry not found for spell {}. This should never happen.&quot;</span>, spellId);</div>
<div class="line"><span class="lineno">  512</span>        <span class="keywordflow">return</span> spellId; <span class="comment">//return source spell</span></div>
<div class="line"><span class="lineno">  513</span>    }</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>    <span class="keywordflow">if</span> (difficultyEntry-&gt;<a class="code hl_variable" href="../../d7/d30/a27934.html#a231d22a763ddcd9f1fbdab81521dcf67">SpellID</a>[mode] &lt;= 0 &amp;&amp; mode &gt; <a class="code hl_enumvalue" href="../../dc/d80/a02756.html#a39d5903d54e674f4f2e824581ade546ba8e5e0567af94d14d53209944fd9136ff">DUNGEON_DIFFICULTY_HEROIC</a>)</div>
<div class="line"><span class="lineno">  516</span>    {</div>
<div class="line"><span class="lineno">  517</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;spells.aura&quot;</span>, <span class="stringliteral">&quot;SpellMgr::GetSpellIdForDifficulty: spell {} mode {} spell is nullptr, using mode {}&quot;</span>, spellId, mode, mode - 2);</div>
<div class="line"><span class="lineno">  518</span>        mode -= 2;</div>
<div class="line"><span class="lineno">  519</span>    }</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>    <span class="keywordflow">if</span> (difficultyEntry-&gt;<a class="code hl_variable" href="../../d7/d30/a27934.html#a231d22a763ddcd9f1fbdab81521dcf67">SpellID</a>[mode] &lt;= 0)</div>
<div class="line"><span class="lineno">  522</span>    {</div>
<div class="line"><span class="lineno">  523</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;SpellMgr::GetSpellIdForDifficulty: spell {} mode {} spell is 0. Check spelldifficulty_dbc!&quot;</span>, spellId, mode);</div>
<div class="line"><span class="lineno">  524</span>        <span class="keywordflow">return</span> spellId;</div>
<div class="line"><span class="lineno">  525</span>    }</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;spells.aura&quot;</span>, <span class="stringliteral">&quot;SpellMgr::GetSpellIdForDifficulty: spellid for spell {} in mode {} is {}&quot;</span>, spellId, mode, difficultyEntry-&gt;<a class="code hl_variable" href="../../d7/d30/a27934.html#a231d22a763ddcd9f1fbdab81521dcf67">SpellID</a>[mode]);</div>
<div class="line"><span class="lineno">  528</span>    <span class="keywordflow">return</span> <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(difficultyEntry-&gt;<a class="code hl_variable" href="../../d7/d30/a27934.html#a231d22a763ddcd9f1fbdab81521dcf67">SpellID</a>[mode]);</div>
<div class="line"><span class="lineno">  529</span>}</div>
<div class="ttc" id="aa02756_html_a39d5903d54e674f4f2e824581ade546ba8e5e0567af94d14d53209944fd9136ff"><div class="ttname"><a href="../../dc/d80/a02756.html#a39d5903d54e674f4f2e824581ade546ba8e5e0567af94d14d53209944fd9136ff">DUNGEON_DIFFICULTY_HEROIC</a></div><div class="ttdeci">@ DUNGEON_DIFFICULTY_HEROIC</div><div class="ttdef"><b>Definition:</b> DBCEnums.h:270</div></div>
<div class="ttc" id="aa02756_html_a4b8f96edf5459f120db77f80275dfe5c"><div class="ttname"><a href="../../dc/d80/a02756.html#a4b8f96edf5459f120db77f80275dfe5c">MAX_DIFFICULTY</a></div><div class="ttdeci">#define MAX_DIFFICULTY</div><div class="ttdef"><b>Definition:</b> DBCEnums.h:283</div></div>
<div class="ttc" id="aa03704_html_a6b21bf3194949981805945033714bbd8"><div class="ttname"><a href="../../d7/da2/a03704.html#a6b21bf3194949981805945033714bbd8">sSpellDifficultyStore</a></div><div class="ttdeci">DBCStorage&lt; SpellDifficultyEntry &gt; sSpellDifficultyStore(SpellDifficultyfmt)</div></div>
<div class="ttc" id="aa10962_html_abba48283a65ce30e83030b7cfc4d6a2a"><div class="ttname"><a href="../../d4/d62/a10962.html#abba48283a65ce30e83030b7cfc4d6a2a">SpellMgr::GetSpellDifficultyId</a></div><div class="ttdeci">uint32 GetSpellDifficultyId(uint32 spellId) const</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:478</div></div>
<div class="ttc" id="aa27934_html"><div class="ttname"><a href="../../d7/d30/a27934.html">SpellDifficultyEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1771</div></div>
<div class="ttc" id="aa27934_html_a231d22a763ddcd9f1fbdab81521dcf67"><div class="ttname"><a href="../../d7/d30/a27934.html#a231d22a763ddcd9f1fbdab81521dcf67">SpellDifficultyEntry::SpellID</a></div><div class="ttdeci">int32 SpellID[MAX_DIFFICULTY]</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1773</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00270">DUNGEON_DIFFICULTY_HEROIC</a>, <a class="el" href="../../#l00531">WorldObject::GetMap()</a>, <a class="el" href="../../#l00418">Map::GetSpawnMode()</a>, <a class="el" href="../../#l00478">GetSpellDifficultyId()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00452">Map::IsBattleground()</a>, <a class="el" href="../../#l00446">Map::IsDungeon()</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00283">MAX_DIFFICULTY</a>, <a class="el" href="../../#l01773">SpellDifficultyEntry::SpellID</a>, and <a class="el" href="../../d7/da2/a03704.html#a6b21bf3194949981805945033714bbd8">sSpellDifficultyStore</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00531">GetSpellForDifficultyFromSpell()</a>.</p>

</div>
</div>
<a id="a5f55093e0190a68e75b2f3f49a07e853" name="a5f55093e0190a68e75b2f3f49a07e853"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f55093e0190a68e75b2f3f49a07e853">&#9670;&#160;</a></span>GetSpellInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const  * SpellMgr::GetSpellInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  726</span>{ <span class="keywordflow">return</span> spellId &lt; <a class="code hl_function" href="../../d4/d62/a10962.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>() ?  <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[spellId] : <span class="keyword">nullptr</span>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00751">GetSpellInfoStoreSize()</a>, and <a class="el" href="../../#l00820">mSpellInfoMap</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00531">GetSpellForDifficultyFromSpell()</a>, <a class="el" href="../../#l00489">GetSpellIdForDifficulty()</a>, <a class="el" href="../../#l02166">LoadEnchantCustomAttr()</a>, <a class="el" href="../../#l02399">LoadPetDefaultSpells()</a>, <a class="el" href="../../#l02305">LoadPetLevelupSpellMap()</a>, <a class="el" href="../../#l02479">LoadSpellAreas()</a>, <a class="el" href="../../#l01963">LoadSpellBonuses()</a>, <a class="el" href="../../#l01626">LoadSpellGroups()</a>, <a class="el" href="../../#l00039">LoadSpellInfoCorrections()</a>, <a class="el" href="../../#l02796">LoadSpellInfoCustomAttributes()</a>, <a class="el" href="../../#l01468">LoadSpellLearnSkills()</a>, <a class="el" href="../../#l02252">LoadSpellLinked()</a>, <a class="el" href="../../#l02045">LoadSpellMixology()</a>, <a class="el" href="../../#l02103">LoadSpellPetAuras()</a>, <a class="el" href="../../#l01737">LoadSpellProcEvents()</a>, <a class="el" href="../../#l01831">LoadSpellProcs()</a>, <a class="el" href="../../#l01292">LoadSpellRanks()</a>, <a class="el" href="../../#l01403">LoadSpellRequired()</a>, <a class="el" href="../../#l01231">LoadSpellTalentRanks()</a>, <a class="el" href="../../#l01521">LoadSpellTargetPositions()</a>, and <a class="el" href="../../#l02004">LoadSpellThreats()</a>.</p>

</div>
</div>
<a id="aca8a0eccca0aa32dc2cc9802597c0256" name="aca8a0eccca0aa32dc2cc9802597c0256"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca8a0eccca0aa32dc2cc9802597c0256">&#9670;&#160;</a></span>GetSpellInfoStoreSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> SpellMgr::GetSpellInfoStoreSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  751</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>.size(); }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00820">mSpellInfoMap</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00760">_GetSpellInfo()</a>, <a class="el" href="../../#l00728">AssertSpellInfo()</a>, <a class="el" href="../../#l00736">CheckSpellInfo()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l02166">LoadEnchantCustomAttr()</a>, <a class="el" href="../../#l02399">LoadPetDefaultSpells()</a>, <a class="el" href="../../#l00039">LoadSpellInfoCorrections()</a>, <a class="el" href="../../#l02796">LoadSpellInfoCustomAttributes()</a>, <a class="el" href="../../#l02690">LoadSpellInfoStore()</a>, <a class="el" href="../../#l01468">LoadSpellLearnSkills()</a>, <a class="el" href="../../#l02778">LoadSpellSpecificAndAuraState()</a>, <a class="el" href="../../#l02769">UnloadSpellInfoImplicitTargetConditionLists()</a>, and <a class="el" href="../../#l02761">UnloadSpellInfoStore()</a>.</p>

</div>
</div>
<a id="a5447b1a2108c3f9ae01d5a29a4adaed4" name="a5447b1a2108c3f9ae01d5a29a4adaed4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5447b1a2108c3f9ae01d5a29a4adaed4">&#9670;&#160;</a></span>GetSpellLearnSkill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/daf/a10950.html">SpellLearnSkillNode</a> const  * SpellMgr::GetSpellLearnSkill </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spell_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  635</span>{</div>
<div class="line"><span class="lineno">  636</span>    SpellLearnSkillMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#a32d05e01103bd64f22e3993bf46e4bb6">mSpellLearnSkills</a>.find(spell_id);</div>
<div class="line"><span class="lineno">  637</span>    <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#a32d05e01103bd64f22e3993bf46e4bb6">mSpellLearnSkills</a>.end())</div>
<div class="line"><span class="lineno">  638</span>        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><span class="lineno">  639</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  640</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  641</span>}</div>
<div class="ttc" id="aa10962_html_a32d05e01103bd64f22e3993bf46e4bb6"><div class="ttname"><a href="../../d4/d62/a10962.html#a32d05e01103bd64f22e3993bf46e4bb6">SpellMgr::mSpellLearnSkills</a></div><div class="ttdeci">SpellLearnSkillMap mSpellLearnSkills</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:799</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00799">mSpellLearnSkills</a>.</p>

</div>
</div>
<a id="a584653ee18b92069bbfe9e934eeef3bb" name="a584653ee18b92069bbfe9e934eeef3bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a584653ee18b92069bbfe9e934eeef3bb">&#9670;&#160;</a></span>GetSpellLinked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; <a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> &gt; * SpellMgr::GetSpellLinked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&#160;</td>
          <td class="paramname"><em>spell_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1030</span>{</div>
<div class="line"><span class="lineno"> 1031</span>    SpellLinkedMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#a032f25dee822225e2dfbb75e1c6d56f5">mSpellLinkedMap</a>.find(spell_id);</div>
<div class="line"><span class="lineno"> 1032</span>    <span class="keywordflow">return</span> itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#a032f25dee822225e2dfbb75e1c6d56f5">mSpellLinkedMap</a>.end() ? &amp;(itr-&gt;second) : <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1033</span>}</div>
<div class="ttc" id="aa10962_html_a032f25dee822225e2dfbb75e1c6d56f5"><div class="ttname"><a href="../../d4/d62/a10962.html#a032f25dee822225e2dfbb75e1c6d56f5">SpellMgr::mSpellLinkedMap</a></div><div class="ttdeci">SpellLinkedMap mSpellLinkedMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:809</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00809">mSpellLinkedMap</a>.</p>

</div>
</div>
<a id="a427b7f918b77886b820f3a7518271bc0" name="a427b7f918b77886b820f3a7518271bc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a427b7f918b77886b820f3a7518271bc0">&#9670;&#160;</a></span>GetSpellMixologyBonus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float SpellMgr::GetSpellMixologyBonus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  994</span>{</div>
<div class="line"><span class="lineno">  995</span>    SpellMixologyMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#a5637b3248011a308a57338e6f74b7bdd">mSpellMixologyMap</a>.find(spellId);</div>
<div class="line"><span class="lineno">  996</span>    <span class="keywordflow">if</span> (itr == <a class="code hl_variable" href="../../d4/d62/a10962.html#a5637b3248011a308a57338e6f74b7bdd">mSpellMixologyMap</a>.end())</div>
<div class="line"><span class="lineno">  997</span>        <span class="keywordflow">return</span> 30.0f;</div>
<div class="line"><span class="lineno">  998</span> </div>
<div class="line"><span class="lineno">  999</span>    <span class="keywordflow">return</span> itr-&gt;second;</div>
<div class="line"><span class="lineno"> 1000</span>}</div>
<div class="ttc" id="aa10962_html_a5637b3248011a308a57338e6f74b7bdd"><div class="ttname"><a href="../../d4/d62/a10962.html#a5637b3248011a308a57338e6f74b7bdd">SpellMgr::mSpellMixologyMap</a></div><div class="ttdeci">SpellMixologyMap mSpellMixologyMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:807</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00807">mSpellMixologyMap</a>.</p>

</div>
</div>
<a id="aa5fc4532b216d557e88841f5ffc00865" name="aa5fc4532b216d557e88841f5ffc00865"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5fc4532b216d557e88841f5ffc00865">&#9670;&#160;</a></span>GetSpellProcEntry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d6c/a10914.html">SpellProcEntry</a> const  * SpellMgr::GetSpellProcEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  890</span>{</div>
<div class="line"><span class="lineno">  891</span>    SpellProcMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#a9f6998b4fee8fba87ad8d372abd8693d">mSpellProcMap</a>.find(spellId);</div>
<div class="line"><span class="lineno">  892</span>    <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#a9f6998b4fee8fba87ad8d372abd8693d">mSpellProcMap</a>.end())</div>
<div class="line"><span class="lineno">  893</span>        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><span class="lineno">  894</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  895</span>}</div>
<div class="ttc" id="aa10962_html_a9f6998b4fee8fba87ad8d372abd8693d"><div class="ttname"><a href="../../d4/d62/a10962.html#a9f6998b4fee8fba87ad8d372abd8693d">SpellMgr::mSpellProcMap</a></div><div class="ttdeci">SpellProcMap mSpellProcMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:804</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00804">mSpellProcMap</a>.</p>

</div>
</div>
<a id="a252d713f0b10a4665f9470174463bbf5" name="a252d713f0b10a4665f9470174463bbf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a252d713f0b10a4665f9470174463bbf5">&#9670;&#160;</a></span>GetSpellProcEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/df5/a10910.html">SpellProcEventEntry</a> const  * SpellMgr::GetSpellProcEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  730</span>{</div>
<div class="line"><span class="lineno">  731</span>    SpellProcEventMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#a3e6353afe01453ebf0bab09cde94673e">mSpellProcEventMap</a>.find(spellId);</div>
<div class="line"><span class="lineno">  732</span>    <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#a3e6353afe01453ebf0bab09cde94673e">mSpellProcEventMap</a>.end())</div>
<div class="line"><span class="lineno">  733</span>        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><span class="lineno">  734</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  735</span>}</div>
<div class="ttc" id="aa10962_html_a3e6353afe01453ebf0bab09cde94673e"><div class="ttname"><a href="../../d4/d62/a10962.html#a3e6353afe01453ebf0bab09cde94673e">SpellMgr::mSpellProcEventMap</a></div><div class="ttdeci">SpellProcEventMap mSpellProcEventMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:803</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00803">mSpellProcEventMap</a>.</p>

</div>
</div>
<a id="abff37b8018ffb588f42b2c0a4c229783" name="abff37b8018ffb588f42b2c0a4c229783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abff37b8018ffb588f42b2c0a4c229783">&#9670;&#160;</a></span>GetSpellRank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> SpellMgr::GetSpellRank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spell_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  589</span>{</div>
<div class="line"><span class="lineno">  590</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d5/deb/a10946.html">SpellChainNode</a> <span class="keyword">const</span>* node = <a class="code hl_function" href="../../d4/d62/a10962.html#acebee697f2b732ae70bc247c1cdfee01">GetSpellChainNode</a>(spell_id))</div>
<div class="line"><span class="lineno">  591</span>        <span class="keywordflow">return</span> node-&gt;rank;</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  594</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00545">GetSpellChainNode()</a>.</p>

</div>
</div>
<a id="a5bdcfedf4f314c64b7ed33a1a7726c87" name="a5bdcfedf4f314c64b7ed33a1a7726c87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bdcfedf4f314c64b7ed33a1a7726c87">&#9670;&#160;</a></span>GetSpellsRequiredForSpellBounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a88ffc1e3eda7c90f1f55e169dc76b444">SpellRequiredMapBounds</a> SpellMgr::GetSpellsRequiredForSpellBounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spell_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  609</span>{</div>
<div class="line"><span class="lineno">  610</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d62/a10962.html#a0037908371f475d84ba4319c7109e12d">mSpellReq</a>.equal_range(spell_id);</div>
<div class="line"><span class="lineno">  611</span>}</div>
<div class="ttc" id="aa10962_html_a0037908371f475d84ba4319c7109e12d"><div class="ttname"><a href="../../d4/d62/a10962.html#a0037908371f475d84ba4319c7109e12d">SpellMgr::mSpellReq</a></div><div class="ttdeci">SpellRequiredMap mSpellReq</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:798</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00798">mSpellReq</a>.</p>

</div>
</div>
<a id="ad3ba910260b662307aecc92b0e696930" name="ad3ba910260b662307aecc92b0e696930"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3ba910260b662307aecc92b0e696930">&#9670;&#160;</a></span>GetSpellsRequiringSpellBounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a387f031811a92887df5962b41c7b2532">SpellsRequiringSpellMapBounds</a> SpellMgr::GetSpellsRequiringSpellBounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spell_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  614</span>{</div>
<div class="line"><span class="lineno">  615</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d62/a10962.html#aa03760f8043a0c684d18527d7ed934d3">mSpellsReqSpell</a>.equal_range(spell_id);</div>
<div class="line"><span class="lineno">  616</span>}</div>
<div class="ttc" id="aa10962_html_aa03760f8043a0c684d18527d7ed934d3"><div class="ttname"><a href="../../d4/d62/a10962.html#aa03760f8043a0c684d18527d7ed934d3">SpellMgr::mSpellsReqSpell</a></div><div class="ttdeci">SpellsRequiringSpellMap mSpellsReqSpell</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:797</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00797">mSpellsReqSpell</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00618">IsSpellRequiringSpell()</a>.</p>

</div>
</div>
<a id="aad78451cae5cf043b4d39cc3fa7666d8" name="aad78451cae5cf043b4d39cc3fa7666d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad78451cae5cf043b4d39cc3fa7666d8">&#9670;&#160;</a></span>GetSpellTargetPosition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d3a/a10934.html">SpellTargetPosition</a> const  * SpellMgr::GetSpellTargetPosition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spell_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ff">SpellEffIndex</a>&#160;</td>
          <td class="paramname"><em>effIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  644</span>{</div>
<div class="line"><span class="lineno">  645</span>    SpellTargetPositionMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#aa36449309e445b361a05bf77e4bd5698">mSpellTargetPositions</a>.find(std::make_pair(spell_id, effIndex));</div>
<div class="line"><span class="lineno">  646</span>    <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#aa36449309e445b361a05bf77e4bd5698">mSpellTargetPositions</a>.end())</div>
<div class="line"><span class="lineno">  647</span>        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><span class="lineno">  648</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  649</span>}</div>
<div class="ttc" id="aa10962_html_aa36449309e445b361a05bf77e4bd5698"><div class="ttname"><a href="../../d4/d62/a10962.html#aa36449309e445b361a05bf77e4bd5698">SpellMgr::mSpellTargetPositions</a></div><div class="ttdeci">SpellTargetPositionMap mSpellTargetPositions</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:800</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00800">mSpellTargetPositions</a>.</p>

</div>
</div>
<a id="a88999f0d29a0aba73ec20deef99297a8" name="a88999f0d29a0aba73ec20deef99297a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88999f0d29a0aba73ec20deef99297a8">&#9670;&#160;</a></span>GetSpellThreatEntry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/df1/a10930.html">SpellThreatEntry</a> const  * SpellMgr::GetSpellThreatEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellID</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  979</span>{</div>
<div class="line"><span class="lineno">  980</span>    SpellThreatMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#ae9c903197d7e59109bdc7675663ff93f">mSpellThreatMap</a>.find(spellID);</div>
<div class="line"><span class="lineno">  981</span>    <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#ae9c903197d7e59109bdc7675663ff93f">mSpellThreatMap</a>.end())</div>
<div class="line"><span class="lineno">  982</span>        <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><span class="lineno">  983</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  984</span>    {</div>
<div class="line"><span class="lineno">  985</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> firstSpell = <a class="code hl_function" href="../../d4/d62/a10962.html#a917957b9f03d8fec71dde17da1a88d51">GetFirstSpellInChain</a>(spellID);</div>
<div class="line"><span class="lineno">  986</span>        itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#ae9c903197d7e59109bdc7675663ff93f">mSpellThreatMap</a>.find(firstSpell);</div>
<div class="line"><span class="lineno">  987</span>        <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#ae9c903197d7e59109bdc7675663ff93f">mSpellThreatMap</a>.end())</div>
<div class="line"><span class="lineno">  988</span>            <span class="keywordflow">return</span> &amp;itr-&gt;second;</div>
<div class="line"><span class="lineno">  989</span>    }</div>
<div class="line"><span class="lineno">  990</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  991</span>}</div>
<div class="ttc" id="aa10962_html_ae9c903197d7e59109bdc7675663ff93f"><div class="ttname"><a href="../../d4/d62/a10962.html#ae9c903197d7e59109bdc7675663ff93f">SpellMgr::mSpellThreatMap</a></div><div class="ttdeci">SpellThreatMap mSpellThreatMap</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:806</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00554">GetFirstSpellInChain()</a>, and <a class="el" href="../../#l00806">mSpellThreatMap</a>.</p>

</div>
</div>
<a id="a542127facbfc4376dcc0a732dc46086e" name="a542127facbfc4376dcc0a732dc46086e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a542127facbfc4376dcc0a732dc46086e">&#9670;&#160;</a></span>GetSpellWithRank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> SpellMgr::GetSpellWithRank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spell_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>strict</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  597</span>{</div>
<div class="line"><span class="lineno">  598</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d5/deb/a10946.html">SpellChainNode</a> <span class="keyword">const</span>* node = <a class="code hl_function" href="../../d4/d62/a10962.html#acebee697f2b732ae70bc247c1cdfee01">GetSpellChainNode</a>(spell_id))</div>
<div class="line"><span class="lineno">  599</span>    {</div>
<div class="line"><span class="lineno">  600</span>        <span class="keywordflow">if</span> (rank != node-&gt;rank)</div>
<div class="line"><span class="lineno">  601</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/d62/a10962.html#a542127facbfc4376dcc0a732dc46086e">GetSpellWithRank</a>(node-&gt;rank &lt; rank ? node-&gt;next-&gt;Id : node-&gt;prev-&gt;Id, rank, strict);</div>
<div class="line"><span class="lineno">  602</span>    }</div>
<div class="line"><span class="lineno">  603</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strict &amp;&amp; rank &gt; 1)</div>
<div class="line"><span class="lineno">  604</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  605</span>    <span class="keywordflow">return</span> spell_id;</div>
<div class="line"><span class="lineno">  606</span>}</div>
<div class="ttc" id="aa10962_html_a542127facbfc4376dcc0a732dc46086e"><div class="ttname"><a href="../../d4/d62/a10962.html#a542127facbfc4376dcc0a732dc46086e">SpellMgr::GetSpellWithRank</a></div><div class="ttdeci">uint32 GetSpellWithRank(uint32 spell_id, uint32 rank, bool strict=false) const</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:596</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00545">GetSpellChainNode()</a>, and <a class="el" href="../../#l00596">GetSpellWithRank()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00596">GetSpellWithRank()</a>.</p>

</div>
</div>
<a id="aff0216d5ca025b8fb37a0feb3d4097b6" name="aff0216d5ca025b8fb37a0feb3d4097b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff0216d5ca025b8fb37a0feb3d4097b6">&#9670;&#160;</a></span>HasSpellCooldownOverride()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpellMgr::HasSpellCooldownOverride </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2751</span>{</div>
<div class="line"><span class="lineno"> 2752</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d62/a10962.html#ab4262cb58b8845c23eda2fa345679206">mSpellCooldownOverrideMap</a>.find(spellId) != <a class="code hl_variable" href="../../d4/d62/a10962.html#ab4262cb58b8845c23eda2fa345679206">mSpellCooldownOverrideMap</a>.end();</div>
<div class="line"><span class="lineno"> 2753</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00821">mSpellCooldownOverrideMap</a>.</p>

</div>
</div>
<a id="a3140ce48682bc3540bac63cace6b8fb2" name="a3140ce48682bc3540bac63cace6b8fb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3140ce48682bc3540bac63cace6b8fb2">&#9670;&#160;</a></span>instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d62/a10962.html">SpellMgr</a> * SpellMgr::instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  364</span>{</div>
<div class="line"><span class="lineno">  365</span>    <span class="keyword">static</span> <a class="code hl_class" href="../../d4/d62/a10962.html">SpellMgr</a> <a class="code hl_function" href="../../d4/d62/a10962.html#a3140ce48682bc3540bac63cace6b8fb2">instance</a>;</div>
<div class="line"><span class="lineno">  366</span>    <span class="keywordflow">return</span> &amp;<a class="code hl_function" href="../../d4/d62/a10962.html#a3140ce48682bc3540bac63cace6b8fb2">instance</a>;</div>
<div class="line"><span class="lineno">  367</span>}</div>
<div class="ttc" id="aa10962_html"><div class="ttname"><a href="../../d4/d62/a10962.html">SpellMgr</a></div><div class="ttdef"><b>Definition:</b> SpellMgr.h:640</div></div>
<div class="ttc" id="aa10962_html_a3140ce48682bc3540bac63cace6b8fb2"><div class="ttname"><a href="../../d4/d62/a10962.html#a3140ce48682bc3540bac63cace6b8fb2">SpellMgr::instance</a></div><div class="ttdeci">static SpellMgr * instance()</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:363</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00363">instance()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00363">instance()</a>.</p>

</div>
</div>
<a id="a9d4a69f77e7dc8ec225bede9d730ab71" name="a9d4a69f77e7dc8ec225bede9d730ab71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d4a69f77e7dc8ec225bede9d730ab71">&#9670;&#160;</a></span>IsAdditionalTalentSpell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpellMgr::IsAdditionalTalentSpell </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  630</span>{</div>
<div class="line"><span class="lineno">  631</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d62/a10962.html#a16ff5508005286ab678b47bcc211ac24">mTalentSpellAdditionalSet</a>.find(spellId) != <a class="code hl_variable" href="../../d4/d62/a10962.html#a16ff5508005286ab678b47bcc211ac24">mTalentSpellAdditionalSet</a>.end();</div>
<div class="line"><span class="lineno">  632</span>}</div>
<div class="ttc" id="aa10962_html_a16ff5508005286ab678b47bcc211ac24"><div class="ttname"><a href="../../d4/d62/a10962.html#a16ff5508005286ab678b47bcc211ac24">SpellMgr::mTalentSpellAdditionalSet</a></div><div class="ttdeci">TalentAdditionalSet mTalentSpellAdditionalSet</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:822</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00822">mTalentSpellAdditionalSet</a>.</p>

</div>
</div>
<a id="ae99d902c882462c230177ae98b8d6ddd" name="ae99d902c882462c230177ae98b8d6ddd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae99d902c882462c230177ae98b8d6ddd">&#9670;&#160;</a></span>IsArenaAllowedEnchancment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpellMgr::IsArenaAllowedEnchancment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>ench_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1025</span>{</div>
<div class="line"><span class="lineno"> 1026</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d62/a10962.html#a1d1bde8d692b959379b27d29bfdd1e48">mEnchantCustomAttr</a>[ench_id];</div>
<div class="line"><span class="lineno"> 1027</span>}</div>
<div class="ttc" id="aa10962_html_a1d1bde8d692b959379b27d29bfdd1e48"><div class="ttname"><a href="../../d4/d62/a10962.html#a1d1bde8d692b959379b27d29bfdd1e48">SpellMgr::mEnchantCustomAttr</a></div><div class="ttdeci">EnchantCustomAttribute mEnchantCustomAttr</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:811</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00811">mEnchantCustomAttr</a>.</p>

</div>
</div>
<a id="a4df85133eeda585b39e5a00e31edfd8e" name="a4df85133eeda585b39e5a00e31edfd8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4df85133eeda585b39e5a00e31edfd8e">&#9670;&#160;</a></span>IsSpellProcEventCanTriggeredBy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpellMgr::IsSpellProcEventCanTriggeredBy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *&#160;</td>
          <td class="paramname"><em>spellProto</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/df5/a10910.html">SpellProcEventEntry</a> const *&#160;</td>
          <td class="paramname"><em>spellProcEvent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>EventProcFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/daf/a08498.html">ProcEventInfo</a> const &amp;&#160;</td>
          <td class="paramname"><em>eventInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>active</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >no aura with only PROC_FLAG_DONE_PERIODIC and spellFamilyName == 0 can proc from a HOT.</p>
<p ><a class="el" href="../../d3/d9a/a10802.html">Aura</a> must have positive procflags for a HOT to proc</p>
<p ><a class="el" href="../../d3/d9a/a10802.html">Aura</a> must have negative or neutral(PROC_FLAG_DONE_PERIODIC only) procflags for a DOT to proc</p>
<p >No aura that only has PROC_FLAG_TAKEN_PERIODIC can proc from a HOT.</p>
<p ><a class="el" href="../../d3/d9a/a10802.html">Aura</a> must have positive procflags for a HOT to proc</p>
<p ><a class="el" href="../../d3/d9a/a10802.html">Aura</a> must have negative or neutral(PROC_FLAG_TAKEN_PERIODIC only) procflags for a DOT to proc</p>
<div class="fragment"><div class="line"><span class="lineno">  738</span>{</div>
<div class="line"><span class="lineno">  739</span>    <span class="comment">// No extra req need</span></div>
<div class="line"><span class="lineno">  740</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> procEvent_procEx = <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46a07b2f1753e6047dcfef05d8ec0de5b87">PROC_EX_NONE</a>;</div>
<div class="line"><span class="lineno">  741</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> procEvent_procPhase = <a class="code hl_enumvalue" href="../../df/d64/a03110.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a>;</div>
<div class="line"><span class="lineno">  742</span> </div>
<div class="line"><span class="lineno">  743</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> procFlags = eventInfo.GetTypeMask();</div>
<div class="line"><span class="lineno">  744</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> procExtra = eventInfo.GetHitMask();</div>
<div class="line"><span class="lineno">  745</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> procPhase = eventInfo.GetSpellPhaseMask();</div>
<div class="line"><span class="lineno">  746</span>    <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* procSpellInfo = eventInfo.GetSpellInfo();</div>
<div class="line"><span class="lineno">  747</span> </div>
<div class="line"><span class="lineno">  748</span>    <span class="comment">// check prockFlags for condition</span></div>
<div class="line"><span class="lineno">  749</span>    <span class="keywordflow">if</span> ((procFlags &amp; EventProcFlag) == 0)</div>
<div class="line"><span class="lineno">  750</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  751</span> </div>
<div class="line"><span class="lineno">  752</span>    <span class="comment">// Xinef: Always trigger for this, including TAKEN_DAMAGE</span></div>
<div class="line"><span class="lineno">  753</span>    <span class="keywordflow">if</span> (EventProcFlag &amp; (<a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a77a138ad03b6e16e4ab21aba26d98ec3">PROC_FLAG_KILLED</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aadedce3b69f2042ebb950a48165fc89a">PROC_FLAG_KILL</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a8b6d98edef5c8763d9b8d5f0d1b95d40">PROC_FLAG_DEATH</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6abcffcf75e3fd5015383c586153dc32c1">PROC_FLAG_TAKEN_DAMAGE</a>))</div>
<div class="line"><span class="lineno">  754</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  755</span> </div>
<div class="line"><span class="lineno">  756</span>    <span class="keywordtype">bool</span> hasFamilyMask = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>    <span class="keywordflow">if</span> (procFlags &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a429d6c885f9687a1b041436cb45d74ce">PROC_FLAG_DONE_PERIODIC</a>)</div>
<div class="line"><span class="lineno">  759</span>    {</div>
<div class="line"><span class="lineno">  760</span>        <span class="keywordflow">if</span> (procExtra &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46ab92a05b298c10d1c2b9c3a2af4fe819b">PROC_EX_INTERNAL_HOT</a>)</div>
<div class="line"><span class="lineno">  761</span>        {</div>
<div class="line"><span class="lineno">  762</span>            <span class="keywordflow">if</span> (EventProcFlag == <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a429d6c885f9687a1b041436cb45d74ce">PROC_FLAG_DONE_PERIODIC</a>)</div>
<div class="line"><span class="lineno">  763</span>            {</div>
<div class="line"><span class="lineno">  765</span>                <span class="keywordflow">if</span> (!spellProto-&gt;SpellFamilyName)</div>
<div class="line"><span class="lineno">  766</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  767</span>            }</div>
<div class="line"><span class="lineno">  769</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(EventProcFlag &amp; (<a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a3224fff7fa83c444aa33906a7a00a87b">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_POS</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a6d76a272a9d09c21d6959afdccf27119">PROC_FLAG_DONE_SPELL_NONE_DMG_CLASS_POS</a>)))</div>
<div class="line"><span class="lineno">  770</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  771</span>        }</div>
<div class="line"><span class="lineno">  773</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (EventProcFlag != <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a429d6c885f9687a1b041436cb45d74ce">PROC_FLAG_DONE_PERIODIC</a>)</div>
<div class="line"><span class="lineno">  774</span>            <span class="keywordflow">if</span> (!(EventProcFlag &amp; (<a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6ab47347c9f4b3ba1255744ba7c0a1e007">PROC_FLAG_DONE_SPELL_NONE_DMG_CLASS_NEG</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aec3e2077cfabdc92fbbc9a1858dd5c7b">PROC_FLAG_DONE_TRAP_ACTIVATION</a>)))</div>
<div class="line"><span class="lineno">  775</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  776</span>    }</div>
<div class="line"><span class="lineno">  777</span> </div>
<div class="line"><span class="lineno">  778</span>    <span class="keywordflow">if</span> (procFlags &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a968d75fc25f1413369015f9ba98870b4">PROC_FLAG_TAKEN_PERIODIC</a>)</div>
<div class="line"><span class="lineno">  779</span>    {</div>
<div class="line"><span class="lineno">  780</span>        <span class="keywordflow">if</span> (procExtra &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46ab92a05b298c10d1c2b9c3a2af4fe819b">PROC_EX_INTERNAL_HOT</a>)</div>
<div class="line"><span class="lineno">  781</span>        {</div>
<div class="line"><span class="lineno">  783</span>            <span class="keywordflow">if</span> (EventProcFlag == <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a968d75fc25f1413369015f9ba98870b4">PROC_FLAG_TAKEN_PERIODIC</a>)</div>
<div class="line"><span class="lineno">  784</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  786</span>            <span class="keywordflow">if</span> (!(EventProcFlag &amp; (<a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6abb4ec446733b29f5eaa67b5b5a6c8d73">PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_POS</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6acf742e65ebea270b541f0f374f54ece4">PROC_FLAG_TAKEN_SPELL_NONE_DMG_CLASS_POS</a>)))</div>
<div class="line"><span class="lineno">  787</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  788</span>        }</div>
<div class="line"><span class="lineno">  790</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (EventProcFlag != <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a968d75fc25f1413369015f9ba98870b4">PROC_FLAG_TAKEN_PERIODIC</a>)</div>
<div class="line"><span class="lineno">  791</span>            <span class="keywordflow">if</span> (!(EventProcFlag &amp; (<a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a83f7552203278e82d55d40034cea9105">PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_NEG</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aaf9170997f464e7fb1c87b84bb38651a">PROC_FLAG_TAKEN_SPELL_NONE_DMG_CLASS_NEG</a>)))</div>
<div class="line"><span class="lineno">  792</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  793</span>    }</div>
<div class="line"><span class="lineno">  794</span> </div>
<div class="line"><span class="lineno">  795</span>    <span class="comment">// Trap casts are active by default</span></div>
<div class="line"><span class="lineno">  796</span>    <span class="keywordflow">if</span> (procFlags &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aec3e2077cfabdc92fbbc9a1858dd5c7b">PROC_FLAG_DONE_TRAP_ACTIVATION</a>)</div>
<div class="line"><span class="lineno">  797</span>        active = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  798</span> </div>
<div class="line"><span class="lineno">  799</span>    <span class="keywordflow">if</span> (spellProcEvent)     <span class="comment">// Exist event data</span></div>
<div class="line"><span class="lineno">  800</span>    {</div>
<div class="line"><span class="lineno">  801</span>        <span class="comment">// Store extra req</span></div>
<div class="line"><span class="lineno">  802</span>        procEvent_procEx = spellProcEvent-&gt;procEx;</div>
<div class="line"><span class="lineno">  803</span>        procEvent_procPhase = spellProcEvent-&gt;procPhase;</div>
<div class="line"><span class="lineno">  804</span> </div>
<div class="line"><span class="lineno">  805</span>        <span class="comment">// For melee triggers</span></div>
<div class="line"><span class="lineno">  806</span>        <span class="keywordflow">if</span> (!procSpellInfo)</div>
<div class="line"><span class="lineno">  807</span>        {</div>
<div class="line"><span class="lineno">  808</span>            <span class="comment">// Check (if set) for school (melee attack have Normal school)</span></div>
<div class="line"><span class="lineno">  809</span>            <span class="keywordflow">if</span> (spellProcEvent-&gt;schoolMask &amp;&amp; (spellProcEvent-&gt;schoolMask &amp; <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42">SPELL_SCHOOL_MASK_NORMAL</a>) == 0)</div>
<div class="line"><span class="lineno">  810</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  811</span>        }</div>
<div class="line"><span class="lineno">  812</span>        <span class="keywordflow">else</span> <span class="comment">// For spells need check school/spell family/family mask</span></div>
<div class="line"><span class="lineno">  813</span>        {</div>
<div class="line"><span class="lineno">  814</span>            <span class="comment">// Check (if set) for school</span></div>
<div class="line"><span class="lineno">  815</span>            <span class="keywordflow">if</span> (spellProcEvent-&gt;schoolMask &amp;&amp; (spellProcEvent-&gt;schoolMask &amp; procSpellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a72ac013c860d3af649879442115971ab">SchoolMask</a>) == 0)</div>
<div class="line"><span class="lineno">  816</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  817</span> </div>
<div class="line"><span class="lineno">  818</span>            <span class="comment">// Check (if set) for spellFamilyName</span></div>
<div class="line"><span class="lineno">  819</span>            <span class="keywordflow">if</span> (spellProcEvent-&gt;spellFamilyName &amp;&amp; (spellProcEvent-&gt;spellFamilyName != procSpellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#af6ec577353f7d3cc59badd7d332153b0">SpellFamilyName</a>))</div>
<div class="line"><span class="lineno">  820</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  821</span> </div>
<div class="line"><span class="lineno">  822</span>            <span class="comment">// spellFamilyName is Ok need check for spellFamilyMask if present</span></div>
<div class="line"><span class="lineno">  823</span>            <span class="keywordflow">if</span> (spellProcEvent-&gt;spellFamilyMask)</div>
<div class="line"><span class="lineno">  824</span>            {</div>
<div class="line"><span class="lineno">  825</span>                <span class="keywordflow">if</span> (!(spellProcEvent-&gt;spellFamilyMask &amp; procSpellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>))</div>
<div class="line"><span class="lineno">  826</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  827</span>                hasFamilyMask = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  828</span>                <span class="comment">// Some spells are not considered as active even with have spellfamilyflags</span></div>
<div class="line"><span class="lineno">  829</span>                <span class="keywordflow">if</span> (!(procEvent_procEx &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46abaa632530ec78fe5964cb1591b91e3b9">PROC_EX_ONLY_ACTIVE_SPELL</a>))</div>
<div class="line"><span class="lineno">  830</span>                    active = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  831</span>            }</div>
<div class="line"><span class="lineno">  832</span> </div>
<div class="line"><span class="lineno">  833</span>            <span class="comment">// Check tick numbers</span></div>
<div class="line"><span class="lineno">  834</span>            <span class="keywordflow">if</span> (procEvent_procEx &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46ad01a7209b4b575624baa5781038d973e">PROC_EX_ONLY_FIRST_TICK</a>)</div>
<div class="line"><span class="lineno">  835</span>            {</div>
<div class="line"><span class="lineno">  836</span>                <span class="keywordflow">if</span> (<a class="code hl_class" href="../../da/dce/a10842.html">Spell</a> <span class="keyword">const</span>* procSpell = eventInfo.GetProcSpell())</div>
<div class="line"><span class="lineno">  837</span>                {</div>
<div class="line"><span class="lineno">  838</span>                    <span class="keywordflow">if</span> (procSpell-&gt;GetTriggeredByAuraTickNumber() &gt; 1)</div>
<div class="line"><span class="lineno">  839</span>                    {</div>
<div class="line"><span class="lineno">  840</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  841</span>                    }</div>
<div class="line"><span class="lineno">  842</span>                }</div>
<div class="line"><span class="lineno">  843</span>            }</div>
<div class="line"><span class="lineno">  844</span>        }</div>
<div class="line"><span class="lineno">  845</span>    }</div>
<div class="line"><span class="lineno">  846</span> </div>
<div class="line"><span class="lineno">  847</span>    <span class="keywordflow">if</span> (procExtra &amp; (<a class="code hl_enumvalue" href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46afa45851285099c233820be4d1a526892">PROC_EX_INTERNAL_REQ_FAMILY</a>))</div>
<div class="line"><span class="lineno">  848</span>    {</div>
<div class="line"><span class="lineno">  849</span>        <span class="keywordflow">if</span> (!hasFamilyMask)</div>
<div class="line"><span class="lineno">  850</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  851</span>    }</div>
<div class="line"><span class="lineno">  852</span> </div>
<div class="line"><span class="lineno">  853</span>    <span class="keywordflow">if</span> (!(procEvent_procPhase &amp; procPhase))</div>
<div class="line"><span class="lineno">  854</span>    {</div>
<div class="line"><span class="lineno">  855</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  856</span>    }</div>
<div class="line"><span class="lineno">  857</span> </div>
<div class="line"><span class="lineno">  858</span>    <span class="comment">// Check for extra req (if none) and hit/crit</span></div>
<div class="line"><span class="lineno">  859</span>    <span class="keywordflow">if</span> (procEvent_procEx == <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46a07b2f1753e6047dcfef05d8ec0de5b87">PROC_EX_NONE</a>)</div>
<div class="line"><span class="lineno">  860</span>    {</div>
<div class="line"><span class="lineno">  861</span>        <span class="comment">// No extra req, so can trigger only for hit/crit - spell has to be active</span></div>
<div class="line"><span class="lineno">  862</span>        <span class="keywordflow">if</span> ((procExtra &amp; (<a class="code hl_enumvalue" href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46aa0c2a4e7377d6217e94cc8fc7c77b5b2">PROC_EX_NORMAL_HIT</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46a970bdf3e5f6192a44f1047c0a9c01310">PROC_EX_CRITICAL_HIT</a>)) &amp;&amp; active)</div>
<div class="line"><span class="lineno">  863</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  864</span>    }</div>
<div class="line"><span class="lineno">  865</span>    <span class="keywordflow">else</span> <span class="comment">// Passive spells hits here only if resist/reflect/immune/evade</span></div>
<div class="line"><span class="lineno">  866</span>    {</div>
<div class="line"><span class="lineno">  867</span>        <span class="keywordflow">if</span> (procExtra &amp; <a class="code hl_define" href="../../df/d64/a03110.html#a38a52b76af6f14f7d3ad3282be428da8">AURA_SPELL_PROC_EX_MASK</a>)</div>
<div class="line"><span class="lineno">  868</span>        {</div>
<div class="line"><span class="lineno">  869</span>            <span class="comment">// if spell marked as procing only from not active spells</span></div>
<div class="line"><span class="lineno">  870</span>            <span class="keywordflow">if</span> (active &amp;&amp; procEvent_procEx &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46af9c43b17dd5136a8eaeb30135047eac0">PROC_EX_NOT_ACTIVE_SPELL</a>)</div>
<div class="line"><span class="lineno">  871</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  872</span>            <span class="comment">// if spell marked as procing only from active spells</span></div>
<div class="line"><span class="lineno">  873</span>            <span class="keywordflow">if</span> (!active &amp;&amp; procEvent_procEx &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46abaa632530ec78fe5964cb1591b91e3b9">PROC_EX_ONLY_ACTIVE_SPELL</a>)</div>
<div class="line"><span class="lineno">  874</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  875</span>            <span class="comment">// Exist req for PROC_EX_EX_TRIGGER_ALWAYS</span></div>
<div class="line"><span class="lineno">  876</span>            <span class="keywordflow">if</span> (procEvent_procEx &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46af6f8bdaf5b930cca33c0866127c57963">PROC_EX_EX_TRIGGER_ALWAYS</a>)</div>
<div class="line"><span class="lineno">  877</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  878</span>            <span class="comment">// PROC_EX_NOT_ACTIVE_SPELL and PROC_EX_ONLY_ACTIVE_SPELL flags handle: if passed checks before</span></div>
<div class="line"><span class="lineno">  879</span>            <span class="keywordflow">if</span> ((procExtra &amp; (<a class="code hl_enumvalue" href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46aa0c2a4e7377d6217e94cc8fc7c77b5b2">PROC_EX_NORMAL_HIT</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46a970bdf3e5f6192a44f1047c0a9c01310">PROC_EX_CRITICAL_HIT</a>)) &amp;&amp; ((procEvent_procEx &amp; (<a class="code hl_define" href="../../df/d64/a03110.html#a38a52b76af6f14f7d3ad3282be428da8">AURA_SPELL_PROC_EX_MASK</a>)) == 0))</div>
<div class="line"><span class="lineno">  880</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  881</span>        }</div>
<div class="line"><span class="lineno">  882</span>        <span class="comment">// Check Extra Requirement like (hit/crit/miss/resist/parry/dodge/block/immune/reflect/absorb and other)</span></div>
<div class="line"><span class="lineno">  883</span>        <span class="keywordflow">if</span> (procEvent_procEx &amp; procExtra)</div>
<div class="line"><span class="lineno">  884</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  885</span>    }</div>
<div class="line"><span class="lineno">  886</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  887</span>}</div>
<div class="ttc" id="aa02771_html_aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42"><div class="ttname"><a href="../../d0/dbd/a02771.html#aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42">SPELL_SCHOOL_MASK_NORMAL</a></div><div class="ttdeci">@ SPELL_SCHOOL_MASK_NORMAL</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:297</div></div>
<div class="ttc" id="aa03110_html_a38a52b76af6f14f7d3ad3282be428da8"><div class="ttname"><a href="../../df/d64/a03110.html#a38a52b76af6f14f7d3ad3282be428da8">AURA_SPELL_PROC_EX_MASK</a></div><div class="ttdeci">#define AURA_SPELL_PROC_EX_MASK</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:225</div></div>
<div class="ttc" id="aa03110_html_ac9aaef596a1061b6b944e1dc0e679b46a07b2f1753e6047dcfef05d8ec0de5b87"><div class="ttname"><a href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46a07b2f1753e6047dcfef05d8ec0de5b87">PROC_EX_NONE</a></div><div class="ttdeci">@ PROC_EX_NONE</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:193</div></div>
<div class="ttc" id="aa03110_html_ac9aaef596a1061b6b944e1dc0e679b46a970bdf3e5f6192a44f1047c0a9c01310"><div class="ttname"><a href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46a970bdf3e5f6192a44f1047c0a9c01310">PROC_EX_CRITICAL_HIT</a></div><div class="ttdeci">@ PROC_EX_CRITICAL_HIT</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:195</div></div>
<div class="ttc" id="aa03110_html_ac9aaef596a1061b6b944e1dc0e679b46aa0c2a4e7377d6217e94cc8fc7c77b5b2"><div class="ttname"><a href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46aa0c2a4e7377d6217e94cc8fc7c77b5b2">PROC_EX_NORMAL_HIT</a></div><div class="ttdeci">@ PROC_EX_NORMAL_HIT</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:194</div></div>
<div class="ttc" id="aa03110_html_ac9aaef596a1061b6b944e1dc0e679b46ab92a05b298c10d1c2b9c3a2af4fe819b"><div class="ttname"><a href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46ab92a05b298c10d1c2b9c3a2af4fe819b">PROC_EX_INTERNAL_HOT</a></div><div class="ttdeci">@ PROC_EX_INTERNAL_HOT</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:220</div></div>
<div class="ttc" id="aa03110_html_ac9aaef596a1061b6b944e1dc0e679b46abaa632530ec78fe5964cb1591b91e3b9"><div class="ttname"><a href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46abaa632530ec78fe5964cb1591b91e3b9">PROC_EX_ONLY_ACTIVE_SPELL</a></div><div class="ttdeci">@ PROC_EX_ONLY_ACTIVE_SPELL</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:212</div></div>
<div class="ttc" id="aa03110_html_ac9aaef596a1061b6b944e1dc0e679b46ad01a7209b4b575624baa5781038d973e"><div class="ttname"><a href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46ad01a7209b4b575624baa5781038d973e">PROC_EX_ONLY_FIRST_TICK</a></div><div class="ttdeci">@ PROC_EX_ONLY_FIRST_TICK</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:215</div></div>
<div class="ttc" id="aa03110_html_ac9aaef596a1061b6b944e1dc0e679b46af6f8bdaf5b930cca33c0866127c57963"><div class="ttname"><a href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46af6f8bdaf5b930cca33c0866127c57963">PROC_EX_EX_TRIGGER_ALWAYS</a></div><div class="ttdeci">@ PROC_EX_EX_TRIGGER_ALWAYS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:210</div></div>
<div class="ttc" id="aa03110_html_ac9aaef596a1061b6b944e1dc0e679b46af9c43b17dd5136a8eaeb30135047eac0"><div class="ttname"><a href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46af9c43b17dd5136a8eaeb30135047eac0">PROC_EX_NOT_ACTIVE_SPELL</a></div><div class="ttdeci">@ PROC_EX_NOT_ACTIVE_SPELL</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:209</div></div>
<div class="ttc" id="aa03110_html_ac9aaef596a1061b6b944e1dc0e679b46afa45851285099c233820be4d1a526892"><div class="ttname"><a href="../../df/d64/a03110.html#ac9aaef596a1061b6b944e1dc0e679b46afa45851285099c233820be4d1a526892">PROC_EX_INTERNAL_REQ_FAMILY</a></div><div class="ttdeci">@ PROC_EX_INTERNAL_REQ_FAMILY</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:222</div></div>
<div class="ttc" id="aa03110_html_addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34"><div class="ttname"><a href="../../df/d64/a03110.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a></div><div class="ttdeci">@ PROC_SPELL_PHASE_HIT</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:244</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a3224fff7fa83c444aa33906a7a00a87b"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a3224fff7fa83c444aa33906a7a00a87b">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_POS</a></div><div class="ttdeci">@ PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_POS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:128</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a429d6c885f9687a1b041436cb45d74ce"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a429d6c885f9687a1b041436cb45d74ce">PROC_FLAG_DONE_PERIODIC</a></div><div class="ttdeci">@ PROC_FLAG_DONE_PERIODIC</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:134</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a6d76a272a9d09c21d6959afdccf27119"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a6d76a272a9d09c21d6959afdccf27119">PROC_FLAG_DONE_SPELL_NONE_DMG_CLASS_POS</a></div><div class="ttdeci">@ PROC_FLAG_DONE_SPELL_NONE_DMG_CLASS_POS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:122</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a83f7552203278e82d55d40034cea9105"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a83f7552203278e82d55d40034cea9105">PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_NEG</a></div><div class="ttdeci">@ PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_NEG</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:132</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a968d75fc25f1413369015f9ba98870b4"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a968d75fc25f1413369015f9ba98870b4">PROC_FLAG_TAKEN_PERIODIC</a></div><div class="ttdeci">@ PROC_FLAG_TAKEN_PERIODIC</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:135</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6aaf9170997f464e7fb1c87b84bb38651a"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6aaf9170997f464e7fb1c87b84bb38651a">PROC_FLAG_TAKEN_SPELL_NONE_DMG_CLASS_NEG</a></div><div class="ttdeci">@ PROC_FLAG_TAKEN_SPELL_NONE_DMG_CLASS_NEG</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:126</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6ab47347c9f4b3ba1255744ba7c0a1e007"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6ab47347c9f4b3ba1255744ba7c0a1e007">PROC_FLAG_DONE_SPELL_NONE_DMG_CLASS_NEG</a></div><div class="ttdeci">@ PROC_FLAG_DONE_SPELL_NONE_DMG_CLASS_NEG</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:125</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6abb4ec446733b29f5eaa67b5b5a6c8d73"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6abb4ec446733b29f5eaa67b5b5a6c8d73">PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_POS</a></div><div class="ttdeci">@ PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_POS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:129</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6abcffcf75e3fd5015383c586153dc32c1"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6abcffcf75e3fd5015383c586153dc32c1">PROC_FLAG_TAKEN_DAMAGE</a></div><div class="ttdeci">@ PROC_FLAG_TAKEN_DAMAGE</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:137</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6acf742e65ebea270b541f0f374f54ece4"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6acf742e65ebea270b541f0f374f54ece4">PROC_FLAG_TAKEN_SPELL_NONE_DMG_CLASS_POS</a></div><div class="ttdeci">@ PROC_FLAG_TAKEN_SPELL_NONE_DMG_CLASS_POS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:123</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6afe7895d66dfe7eb26eb655d393b0cd67">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a></div><div class="ttdeci">@ PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:131</div></div>
<div class="ttc" id="aa10842_html"><div class="ttname"><a href="../../da/dce/a10842.html">Spell</a></div><div class="ttdef"><b>Definition:</b> Spell.h:287</div></div>
<div class="ttc" id="aa10906_html_a72ac013c860d3af649879442115971ab"><div class="ttname"><a href="../../d4/db9/a10906.html#a72ac013c860d3af649879442115971ab">SpellInfo::SchoolMask</a></div><div class="ttdeci">uint32 SchoolMask</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:392</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00225">AURA_SPELL_PROC_EX_MASK</a>, <a class="el" href="../../#l00445">ProcEventInfo::GetHitMask()</a>, <a class="el" href="../../#l00448">ProcEventInfo::GetProcSpell()</a>, <a class="el" href="../../#l00184">ProcEventInfo::GetSpellInfo()</a>, <a class="el" href="../../#l00444">ProcEventInfo::GetSpellPhaseMask()</a>, <a class="el" href="../../#l00442">ProcEventInfo::GetTypeMask()</a>, <a class="el" href="../../#l00195">PROC_EX_CRITICAL_HIT</a>, <a class="el" href="../../#l00210">PROC_EX_EX_TRIGGER_ALWAYS</a>, <a class="el" href="../../#l00220">PROC_EX_INTERNAL_HOT</a>, <a class="el" href="../../#l00222">PROC_EX_INTERNAL_REQ_FAMILY</a>, <a class="el" href="../../#l00193">PROC_EX_NONE</a>, <a class="el" href="../../#l00194">PROC_EX_NORMAL_HIT</a>, <a class="el" href="../../#l00209">PROC_EX_NOT_ACTIVE_SPELL</a>, <a class="el" href="../../#l00212">PROC_EX_ONLY_ACTIVE_SPELL</a>, <a class="el" href="../../#l00215">PROC_EX_ONLY_FIRST_TICK</a>, <a class="el" href="../../#l00143">PROC_FLAG_DEATH</a>, <a class="el" href="../../#l00134">PROC_FLAG_DONE_PERIODIC</a>, <a class="el" href="../../#l00131">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_NEG</a>, <a class="el" href="../../#l00128">PROC_FLAG_DONE_SPELL_MAGIC_DMG_CLASS_POS</a>, <a class="el" href="../../#l00125">PROC_FLAG_DONE_SPELL_NONE_DMG_CLASS_NEG</a>, <a class="el" href="../../#l00122">PROC_FLAG_DONE_SPELL_NONE_DMG_CLASS_POS</a>, <a class="el" href="../../#l00138">PROC_FLAG_DONE_TRAP_ACTIVATION</a>, <a class="el" href="../../#l00108">PROC_FLAG_KILL</a>, <a class="el" href="../../#l00107">PROC_FLAG_KILLED</a>, <a class="el" href="../../#l00137">PROC_FLAG_TAKEN_DAMAGE</a>, <a class="el" href="../../#l00135">PROC_FLAG_TAKEN_PERIODIC</a>, <a class="el" href="../../#l00132">PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_NEG</a>, <a class="el" href="../../#l00129">PROC_FLAG_TAKEN_SPELL_MAGIC_DMG_CLASS_POS</a>, <a class="el" href="../../#l00126">PROC_FLAG_TAKEN_SPELL_NONE_DMG_CLASS_NEG</a>, <a class="el" href="../../#l00123">PROC_FLAG_TAKEN_SPELL_NONE_DMG_CLASS_POS</a>, <a class="el" href="../../#l00244">PROC_SPELL_PHASE_HIT</a>, <a class="el" href="../../#l00280">SpellProcEventEntry::procEx</a>, <a class="el" href="../../#l00281">SpellProcEventEntry::procPhase</a>, <a class="el" href="../../#l00392">SpellInfo::SchoolMask</a>, <a class="el" href="../../#l00276">SpellProcEventEntry::schoolMask</a>, <a class="el" href="../../#l00297">SPELL_SCHOOL_MASK_NORMAL</a>, <a class="el" href="../../#l00388">SpellInfo::SpellFamilyFlags</a>, <a class="el" href="../../#l00278">SpellProcEventEntry::spellFamilyMask</a>, <a class="el" href="../../#l00387">SpellInfo::SpellFamilyName</a>, and <a class="el" href="../../#l00277">SpellProcEventEntry::spellFamilyName</a>.</p>

</div>
</div>
<a id="a62767dc60e5f32a91b8428a01d083184" name="a62767dc60e5f32a91b8428a01d083184"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62767dc60e5f32a91b8428a01d083184">&#9670;&#160;</a></span>IsSpellRequiringSpell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpellMgr::IsSpellRequiringSpell </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>req_spellid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  619</span>{</div>
<div class="line"><span class="lineno">  620</span>    <a class="code hl_typedef" href="../../df/d64/a03110.html#a387f031811a92887df5962b41c7b2532">SpellsRequiringSpellMapBounds</a> spellsRequiringSpell = <a class="code hl_function" href="../../d4/d62/a10962.html#ad3ba910260b662307aecc92b0e696930">GetSpellsRequiringSpellBounds</a>(req_spellid);</div>
<div class="line"><span class="lineno">  621</span>    <span class="keywordflow">for</span> (SpellsRequiringSpellMap::const_iterator itr = spellsRequiringSpell.first; itr != spellsRequiringSpell.second; ++itr)</div>
<div class="line"><span class="lineno">  622</span>    {</div>
<div class="line"><span class="lineno">  623</span>        <span class="keywordflow">if</span> (itr-&gt;second == spellid)</div>
<div class="line"><span class="lineno">  624</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  625</span>    }</div>
<div class="line"><span class="lineno">  626</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  627</span>}</div>
<div class="ttc" id="aa03110_html_a387f031811a92887df5962b41c7b2532"><div class="ttname"><a href="../../df/d64/a03110.html#a387f031811a92887df5962b41c7b2532">SpellsRequiringSpellMapBounds</a></div><div class="ttdeci">std::pair&lt; SpellsRequiringSpellMap::const_iterator, SpellsRequiringSpellMap::const_iterator &gt; SpellsRequiringSpellMapBounds</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:570</div></div>
<div class="ttc" id="aa10962_html_ad3ba910260b662307aecc92b0e696930"><div class="ttname"><a href="../../d4/d62/a10962.html#ad3ba910260b662307aecc92b0e696930">SpellMgr::GetSpellsRequiringSpellBounds</a></div><div class="ttdeci">SpellsRequiringSpellMapBounds GetSpellsRequiringSpellBounds(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:613</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00613">GetSpellsRequiringSpellBounds()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01403">LoadSpellRequired()</a>.</p>

</div>
</div>
<a id="a8dfd3856cb381953bfeb1db1a4a4bad7" name="a8dfd3856cb381953bfeb1db1a4a4bad7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dfd3856cb381953bfeb1db1a4a4bad7">&#9670;&#160;</a></span>IsSpellValid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SpellMgr::IsSpellValid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/db9/a10906.html">SpellInfo</a> const *&#160;</td>
          <td class="paramname"><em>spellInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  442</span>{</div>
<div class="line"><span class="lineno">  443</span>    <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno">  444</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  445</span>    <span class="keywordflow">return</span> spellInfo-&gt;IsSpellValid();</div>
<div class="line"><span class="lineno">  446</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01192">SpellInfo::IsSpellValid()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00069">cast_commandscript::CheckSpellExistsAndIsValid()</a>, <a class="el" href="../../#l00459">CheckSpellValid()</a>, <a class="el" href="../../#l00634">misc_commandscript::HandleAuraCommand()</a>, <a class="el" href="../../#l00660">misc_commandscript::HandleAuraStacksCommand()</a>, <a class="el" href="../../#l01233">misc_commandscript::HandleCooldownCommand()</a>, <a class="el" href="../../#l00088">learn_commandscript::HandleLearnAllGMCommand()</a>, <a class="el" href="../../#l00207">learn_commandscript::HandleLearnAllMyPetTalentsCommand()</a>, <a class="el" href="../../#l00113">learn_commandscript::HandleLearnAllMySpellsCommand()</a>, <a class="el" href="../../#l00158">learn_commandscript::HandleLearnAllMyTalentsCommand()</a>, <a class="el" href="../../#l00389">learn_commandscript::HandleLearnSkillRecipesHelper()</a>, <a class="el" href="../../#l00024">Acore::PlayerCommand::HandleLearnSpellCommand()</a>, <a class="el" href="../../#l01168">lookup_commandscript::HandleLookupSpellIdCommand()</a>, <a class="el" href="../../#l00086">pet_commandscript::HandlePetLearnCommand()</a>, <a class="el" href="../../#l00128">pet_commandscript::HandlePetUnlearnCommand()</a>, and <a class="el" href="../../#l00705">misc_commandscript::HandleUnAuraCommand()</a>.</p>

</div>
</div>
<a id="a2a7101c0a7d47abe2c8814684794aa5b" name="a2a7101c0a7d47abe2c8814684794aa5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a7101c0a7d47abe2c8814684794aa5b">&#9670;&#160;</a></span>LoadEnchantCustomAttr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadEnchantCustomAttr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="../../d5/def/a04676.html#_todo000157">Todo:</a></b></dt><dd>: find a better check </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 2167</span>{</div>
<div class="line"><span class="lineno"> 2168</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2169</span> </div>
<div class="line"><span class="lineno"> 2170</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> size = <a class="code hl_variable" href="../../d7/da2/a03704.html#a056a6a649116138e9e8c21d35a78476b">sSpellItemEnchantmentStore</a>.GetNumRows();</div>
<div class="line"><span class="lineno"> 2171</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a1d1bde8d692b959379b27d29bfdd1e48">mEnchantCustomAttr</a>.resize(size);</div>
<div class="line"><span class="lineno"> 2172</span> </div>
<div class="line"><span class="lineno"> 2173</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; size; ++i)</div>
<div class="line"><span class="lineno"> 2174</span>        <a class="code hl_variable" href="../../d4/d62/a10962.html#a1d1bde8d692b959379b27d29bfdd1e48">mEnchantCustomAttr</a>[i] = 0;</div>
<div class="line"><span class="lineno"> 2175</span> </div>
<div class="line"><span class="lineno"> 2176</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 2177</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_function" href="../../d4/d62/a10962.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>(); ++i)</div>
<div class="line"><span class="lineno"> 2178</span>    {</div>
<div class="line"><span class="lineno"> 2179</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(i);</div>
<div class="line"><span class="lineno"> 2180</span>        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 2181</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2182</span> </div>
<div class="line"><span class="lineno"> 2184</span>        <span class="comment">// Xinef: commented second part, fixes warlock enchants like firestone, spellstone</span></div>
<div class="line"><span class="lineno"> 2185</span>        <span class="keywordflow">if</span> (!spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#a975746d6b737abb063ea037327abfc5a">HasAttribute</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668a569c52bdb00244804fc6776e676532bd">SPELL_ATTR2_ENCHANT_OWN_ITEM_ONLY</a>)<span class="comment">/* || !spellInfo-&gt;HasAttribute(SPELL_ATTR0_NOT_SHAPESHIFTED)*/</span>)</div>
<div class="line"><span class="lineno"> 2186</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2187</span> </div>
<div class="line"><span class="lineno"> 2188</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> j = 0; j &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++j)</div>
<div class="line"><span class="lineno"> 2189</span>        {</div>
<div class="line"><span class="lineno"> 2190</span>            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].Effect == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97aef19cb2a68fa76f831bb9ddcff67fa65">SPELL_EFFECT_ENCHANT_ITEM_TEMPORARY</a>)</div>
<div class="line"><span class="lineno"> 2191</span>            {</div>
<div class="line"><span class="lineno"> 2192</span>                <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> enchId = spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].MiscValue;</div>
<div class="line"><span class="lineno"> 2193</span>                <a class="code hl_struct" href="../../d0/db1/a27962.html">SpellItemEnchantmentEntry</a> <span class="keyword">const</span>* ench = <a class="code hl_variable" href="../../d7/da2/a03704.html#a056a6a649116138e9e8c21d35a78476b">sSpellItemEnchantmentStore</a>.LookupEntry(enchId);</div>
<div class="line"><span class="lineno"> 2194</span>                <span class="keywordflow">if</span> (!ench)</div>
<div class="line"><span class="lineno"> 2195</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2196</span>                <a class="code hl_variable" href="../../d4/d62/a10962.html#a1d1bde8d692b959379b27d29bfdd1e48">mEnchantCustomAttr</a>[enchId] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2197</span>                ++count;</div>
<div class="line"><span class="lineno"> 2198</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2199</span>            }</div>
<div class="line"><span class="lineno"> 2200</span>        }</div>
<div class="line"><span class="lineno"> 2201</span>    }</div>
<div class="line"><span class="lineno"> 2202</span> </div>
<div class="line"><span class="lineno"> 2203</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Custom Enchant Attributes in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2204</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2205</span>}</div>
<div class="ttc" id="aa00035_html_a271e427d8e8481efd5cd5f537ec9e419"><div class="ttname"><a href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a></div><div class="ttdeci">#define LOG_INFO(filterType__,...)</div><div class="ttdef"><b>Definition:</b> Log.h:165</div></div>
<div class="ttc" id="aa00311_html_a23a2c8663a05f2b03a6f85501972e8c0"><div class="ttname"><a href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a></div><div class="ttdeci">uint32 GetMSTimeDiffToNow(uint32 oldMSTime)</div><div class="ttdef"><b>Definition:</b> Timer.h:131</div></div>
<div class="ttc" id="aa00311_html_a4476c8e13ea790c3536f2749105f9cb9"><div class="ttname"><a href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a></div><div class="ttdeci">uint32 getMSTime()</div><div class="ttdef"><b>Definition:</b> Timer.h:103</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97aef19cb2a68fa76f831bb9ddcff67fa65"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97aef19cb2a68fa76f831bb9ddcff67fa65">SPELL_EFFECT_ENCHANT_ITEM_TEMPORARY</a></div><div class="ttdeci">@ SPELL_EFFECT_ENCHANT_ITEM_TEMPORARY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:832</div></div>
<div class="ttc" id="aa02771_html_a583cc1b9a8909370e4d51a890d897668a569c52bdb00244804fc6776e676532bd"><div class="ttname"><a href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668a569c52bdb00244804fc6776e676532bd">SPELL_ATTR2_ENCHANT_OWN_ITEM_ONLY</a></div><div class="ttdeci">@ SPELL_ATTR2_ENCHANT_OWN_ITEM_ONLY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:469</div></div>
<div class="ttc" id="aa03704_html_a056a6a649116138e9e8c21d35a78476b"><div class="ttname"><a href="../../d7/da2/a03704.html#a056a6a649116138e9e8c21d35a78476b">sSpellItemEnchantmentStore</a></div><div class="ttdeci">DBCStorage&lt; SpellItemEnchantmentEntry &gt; sSpellItemEnchantmentStore(SpellItemEnchantmentfmt)</div></div>
<div class="ttc" id="aa10906_html_a975746d6b737abb063ea037327abfc5a"><div class="ttname"><a href="../../d4/db9/a10906.html#a975746d6b737abb063ea037327abfc5a">SpellInfo::HasAttribute</a></div><div class="ttdeci">bool HasAttribute(SpellAttr0 attribute) const</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:415</div></div>
<div class="ttc" id="aa10906_html_aa5bb0d7d6df03526d011d9cbfa3734e0"><div class="ttname"><a href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">SpellInfo::Effects</a></div><div class="ttdeci">std::array&lt; SpellEffectInfo, MAX_SPELL_EFFECTS &gt; Effects</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:393</div></div>
<div class="ttc" id="aa27962_html"><div class="ttname"><a href="../../d0/db1/a27962.html">SpellItemEnchantmentEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1840</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00393">SpellInfo::Effects</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00751">GetSpellInfoStoreSize()</a>, <a class="el" href="../../#l00415">SpellInfo::HasAttribute()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l01636">MAX_SPELL_EFFECTS</a>, <a class="el" href="../../#l00811">mEnchantCustomAttr</a>, <a class="el" href="../../#l00469">SPELL_ATTR2_ENCHANT_OWN_ITEM_ONLY</a>, <a class="el" href="../../#l00832">SPELL_EFFECT_ENCHANT_ITEM_TEMPORARY</a>, and <a class="el" href="../../d7/da2/a03704.html#a056a6a649116138e9e8c21d35a78476b">sSpellItemEnchantmentStore</a>.</p>

</div>
</div>
<a id="a93fc6f749ad5494262414df607985706" name="a93fc6f749ad5494262414df607985706"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93fc6f749ad5494262414df607985706">&#9670;&#160;</a></span>LoadPetDefaultSpells()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadPetDefaultSpells </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2400</span>{</div>
<div class="line"><span class="lineno"> 2401</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2402</span> </div>
<div class="line"><span class="lineno"> 2403</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a4ec8d854c5357f1edfd29a136203b0da">mPetDefaultSpellsMap</a>.clear();</div>
<div class="line"><span class="lineno"> 2404</span> </div>
<div class="line"><span class="lineno"> 2405</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> countCreature = 0;</div>
<div class="line"><span class="lineno"> 2406</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> countData = 0;</div>
<div class="line"><span class="lineno"> 2407</span> </div>
<div class="line"><span class="lineno"> 2408</span>    <a class="code hl_typedef" href="../../df/dfa/a03533.html#ab12170e3eeaeb988a07355262ca85757">CreatureTemplateContainer</a> <span class="keyword">const</span>* ctc = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetCreatureTemplates();</div>
<div class="line"><span class="lineno"> 2409</span>    <span class="keywordflow">for</span> (CreatureTemplateContainer::const_iterator itr = ctc-&gt;begin(); itr != ctc-&gt;end(); ++itr)</div>
<div class="line"><span class="lineno"> 2410</span>    {</div>
<div class="line"><span class="lineno"> 2411</span>        <span class="keywordflow">if</span> (!itr-&gt;second.PetSpellDataId)</div>
<div class="line"><span class="lineno"> 2412</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2413</span> </div>
<div class="line"><span class="lineno"> 2414</span>        <span class="comment">// for creature with PetSpellDataId get default pet spells from dbc</span></div>
<div class="line"><span class="lineno"> 2415</span>        <a class="code hl_struct" href="../../d2/d9f/a27682.html">CreatureSpellDataEntry</a> <span class="keyword">const</span>* spellDataEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5b025fb2c59e0d2557490f94c75e9d32">sCreatureSpellDataStore</a>.LookupEntry(itr-&gt;second.PetSpellDataId);</div>
<div class="line"><span class="lineno"> 2416</span>        <span class="keywordflow">if</span> (!spellDataEntry)</div>
<div class="line"><span class="lineno"> 2417</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2418</span> </div>
<div class="line"><span class="lineno"> 2419</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> petSpellsId = -<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(itr-&gt;second.PetSpellDataId);</div>
<div class="line"><span class="lineno"> 2420</span>        <a class="code hl_struct" href="../../de/d40/a10954.html">PetDefaultSpellsEntry</a> petDefSpells;</div>
<div class="line"><span class="lineno"> 2421</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#a84f97addb2541cd13960d71b99ac4f9c">MAX_CREATURE_SPELL_DATA_SLOT</a>; ++j)</div>
<div class="line"><span class="lineno"> 2422</span>            petDefSpells.<a class="code hl_variable" href="../../de/d40/a10954.html#a14f5dd3b53f06437074965e9b7753e89">spellid</a>[j] = spellDataEntry-&gt;<a class="code hl_variable" href="../../d2/d9f/a27682.html#aabbb95c091e0b0946bcb05746b1c23f3">spellId</a>[j];</div>
<div class="line"><span class="lineno"> 2423</span> </div>
<div class="line"><span class="lineno"> 2424</span>        if (<a class="code hl_function" href="../../da/d5d/a03068.html#a1c2a3145d36ac321b7f1f11a01a235f5">LoadPetDefaultSpells_helper</a>(&amp;itr-&gt;second, petDefSpells))</div>
<div class="line"><span class="lineno"> 2425</span>        {</div>
<div class="line"><span class="lineno"> 2426</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#a4ec8d854c5357f1edfd29a136203b0da">mPetDefaultSpellsMap</a>[petSpellsId] = petDefSpells;</div>
<div class="line"><span class="lineno"> 2427</span>            ++countData;</div>
<div class="line"><span class="lineno"> 2428</span>        }</div>
<div class="line"><span class="lineno"> 2429</span>    }</div>
<div class="line"><span class="lineno"> 2430</span> </div>
<div class="line"><span class="lineno"> 2431</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded Addition Spells For {} Pet Spell Data Entries in {} ms&quot;</span>, countData, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2432</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2433</span> </div>
<div class="line"><span class="lineno"> 2434</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;Loading Summonable Creature Templates...&quot;</span>);</div>
<div class="line"><span class="lineno"> 2435</span>    oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2436</span> </div>
<div class="line"><span class="lineno"> 2437</span>    <span class="comment">// different summon spells</span></div>
<div class="line"><span class="lineno"> 2438</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_function" href="../../d4/d62/a10962.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>(); ++i)</div>
<div class="line"><span class="lineno"> 2439</span>    {</div>
<div class="line"><span class="lineno"> 2440</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(i);</div>
<div class="line"><span class="lineno"> 2441</span>        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 2442</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2443</span> </div>
<div class="line"><span class="lineno"> 2444</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> k = 0; k &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++k)</div>
<div class="line"><span class="lineno"> 2445</span>        {</div>
<div class="line"><span class="lineno"> 2446</span>            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[k].Effect == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97aa7be476935ce81144c2b383b7af7bf47">SPELL_EFFECT_SUMMON</a> || spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[k].Effect == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a0e77fe9c0e808131a2440afe38a856af">SPELL_EFFECT_SUMMON_PET</a>)</div>
<div class="line"><span class="lineno"> 2447</span>            {</div>
<div class="line"><span class="lineno"> 2448</span>                <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> creature_id = spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[k].MiscValue;</div>
<div class="line"><span class="lineno"> 2449</span>                <a class="code hl_struct" href="../../df/d1d/a07806.html">CreatureTemplate</a> <span class="keyword">const</span>* cInfo = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetCreatureTemplate(creature_id);</div>
<div class="line"><span class="lineno"> 2450</span>                <span class="keywordflow">if</span> (!cInfo)</div>
<div class="line"><span class="lineno"> 2451</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2452</span> </div>
<div class="line"><span class="lineno"> 2453</span>                <span class="comment">// already loaded</span></div>
<div class="line"><span class="lineno"> 2454</span>                <span class="keywordflow">if</span> (cInfo-&gt;<a class="code hl_variable" href="../../df/d1d/a07806.html#af88626941d13903be805def34aa8e3ed">PetSpellDataId</a>)</div>
<div class="line"><span class="lineno"> 2455</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2456</span> </div>
<div class="line"><span class="lineno"> 2457</span>                <span class="comment">// for creature without PetSpellDataId get default pet spells from creature_template</span></div>
<div class="line"><span class="lineno"> 2458</span>                <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> petSpellsId = cInfo-&gt;<a class="code hl_variable" href="../../df/d1d/a07806.html#a3f6f92f27a268bc4e3f4d349c633c9f8">Entry</a>;</div>
<div class="line"><span class="lineno"> 2459</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/d62/a10962.html#a4ec8d854c5357f1edfd29a136203b0da">mPetDefaultSpellsMap</a>.find(cInfo-&gt;<a class="code hl_variable" href="../../df/d1d/a07806.html#a3f6f92f27a268bc4e3f4d349c633c9f8">Entry</a>) != <a class="code hl_variable" href="../../d4/d62/a10962.html#a4ec8d854c5357f1edfd29a136203b0da">mPetDefaultSpellsMap</a>.end())</div>
<div class="line"><span class="lineno"> 2460</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2461</span> </div>
<div class="line"><span class="lineno"> 2462</span>                <a class="code hl_struct" href="../../de/d40/a10954.html">PetDefaultSpellsEntry</a> petDefSpells;</div>
<div class="line"><span class="lineno"> 2463</span>                <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#a84f97addb2541cd13960d71b99ac4f9c">MAX_CREATURE_SPELL_DATA_SLOT</a>; ++j)</div>
<div class="line"><span class="lineno"> 2464</span>                    petDefSpells.<a class="code hl_variable" href="../../de/d40/a10954.html#a14f5dd3b53f06437074965e9b7753e89">spellid</a>[j] = cInfo-&gt;<a class="code hl_variable" href="../../df/d1d/a07806.html#a6fc743c368c84f30c35f10696d29c8b5">spells</a>[j];</div>
<div class="line"><span class="lineno"> 2465</span> </div>
<div class="line"><span class="lineno"> 2466</span>                if (<a class="code hl_function" href="../../da/d5d/a03068.html#a1c2a3145d36ac321b7f1f11a01a235f5">LoadPetDefaultSpells_helper</a>(cInfo, petDefSpells))</div>
<div class="line"><span class="lineno"> 2467</span>                {</div>
<div class="line"><span class="lineno"> 2468</span>                    <a class="code hl_variable" href="../../d4/d62/a10962.html#a4ec8d854c5357f1edfd29a136203b0da">mPetDefaultSpellsMap</a>[petSpellsId] = petDefSpells;</div>
<div class="line"><span class="lineno"> 2469</span>                    ++countCreature;</div>
<div class="line"><span class="lineno"> 2470</span>                }</div>
<div class="line"><span class="lineno"> 2471</span>            }</div>
<div class="line"><span class="lineno"> 2472</span>        }</div>
<div class="line"><span class="lineno"> 2473</span>    }</div>
<div class="line"><span class="lineno"> 2474</span> </div>
<div class="line"><span class="lineno"> 2475</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Summonable Creature emplates in {} ms&quot;</span>, countCreature, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2476</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2477</span>}</div>
<div class="ttc" id="aa00497_html_a0bf9964a3ce962c07ad3d8b5432bbbcd"><div class="ttname"><a href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a></div><div class="ttdeci">std::int32_t int32</div><div class="ttdef"><b>Definition:</b> Define.h:103</div></div>
<div class="ttc" id="aa02750_html_a84f97addb2541cd13960d71b99ac4f9c"><div class="ttname"><a href="../../d7/d14/a02750.html#a84f97addb2541cd13960d71b99ac4f9c">MAX_CREATURE_SPELL_DATA_SLOT</a></div><div class="ttdeci">#define MAX_CREATURE_SPELL_DATA_SLOT</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:806</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a0e77fe9c0e808131a2440afe38a856af"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a0e77fe9c0e808131a2440afe38a856af">SPELL_EFFECT_SUMMON_PET</a></div><div class="ttdeci">@ SPELL_EFFECT_SUMMON_PET</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:834</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97aa7be476935ce81144c2b383b7af7bf47"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97aa7be476935ce81144c2b383b7af7bf47">SPELL_EFFECT_SUMMON</a></div><div class="ttdeci">@ SPELL_EFFECT_SUMMON</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:806</div></div>
<div class="ttc" id="aa03068_html_a1c2a3145d36ac321b7f1f11a01a235f5"><div class="ttname"><a href="../../da/d5d/a03068.html#a1c2a3145d36ac321b7f1f11a01a235f5">LoadPetDefaultSpells_helper</a></div><div class="ttdeci">bool LoadPetDefaultSpells_helper(CreatureTemplate const *cInfo, PetDefaultSpellsEntry &amp;petDefSpells)</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:2351</div></div>
<div class="ttc" id="aa03533_html_ab12170e3eeaeb988a07355262ca85757"><div class="ttname"><a href="../../df/dfa/a03533.html#ab12170e3eeaeb988a07355262ca85757">CreatureTemplateContainer</a></div><div class="ttdeci">std::unordered_map&lt; uint32, CreatureTemplate &gt; CreatureTemplateContainer</div><div class="ttdef"><b>Definition:</b> CreatureData.h:292</div></div>
<div class="ttc" id="aa03704_html_a5b025fb2c59e0d2557490f94c75e9d32"><div class="ttname"><a href="../../d7/da2/a03704.html#a5b025fb2c59e0d2557490f94c75e9d32">sCreatureSpellDataStore</a></div><div class="ttdeci">DBCStorage&lt; CreatureSpellDataEntry &gt; sCreatureSpellDataStore(CreatureSpellDatafmt)</div></div>
<div class="ttc" id="aa07806_html"><div class="ttname"><a href="../../df/d1d/a07806.html">CreatureTemplate</a></div><div class="ttdef"><b>Definition:</b> CreatureData.h:186</div></div>
<div class="ttc" id="aa07806_html_a3f6f92f27a268bc4e3f4d349c633c9f8"><div class="ttname"><a href="../../df/d1d/a07806.html#a3f6f92f27a268bc4e3f4d349c633c9f8">CreatureTemplate::Entry</a></div><div class="ttdeci">uint32 Entry</div><div class="ttdef"><b>Definition:</b> CreatureData.h:187</div></div>
<div class="ttc" id="aa07806_html_a6fc743c368c84f30c35f10696d29c8b5"><div class="ttname"><a href="../../df/d1d/a07806.html#a6fc743c368c84f30c35f10696d29c8b5">CreatureTemplate::spells</a></div><div class="ttdeci">uint32 spells[MAX_CREATURE_SPELLS]</div><div class="ttdef"><b>Definition:</b> CreatureData.h:228</div></div>
<div class="ttc" id="aa07806_html_af88626941d13903be805def34aa8e3ed"><div class="ttname"><a href="../../df/d1d/a07806.html#af88626941d13903be805def34aa8e3ed">CreatureTemplate::PetSpellDataId</a></div><div class="ttdeci">uint32 PetSpellDataId</div><div class="ttdef"><b>Definition:</b> CreatureData.h:229</div></div>
<div class="ttc" id="aa10954_html"><div class="ttname"><a href="../../de/d40/a10954.html">PetDefaultSpellsEntry</a></div><div class="ttdef"><b>Definition:</b> SpellMgr.h:592</div></div>
<div class="ttc" id="aa10954_html_a14f5dd3b53f06437074965e9b7753e89"><div class="ttname"><a href="../../de/d40/a10954.html#a14f5dd3b53f06437074965e9b7753e89">PetDefaultSpellsEntry::spellid</a></div><div class="ttdeci">uint32 spellid[MAX_CREATURE_SPELL_DATA_SLOT]</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:593</div></div>
<div class="ttc" id="aa27682_html"><div class="ttname"><a href="../../d2/d9f/a27682.html">CreatureSpellDataEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:809</div></div>
<div class="ttc" id="aa27682_html_aabbb95c091e0b0946bcb05746b1c23f3"><div class="ttname"><a href="../../d2/d9f/a27682.html#aabbb95c091e0b0946bcb05746b1c23f3">CreatureSpellDataEntry::spellId</a></div><div class="ttdeci">uint32 spellId[MAX_CREATURE_SPELL_DATA_SLOT]</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:811</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00393">SpellInfo::Effects</a>, <a class="el" href="../../#l00187">CreatureTemplate::Entry</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00751">GetSpellInfoStoreSize()</a>, <a class="el" href="../../#l02351">LoadPetDefaultSpells_helper()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00806">MAX_CREATURE_SPELL_DATA_SLOT</a>, <a class="el" href="../../#l01636">MAX_SPELL_EFFECTS</a>, <a class="el" href="../../#l00819">mPetDefaultSpellsMap</a>, <a class="el" href="../../#l00229">CreatureTemplate::PetSpellDataId</a>, <a class="el" href="../../d7/da2/a03704.html#a5b025fb2c59e0d2557490f94c75e9d32">sCreatureSpellDataStore</a>, <a class="el" href="../../#l01635">sObjectMgr</a>, <a class="el" href="../../#l00806">SPELL_EFFECT_SUMMON</a>, <a class="el" href="../../#l00834">SPELL_EFFECT_SUMMON_PET</a>, <a class="el" href="../../#l00593">PetDefaultSpellsEntry::spellid</a>, <a class="el" href="../../#l00811">CreatureSpellDataEntry::spellId</a>, and <a class="el" href="../../#l00228">CreatureTemplate::spells</a>.</p>

</div>
</div>
<a id="addc82985cf1f7562dea166dc1102a18e" name="addc82985cf1f7562dea166dc1102a18e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addc82985cf1f7562dea166dc1102a18e">&#9670;&#160;</a></span>LoadPetLevelupSpellMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadPetLevelupSpellMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2306</span>{</div>
<div class="line"><span class="lineno"> 2307</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2308</span> </div>
<div class="line"><span class="lineno"> 2309</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a961a18df4995256a1754503ff574f11e">mPetLevelupSpellMap</a>.clear();                                   <span class="comment">// need for reload case</span></div>
<div class="line"><span class="lineno"> 2310</span> </div>
<div class="line"><span class="lineno"> 2311</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 2312</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> family_count = 0;</div>
<div class="line"><span class="lineno"> 2313</span> </div>
<div class="line"><span class="lineno"> 2314</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_variable" href="../../d7/da2/a03704.html#ab8fc0f1eab613ede3226e9ee68cb8508">sCreatureFamilyStore</a>.GetNumRows(); ++i)</div>
<div class="line"><span class="lineno"> 2315</span>    {</div>
<div class="line"><span class="lineno"> 2316</span>        <a class="code hl_struct" href="../../d4/d2f/a27674.html">CreatureFamilyEntry</a> <span class="keyword">const</span>* creatureFamily = <a class="code hl_variable" href="../../d7/da2/a03704.html#ab8fc0f1eab613ede3226e9ee68cb8508">sCreatureFamilyStore</a>.LookupEntry(i);</div>
<div class="line"><span class="lineno"> 2317</span>        <span class="keywordflow">if</span> (!creatureFamily)                                     <span class="comment">// not exist</span></div>
<div class="line"><span class="lineno"> 2318</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2319</span> </div>
<div class="line"><span class="lineno"> 2320</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; 2; ++j)</div>
<div class="line"><span class="lineno"> 2321</span>        {</div>
<div class="line"><span class="lineno"> 2322</span>            <span class="keywordflow">if</span> (!creatureFamily-&gt;<a class="code hl_variable" href="../../d4/d2f/a27674.html#ad4498d40b31d18742ee4ac235cb58a2e">skillLine</a>[j])</div>
<div class="line"><span class="lineno"> 2323</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2324</span> </div>
<div class="line"><span class="lineno"> 2325</span>            <span class="keywordflow">for</span> (<a class="code hl_struct" href="../../dd/d1f/a27910.html">SkillLineAbilityEntry</a> <span class="keyword">const</span>* skillLine : <a class="code hl_function" href="../../d7/da2/a03704.html#a2aeaf8baea1aaf85ca9fe37004e531f3">GetSkillLineAbilitiesBySkillLine</a>(creatureFamily-&gt;<a class="code hl_variable" href="../../d4/d2f/a27674.html#ad4498d40b31d18742ee4ac235cb58a2e">skillLine</a>[j]))</div>
<div class="line"><span class="lineno"> 2326</span>            {</div>
<div class="line"><span class="lineno"> 2327</span>                <span class="keywordflow">if</span> (skillLine-&gt;AcquireMethod != <a class="code hl_enumvalue" href="../../dc/d80/a02756.html#a5af614298393d3986bae9de58785ba60a15510a00af2cfb684d30c98f0018018f">SKILL_LINE_ABILITY_LEARNED_ON_SKILL_LEARN</a>)</div>
<div class="line"><span class="lineno"> 2328</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2329</span> </div>
<div class="line"><span class="lineno"> 2330</span>                <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spell = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(skillLine-&gt;Spell);</div>
<div class="line"><span class="lineno"> 2331</span>                <span class="keywordflow">if</span> (!spell) <span class="comment">// not exist or triggered or talent</span></div>
<div class="line"><span class="lineno"> 2332</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2333</span> </div>
<div class="line"><span class="lineno"> 2334</span>                <span class="keywordflow">if</span> (!spell-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a0696e18f727a511bfa4ac86a8c16b9f0">SpellLevel</a>)</div>
<div class="line"><span class="lineno"> 2335</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2336</span> </div>
<div class="line"><span class="lineno"> 2337</span>                <a class="code hl_typedef" href="../../df/d64/a03110.html#aff302d7ad23409ef738f15bcb560ed89">PetLevelupSpellSet</a>&amp; spellSet = <a class="code hl_variable" href="../../d4/d62/a10962.html#a961a18df4995256a1754503ff574f11e">mPetLevelupSpellMap</a>[creatureFamily-&gt;<a class="code hl_variable" href="../../d4/d2f/a27674.html#a84ba697182123cb3e7dd3ba07241e971">ID</a>];</div>
<div class="line"><span class="lineno"> 2338</span>                <span class="keywordflow">if</span> (spellSet.empty())</div>
<div class="line"><span class="lineno"> 2339</span>                    ++family_count;</div>
<div class="line"><span class="lineno"> 2340</span> </div>
<div class="line"><span class="lineno"> 2341</span>                spellSet.insert(PetLevelupSpellSet::value_type(spell-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a0696e18f727a511bfa4ac86a8c16b9f0">SpellLevel</a>, spell-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>));</div>
<div class="line"><span class="lineno"> 2342</span>                ++count;</div>
<div class="line"><span class="lineno"> 2343</span>            }</div>
<div class="line"><span class="lineno"> 2344</span>        }</div>
<div class="line"><span class="lineno"> 2345</span>    }</div>
<div class="line"><span class="lineno"> 2346</span> </div>
<div class="line"><span class="lineno"> 2347</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Pet Levelup And Default Spells For {} Families in {} ms&quot;</span>, count, family_count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2348</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2349</span>}</div>
<div class="ttc" id="aa02756_html_a5af614298393d3986bae9de58785ba60a15510a00af2cfb684d30c98f0018018f"><div class="ttname"><a href="../../dc/d80/a02756.html#a5af614298393d3986bae9de58785ba60a15510a00af2cfb684d30c98f0018018f">SKILL_LINE_ABILITY_LEARNED_ON_SKILL_LEARN</a></div><div class="ttdeci">@ SKILL_LINE_ABILITY_LEARNED_ON_SKILL_LEARN</div><div class="ttdef"><b>Definition:</b> DBCEnums.h:361</div></div>
<div class="ttc" id="aa03110_html_aff302d7ad23409ef738f15bcb560ed89"><div class="ttname"><a href="../../df/d64/a03110.html#aff302d7ad23409ef738f15bcb560ed89">PetLevelupSpellSet</a></div><div class="ttdeci">std::multimap&lt; uint32, uint32 &gt; PetLevelupSpellSet</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:586</div></div>
<div class="ttc" id="aa03704_html_a2aeaf8baea1aaf85ca9fe37004e531f3"><div class="ttname"><a href="../../d7/da2/a03704.html#a2aeaf8baea1aaf85ca9fe37004e531f3">GetSkillLineAbilitiesBySkillLine</a></div><div class="ttdeci">const std::vector&lt; SkillLineAbilityEntry const * &gt; &amp; GetSkillLineAbilitiesBySkillLine(uint32 skillLine)</div><div class="ttdef"><b>Definition:</b> DBCStores.cpp:916</div></div>
<div class="ttc" id="aa03704_html_ab8fc0f1eab613ede3226e9ee68cb8508"><div class="ttname"><a href="../../d7/da2/a03704.html#ab8fc0f1eab613ede3226e9ee68cb8508">sCreatureFamilyStore</a></div><div class="ttdeci">DBCStorage&lt; CreatureFamilyEntry &gt; sCreatureFamilyStore(CreatureFamilyfmt)</div></div>
<div class="ttc" id="aa10906_html_a0696e18f727a511bfa4ac86a8c16b9f0"><div class="ttname"><a href="../../d4/db9/a10906.html#a0696e18f727a511bfa4ac86a8c16b9f0">SpellInfo::SpellLevel</a></div><div class="ttdeci">uint32 SpellLevel</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:360</div></div>
<div class="ttc" id="aa27674_html"><div class="ttname"><a href="../../d4/d2f/a27674.html">CreatureFamilyEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:753</div></div>
<div class="ttc" id="aa27674_html_a84ba697182123cb3e7dd3ba07241e971"><div class="ttname"><a href="../../d4/d2f/a27674.html#a84ba697182123cb3e7dd3ba07241e971">CreatureFamilyEntry::ID</a></div><div class="ttdeci">uint32 ID</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:754</div></div>
<div class="ttc" id="aa27674_html_ad4498d40b31d18742ee4ac235cb58a2e"><div class="ttname"><a href="../../d4/d2f/a27674.html#ad4498d40b31d18742ee4ac235cb58a2e">CreatureFamilyEntry::skillLine</a></div><div class="ttdeci">uint32 skillLine[2]</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:759</div></div>
<div class="ttc" id="aa27910_html"><div class="ttname"><a href="../../dd/d1f/a27910.html">SkillLineAbilityEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1597</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00916">GetSkillLineAbilitiesBySkillLine()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00320">SpellInfo::Id</a>, <a class="el" href="../../#l00754">CreatureFamilyEntry::ID</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00818">mPetLevelupSpellMap</a>, <a class="el" href="../../d7/da2/a03704.html#ab8fc0f1eab613ede3226e9ee68cb8508">sCreatureFamilyStore</a>, <a class="el" href="../../#l00361">SKILL_LINE_ABILITY_LEARNED_ON_SKILL_LEARN</a>, <a class="el" href="../../#l00759">CreatureFamilyEntry::skillLine</a>, and <a class="el" href="../../#l00360">SpellInfo::SpellLevel</a>.</p>

</div>
</div>
<a id="a3a8a52ae46abd7dc3b7cc5829d5c9b34" name="a3a8a52ae46abd7dc3b7cc5829d5c9b34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a8a52ae46abd7dc3b7cc5829d5c9b34">&#9670;&#160;</a></span>LoadSkillLineAbilityMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSkillLineAbilityMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2082</span>{</div>
<div class="line"><span class="lineno"> 2083</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2084</span> </div>
<div class="line"><span class="lineno"> 2085</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a1230ba374bf128c6d0857d787bb68af4">mSkillLineAbilityMap</a>.clear();</div>
<div class="line"><span class="lineno"> 2086</span> </div>
<div class="line"><span class="lineno"> 2087</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 2088</span> </div>
<div class="line"><span class="lineno"> 2089</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_variable" href="../../d7/da2/a03704.html#aeeb4aed00cc65a59d882997d8ed991bd">sSkillLineAbilityStore</a>.GetNumRows(); ++i)</div>
<div class="line"><span class="lineno"> 2090</span>    {</div>
<div class="line"><span class="lineno"> 2091</span>        <a class="code hl_struct" href="../../dd/d1f/a27910.html">SkillLineAbilityEntry</a> <span class="keyword">const</span>* SkillInfo = <a class="code hl_variable" href="../../d7/da2/a03704.html#aeeb4aed00cc65a59d882997d8ed991bd">sSkillLineAbilityStore</a>.LookupEntry(i);</div>
<div class="line"><span class="lineno"> 2092</span>        <span class="keywordflow">if</span> (!SkillInfo)</div>
<div class="line"><span class="lineno"> 2093</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2094</span> </div>
<div class="line"><span class="lineno"> 2095</span>        <a class="code hl_variable" href="../../d4/d62/a10962.html#a1230ba374bf128c6d0857d787bb68af4">mSkillLineAbilityMap</a>.insert(SkillLineAbilityMap::value_type(SkillInfo-&gt;<a class="code hl_variable" href="../../dd/d1f/a27910.html#a19e1a55dadce68e6e9c1bd7bb2ca51dd">Spell</a>, SkillInfo));</div>
<div class="line"><span class="lineno"> 2096</span>        ++count;</div>
<div class="line"><span class="lineno"> 2097</span>    }</div>
<div class="line"><span class="lineno"> 2098</span> </div>
<div class="line"><span class="lineno"> 2099</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} SkillLineAbility MultiMap Data in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2100</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2101</span>}</div>
<div class="ttc" id="aa03704_html_aeeb4aed00cc65a59d882997d8ed991bd"><div class="ttname"><a href="../../d7/da2/a03704.html#aeeb4aed00cc65a59d882997d8ed991bd">sSkillLineAbilityStore</a></div><div class="ttdeci">DBCStorage&lt; SkillLineAbilityEntry &gt; sSkillLineAbilityStore(SkillLineAbilityfmt)</div></div>
<div class="ttc" id="aa27910_html_a19e1a55dadce68e6e9c1bd7bb2ca51dd"><div class="ttname"><a href="../../dd/d1f/a27910.html#a19e1a55dadce68e6e9c1bd7bb2ca51dd">SkillLineAbilityEntry::Spell</a></div><div class="ttdeci">uint32 Spell</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1600</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00817">mSkillLineAbilityMap</a>, <a class="el" href="../../#l01600">SkillLineAbilityEntry::Spell</a>, and <a class="el" href="../../d7/da2/a03704.html#aeeb4aed00cc65a59d882997d8ed991bd">sSkillLineAbilityStore</a>.</p>

</div>
</div>
<a id="a2e5bbd51995218e7f28884c591633086" name="a2e5bbd51995218e7f28884c591633086"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e5bbd51995218e7f28884c591633086">&#9670;&#160;</a></span>LoadSpellAreas()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellAreas </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2480</span>{</div>
<div class="line"><span class="lineno"> 2481</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2482</span> </div>
<div class="line"><span class="lineno"> 2483</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#ac68d8e843d1a7a14d16c397e4595ce17">mSpellAreaMap</a>.clear();                                  <span class="comment">// need for reload case</span></div>
<div class="line"><span class="lineno"> 2484</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#aeb50fa0b06b178d23731a9d27156b7b7">mSpellAreaForQuestMap</a>.clear();</div>
<div class="line"><span class="lineno"> 2485</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a4943f12ccc2090045b94e26a53e935a2">mSpellAreaForQuestEndMap</a>.clear();</div>
<div class="line"><span class="lineno"> 2486</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a24cfc05b7291e1e490fed982059a7c66">mSpellAreaForAuraMap</a>.clear();</div>
<div class="line"><span class="lineno"> 2487</span> </div>
<div class="line"><span class="lineno"> 2488</span>    <span class="comment">//                                                  0     1         2              3               4                 5          6          7       8         9</span></div>
<div class="line"><span class="lineno"> 2489</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT spell, area, quest_start, quest_start_status, quest_end_status, quest_end, aura_spell, racemask, gender, autocast FROM spell_area&quot;</span>);</div>
<div class="line"><span class="lineno"> 2490</span> </div>
<div class="line"><span class="lineno"> 2491</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno"> 2492</span>    {</div>
<div class="line"><span class="lineno"> 2493</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell area requirements. DB table `spell_area` is empty.&quot;</span>);</div>
<div class="line"><span class="lineno"> 2494</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2495</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2496</span>    }</div>
<div class="line"><span class="lineno"> 2497</span> </div>
<div class="line"><span class="lineno"> 2498</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 2499</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 2500</span>    {</div>
<div class="line"><span class="lineno"> 2501</span>        <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 2502</span> </div>
<div class="line"><span class="lineno"> 2503</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2504</span>        <a class="code hl_struct" href="../../de/de2/a10942.html">SpellArea</a> spellArea;</div>
<div class="line"><span class="lineno"> 2505</span>        spellArea.<a class="code hl_variable" href="../../de/de2/a10942.html#a8a299d901e2c13cdc3c00d6cf0a856d3">spellId</a>             = spell;</div>
<div class="line"><span class="lineno"> 2506</span>        spellArea.areaId              = fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2507</span>        spellArea.questStart          = fields[2].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2508</span>        spellArea.questStartStatus    = fields[3].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2509</span>        spellArea.questEndStatus      = fields[4].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2510</span>        spellArea.questEnd            = fields[5].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2511</span>        spellArea.auraSpell           = fields[6].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2512</span>        spellArea.raceMask            = fields[7].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2513</span>        spellArea.gender              = <a class="code hl_enumeration" href="../../d0/dbd/a02771.html#a3667e3c5ec056737c8789615a989324f">Gender</a>(fields[8].Get&lt;uint8&gt;());</div>
<div class="line"><span class="lineno"> 2514</span>        spellArea.autocast            = fields[9].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<span class="keywordtype">bool</span>&gt;();</div>
<div class="line"><span class="lineno"> 2515</span> </div>
<div class="line"><span class="lineno"> 2516</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(spell))</div>
<div class="line"><span class="lineno"> 2517</span>        {</div>
<div class="line"><span class="lineno"> 2518</span>            <span class="keywordflow">if</span> (spellArea.autocast)</div>
<div class="line"><span class="lineno"> 2519</span>                <span class="keyword">const_cast&lt;</span><a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>*<span class="keyword">&gt;</span>(spellInfo)-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada74e8efc0492288577083b1cc470e48c4">SPELL_ATTR0_NO_AURA_CANCEL</a>;</div>
<div class="line"><span class="lineno"> 2520</span>        }</div>
<div class="line"><span class="lineno"> 2521</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2522</span>        {</div>
<div class="line"><span class="lineno"> 2523</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_area` does not exist&quot;</span>, spell);</div>
<div class="line"><span class="lineno"> 2524</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2525</span>        }</div>
<div class="line"><span class="lineno"> 2526</span> </div>
<div class="line"><span class="lineno"> 2527</span>        {</div>
<div class="line"><span class="lineno"> 2528</span>            <span class="keywordtype">bool</span> ok = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2529</span>            <a class="code hl_typedef" href="../../df/d64/a03110.html#a4edcdc3e020b29d06505e8048874c414">SpellAreaMapBounds</a> sa_bounds = <a class="code hl_function" href="../../d4/d62/a10962.html#a126f0b2c2c1bdedea38a31967bee99a9">GetSpellAreaMapBounds</a>(spellArea.spellId);</div>
<div class="line"><span class="lineno"> 2530</span>            <span class="keywordflow">for</span> (SpellAreaMap::const_iterator itr = sa_bounds.first; itr != sa_bounds.second; ++itr)</div>
<div class="line"><span class="lineno"> 2531</span>            {</div>
<div class="line"><span class="lineno"> 2532</span>                <span class="keywordflow">if</span> (spellArea.spellId != itr-&gt;second.spellId)</div>
<div class="line"><span class="lineno"> 2533</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2534</span>                <span class="keywordflow">if</span> (spellArea.areaId != itr-&gt;second.areaId)</div>
<div class="line"><span class="lineno"> 2535</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2536</span>                <span class="keywordflow">if</span> (spellArea.questStart != itr-&gt;second.questStart)</div>
<div class="line"><span class="lineno"> 2537</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2538</span>                <span class="keywordflow">if</span> (spellArea.auraSpell != itr-&gt;second.auraSpell)</div>
<div class="line"><span class="lineno"> 2539</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2540</span>                <span class="keywordflow">if</span> ((spellArea.raceMask &amp; itr-&gt;second.raceMask) == 0)</div>
<div class="line"><span class="lineno"> 2541</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2542</span>                <span class="keywordflow">if</span> (spellArea.gender != itr-&gt;second.gender)</div>
<div class="line"><span class="lineno"> 2543</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2544</span> </div>
<div class="line"><span class="lineno"> 2545</span>                <span class="comment">// duplicate by requirements</span></div>
<div class="line"><span class="lineno"> 2546</span>                ok = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2547</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2548</span>            }</div>
<div class="line"><span class="lineno"> 2549</span> </div>
<div class="line"><span class="lineno"> 2550</span>            <span class="keywordflow">if</span> (!ok)</div>
<div class="line"><span class="lineno"> 2551</span>            {</div>
<div class="line"><span class="lineno"> 2552</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_area` already listed with similar requirements.&quot;</span>, spell);</div>
<div class="line"><span class="lineno"> 2553</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2554</span>            }</div>
<div class="line"><span class="lineno"> 2555</span>        }</div>
<div class="line"><span class="lineno"> 2556</span> </div>
<div class="line"><span class="lineno"> 2557</span>        <span class="keywordflow">if</span> (spellArea.areaId &amp;&amp; !<a class="code hl_variable" href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>.LookupEntry(spellArea.areaId))</div>
<div class="line"><span class="lineno"> 2558</span>        {</div>
<div class="line"><span class="lineno"> 2559</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_area` have wrong area ({}) requirement&quot;</span>, spell, spellArea.areaId);</div>
<div class="line"><span class="lineno"> 2560</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2561</span>        }</div>
<div class="line"><span class="lineno"> 2562</span> </div>
<div class="line"><span class="lineno"> 2563</span>        <span class="keywordflow">if</span> (spellArea.questStart &amp;&amp; !<a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(spellArea.questStart))</div>
<div class="line"><span class="lineno"> 2564</span>        {</div>
<div class="line"><span class="lineno"> 2565</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_area` have wrong start quest ({}) requirement&quot;</span>, spell, spellArea.questStart);</div>
<div class="line"><span class="lineno"> 2566</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2567</span>        }</div>
<div class="line"><span class="lineno"> 2568</span> </div>
<div class="line"><span class="lineno"> 2569</span>        <span class="keywordflow">if</span> (spellArea.questEnd)</div>
<div class="line"><span class="lineno"> 2570</span>        {</div>
<div class="line"><span class="lineno"> 2571</span>            <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetQuestTemplate(spellArea.questEnd))</div>
<div class="line"><span class="lineno"> 2572</span>            {</div>
<div class="line"><span class="lineno"> 2573</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_area` have wrong end quest ({}) requirement&quot;</span>, spell, spellArea.questEnd);</div>
<div class="line"><span class="lineno"> 2574</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2575</span>            }</div>
<div class="line"><span class="lineno"> 2576</span>        }</div>
<div class="line"><span class="lineno"> 2577</span> </div>
<div class="line"><span class="lineno"> 2578</span>        <span class="keywordflow">if</span> (spellArea.auraSpell)</div>
<div class="line"><span class="lineno"> 2579</span>        {</div>
<div class="line"><span class="lineno"> 2580</span>            <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(std::abs(spellArea.auraSpell));</div>
<div class="line"><span class="lineno"> 2581</span>            <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 2582</span>            {</div>
<div class="line"><span class="lineno"> 2583</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_area` have wrong aura spell ({}) requirement&quot;</span>, spell, std::abs(spellArea.auraSpell));</div>
<div class="line"><span class="lineno"> 2584</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2585</span>            }</div>
<div class="line"><span class="lineno"> 2586</span> </div>
<div class="line"><span class="lineno"> 2587</span>            <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(std::abs(spellArea.auraSpell)) == spellArea.spellId)</div>
<div class="line"><span class="lineno"> 2588</span>            {</div>
<div class="line"><span class="lineno"> 2589</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_area` have aura spell ({}) requirement for itself&quot;</span>, spell, std::abs(spellArea.auraSpell));</div>
<div class="line"><span class="lineno"> 2590</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2591</span>            }</div>
<div class="line"><span class="lineno"> 2592</span> </div>
<div class="line"><span class="lineno"> 2593</span>            <span class="comment">// not allow autocast chains by auraSpell field (but allow use as alternative if not present)</span></div>
<div class="line"><span class="lineno"> 2594</span>            <span class="keywordflow">if</span> (spellArea.autocast &amp;&amp; spellArea.auraSpell &gt; 0)</div>
<div class="line"><span class="lineno"> 2595</span>            {</div>
<div class="line"><span class="lineno"> 2596</span>                <span class="keywordtype">bool</span> chain = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2597</span>                <a class="code hl_typedef" href="../../df/d64/a03110.html#ac0bf7c1f4212d9675abaaa9b3ca6f33d">SpellAreaForAuraMapBounds</a> saBound = <a class="code hl_function" href="../../d4/d62/a10962.html#a65d4c8ef866eb02e4a8e81b3166286c1">GetSpellAreaForAuraMapBounds</a>(spellArea.spellId);</div>
<div class="line"><span class="lineno"> 2598</span>                <span class="keywordflow">for</span> (SpellAreaForAuraMap::const_iterator itr = saBound.first; itr != saBound.second; ++itr)</div>
<div class="line"><span class="lineno"> 2599</span>                {</div>
<div class="line"><span class="lineno"> 2600</span>                    <span class="keywordflow">if</span> (itr-&gt;second-&gt;autocast &amp;&amp; itr-&gt;second-&gt;auraSpell &gt; 0)</div>
<div class="line"><span class="lineno"> 2601</span>                    {</div>
<div class="line"><span class="lineno"> 2602</span>                        chain = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2603</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2604</span>                    }</div>
<div class="line"><span class="lineno"> 2605</span>                }</div>
<div class="line"><span class="lineno"> 2606</span> </div>
<div class="line"><span class="lineno"> 2607</span>                <span class="keywordflow">if</span> (chain)</div>
<div class="line"><span class="lineno"> 2608</span>                {</div>
<div class="line"><span class="lineno"> 2609</span>                    <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_area` have aura spell ({}) requirement that itself autocast from aura&quot;</span>, spell, spellArea.auraSpell);</div>
<div class="line"><span class="lineno"> 2610</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2611</span>                }</div>
<div class="line"><span class="lineno"> 2612</span> </div>
<div class="line"><span class="lineno"> 2613</span>                <a class="code hl_typedef" href="../../df/d64/a03110.html#a4edcdc3e020b29d06505e8048874c414">SpellAreaMapBounds</a> saBound2 = <a class="code hl_function" href="../../d4/d62/a10962.html#a126f0b2c2c1bdedea38a31967bee99a9">GetSpellAreaMapBounds</a>(spellArea.auraSpell);</div>
<div class="line"><span class="lineno"> 2614</span>                <span class="keywordflow">for</span> (SpellAreaMap::const_iterator itr2 = saBound2.first; itr2 != saBound2.second; ++itr2)</div>
<div class="line"><span class="lineno"> 2615</span>                {</div>
<div class="line"><span class="lineno"> 2616</span>                    <span class="keywordflow">if</span> (itr2-&gt;second.autocast &amp;&amp; itr2-&gt;second.auraSpell &gt; 0)</div>
<div class="line"><span class="lineno"> 2617</span>                    {</div>
<div class="line"><span class="lineno"> 2618</span>                        chain = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2619</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2620</span>                    }</div>
<div class="line"><span class="lineno"> 2621</span>                }</div>
<div class="line"><span class="lineno"> 2622</span> </div>
<div class="line"><span class="lineno"> 2623</span>                <span class="keywordflow">if</span> (chain)</div>
<div class="line"><span class="lineno"> 2624</span>                {</div>
<div class="line"><span class="lineno"> 2625</span>                    <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_area` have aura spell ({}) requirement that itself autocast from aura&quot;</span>, spell, spellArea.auraSpell);</div>
<div class="line"><span class="lineno"> 2626</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2627</span>                }</div>
<div class="line"><span class="lineno"> 2628</span>            }</div>
<div class="line"><span class="lineno"> 2629</span>        }</div>
<div class="line"><span class="lineno"> 2630</span> </div>
<div class="line"><span class="lineno"> 2631</span>        <span class="keywordflow">if</span> (spellArea.raceMask &amp;&amp; (spellArea.raceMask &amp; <a class="code hl_define" href="../../d0/dbd/a02771.html#ad935ca576b06ccd85380777030e2585f">RACEMASK_ALL_PLAYABLE</a>) == 0)</div>
<div class="line"><span class="lineno"> 2632</span>        {</div>
<div class="line"><span class="lineno"> 2633</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_area` have wrong race mask ({}) requirement&quot;</span>, spell, spellArea.raceMask);</div>
<div class="line"><span class="lineno"> 2634</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2635</span>        }</div>
<div class="line"><span class="lineno"> 2636</span> </div>
<div class="line"><span class="lineno"> 2637</span>        <span class="keywordflow">if</span> (spellArea.gender != <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a3667e3c5ec056737c8789615a989324fafe69f428f13193dcfd8ed8f30d6d2e07">GENDER_NONE</a> &amp;&amp; spellArea.gender != <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a3667e3c5ec056737c8789615a989324faf3da8f6e862fb5230f0bbb8613684463">GENDER_FEMALE</a> &amp;&amp; spellArea.gender != <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a3667e3c5ec056737c8789615a989324fa8f9913149a2518b5548e5125495a01c3">GENDER_MALE</a>)</div>
<div class="line"><span class="lineno"> 2638</span>        {</div>
<div class="line"><span class="lineno"> 2639</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_area` have wrong gender ({}) requirement&quot;</span>, spell, spellArea.gender);</div>
<div class="line"><span class="lineno"> 2640</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2641</span>        }</div>
<div class="line"><span class="lineno"> 2642</span> </div>
<div class="line"><span class="lineno"> 2643</span>        <a class="code hl_struct" href="../../de/de2/a10942.html">SpellArea</a> <span class="keyword">const</span>* sa = &amp;<a class="code hl_variable" href="../../d4/d62/a10962.html#ac68d8e843d1a7a14d16c397e4595ce17">mSpellAreaMap</a>.insert(SpellAreaMap::value_type(spell, spellArea))-&gt;second;</div>
<div class="line"><span class="lineno"> 2644</span> </div>
<div class="line"><span class="lineno"> 2645</span>        <span class="comment">// for search by current zone/subzone at zone/subzone change</span></div>
<div class="line"><span class="lineno"> 2646</span>        <span class="keywordflow">if</span> (spellArea.areaId)</div>
<div class="line"><span class="lineno"> 2647</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#ab76464f94e9f4189902985e9e86147e3">mSpellAreaForAreaMap</a>.insert(SpellAreaForAreaMap::value_type(spellArea.areaId, sa));</div>
<div class="line"><span class="lineno"> 2648</span> </div>
<div class="line"><span class="lineno"> 2649</span>        <span class="comment">// for search at quest start/reward</span></div>
<div class="line"><span class="lineno"> 2650</span>        <span class="keywordflow">if</span> (spellArea.questStart)</div>
<div class="line"><span class="lineno"> 2651</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#aeb50fa0b06b178d23731a9d27156b7b7">mSpellAreaForQuestMap</a>.insert(SpellAreaForQuestMap::value_type(spellArea.questStart, sa));</div>
<div class="line"><span class="lineno"> 2652</span> </div>
<div class="line"><span class="lineno"> 2653</span>        <span class="comment">// for search at quest start/reward</span></div>
<div class="line"><span class="lineno"> 2654</span>        <span class="keywordflow">if</span> (spellArea.questEnd)</div>
<div class="line"><span class="lineno"> 2655</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#a4943f12ccc2090045b94e26a53e935a2">mSpellAreaForQuestEndMap</a>.insert(SpellAreaForQuestMap::value_type(spellArea.questEnd, sa));</div>
<div class="line"><span class="lineno"> 2656</span> </div>
<div class="line"><span class="lineno"> 2657</span>        <span class="comment">// for search at aura apply</span></div>
<div class="line"><span class="lineno"> 2658</span>        <span class="keywordflow">if</span> (spellArea.auraSpell)</div>
<div class="line"><span class="lineno"> 2659</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#a24cfc05b7291e1e490fed982059a7c66">mSpellAreaForAuraMap</a>.insert(SpellAreaForAuraMap::value_type(std::abs(spellArea.auraSpell), sa));</div>
<div class="line"><span class="lineno"> 2660</span> </div>
<div class="line"><span class="lineno"> 2661</span>        ++count;</div>
<div class="line"><span class="lineno"> 2662</span>    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno"> 2663</span> </div>
<div class="line"><span class="lineno"> 2664</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41af0a6989af793b6a1c82c15551bf604cd">CONFIG_ICC_BUFF_HORDE</a>) &gt; 0)</div>
<div class="line"><span class="lineno"> 2665</span>    {</div>
<div class="line"><span class="lineno"> 2666</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Using ICC Buff Horde: {}&quot;</span>, <a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41af0a6989af793b6a1c82c15551bf604cd">CONFIG_ICC_BUFF_HORDE</a>));</div>
<div class="line"><span class="lineno"> 2667</span>        <a class="code hl_struct" href="../../de/de2/a10942.html">SpellArea</a> spellAreaICCBuffHorde = { <a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41af0a6989af793b6a1c82c15551bf604cd">CONFIG_ICC_BUFF_HORDE</a>), <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a955c2f2d6134701c932a636512d7fbd4a7057c645998b72657fb18e41e12dc25f">ICC_AREA</a>, 0, 0, 0, <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a955c2f2d6134701c932a636512d7fbd4a681e8c43ac04d1194334566f73ee1449">ICC_RACEMASK_HORDE</a>, <a class="code hl_enumeration" href="../../d0/dbd/a02771.html#a3667e3c5ec056737c8789615a989324f">Gender</a>(2), 64, 11, 1 };</div>
<div class="line"><span class="lineno"> 2668</span>        <a class="code hl_struct" href="../../de/de2/a10942.html">SpellArea</a> <span class="keyword">const</span>* saICCBuffHorde = &amp;<a class="code hl_variable" href="../../d4/d62/a10962.html#ac68d8e843d1a7a14d16c397e4595ce17">mSpellAreaMap</a>.insert(SpellAreaMap::value_type(<a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41af0a6989af793b6a1c82c15551bf604cd">CONFIG_ICC_BUFF_HORDE</a>), spellAreaICCBuffHorde))-&gt;second;</div>
<div class="line"><span class="lineno"> 2669</span>        <a class="code hl_variable" href="../../d4/d62/a10962.html#ab76464f94e9f4189902985e9e86147e3">mSpellAreaForAreaMap</a>.insert(SpellAreaForAreaMap::value_type(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#a955c2f2d6134701c932a636512d7fbd4a7057c645998b72657fb18e41e12dc25f">ICC_AREA</a>, saICCBuffHorde));</div>
<div class="line"><span class="lineno"> 2670</span>        ++count;</div>
<div class="line"><span class="lineno"> 2671</span>    }</div>
<div class="line"><span class="lineno"> 2672</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2673</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; ICC Buff Horde: disabled&quot;</span>);</div>
<div class="line"><span class="lineno"> 2674</span> </div>
<div class="line"><span class="lineno"> 2675</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41a8589fece73b5980befa3b6cbecbca581">CONFIG_ICC_BUFF_ALLIANCE</a>) &gt; 0)</div>
<div class="line"><span class="lineno"> 2676</span>    {</div>
<div class="line"><span class="lineno"> 2677</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Using ICC Buff Alliance: {}&quot;</span>, <a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41a8589fece73b5980befa3b6cbecbca581">CONFIG_ICC_BUFF_ALLIANCE</a>));</div>
<div class="line"><span class="lineno"> 2678</span>        <a class="code hl_struct" href="../../de/de2/a10942.html">SpellArea</a> spellAreaICCBuffAlliance = { <a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41a8589fece73b5980befa3b6cbecbca581">CONFIG_ICC_BUFF_ALLIANCE</a>), <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a955c2f2d6134701c932a636512d7fbd4a7057c645998b72657fb18e41e12dc25f">ICC_AREA</a>, 0, 0, 0, <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a955c2f2d6134701c932a636512d7fbd4a7352283120084279478da1de4d3db9d0">ICC_RACEMASK_ALLIANCE</a>, <a class="code hl_enumeration" href="../../d0/dbd/a02771.html#a3667e3c5ec056737c8789615a989324f">Gender</a>(2), 64, 11, 1 };</div>
<div class="line"><span class="lineno"> 2679</span>        <a class="code hl_struct" href="../../de/de2/a10942.html">SpellArea</a> <span class="keyword">const</span>* saICCBuffAlliance = &amp;<a class="code hl_variable" href="../../d4/d62/a10962.html#ac68d8e843d1a7a14d16c397e4595ce17">mSpellAreaMap</a>.insert(SpellAreaMap::value_type(<a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41a8589fece73b5980befa3b6cbecbca581">CONFIG_ICC_BUFF_ALLIANCE</a>), spellAreaICCBuffAlliance))-&gt;second;</div>
<div class="line"><span class="lineno"> 2680</span>        <a class="code hl_variable" href="../../d4/d62/a10962.html#ab76464f94e9f4189902985e9e86147e3">mSpellAreaForAreaMap</a>.insert(SpellAreaForAreaMap::value_type(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#a955c2f2d6134701c932a636512d7fbd4a7057c645998b72657fb18e41e12dc25f">ICC_AREA</a>, saICCBuffAlliance));</div>
<div class="line"><span class="lineno"> 2681</span>        ++count;</div>
<div class="line"><span class="lineno"> 2682</span>    }</div>
<div class="line"><span class="lineno"> 2683</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2684</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; ICC Buff Alliance: disabled&quot;</span>);</div>
<div class="line"><span class="lineno"> 2685</span> </div>
<div class="line"><span class="lineno"> 2686</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Spell Area Requirements in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2687</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2688</span>}</div>
<div class="ttc" id="aa00035_html_adf09840a666e1d86bcd3439105db6edc"><div class="ttname"><a href="../../d4/d8c/a00035.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a></div><div class="ttdeci">#define LOG_WARN(filterType__,...)</div><div class="ttdef"><b>Definition:</b> Log.h:161</div></div>
<div class="ttc" id="aa02771_html_a3667e3c5ec056737c8789615a989324f"><div class="ttname"><a href="../../d0/dbd/a02771.html#a3667e3c5ec056737c8789615a989324f">Gender</a></div><div class="ttdeci">Gender</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:60</div></div>
<div class="ttc" id="aa02771_html_a3667e3c5ec056737c8789615a989324fa8f9913149a2518b5548e5125495a01c3"><div class="ttname"><a href="../../d0/dbd/a02771.html#a3667e3c5ec056737c8789615a989324fa8f9913149a2518b5548e5125495a01c3">GENDER_MALE</a></div><div class="ttdeci">@ GENDER_MALE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:61</div></div>
<div class="ttc" id="aa02771_html_a3667e3c5ec056737c8789615a989324faf3da8f6e862fb5230f0bbb8613684463"><div class="ttname"><a href="../../d0/dbd/a02771.html#a3667e3c5ec056737c8789615a989324faf3da8f6e862fb5230f0bbb8613684463">GENDER_FEMALE</a></div><div class="ttdeci">@ GENDER_FEMALE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:62</div></div>
<div class="ttc" id="aa02771_html_a3667e3c5ec056737c8789615a989324fafe69f428f13193dcfd8ed8f30d6d2e07"><div class="ttname"><a href="../../d0/dbd/a02771.html#a3667e3c5ec056737c8789615a989324fafe69f428f13193dcfd8ed8f30d6d2e07">GENDER_NONE</a></div><div class="ttdeci">@ GENDER_NONE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:63</div></div>
<div class="ttc" id="aa02771_html_a9dcd0ba8d94905ba214797c12e7c44ada74e8efc0492288577083b1cc470e48c4"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada74e8efc0492288577083b1cc470e48c4">SPELL_ATTR0_NO_AURA_CANCEL</a></div><div class="ttdeci">@ SPELL_ATTR0_NO_AURA_CANCEL</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:413</div></div>
<div class="ttc" id="aa02771_html_ad935ca576b06ccd85380777030e2585f"><div class="ttname"><a href="../../d0/dbd/a02771.html#ad935ca576b06ccd85380777030e2585f">RACEMASK_ALL_PLAYABLE</a></div><div class="ttdeci">#define RACEMASK_ALL_PLAYABLE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:97</div></div>
<div class="ttc" id="aa03110_html_a4edcdc3e020b29d06505e8048874c414"><div class="ttname"><a href="../../df/d64/a03110.html#a4edcdc3e020b29d06505e8048874c414">SpellAreaMapBounds</a></div><div class="ttdeci">std::pair&lt; SpellAreaMap::const_iterator, SpellAreaMap::const_iterator &gt; SpellAreaMapBounds</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:547</div></div>
<div class="ttc" id="aa03110_html_a955c2f2d6134701c932a636512d7fbd4a681e8c43ac04d1194334566f73ee1449"><div class="ttname"><a href="../../df/d64/a03110.html#a955c2f2d6134701c932a636512d7fbd4a681e8c43ac04d1194334566f73ee1449">ICC_RACEMASK_HORDE</a></div><div class="ttdeci">@ ICC_RACEMASK_HORDE</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:522</div></div>
<div class="ttc" id="aa03110_html_a955c2f2d6134701c932a636512d7fbd4a7057c645998b72657fb18e41e12dc25f"><div class="ttname"><a href="../../df/d64/a03110.html#a955c2f2d6134701c932a636512d7fbd4a7057c645998b72657fb18e41e12dc25f">ICC_AREA</a></div><div class="ttdeci">@ ICC_AREA</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:521</div></div>
<div class="ttc" id="aa03110_html_a955c2f2d6134701c932a636512d7fbd4a7352283120084279478da1de4d3db9d0"><div class="ttname"><a href="../../df/d64/a03110.html#a955c2f2d6134701c932a636512d7fbd4a7352283120084279478da1de4d3db9d0">ICC_RACEMASK_ALLIANCE</a></div><div class="ttdeci">@ ICC_RACEMASK_ALLIANCE</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:523</div></div>
<div class="ttc" id="aa03110_html_ac0bf7c1f4212d9675abaaa9b3ca6f33d"><div class="ttname"><a href="../../df/d64/a03110.html#ac0bf7c1f4212d9675abaaa9b3ca6f33d">SpellAreaForAuraMapBounds</a></div><div class="ttdeci">std::pair&lt; SpellAreaForAuraMap::const_iterator, SpellAreaForAuraMap::const_iterator &gt; SpellAreaForAuraMapBounds</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:549</div></div>
<div class="ttc" id="aa03317_html_a17aac4c166ebe43e3b8fdccf9e012e41a8589fece73b5980befa3b6cbecbca581"><div class="ttname"><a href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41a8589fece73b5980befa3b6cbecbca581">CONFIG_ICC_BUFF_ALLIANCE</a></div><div class="ttdeci">@ CONFIG_ICC_BUFF_ALLIANCE</div><div class="ttdef"><b>Definition:</b> IWorld.h:385</div></div>
<div class="ttc" id="aa03317_html_a17aac4c166ebe43e3b8fdccf9e012e41af0a6989af793b6a1c82c15551bf604cd"><div class="ttname"><a href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41af0a6989af793b6a1c82c15551bf604cd">CONFIG_ICC_BUFF_HORDE</a></div><div class="ttdeci">@ CONFIG_ICC_BUFF_HORDE</div><div class="ttdef"><b>Definition:</b> IWorld.h:384</div></div>
<div class="ttc" id="aa03704_html_aedcdbef7c215330459e17b2f224ff0e3"><div class="ttname"><a href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a></div><div class="ttdeci">DBCStorage&lt; AreaTableEntry &gt; sAreaTableStore(AreaTableEntryfmt)</div></div>
<div class="ttc" id="aa04589_html_ab0c9feeec448a181290fcb39565b8253"><div class="ttname"><a href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a></div><div class="ttdeci">std::shared_ptr&lt; ResultSet &gt; QueryResult</div><div class="ttdef"><b>Definition:</b> DatabaseEnvFwd.h:27</div></div>
<div class="ttc" id="aa04601_html_afa9a6509f9913c9c7dd3081523badd7c"><div class="ttname"><a href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a></div><div class="ttdeci">DatabaseWorkerPool&lt; WorldDatabaseConnection &gt; WorldDatabase</div><div class="ttdoc">Accessor to the world database.</div><div class="ttdef"><b>Definition:</b> DatabaseEnv.cpp:20</div></div>
<div class="ttc" id="aa04681_html_ga05dfb35c344e5b947a19e4284e7f5fa7"><div class="ttname"><a href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a></div><div class="ttdeci">#define sWorld</div><div class="ttdef"><b>Definition:</b> World.h:443</div></div>
<div class="ttc" id="aa05622_html"><div class="ttname"><a href="../../d4/dc8/a05622.html">Field</a></div><div class="ttdoc">Class used to access individual fields of database query result.</div><div class="ttdef"><b>Definition:</b> Field.h:98</div></div>
<div class="ttc" id="aa05622_html_aae507d21d3570ffdaf1643ba02946f01"><div class="ttname"><a href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Field::Get</a></div><div class="ttdeci">std::enable_if_t&lt; std::is_arithmetic_v&lt; T &gt;, T &gt; Get() const</div><div class="ttdef"><b>Definition:</b> Field.h:112</div></div>
<div class="ttc" id="aa10942_html"><div class="ttname"><a href="../../de/de2/a10942.html">SpellArea</a></div><div class="ttdef"><b>Definition:</b> SpellMgr.h:527</div></div>
<div class="ttc" id="aa10942_html_a8a299d901e2c13cdc3c00d6cf0a856d3"><div class="ttname"><a href="../../de/de2/a10942.html#a8a299d901e2c13cdc3c00d6cf0a856d3">SpellArea::spellId</a></div><div class="ttdeci">uint32 spellId</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:528</div></div>
<div class="ttc" id="aa10962_html_a126f0b2c2c1bdedea38a31967bee99a9"><div class="ttname"><a href="../../d4/d62/a10962.html#a126f0b2c2c1bdedea38a31967bee99a9">SpellMgr::GetSpellAreaMapBounds</a></div><div class="ttdeci">SpellAreaMapBounds GetSpellAreaMapBounds(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:1052</div></div>
<div class="ttc" id="aa10962_html_a65d4c8ef866eb02e4a8e81b3166286c1"><div class="ttname"><a href="../../d4/d62/a10962.html#a65d4c8ef866eb02e4a8e81b3166286c1">SpellMgr::GetSpellAreaForAuraMapBounds</a></div><div class="ttdeci">SpellAreaForAuraMapBounds GetSpellAreaForAuraMapBounds(uint32 spell_id) const</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:1067</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00385">CONFIG_ICC_BUFF_ALLIANCE</a>, <a class="el" href="../../#l00384">CONFIG_ICC_BUFF_HORDE</a>, <a class="el" href="../../#l00062">GENDER_FEMALE</a>, <a class="el" href="../../#l00061">GENDER_MALE</a>, <a class="el" href="../../#l00063">GENDER_NONE</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l01067">GetSpellAreaForAuraMapBounds()</a>, <a class="el" href="../../#l01052">GetSpellAreaMapBounds()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00521">ICC_AREA</a>, <a class="el" href="../../#l00523">ICC_RACEMASK_ALLIANCE</a>, <a class="el" href="../../#l00522">ICC_RACEMASK_HORDE</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../#l00816">mSpellAreaForAreaMap</a>, <a class="el" href="../../#l00815">mSpellAreaForAuraMap</a>, <a class="el" href="../../#l00814">mSpellAreaForQuestEndMap</a>, <a class="el" href="../../#l00813">mSpellAreaForQuestMap</a>, <a class="el" href="../../#l00812">mSpellAreaMap</a>, <a class="el" href="../../#l00097">RACEMASK_ALL_PLAYABLE</a>, <a class="el" href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>, <a class="el" href="../../#l01635">sObjectMgr</a>, <a class="el" href="../../#l00413">SPELL_ATTR0_NO_AURA_CANCEL</a>, <a class="el" href="../../#l00528">SpellArea::spellId</a>, <a class="el" href="../../#l00443">sWorld</a>, and <a class="el" href="../../#l00020">WorldDatabase</a>.</p>

</div>
</div>
<a id="a23e6294abaa89d25c15a8d4fe30e712a" name="a23e6294abaa89d25c15a8d4fe30e712a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23e6294abaa89d25c15a8d4fe30e712a">&#9670;&#160;</a></span>LoadSpellBonuses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellBonuses </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1964</span>{</div>
<div class="line"><span class="lineno"> 1965</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 1966</span> </div>
<div class="line"><span class="lineno"> 1967</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#acad2b4b3647850a59bea2a0763ef972c">mSpellBonusMap</a>.clear();                             <span class="comment">// need for reload case</span></div>
<div class="line"><span class="lineno"> 1968</span> </div>
<div class="line"><span class="lineno"> 1969</span>    <span class="comment">//                                                0      1             2          3         4</span></div>
<div class="line"><span class="lineno"> 1970</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT entry, direct_bonus, dot_bonus, ap_bonus, ap_dot_bonus FROM spell_bonus_data&quot;</span>);</div>
<div class="line"><span class="lineno"> 1971</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno"> 1972</span>    {</div>
<div class="line"><span class="lineno"> 1973</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell bonus data. DB table `spell_bonus_data` is empty.&quot;</span>);</div>
<div class="line"><span class="lineno"> 1974</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1975</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1976</span>    }</div>
<div class="line"><span class="lineno"> 1977</span> </div>
<div class="line"><span class="lineno"> 1978</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 1979</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 1980</span>    {</div>
<div class="line"><span class="lineno"> 1981</span>        <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 1982</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entry = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1983</span> </div>
<div class="line"><span class="lineno"> 1984</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spell = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(entry);</div>
<div class="line"><span class="lineno"> 1985</span>        <span class="keywordflow">if</span> (!spell)</div>
<div class="line"><span class="lineno"> 1986</span>        {</div>
<div class="line"><span class="lineno"> 1987</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_bonus_data` does not exist&quot;</span>, entry);</div>
<div class="line"><span class="lineno"> 1988</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1989</span>        }</div>
<div class="line"><span class="lineno"> 1990</span> </div>
<div class="line"><span class="lineno"> 1991</span>        <a class="code hl_struct" href="../../d1/db8/a10922.html">SpellBonusEntry</a>&amp; sbe = <a class="code hl_variable" href="../../d4/d62/a10962.html#acad2b4b3647850a59bea2a0763ef972c">mSpellBonusMap</a>[entry];</div>
<div class="line"><span class="lineno"> 1992</span>        sbe.<a class="code hl_variable" href="../../d1/db8/a10922.html#abab1af227a6c8e592b8a9bd15589535d">direct_damage</a> = fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 1993</span>        sbe.<a class="code hl_variable" href="../../d1/db8/a10922.html#a92491d8d1e61612d88c7c830d7912be5">dot_damage</a>    = fields[2].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 1994</span>        sbe.<a class="code hl_variable" href="../../d1/db8/a10922.html#a98410b8bb89434cd7e1747462f8039dc">ap_bonus</a>      = fields[3].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 1995</span>        sbe.<a class="code hl_variable" href="../../d1/db8/a10922.html#a09caeec47b138d9eff3539795416a09a">ap_dot_bonus</a>   = fields[4].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 1996</span> </div>
<div class="line"><span class="lineno"> 1997</span>        ++count;</div>
<div class="line"><span class="lineno"> 1998</span>    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno"> 1999</span> </div>
<div class="line"><span class="lineno"> 2000</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Extra Spell Bonus Data in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2001</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2002</span>}</div>
<div class="ttc" id="aa10922_html"><div class="ttname"><a href="../../d1/db8/a10922.html">SpellBonusEntry</a></div><div class="ttdef"><b>Definition:</b> SpellMgr.h:324</div></div>
<div class="ttc" id="aa10922_html_a09caeec47b138d9eff3539795416a09a"><div class="ttname"><a href="../../d1/db8/a10922.html#a09caeec47b138d9eff3539795416a09a">SpellBonusEntry::ap_dot_bonus</a></div><div class="ttdeci">float ap_dot_bonus</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:328</div></div>
<div class="ttc" id="aa10922_html_a92491d8d1e61612d88c7c830d7912be5"><div class="ttname"><a href="../../d1/db8/a10922.html#a92491d8d1e61612d88c7c830d7912be5">SpellBonusEntry::dot_damage</a></div><div class="ttdeci">float dot_damage</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:326</div></div>
<div class="ttc" id="aa10922_html_a98410b8bb89434cd7e1747462f8039dc"><div class="ttname"><a href="../../d1/db8/a10922.html#a98410b8bb89434cd7e1747462f8039dc">SpellBonusEntry::ap_bonus</a></div><div class="ttdeci">float ap_bonus</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:327</div></div>
<div class="ttc" id="aa10922_html_abab1af227a6c8e592b8a9bd15589535d"><div class="ttname"><a href="../../d1/db8/a10922.html#abab1af227a6c8e592b8a9bd15589535d">SpellBonusEntry::direct_damage</a></div><div class="ttdeci">float direct_damage</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:325</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00327">SpellBonusEntry::ap_bonus</a>, <a class="el" href="../../#l00328">SpellBonusEntry::ap_dot_bonus</a>, <a class="el" href="../../#l00325">SpellBonusEntry::direct_damage</a>, <a class="el" href="../../#l00326">SpellBonusEntry::dot_damage</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../#l00805">mSpellBonusMap</a>, and <a class="el" href="../../#l00020">WorldDatabase</a>.</p>

</div>
</div>
<a id="a32d86c836d54b84596cb582b88f576a3" name="a32d86c836d54b84596cb582b88f576a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32d86c836d54b84596cb582b88f576a3">&#9670;&#160;</a></span>LoadSpellCooldownOverrides()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellCooldownOverrides </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2720</span>{</div>
<div class="line"><span class="lineno"> 2721</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2722</span> </div>
<div class="line"><span class="lineno"> 2723</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#ab4262cb58b8845c23eda2fa345679206">mSpellCooldownOverrideMap</a>.clear();</div>
<div class="line"><span class="lineno"> 2724</span> </div>
<div class="line"><span class="lineno"> 2725</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT Id, RecoveryTime, CategoryRecoveryTime, StartRecoveryTime, StartRecoveryCategory FROM spell_cooldown_overrides&quot;</span>);</div>
<div class="line"><span class="lineno"> 2726</span> </div>
<div class="line"><span class="lineno"> 2727</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 2728</span> </div>
<div class="line"><span class="lineno"> 2729</span>    <span class="keywordflow">if</span> (result)</div>
<div class="line"><span class="lineno"> 2730</span>    {</div>
<div class="line"><span class="lineno"> 2731</span>        <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 2732</span>        {</div>
<div class="line"><span class="lineno"> 2733</span>            <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 2734</span>            <a class="code hl_struct" href="../../dd/da6/a10958.html">SpellCooldownOverride</a> spellCooldown;</div>
<div class="line"><span class="lineno"> 2735</span>            <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2736</span>            spellCooldown.<a class="code hl_variable" href="../../dd/da6/a10958.html#ac0e514cfe760baf23f4f05d871e6779a">RecoveryTime</a> = fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2737</span>            spellCooldown.<a class="code hl_variable" href="../../dd/da6/a10958.html#a5a089aa55b5db1f3e3d3fa0ff61bbfdd">CategoryRecoveryTime</a> = fields[2].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2738</span>            spellCooldown.<a class="code hl_variable" href="../../dd/da6/a10958.html#a3155069a4ef8d87d4c952f92df2ec42d">StartRecoveryTime</a> = fields[3].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2739</span>            spellCooldown.<a class="code hl_variable" href="../../dd/da6/a10958.html#abb7ca704f04612ddcec3e2e52470ca77">StartRecoveryCategory</a> = fields[4].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2740</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#ab4262cb58b8845c23eda2fa345679206">mSpellCooldownOverrideMap</a>[spellId] = spellCooldown;</div>
<div class="line"><span class="lineno"> 2741</span> </div>
<div class="line"><span class="lineno"> 2742</span>            ++count;</div>
<div class="line"><span class="lineno"> 2743</span>        } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno"> 2744</span>    }</div>
<div class="line"><span class="lineno"> 2745</span> </div>
<div class="line"><span class="lineno"> 2746</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Spell Cooldown Overrides entries in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2747</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2748</span>}</div>
<div class="ttc" id="aa10958_html"><div class="ttname"><a href="../../dd/da6/a10958.html">SpellCooldownOverride</a></div><div class="ttdef"><b>Definition:</b> SpellMgr.h:607</div></div>
<div class="ttc" id="aa10958_html_a3155069a4ef8d87d4c952f92df2ec42d"><div class="ttname"><a href="../../dd/da6/a10958.html#a3155069a4ef8d87d4c952f92df2ec42d">SpellCooldownOverride::StartRecoveryTime</a></div><div class="ttdeci">uint32 StartRecoveryTime</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:610</div></div>
<div class="ttc" id="aa10958_html_a5a089aa55b5db1f3e3d3fa0ff61bbfdd"><div class="ttname"><a href="../../dd/da6/a10958.html#a5a089aa55b5db1f3e3d3fa0ff61bbfdd">SpellCooldownOverride::CategoryRecoveryTime</a></div><div class="ttdeci">uint32 CategoryRecoveryTime</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:609</div></div>
<div class="ttc" id="aa10958_html_abb7ca704f04612ddcec3e2e52470ca77"><div class="ttname"><a href="../../dd/da6/a10958.html#abb7ca704f04612ddcec3e2e52470ca77">SpellCooldownOverride::StartRecoveryCategory</a></div><div class="ttdeci">uint32 StartRecoveryCategory</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:611</div></div>
<div class="ttc" id="aa10958_html_ac0e514cfe760baf23f4f05d871e6779a"><div class="ttname"><a href="../../dd/da6/a10958.html#ac0e514cfe760baf23f4f05d871e6779a">SpellCooldownOverride::RecoveryTime</a></div><div class="ttdeci">uint32 RecoveryTime</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:608</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00609">SpellCooldownOverride::CategoryRecoveryTime</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00821">mSpellCooldownOverrideMap</a>, <a class="el" href="../../#l00608">SpellCooldownOverride::RecoveryTime</a>, <a class="el" href="../../#l00611">SpellCooldownOverride::StartRecoveryCategory</a>, <a class="el" href="../../#l00610">SpellCooldownOverride::StartRecoveryTime</a>, and <a class="el" href="../../#l00020">WorldDatabase</a>.</p>

</div>
</div>
<a id="ac898d28aeb3a83564da1d172972d0029" name="ac898d28aeb3a83564da1d172972d0029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac898d28aeb3a83564da1d172972d0029">&#9670;&#160;</a></span>LoadSpellEnchantProcData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellEnchantProcData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2208</span>{</div>
<div class="line"><span class="lineno"> 2209</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2210</span> </div>
<div class="line"><span class="lineno"> 2211</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a92a4c6ade6c7005f1d001c6935139272">mSpellEnchantProcEventMap</a>.clear();                             <span class="comment">// need for reload case</span></div>
<div class="line"><span class="lineno"> 2212</span> </div>
<div class="line"><span class="lineno"> 2213</span>    <span class="comment">//                                                  0         1           2         3          4</span></div>
<div class="line"><span class="lineno"> 2214</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT entry, customChance, PPMChance, procEx, attributeMask FROM spell_enchant_proc_data&quot;</span>);</div>
<div class="line"><span class="lineno"> 2215</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno"> 2216</span>    {</div>
<div class="line"><span class="lineno"> 2217</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell enchant proc event conditions. DB table `spell_enchant_proc_data` is empty.&quot;</span>);</div>
<div class="line"><span class="lineno"> 2218</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2219</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2220</span>    }</div>
<div class="line"><span class="lineno"> 2221</span> </div>
<div class="line"><span class="lineno"> 2222</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 2223</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 2224</span>    {</div>
<div class="line"><span class="lineno"> 2225</span>        <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 2226</span> </div>
<div class="line"><span class="lineno"> 2227</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> enchantId = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2228</span> </div>
<div class="line"><span class="lineno"> 2229</span>        <a class="code hl_struct" href="../../d0/db1/a27962.html">SpellItemEnchantmentEntry</a> <span class="keyword">const</span>* ench = <a class="code hl_variable" href="../../d7/da2/a03704.html#a056a6a649116138e9e8c21d35a78476b">sSpellItemEnchantmentStore</a>.LookupEntry(enchantId);</div>
<div class="line"><span class="lineno"> 2230</span>        <span class="keywordflow">if</span> (!ench)</div>
<div class="line"><span class="lineno"> 2231</span>        {</div>
<div class="line"><span class="lineno"> 2232</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Enchancment {} listed in `spell_enchant_proc_data` does not exist&quot;</span>, enchantId);</div>
<div class="line"><span class="lineno"> 2233</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2234</span>        }</div>
<div class="line"><span class="lineno"> 2235</span> </div>
<div class="line"><span class="lineno"> 2236</span>        <a class="code hl_struct" href="../../dd/ddf/a10918.html">SpellEnchantProcEntry</a> spe;</div>
<div class="line"><span class="lineno"> 2237</span> </div>
<div class="line"><span class="lineno"> 2238</span>        spe.<a class="code hl_variable" href="../../dd/ddf/a10918.html#ac5d048f7ee803d61d5d3c59bb80a015d">customChance</a> = fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2239</span>        spe.<a class="code hl_variable" href="../../dd/ddf/a10918.html#adb76c11f0073a2738374c98c01fda009">PPMChance</a> = fields[2].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 2240</span>        spe.<a class="code hl_variable" href="../../dd/ddf/a10918.html#a28bcdd11e64ad96be5a3ca0e0dd447c7">procEx</a> = fields[3].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2241</span>        spe.<a class="code hl_variable" href="../../dd/ddf/a10918.html#a6bbb4046cd4c068c990aa28844e4588b">attributeMask</a> = fields[4].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2242</span> </div>
<div class="line"><span class="lineno"> 2243</span>        <a class="code hl_variable" href="../../d4/d62/a10962.html#a92a4c6ade6c7005f1d001c6935139272">mSpellEnchantProcEventMap</a>[enchantId] = spe;</div>
<div class="line"><span class="lineno"> 2244</span> </div>
<div class="line"><span class="lineno"> 2245</span>        ++count;</div>
<div class="line"><span class="lineno"> 2246</span>    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno"> 2247</span> </div>
<div class="line"><span class="lineno"> 2248</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Enchant Proc Data Definitions in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2249</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2250</span>}</div>
<div class="ttc" id="aa10918_html"><div class="ttname"><a href="../../dd/ddf/a10918.html">SpellEnchantProcEntry</a></div><div class="ttdef"><b>Definition:</b> SpellMgr.h:314</div></div>
<div class="ttc" id="aa10918_html_a28bcdd11e64ad96be5a3ca0e0dd447c7"><div class="ttname"><a href="../../dd/ddf/a10918.html#a28bcdd11e64ad96be5a3ca0e0dd447c7">SpellEnchantProcEntry::procEx</a></div><div class="ttdeci">uint32 procEx</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:317</div></div>
<div class="ttc" id="aa10918_html_a6bbb4046cd4c068c990aa28844e4588b"><div class="ttname"><a href="../../dd/ddf/a10918.html#a6bbb4046cd4c068c990aa28844e4588b">SpellEnchantProcEntry::attributeMask</a></div><div class="ttdeci">uint32 attributeMask</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:318</div></div>
<div class="ttc" id="aa10918_html_ac5d048f7ee803d61d5d3c59bb80a015d"><div class="ttname"><a href="../../dd/ddf/a10918.html#ac5d048f7ee803d61d5d3c59bb80a015d">SpellEnchantProcEntry::customChance</a></div><div class="ttdeci">uint32 customChance</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:315</div></div>
<div class="ttc" id="aa10918_html_adb76c11f0073a2738374c98c01fda009"><div class="ttname"><a href="../../dd/ddf/a10918.html#adb76c11f0073a2738374c98c01fda009">SpellEnchantProcEntry::PPMChance</a></div><div class="ttdeci">float PPMChance</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:316</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00318">SpellEnchantProcEntry::attributeMask</a>, <a class="el" href="../../#l00315">SpellEnchantProcEntry::customChance</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../#l00810">mSpellEnchantProcEventMap</a>, <a class="el" href="../../#l00316">SpellEnchantProcEntry::PPMChance</a>, <a class="el" href="../../#l00317">SpellEnchantProcEntry::procEx</a>, <a class="el" href="../../d7/da2/a03704.html#a056a6a649116138e9e8c21d35a78476b">sSpellItemEnchantmentStore</a>, and <a class="el" href="../../#l00020">WorldDatabase</a>.</p>

</div>
</div>
<a id="adb5ead246a7c2e98e9e1e09004b00c6f" name="adb5ead246a7c2e98e9e1e09004b00c6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb5ead246a7c2e98e9e1e09004b00c6f">&#9670;&#160;</a></span>LoadSpellGroups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellGroups </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1627</span>{</div>
<div class="line"><span class="lineno"> 1628</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 1629</span> </div>
<div class="line"><span class="lineno"> 1630</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.clear();                                  <span class="comment">// need for reload case</span></div>
<div class="line"><span class="lineno"> 1631</span> </div>
<div class="line"><span class="lineno"> 1632</span>    <span class="comment">//                                                0     1            2</span></div>
<div class="line"><span class="lineno"> 1633</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT id, spell_id, special_flag FROM spell_group&quot;</span>);</div>
<div class="line"><span class="lineno"> 1634</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno"> 1635</span>    {</div>
<div class="line"><span class="lineno"> 1636</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell group definitions. DB table `spell_group` is empty.&quot;</span>);</div>
<div class="line"><span class="lineno"> 1637</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1638</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1639</span>    }</div>
<div class="line"><span class="lineno"> 1640</span> </div>
<div class="line"><span class="lineno"> 1641</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 1642</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 1643</span>    {</div>
<div class="line"><span class="lineno"> 1644</span>        <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 1645</span> </div>
<div class="line"><span class="lineno"> 1646</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> group_id = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1647</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> spell_id = fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1648</span>        <a class="code hl_enumeration" href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eb">SpellGroupSpecialFlags</a> specialFlag = (<a class="code hl_enumeration" href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eb">SpellGroupSpecialFlags</a>)fields[2].Get&lt;uint32&gt;();</div>
<div class="line"><span class="lineno"> 1649</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(spell_id);</div>
<div class="line"><span class="lineno"> 1650</span> </div>
<div class="line"><span class="lineno"> 1651</span>        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 1652</span>        {</div>
<div class="line"><span class="lineno"> 1653</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_group` does not exist&quot;</span>, spell_id);</div>
<div class="line"><span class="lineno"> 1654</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1655</span>        }</div>
<div class="line"><span class="lineno"> 1656</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#a49c70ec610efb184d46fb39737bd4a1a">GetRank</a>() &gt; 1)</div>
<div class="line"><span class="lineno"> 1657</span>        {</div>
<div class="line"><span class="lineno"> 1658</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_group` is not first rank of spell&quot;</span>, spell_id);</div>
<div class="line"><span class="lineno"> 1659</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1660</span>        }</div>
<div class="line"><span class="lineno"> 1661</span> </div>
<div class="line"><span class="lineno"> 1662</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/d62/a10962.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.find(spell_id) != <a class="code hl_variable" href="../../d4/d62/a10962.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.end())</div>
<div class="line"><span class="lineno"> 1663</span>        {</div>
<div class="line"><span class="lineno"> 1664</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_group` has more than one group&quot;</span>, spell_id);</div>
<div class="line"><span class="lineno"> 1665</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1666</span>        }</div>
<div class="line"><span class="lineno"> 1667</span> </div>
<div class="line"><span class="lineno"> 1668</span>        <span class="keywordflow">if</span> (specialFlag &gt;= <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eba6acd812cb11a98c7bc9176e03bbd8f3f">SPELL_GROUP_SPECIAL_FLAG_MAX</a>)</div>
<div class="line"><span class="lineno"> 1669</span>        {</div>
<div class="line"><span class="lineno"> 1670</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_group` has invalid special flag!&quot;</span>, spell_id);</div>
<div class="line"><span class="lineno"> 1671</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1672</span>        }</div>
<div class="line"><span class="lineno"> 1673</span> </div>
<div class="line"><span class="lineno"> 1674</span>        <a class="code hl_struct" href="../../d8/d6e/a10926.html">SpellStackInfo</a> ssi;</div>
<div class="line"><span class="lineno"> 1675</span>        ssi.<a class="code hl_variable" href="../../d8/d6e/a10926.html#a71a218d1ea3241f0c72205f7e2f34125">groupId</a> = group_id;</div>
<div class="line"><span class="lineno"> 1676</span>        ssi.<a class="code hl_variable" href="../../d8/d6e/a10926.html#a2232afb6a6b05e5ea33f40992a09621d">specialFlags</a> = specialFlag;</div>
<div class="line"><span class="lineno"> 1677</span>        <a class="code hl_variable" href="../../d4/d62/a10962.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>[spell_id] = ssi;</div>
<div class="line"><span class="lineno"> 1678</span> </div>
<div class="line"><span class="lineno"> 1679</span>        ++count;</div>
<div class="line"><span class="lineno"> 1680</span>    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno"> 1681</span> </div>
<div class="line"><span class="lineno"> 1682</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Spell Group Definitions in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 1683</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1684</span>}</div>
<div class="ttc" id="aa03110_html_ab9f8654c03ec40ac9bdc5214da99e1eba6acd812cb11a98c7bc9176e03bbd8f3f"><div class="ttname"><a href="../../df/d64/a03110.html#ab9f8654c03ec40ac9bdc5214da99e1eba6acd812cb11a98c7bc9176e03bbd8f3f">SPELL_GROUP_SPECIAL_FLAG_MAX</a></div><div class="ttdeci">@ SPELL_GROUP_SPECIAL_FLAG_MAX</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:350</div></div>
<div class="ttc" id="aa10906_html_a49c70ec610efb184d46fb39737bd4a1a"><div class="ttname"><a href="../../d4/db9/a10906.html#a49c70ec610efb184d46fb39737bd4a1a">SpellInfo::GetRank</a></div><div class="ttdeci">uint8 GetRank() const</div><div class="ttdef"><b>Definition:</b> SpellInfo.cpp:2494</div></div>
<div class="ttc" id="aa10926_html"><div class="ttname"><a href="../../d8/d6e/a10926.html">SpellStackInfo</a></div><div class="ttdef"><b>Definition:</b> SpellMgr.h:376</div></div>
<div class="ttc" id="aa10926_html_a2232afb6a6b05e5ea33f40992a09621d"><div class="ttname"><a href="../../d8/d6e/a10926.html#a2232afb6a6b05e5ea33f40992a09621d">SpellStackInfo::specialFlags</a></div><div class="ttdeci">SpellGroupSpecialFlags specialFlags</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:378</div></div>
<div class="ttc" id="aa10926_html_a71a218d1ea3241f0c72205f7e2f34125"><div class="ttname"><a href="../../d8/d6e/a10926.html#a71a218d1ea3241f0c72205f7e2f34125">SpellStackInfo::groupId</a></div><div class="ttdeci">uint32 groupId</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:377</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l02494">SpellInfo::GetRank()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00377">SpellStackInfo::groupId</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../#l00801">mSpellGroupMap</a>, <a class="el" href="../../#l00378">SpellStackInfo::specialFlags</a>, <a class="el" href="../../#l00350">SPELL_GROUP_SPECIAL_FLAG_MAX</a>, and <a class="el" href="../../#l00020">WorldDatabase</a>.</p>

</div>
</div>
<a id="a8a48919d60d012b7cc5206dea2640f3a" name="a8a48919d60d012b7cc5206dea2640f3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a48919d60d012b7cc5206dea2640f3a">&#9670;&#160;</a></span>LoadSpellGroupStackRules()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellGroupStackRules </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1687</span>{</div>
<div class="line"><span class="lineno"> 1688</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 1689</span> </div>
<div class="line"><span class="lineno"> 1690</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a60283ceb69bf92310153db6769f70a6a">mSpellGroupStackMap</a>.clear();                                  <span class="comment">// need for reload case</span></div>
<div class="line"><span class="lineno"> 1691</span> </div>
<div class="line"><span class="lineno"> 1692</span>    <span class="comment">//                                                       0         1</span></div>
<div class="line"><span class="lineno"> 1693</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT group_id, stack_rule FROM spell_group_stack_rules&quot;</span>);</div>
<div class="line"><span class="lineno"> 1694</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno"> 1695</span>    {</div>
<div class="line"><span class="lineno"> 1696</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell group stack rules. DB table `spell_group_stack_rules` is empty.&quot;</span>);</div>
<div class="line"><span class="lineno"> 1697</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1698</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1699</span>    }</div>
<div class="line"><span class="lineno"> 1700</span> </div>
<div class="line"><span class="lineno"> 1701</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 1702</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 1703</span>    {</div>
<div class="line"><span class="lineno"> 1704</span>        <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 1705</span> </div>
<div class="line"><span class="lineno"> 1706</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> group_id = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1707</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> stack_rule = fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a3bb8a71f4ae9af551f71e9eb2c9c3325">int8</a>&gt;();</div>
<div class="line"><span class="lineno"> 1708</span>        <span class="keywordflow">if</span> (stack_rule &gt;= <a class="code hl_enumvalue" href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88a6b33f70f6827694ecab65894fca91b4a">SPELL_GROUP_STACK_FLAG_MAX</a>)</div>
<div class="line"><span class="lineno"> 1709</span>        {</div>
<div class="line"><span class="lineno"> 1710</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;SpellGroupStackRule {} listed in `spell_group_stack_rules` does not exist&quot;</span>, stack_rule);</div>
<div class="line"><span class="lineno"> 1711</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1712</span>        }</div>
<div class="line"><span class="lineno"> 1713</span> </div>
<div class="line"><span class="lineno"> 1714</span>        <span class="keywordtype">bool</span> present = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1715</span>        <span class="keywordflow">for</span> (SpellGroupMap::const_iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.begin(); itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#a7a1fa3679f9c375b88603ec4775769fd">mSpellGroupMap</a>.end(); ++itr)</div>
<div class="line"><span class="lineno"> 1716</span>            <span class="keywordflow">if</span> (itr-&gt;second.groupId == group_id)</div>
<div class="line"><span class="lineno"> 1717</span>            {</div>
<div class="line"><span class="lineno"> 1718</span>                present = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1719</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1720</span>            }</div>
<div class="line"><span class="lineno"> 1721</span> </div>
<div class="line"><span class="lineno"> 1722</span>        <span class="keywordflow">if</span> (!present)</div>
<div class="line"><span class="lineno"> 1723</span>        {</div>
<div class="line"><span class="lineno"> 1724</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;SpellGroup id {} listed in `spell_group_stack_rules` does not exist&quot;</span>, group_id);</div>
<div class="line"><span class="lineno"> 1725</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1726</span>        }</div>
<div class="line"><span class="lineno"> 1727</span> </div>
<div class="line"><span class="lineno"> 1728</span>        <a class="code hl_variable" href="../../d4/d62/a10962.html#a60283ceb69bf92310153db6769f70a6a">mSpellGroupStackMap</a>[group_id] = (<a class="code hl_enumeration" href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88">SpellGroupStackFlags</a>)stack_rule;</div>
<div class="line"><span class="lineno"> 1729</span> </div>
<div class="line"><span class="lineno"> 1730</span>        ++count;</div>
<div class="line"><span class="lineno"> 1731</span>    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno"> 1732</span> </div>
<div class="line"><span class="lineno"> 1733</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Spell Group Stack Rules in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 1734</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1735</span>}</div>
<div class="ttc" id="aa00497_html_a3bb8a71f4ae9af551f71e9eb2c9c3325"><div class="ttname"><a href="../../d4/d1e/a00497.html#a3bb8a71f4ae9af551f71e9eb2c9c3325">int8</a></div><div class="ttdeci">std::int8_t int8</div><div class="ttdef"><b>Definition:</b> Define.h:105</div></div>
<div class="ttc" id="aa03110_html_a3384f828e7f362dbdaecb22673641c88a6b33f70f6827694ecab65894fca91b4a"><div class="ttname"><a href="../../df/d64/a03110.html#a3384f828e7f362dbdaecb22673641c88a6b33f70f6827694ecab65894fca91b4a">SPELL_GROUP_STACK_FLAG_MAX</a></div><div class="ttdeci">@ SPELL_GROUP_STACK_FLAG_MAX</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:363</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../#l00801">mSpellGroupMap</a>, <a class="el" href="../../#l00802">mSpellGroupStackMap</a>, <a class="el" href="../../#l00363">SPELL_GROUP_STACK_FLAG_MAX</a>, and <a class="el" href="../../#l00020">WorldDatabase</a>.</p>

</div>
</div>
<a id="aa246091a96d42f80b5beb68091264b29" name="aa246091a96d42f80b5beb68091264b29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa246091a96d42f80b5beb68091264b29">&#9670;&#160;</a></span>LoadSpellInfoCorrections()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellInfoCorrections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   40</span>{</div>
<div class="line"><span class="lineno">   41</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno">   42</span> </div>
<div class="line"><span class="lineno">   43</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">   44</span>        467,    <span class="comment">// Thorns (Rank 1)</span></div>
<div class="line"><span class="lineno">   45</span>        782,    <span class="comment">// Thorns (Rank 2)</span></div>
<div class="line"><span class="lineno">   46</span>        1075,   <span class="comment">// Thorns (Rank 3)</span></div>
<div class="line"><span class="lineno">   47</span>        8914,   <span class="comment">// Thorns (Rank 4)</span></div>
<div class="line"><span class="lineno">   48</span>        9756,   <span class="comment">// Thorns (Rank 5)</span></div>
<div class="line"><span class="lineno">   49</span>        9910,   <span class="comment">// Thorns (Rank 6)</span></div>
<div class="line"><span class="lineno">   50</span>        26992,  <span class="comment">// Thorns (Rank 7)</span></div>
<div class="line"><span class="lineno">   51</span>        53307,  <span class="comment">// Thorns (Rank 8)</span></div>
<div class="line"><span class="lineno">   52</span>        53352,  <span class="comment">// Explosive Shot (trigger)</span></div>
<div class="line"><span class="lineno">   53</span>        50783,  <span class="comment">// Slam (Triggered spell)</span></div>
<div class="line"><span class="lineno">   54</span>        20647   <span class="comment">// Execute (Triggered spell)</span></div>
<div class="line"><span class="lineno">   55</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">   56</span>    {</div>
<div class="line"><span class="lineno">   57</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><span class="lineno">   58</span>    });</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>    <span class="comment">// Scarlet Raven Priest Image</span></div>
<div class="line"><span class="lineno">   61</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 48763, 48761 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">   62</span>    {</div>
<div class="line"><span class="lineno">   63</span>        spellInfo-&gt;AuraInterruptFlags &amp;= ~AURA_INTERRUPT_FLAG_SPELL_ATTACK;</div>
<div class="line"><span class="lineno">   64</span>    });</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>    <span class="comment">// Has Brewfest Mug</span></div>
<div class="line"><span class="lineno">   67</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 42533 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">   68</span>    {</div>
<div class="line"><span class="lineno">   69</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(347); <span class="comment">// 15 min</span></div>
<div class="line"><span class="lineno">   70</span>    });</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>    <span class="comment">// Elixir of Minor Fortitude</span></div>
<div class="line"><span class="lineno">   73</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 2378 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">   74</span>    {</div>
<div class="line"><span class="lineno">   75</span>        spellInfo-&gt;ManaCost = 0;</div>
<div class="line"><span class="lineno">   76</span>        spellInfo-&gt;ManaPerSecond = 0;</div>
<div class="line"><span class="lineno">   77</span>    });</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>    <span class="comment">// Elixir of Detect Undead</span></div>
<div class="line"><span class="lineno">   80</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 11389 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">   81</span>    {</div>
<div class="line"><span class="lineno">   82</span>        spellInfo-&gt;PowerType = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a17e15fab4b89f4840e745f31ca76a414ab3e4f73d6494c917b99431bae75a4d5f">POWER_MANA</a>;</div>
<div class="line"><span class="lineno">   83</span>        spellInfo-&gt;ManaCost = 0;</div>
<div class="line"><span class="lineno">   84</span>        spellInfo-&gt;ManaPerSecond = 0;</div>
<div class="line"><span class="lineno">   85</span>    });</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>    <span class="comment">// Evergrove Druid Transform Crow</span></div>
<div class="line"><span class="lineno">   88</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 38776 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">   89</span>    {</div>
<div class="line"><span class="lineno">   90</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(4); <span class="comment">// 120 seconds</span></div>
<div class="line"><span class="lineno">   91</span>    });</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">   94</span>        63026, <span class="comment">// Force Cast (HACK: Target shouldn&#39;t be changed)</span></div>
<div class="line"><span class="lineno">   95</span>        63137  <span class="comment">// Force Cast (HACK: Target shouldn&#39;t be changed; summon position should be untied from spell destination)</span></div>
<div class="line"><span class="lineno">   96</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">   97</span>    {</div>
<div class="line"><span class="lineno">   98</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a26506da78f6a6950f7ac66718b775817">TARGET_DEST_DB</a>);</div>
<div class="line"><span class="lineno">   99</span>    });</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  102</span>        53096,  <span class="comment">// Quetz&#39;lun&#39;s Judgment</span></div>
<div class="line"><span class="lineno">  103</span>        70743,  <span class="comment">// AoD Special</span></div>
<div class="line"><span class="lineno">  104</span>        70614   <span class="comment">// AoD Special - Vegard</span></div>
<div class="line"><span class="lineno">  105</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  106</span>    {</div>
<div class="line"><span class="lineno">  107</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno">  108</span>    });</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>    <span class="comment">// Summon Skeletons</span></div>
<div class="line"><span class="lineno">  111</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 52611, 52612 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  112</span>    {</div>
<div class="line"><span class="lineno">  113</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValueB = 64;</div>
<div class="line"><span class="lineno">  114</span>    });</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  117</span>        40244,  <span class="comment">// Simon Game Visual</span></div>
<div class="line"><span class="lineno">  118</span>        40245,  <span class="comment">// Simon Game Visual</span></div>
<div class="line"><span class="lineno">  119</span>        40246,  <span class="comment">// Simon Game Visual</span></div>
<div class="line"><span class="lineno">  120</span>        40247,  <span class="comment">// Simon Game Visual</span></div>
<div class="line"><span class="lineno">  121</span>        42835   <span class="comment">// Spout, remove damage effect, only anim is needed</span></div>
<div class="line"><span class="lineno">  122</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  123</span>    {</div>
<div class="line"><span class="lineno">  124</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = 0;</div>
<div class="line"><span class="lineno">  125</span>    });</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  128</span>        63665,  <span class="comment">// Charge (Argent Tournament emote on riders)</span></div>
<div class="line"><span class="lineno">  129</span>        2895,   <span class="comment">// Wrath of Air Totem rank 1 (Aura)</span></div>
<div class="line"><span class="lineno">  130</span>        68933,  <span class="comment">// Wrath of Air Totem rank 2 (Aura)</span></div>
<div class="line"><span class="lineno">  131</span>        29200   <span class="comment">// Purify Helboar Meat</span></div>
<div class="line"><span class="lineno">  132</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  133</span>    {</div>
<div class="line"><span class="lineno">  134</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno">  135</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(0);</div>
<div class="line"><span class="lineno">  136</span>    });</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>    <span class="comment">// Howl of Azgalor</span></div>
<div class="line"><span class="lineno">  139</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 31344 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  140</span>    {</div>
<div class="line"><span class="lineno">  141</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>); <span class="comment">// 100yards instead of 50000?!</span></div>
<div class="line"><span class="lineno">  142</span>    });</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  145</span>        42818,  <span class="comment">// Headless Horseman - Wisp Flight Port</span></div>
<div class="line"><span class="lineno">  146</span>        42821   <span class="comment">// Headless Horseman - Wisp Flight Missile</span></div>
<div class="line"><span class="lineno">  147</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  148</span>    {</div>
<div class="line"><span class="lineno">  149</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(6); <span class="comment">// 100 yards</span></div>
<div class="line"><span class="lineno">  150</span>    });</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>    <span class="comment">// Spirit of Kirith</span></div>
<div class="line"><span class="lineno">  153</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 10853 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  154</span>    {</div>
<div class="line"><span class="lineno">  155</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(3); <span class="comment">// 1min</span></div>
<div class="line"><span class="lineno">  156</span>    });</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>    <span class="comment">// Headless Horseman - Start Fire</span></div>
<div class="line"><span class="lineno">  159</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 42132 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  160</span>    {</div>
<div class="line"><span class="lineno">  161</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(6); <span class="comment">// 100 yards</span></div>
<div class="line"><span class="lineno">  162</span>    });</div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>    <span class="comment">//They Must Burn Bomb Aura (self)</span></div>
<div class="line"><span class="lineno">  165</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 36350 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  166</span>    {</div>
<div class="line"><span class="lineno">  167</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TriggerSpell = 36325; <span class="comment">// They Must Burn Bomb Drop (DND)</span></div>
<div class="line"><span class="lineno">  168</span>    });</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>    <span class="comment">// Mana Shield (rank 2)</span></div>
<div class="line"><span class="lineno">  171</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 8494 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  172</span>    {</div>
<div class="line"><span class="lineno">  173</span>        spellInfo-&gt;ProcChance = 0; <span class="comment">// because of bug in dbc</span></div>
<div class="line"><span class="lineno">  174</span>    });</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  177</span>        63320,  <span class="comment">// Glyph of Life Tap</span></div>
<div class="line"><span class="lineno">  178</span>        20335,  <span class="comment">// Heart of the Crusader</span></div>
<div class="line"><span class="lineno">  179</span>        20336,  <span class="comment">// Heart of the Crusader</span></div>
<div class="line"><span class="lineno">  180</span>        20337,  <span class="comment">// Heart of the Crusader</span></div>
<div class="line"><span class="lineno">  181</span>        53228,  <span class="comment">// Rapid Killing (Rank 1)</span></div>
<div class="line"><span class="lineno">  182</span>        53232,  <span class="comment">// Rapid Killing (Rank 2)</span></div>
<div class="line"><span class="lineno">  183</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  184</span>    {</div>
<div class="line"><span class="lineno">  185</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a7dfc84e5ab0a21d82a815fa84f49b33f">SPELL_ATTR3_CAN_PROC_FROM_PROCS</a>; <span class="comment">// Entries were not updated after spell effect change, we have to do that manually</span></div>
<div class="line"><span class="lineno">  186</span>    });</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  189</span>        31347,  <span class="comment">// Doom</span></div>
<div class="line"><span class="lineno">  190</span>        41635,  <span class="comment">// Prayer of Mending</span></div>
<div class="line"><span class="lineno">  191</span>        39365,  <span class="comment">// Thundering Storm</span></div>
<div class="line"><span class="lineno">  192</span>        52124,  <span class="comment">// Sky Darkener Assault</span></div>
<div class="line"><span class="lineno">  193</span>        42442,  <span class="comment">// Vengeance Landing Cannonfire</span></div>
<div class="line"><span class="lineno">  194</span>        45863,  <span class="comment">// Cosmetic - Incinerate to Random Target</span></div>
<div class="line"><span class="lineno">  195</span>        25425,  <span class="comment">// Shoot</span></div>
<div class="line"><span class="lineno">  196</span>        45761,  <span class="comment">// Shoot</span></div>
<div class="line"><span class="lineno">  197</span>        42611,  <span class="comment">// Shoot</span></div>
<div class="line"><span class="lineno">  198</span>        61588,  <span class="comment">// Blazing Harpoon</span></div>
<div class="line"><span class="lineno">  199</span>        36327   <span class="comment">// Shoot Arcane Explosion Arrow</span></div>
<div class="line"><span class="lineno">  200</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  201</span>    {</div>
<div class="line"><span class="lineno">  202</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno">  203</span>    });</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>    <span class="comment">// Skartax Purple Beam</span></div>
<div class="line"><span class="lineno">  206</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 36384 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  207</span>    {</div>
<div class="line"><span class="lineno">  208</span>        spellInfo-&gt;MaxAffectedTargets = 2;</div>
<div class="line"><span class="lineno">  209</span>    });</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  212</span>        37790,  <span class="comment">// Spread Shot</span></div>
<div class="line"><span class="lineno">  213</span>        54172,  <span class="comment">// Divine Storm (heal)</span></div>
<div class="line"><span class="lineno">  214</span>        66588  <span class="comment">// Flaming Spear</span></div>
<div class="line"><span class="lineno">  215</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  216</span>    {</div>
<div class="line"><span class="lineno">  217</span>        spellInfo-&gt;MaxAffectedTargets = 3;</div>
<div class="line"><span class="lineno">  218</span>    });</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>    <span class="comment">// Divine Storm</span></div>
<div class="line"><span class="lineno">  221</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 54171 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  222</span>    {</div>
<div class="line"><span class="lineno">  223</span>        spellInfo-&gt;MaxAffectedTargets = 3;</div>
<div class="line"><span class="lineno">  224</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno">  225</span>    });</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>    <span class="comment">// Divine Storm (Damage)</span></div>
<div class="line"><span class="lineno">  228</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 53385 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  229</span>    {</div>
<div class="line"><span class="lineno">  230</span>        spellInfo-&gt;MaxAffectedTargets = 4;</div>
<div class="line"><span class="lineno">  231</span>    });</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  234</span>        20424,  <span class="comment">// Seal of Command</span></div>
<div class="line"><span class="lineno">  235</span>        42463,  <span class="comment">// Seal of Vengeance</span></div>
<div class="line"><span class="lineno">  236</span>        53739   <span class="comment">// Seal of Corruption</span></div>
<div class="line"><span class="lineno">  237</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  238</span>    {</div>
<div class="line"><span class="lineno">  239</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><span class="lineno">  240</span>    });</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>    <span class="comment">// Spitfire Totem</span></div>
<div class="line"><span class="lineno">  243</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 38296 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  244</span>    {</div>
<div class="line"><span class="lineno">  245</span>        spellInfo-&gt;MaxAffectedTargets = 5;</div>
<div class="line"><span class="lineno">  246</span>    });</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  249</span>        40827,  <span class="comment">// Sinful Beam</span></div>
<div class="line"><span class="lineno">  250</span>        40859,  <span class="comment">// Sinister Beam</span></div>
<div class="line"><span class="lineno">  251</span>        40860,  <span class="comment">// Vile Beam</span></div>
<div class="line"><span class="lineno">  252</span>        40861   <span class="comment">// Wicked Beam</span></div>
<div class="line"><span class="lineno">  253</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  254</span>    {</div>
<div class="line"><span class="lineno">  255</span>        spellInfo-&gt;MaxAffectedTargets = 10;</div>
<div class="line"><span class="lineno">  256</span>    });</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>    <span class="comment">// Unholy Frenzy</span></div>
<div class="line"><span class="lineno">  259</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 50312 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  260</span>    {</div>
<div class="line"><span class="lineno">  261</span>        spellInfo-&gt;MaxAffectedTargets = 15;</div>
<div class="line"><span class="lineno">  262</span>    });</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  265</span>        17941,  <span class="comment">// Shadow Trance</span></div>
<div class="line"><span class="lineno">  266</span>        22008,  <span class="comment">// Netherwind Focus</span></div>
<div class="line"><span class="lineno">  267</span>        31834,  <span class="comment">// Light&#39;s Grace</span></div>
<div class="line"><span class="lineno">  268</span>        34754,  <span class="comment">// Clearcasting</span></div>
<div class="line"><span class="lineno">  269</span>        34936,  <span class="comment">// Backlash</span></div>
<div class="line"><span class="lineno">  270</span>        48108,  <span class="comment">// Hot Streak</span></div>
<div class="line"><span class="lineno">  271</span>        51124,  <span class="comment">// Killing Machine</span></div>
<div class="line"><span class="lineno">  272</span>        54741,  <span class="comment">// Firestarter</span></div>
<div class="line"><span class="lineno">  273</span>        64823,  <span class="comment">// Item - Druid T8 Balance 4P Bonus</span></div>
<div class="line"><span class="lineno">  274</span>        34477,  <span class="comment">// Misdirection</span></div>
<div class="line"><span class="lineno">  275</span>        44401,  <span class="comment">// Missile Barrage</span></div>
<div class="line"><span class="lineno">  276</span>        18820   <span class="comment">// Insight</span></div>
<div class="line"><span class="lineno">  277</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  278</span>    {</div>
<div class="line"><span class="lineno">  279</span>        spellInfo-&gt;ProcCharges = 1;</div>
<div class="line"><span class="lineno">  280</span>    });</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>    <span class="comment">// Fireball</span></div>
<div class="line"><span class="lineno">  283</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 57761 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  284</span>    {</div>
<div class="line"><span class="lineno">  285</span>        spellInfo-&gt;ProcCharges = 1;</div>
<div class="line"><span class="lineno">  286</span>        spellInfo-&gt;SpellPriority = 50;</div>
<div class="line"><span class="lineno">  287</span>    });</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>    <span class="comment">// Tidal Wave</span></div>
<div class="line"><span class="lineno">  290</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 53390 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  291</span>    {</div>
<div class="line"><span class="lineno">  292</span>        spellInfo-&gt;ProcCharges = 2;</div>
<div class="line"><span class="lineno">  293</span>    });</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>    <span class="comment">// Oscillation Field</span></div>
<div class="line"><span class="lineno">  296</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 37408 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  297</span>    {</div>
<div class="line"><span class="lineno">  298</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><span class="lineno">  299</span>    });</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>    <span class="comment">// Ascendance (Talisman of Ascendance trinket)</span></div>
<div class="line"><span class="lineno">  302</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 28200 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  303</span>    {</div>
<div class="line"><span class="lineno">  304</span>        spellInfo-&gt;ProcCharges = 6;</div>
<div class="line"><span class="lineno">  305</span>    });</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>    <span class="comment">// Crafty&#39;s Ultra-Advanced Proto-Typical Shortening Blaster</span></div>
<div class="line"><span class="lineno">  308</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 51912 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  309</span>    {</div>
<div class="line"><span class="lineno">  310</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Amplitude = 3000;</div>
<div class="line"><span class="lineno">  311</span>    });</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>    <span class="comment">// Desecration Arm - 36 instead of 37 - typo?</span></div>
<div class="line"><span class="lineno">  314</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 29809 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  315</span>    {</div>
<div class="line"><span class="lineno">  316</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a13899f0b883bdae8051450ea98f98f55">EFFECT_RADIUS_7_YARDS</a>);</div>
<div class="line"><span class="lineno">  317</span>    });</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>    <span class="comment">// Sic&#39;em</span></div>
<div class="line"><span class="lineno">  320</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 42767 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  321</span>    {</div>
<div class="line"><span class="lineno">  322</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aab0751c8895d224e37904a23bc625efa">TARGET_UNIT_NEARBY_ENTRY</a>);</div>
<div class="line"><span class="lineno">  323</span>    });</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>    <span class="comment">// Master Shapeshifter: missing stance data for forms other than bear - bear version has correct data</span></div>
<div class="line"><span class="lineno">  326</span>    <span class="comment">// To prevent aura staying on target after talent unlearned</span></div>
<div class="line"><span class="lineno">  327</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 48420 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  328</span>    {</div>
<div class="line"><span class="lineno">  329</span>        spellInfo-&gt;Stances = 1 &lt;&lt; (<a class="code hl_enumvalue" href="../../d8/dbe/a03521.html#ab1b67dd15f243c850f589f66747e547caa28b6421a1efdc3a6377c480e1f80809">FORM_CAT</a> - 1);</div>
<div class="line"><span class="lineno">  330</span>    });</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 48421 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  333</span>    {</div>
<div class="line"><span class="lineno">  334</span>        spellInfo-&gt;Stances = 1 &lt;&lt; (<a class="code hl_enumvalue" href="../../d8/dbe/a03521.html#ab1b67dd15f243c850f589f66747e547ca956565a0800ab3f327d90d6a413f4482">FORM_MOONKIN</a> - 1);</div>
<div class="line"><span class="lineno">  335</span>    });</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 48422 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  338</span>    {</div>
<div class="line"><span class="lineno">  339</span>        spellInfo-&gt;Stances = 1 &lt;&lt; (<a class="code hl_enumvalue" href="../../d8/dbe/a03521.html#ab1b67dd15f243c850f589f66747e547cadede345fd72f3a48598be8a70afe65ca">FORM_TREE</a> - 1);</div>
<div class="line"><span class="lineno">  340</span>    });</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>    <span class="comment">// Elemental Oath</span></div>
<div class="line"><span class="lineno">  343</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 51466, 51470 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  344</span>    {</div>
<div class="line"><span class="lineno">  345</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><span class="lineno">  346</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a50563ee6555455f041b81ce199ad1a4f">SPELL_AURA_ADD_FLAT_MODIFIER</a>;</div>
<div class="line"><span class="lineno">  347</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].MiscValue = <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a39b60e1f12cca9b6873cb817e7717351a0424ff84a813354eb36d6f6774bbacce">SPELLMOD_EFFECT2</a>;</div>
<div class="line"><span class="lineno">  348</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].SpellClassMask = <a class="code hl_class" href="../../dd/d66/a05534.html">flag96</a>(0x00000000, 0x00004000, 0x00000000);</div>
<div class="line"><span class="lineno">  349</span>    });</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>    <span class="comment">// Improved Shadowform (Rank 1)</span></div>
<div class="line"><span class="lineno">  352</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 47569 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  353</span>    {</div>
<div class="line"><span class="lineno">  354</span>        spellInfo-&gt;Attributes &amp;= ~SPELL_ATTR0_NOT_SHAPESHIFTED;   <span class="comment">// with this spell atrribute aura can be stacked several times</span></div>
<div class="line"><span class="lineno">  355</span>    });</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>    <span class="comment">// Natural shapeshifter</span></div>
<div class="line"><span class="lineno">  358</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 16834, 16835 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  359</span>    {</div>
<div class="line"><span class="lineno">  360</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(21);</div>
<div class="line"><span class="lineno">  361</span>    });</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>    <span class="comment">// Ebon Plague</span></div>
<div class="line"><span class="lineno">  364</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 51735, 51734, 51726 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  365</span>    {</div>
<div class="line"><span class="lineno">  366</span>        spellInfo-&gt;SpellFamilyFlags[2] = 0x10;</div>
<div class="line"><span class="lineno">  367</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a6796b359cee58ecae94d38098c91e74e">SPELL_AURA_MOD_DAMAGE_PERCENT_TAKEN</a>;</div>
<div class="line"><span class="lineno">  368</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><span class="lineno">  369</span>    });</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>    <span class="comment">// Parasitic Shadowfiend Passive</span></div>
<div class="line"><span class="lineno">  372</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 41013 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  373</span>    {</div>
<div class="line"><span class="lineno">  374</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>;   <span class="comment">// proc debuff, and summon infinite fiends</span></div>
<div class="line"><span class="lineno">  375</span>    });</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  378</span>        27892,  <span class="comment">// To Anchor 1</span></div>
<div class="line"><span class="lineno">  379</span>        27928,  <span class="comment">// To Anchor 1</span></div>
<div class="line"><span class="lineno">  380</span>        27935,  <span class="comment">// To Anchor 1</span></div>
<div class="line"><span class="lineno">  381</span>    }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  382</span>    {</div>
<div class="line"><span class="lineno">  383</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a>);</div>
<div class="line"><span class="lineno">  384</span>    });</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>    <span class="comment">// Wrath of the Plaguebringer</span></div>
<div class="line"><span class="lineno">  387</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 29214, 54836 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  388</span>    {</div>
<div class="line"><span class="lineno">  389</span>        <span class="comment">// target allys instead of enemies, target A is src_caster, spells with effect like that have ally target</span></div>
<div class="line"><span class="lineno">  390</span>        <span class="comment">// this is the only known exception, probably just wrong data</span></div>
<div class="line"><span class="lineno">  391</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a5636479f4e747c35d6eab829ac5ba6c1">TARGET_UNIT_SRC_AREA_ALLY</a>);</div>
<div class="line"><span class="lineno">  392</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a5636479f4e747c35d6eab829ac5ba6c1">TARGET_UNIT_SRC_AREA_ALLY</a>);</div>
<div class="line"><span class="lineno">  393</span>    });</div>
<div class="line"><span class="lineno">  394</span> </div>
<div class="line"><span class="lineno">  395</span>    <span class="comment">// Wind Shear</span></div>
<div class="line"><span class="lineno">  396</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 57994 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  397</span>    {</div>
<div class="line"><span class="lineno">  398</span>        <span class="comment">// improper data for EFFECT_1 in 3.3.5 DBC, but is correct in 4.x</span></div>
<div class="line"><span class="lineno">  399</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a9283537d0780f127fb78eeafc72365e5">SPELL_EFFECT_MODIFY_THREAT_PERCENT</a>;</div>
<div class="line"><span class="lineno">  400</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].BasePoints = -6; <span class="comment">// -5%</span></div>
<div class="line"><span class="lineno">  401</span>    });</div>
<div class="line"><span class="lineno">  402</span> </div>
<div class="line"><span class="lineno">  403</span>    <span class="comment">// Improved Devouring Plague</span></div>
<div class="line"><span class="lineno">  404</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 63675 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  405</span>    {</div>
<div class="line"><span class="lineno">  406</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BonusMultiplier = 0;</div>
<div class="line"><span class="lineno">  407</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><span class="lineno">  408</span>    });</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  411</span>        8145,   <span class="comment">// Tremor Totem (instant pulse)</span></div>
<div class="line"><span class="lineno">  412</span>        6474    <span class="comment">// Earthbind Totem (instant pulse)</span></div>
<div class="line"><span class="lineno">  413</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  414</span>    {</div>
<div class="line"><span class="lineno">  415</span>        spellInfo-&gt;AttributesEx5 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a376aa62261a98289589839b821786adaa1e5646f92d527da8a1a98bb0f14f3b86">SPELL_ATTR5_EXTRA_INITIAL_PERIOD</a>;</div>
<div class="line"><span class="lineno">  416</span>    });</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>    <span class="comment">// Marked for Death</span></div>
<div class="line"><span class="lineno">  419</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 53241, 53243, 53244, 53245, 53246 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  420</span>    {</div>
<div class="line"><span class="lineno">  421</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].SpellClassMask = <a class="code hl_class" href="../../dd/d66/a05534.html">flag96</a>(399361, 276955137, 1);</div>
<div class="line"><span class="lineno">  422</span>    });</div>
<div class="line"><span class="lineno">  423</span> </div>
<div class="line"><span class="lineno">  424</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  425</span>        70728,  <span class="comment">// Exploit Weakness</span></div>
<div class="line"><span class="lineno">  426</span>        70840   <span class="comment">// Devious Minds</span></div>
<div class="line"><span class="lineno">  427</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  428</span>    {</div>
<div class="line"><span class="lineno">  429</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno">  430</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a85f865aa0228f193158a34cbafe4d706">TARGET_UNIT_PET</a>);</div>
<div class="line"><span class="lineno">  431</span>    });</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>    <span class="comment">// Culling The Herd</span></div>
<div class="line"><span class="lineno">  434</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70893 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  435</span>    {</div>
<div class="line"><span class="lineno">  436</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno">  437</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a8c90320900b4114323d35111f290ff90">TARGET_UNIT_MASTER</a>);</div>
<div class="line"><span class="lineno">  438</span>    });</div>
<div class="line"><span class="lineno">  439</span> </div>
<div class="line"><span class="lineno">  440</span>    <span class="comment">// Sigil of the Frozen Conscience</span></div>
<div class="line"><span class="lineno">  441</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 54800 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  442</span>    {</div>
<div class="line"><span class="lineno">  443</span>        <span class="comment">// change class mask to custom extended flags of Icy Touch</span></div>
<div class="line"><span class="lineno">  444</span>        <span class="comment">// this is done because another spell also uses the same SpellFamilyFlags as Icy Touch</span></div>
<div class="line"><span class="lineno">  445</span>        <span class="comment">// SpellFamilyFlags[0] &amp; 0x00000040 in SPELLFAMILY_DEATHKNIGHT is currently unused (3.3.5a)</span></div>
<div class="line"><span class="lineno">  446</span>        <span class="comment">// this needs research on modifier applying rules, does not seem to be in Attributes fields</span></div>
<div class="line"><span class="lineno">  447</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].SpellClassMask = <a class="code hl_class" href="../../dd/d66/a05534.html">flag96</a>(0x00000040, 0x00000000, 0x00000000);</div>
<div class="line"><span class="lineno">  448</span>    });</div>
<div class="line"><span class="lineno">  449</span> </div>
<div class="line"><span class="lineno">  450</span>    <span class="comment">// Idol of the Flourishing Life</span></div>
<div class="line"><span class="lineno">  451</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 64949 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  452</span>    {</div>
<div class="line"><span class="lineno">  453</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].SpellClassMask = <a class="code hl_class" href="../../dd/d66/a05534.html">flag96</a>(0x00000000, 0x02000000, 0x00000000);</div>
<div class="line"><span class="lineno">  454</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a50563ee6555455f041b81ce199ad1a4f">SPELL_AURA_ADD_FLAT_MODIFIER</a>;</div>
<div class="line"><span class="lineno">  455</span>    });</div>
<div class="line"><span class="lineno">  456</span> </div>
<div class="line"><span class="lineno">  457</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  458</span>        34231,  <span class="comment">// Libram of the Lightbringer</span></div>
<div class="line"><span class="lineno">  459</span>        60792,  <span class="comment">// Libram of Tolerance</span></div>
<div class="line"><span class="lineno">  460</span>        64956   <span class="comment">// Libram of the Resolute</span></div>
<div class="line"><span class="lineno">  461</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  462</span>    {</div>
<div class="line"><span class="lineno">  463</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].SpellClassMask = <a class="code hl_class" href="../../dd/d66/a05534.html">flag96</a>(0x80000000, 0x00000000, 0x00000000);</div>
<div class="line"><span class="lineno">  464</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a50563ee6555455f041b81ce199ad1a4f">SPELL_AURA_ADD_FLAT_MODIFIER</a>;</div>
<div class="line"><span class="lineno">  465</span>    });</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  468</span>        28851,  <span class="comment">// Libram of Light</span></div>
<div class="line"><span class="lineno">  469</span>        28853,  <span class="comment">// Libram of Divinity</span></div>
<div class="line"><span class="lineno">  470</span>        32403   <span class="comment">// Blessed Book of Nagrand</span></div>
<div class="line"><span class="lineno">  471</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  472</span>    {</div>
<div class="line"><span class="lineno">  473</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].SpellClassMask = <a class="code hl_class" href="../../dd/d66/a05534.html">flag96</a>(0x40000000, 0x00000000, 0x00000000);</div>
<div class="line"><span class="lineno">  474</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a50563ee6555455f041b81ce199ad1a4f">SPELL_AURA_ADD_FLAT_MODIFIER</a>;</div>
<div class="line"><span class="lineno">  475</span>    });</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>    <span class="comment">// Ride Carpet</span></div>
<div class="line"><span class="lineno">  478</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 45602 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  479</span>    {</div>
<div class="line"><span class="lineno">  480</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints = 0; <span class="comment">// force seat 0, vehicle doesn&#39;t have the required seat flags for &quot;no seat specified (-1)&quot;</span></div>
<div class="line"><span class="lineno">  481</span>    });</div>
<div class="line"><span class="lineno">  482</span> </div>
<div class="line"><span class="lineno">  483</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  484</span>        64745,  <span class="comment">// Item - Death Knight T8 Tank 4P Bonus</span></div>
<div class="line"><span class="lineno">  485</span>        64936   <span class="comment">// Item - Warrior T8 Protection 4P Bonus</span></div>
<div class="line"><span class="lineno">  486</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  487</span>    {</div>
<div class="line"><span class="lineno">  488</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints = 100; <span class="comment">// 100% chance of procc&#39;ing, not -10% (chance calculated in PrepareTriggersExecutedOnHit)</span></div>
<div class="line"><span class="lineno">  489</span>    });</div>
<div class="line"><span class="lineno">  490</span> </div>
<div class="line"><span class="lineno">  491</span>    <span class="comment">// Easter Lay Noblegarden Egg Aura</span></div>
<div class="line"><span class="lineno">  492</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 61719 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  493</span>    {</div>
<div class="line"><span class="lineno">  494</span>        <span class="comment">// Interrupt flags copied from aura which this aura is linked with</span></div>
<div class="line"><span class="lineno">  495</span>        spellInfo-&gt;AuraInterruptFlags = <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a79d42b7d97460b52fe46d9bc3c288a15">AURA_INTERRUPT_FLAG_HITBYSPELL</a> | <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a043102900f6d0a56c4ba2aaf151fa41a">AURA_INTERRUPT_FLAG_TAKE_DAMAGE</a>;</div>
<div class="line"><span class="lineno">  496</span>    });</div>
<div class="line"><span class="lineno">  497</span> </div>
<div class="line"><span class="lineno">  498</span>    <span class="comment">// Bleh, need to change FamilyFlags :/ (have the same as original aura - bad!)</span></div>
<div class="line"><span class="lineno">  499</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 63510 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  500</span>    {</div>
<div class="line"><span class="lineno">  501</span>        spellInfo-&gt;SpellFamilyFlags[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 0;</div>
<div class="line"><span class="lineno">  502</span>        spellInfo-&gt;SpellFamilyFlags[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>] = 0x4000000;</div>
<div class="line"><span class="lineno">  503</span>    });</div>
<div class="line"><span class="lineno">  504</span> </div>
<div class="line"><span class="lineno">  505</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 63514 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  506</span>    {</div>
<div class="line"><span class="lineno">  507</span>        spellInfo-&gt;SpellFamilyFlags[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 0;</div>
<div class="line"><span class="lineno">  508</span>        spellInfo-&gt;SpellFamilyFlags[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>] = 0x2000000;</div>
<div class="line"><span class="lineno">  509</span>    });</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 63531 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  512</span>    {</div>
<div class="line"><span class="lineno">  513</span>        spellInfo-&gt;SpellFamilyFlags[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = 0;</div>
<div class="line"><span class="lineno">  514</span>        spellInfo-&gt;SpellFamilyFlags[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>] = 0x8000000;</div>
<div class="line"><span class="lineno">  515</span>    });</div>
<div class="line"><span class="lineno">  516</span> </div>
<div class="line"><span class="lineno">  517</span>    <span class="comment">// And affecting spells</span></div>
<div class="line"><span class="lineno">  518</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  519</span>        20138,  <span class="comment">// Improved Devotion Aura</span></div>
<div class="line"><span class="lineno">  520</span>        20139,</div>
<div class="line"><span class="lineno">  521</span>        20140</div>
<div class="line"><span class="lineno">  522</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  523</span>    {</div>
<div class="line"><span class="lineno">  524</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].SpellClassMask[0] = 0;</div>
<div class="line"><span class="lineno">  525</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].SpellClassMask[2] = 0x2000000;</div>
<div class="line"><span class="lineno">  526</span>    });</div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  529</span>        20254,  <span class="comment">// Improved concentration aura</span></div>
<div class="line"><span class="lineno">  530</span>        20255,</div>
<div class="line"><span class="lineno">  531</span>        20256</div>
<div class="line"><span class="lineno">  532</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  533</span>    {</div>
<div class="line"><span class="lineno">  534</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].SpellClassMask[0] = 0;</div>
<div class="line"><span class="lineno">  535</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].SpellClassMask[2] = 0x4000000;</div>
<div class="line"><span class="lineno">  536</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].SpellClassMask[0] = 0;</div>
<div class="line"><span class="lineno">  537</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].SpellClassMask[2] = 0x4000000;</div>
<div class="line"><span class="lineno">  538</span>    });</div>
<div class="line"><span class="lineno">  539</span> </div>
<div class="line"><span class="lineno">  540</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  541</span>        53379,  <span class="comment">// Swift Retribution</span></div>
<div class="line"><span class="lineno">  542</span>        53484,</div>
<div class="line"><span class="lineno">  543</span>        53648</div>
<div class="line"><span class="lineno">  544</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  545</span>    {</div>
<div class="line"><span class="lineno">  546</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].SpellClassMask[0] = 0;</div>
<div class="line"><span class="lineno">  547</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].SpellClassMask[2] = 0x8000000;</div>
<div class="line"><span class="lineno">  548</span>    });</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>    <span class="comment">// Sanctified Retribution</span></div>
<div class="line"><span class="lineno">  551</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 31869 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  552</span>    {</div>
<div class="line"><span class="lineno">  553</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].SpellClassMask[0] = 0;</div>
<div class="line"><span class="lineno">  554</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].SpellClassMask[2] = 0x8000000;</div>
<div class="line"><span class="lineno">  555</span>    });</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span>    <span class="comment">// Seal of Light trigger</span></div>
<div class="line"><span class="lineno">  558</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 20167 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  559</span>    {</div>
<div class="line"><span class="lineno">  560</span>        spellInfo-&gt;SpellLevel = 0;</div>
<div class="line"><span class="lineno">  561</span>        spellInfo-&gt;BaseLevel = 0;</div>
<div class="line"><span class="lineno">  562</span>        spellInfo-&gt;DmgClass = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><span class="lineno">  563</span>    });</div>
<div class="line"><span class="lineno">  564</span> </div>
<div class="line"><span class="lineno">  565</span>    <span class="comment">// Hand of Reckoning</span></div>
<div class="line"><span class="lineno">  566</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62124 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  567</span>    {</div>
<div class="line"><span class="lineno">  568</span>        spellInfo-&gt;AttributesEx |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076aff8f5208b6bab753ec0cb8d8ccff67eb">SPELL_ATTR1_NO_REDIRECTION</a>;</div>
<div class="line"><span class="lineno">  569</span>    });</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>    <span class="comment">// Redemption</span></div>
<div class="line"><span class="lineno">  572</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 7328, 10322, 10324, 20772, 20773, 48949, 48950 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  573</span>    {</div>
<div class="line"><span class="lineno">  574</span>        spellInfo-&gt;SpellFamilyName = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba573f9ad8924e7632156291378448e742">SPELLFAMILY_PALADIN</a>;</div>
<div class="line"><span class="lineno">  575</span>    });</div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  578</span>        20184,  <span class="comment">// Judgement of Justice</span></div>
<div class="line"><span class="lineno">  579</span>        20185,  <span class="comment">// Judgement of Light</span></div>
<div class="line"><span class="lineno">  580</span>        20186,  <span class="comment">// Judgement of Wisdom</span></div>
<div class="line"><span class="lineno">  581</span>        68055   <span class="comment">// Judgements of the Just</span></div>
<div class="line"><span class="lineno">  582</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  583</span>    {</div>
<div class="line"><span class="lineno">  584</span>        <span class="comment">// hack for seal of light and few spells, judgement consists of few single casts and each of them can proc</span></div>
<div class="line"><span class="lineno">  585</span>        <span class="comment">// some spell, base one has disabled proc flag but those dont have this flag</span></div>
<div class="line"><span class="lineno">  586</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81ac2d73c6356fd835178b899a41edc5a52">SPELL_ATTR3_SUPPRESS_CASTER_PROCS</a>;</div>
<div class="line"><span class="lineno">  587</span>    });</div>
<div class="line"><span class="lineno">  588</span> </div>
<div class="line"><span class="lineno">  589</span>    <span class="comment">// Blessing of sanctuary stats</span></div>
<div class="line"><span class="lineno">  590</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 67480 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  591</span>    {</div>
<div class="line"><span class="lineno">  592</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValue = -1;</div>
<div class="line"><span class="lineno">  593</span>        spellInfo-&gt;SpellFamilyName = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1baf6b533c234808dd17936190a630db749">SPELLFAMILY_UNK1</a>; <span class="comment">// allows stacking</span></div>
<div class="line"><span class="lineno">  594</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>; <span class="comment">// just a marker</span></div>
<div class="line"><span class="lineno">  595</span>    });</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  598</span>        6940, <span class="comment">// Hand of Sacrifice</span></div>
<div class="line"><span class="lineno">  599</span>        64205 <span class="comment">// Divine Sacrifice</span></div>
<div class="line"><span class="lineno">  600</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  601</span>    {</div>
<div class="line"><span class="lineno">  602</span>        spellInfo-&gt;AttributesEx7 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a25ff5d34ce79433dfc852484cef1d47da091bca55495699f6a6688c307e2cbf4d">SPELL_ATTR7_DONT_CAUSE_SPELL_PUSHBACK</a>;</div>
<div class="line"><span class="lineno">  603</span>    });</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>    <span class="comment">// Seal of Command trigger</span></div>
<div class="line"><span class="lineno">  606</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 20424 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  607</span>    {</div>
<div class="line"><span class="lineno">  608</span>        spellInfo-&gt;AttributesEx3 &amp;= ~SPELL_ATTR3_SUPPRESS_CASTER_PROCS;</div>
<div class="line"><span class="lineno">  609</span>    });</div>
<div class="line"><span class="lineno">  610</span> </div>
<div class="line"><span class="lineno">  611</span>    <span class="comment">// Arcane Missiles</span></div>
<div class="line"><span class="lineno">  612</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 5143, 5144, 5145, 8416, 8417, 10211, 10212, 25345, 27075, 38699, 38704, 42843, 42846 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  613</span>    {</div>
<div class="line"><span class="lineno">  614</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno">  615</span>    });</div>
<div class="line"><span class="lineno">  616</span> </div>
<div class="line"><span class="lineno">  617</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  618</span>        54968,  <span class="comment">// Glyph of Holy Light, Damage Class should be magic</span></div>
<div class="line"><span class="lineno">  619</span>        53652,  <span class="comment">// Beacon of Light heal, Damage Class should be magic</span></div>
<div class="line"><span class="lineno">  620</span>        53654</div>
<div class="line"><span class="lineno">  621</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  622</span>    {</div>
<div class="line"><span class="lineno">  623</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><span class="lineno">  624</span>        spellInfo-&gt;DmgClass = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><span class="lineno">  625</span>    });</div>
<div class="line"><span class="lineno">  626</span> </div>
<div class="line"><span class="lineno">  627</span>    <span class="comment">// Wild Hunt</span></div>
<div class="line"><span class="lineno">  628</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62758, 62762 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  629</span>    {</div>
<div class="line"><span class="lineno">  630</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><span class="lineno">  631</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>;</div>
<div class="line"><span class="lineno">  632</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><span class="lineno">  633</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>;</div>
<div class="line"><span class="lineno">  634</span>    });</div>
<div class="line"><span class="lineno">  635</span> </div>
<div class="line"><span class="lineno">  636</span>    <span class="comment">// Intervene</span></div>
<div class="line"><span class="lineno">  637</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 3411 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  638</span>    {</div>
<div class="line"><span class="lineno">  639</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada70a88000e26e915779029013b794396e">SPELL_ATTR0_CANCELS_AUTO_ATTACK_COMBAT</a>;</div>
<div class="line"><span class="lineno">  640</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno">  641</span>    });</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>    <span class="comment">// Roar of Sacrifice</span></div>
<div class="line"><span class="lineno">  644</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 53480 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  645</span>    {</div>
<div class="line"><span class="lineno">  646</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><span class="lineno">  647</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a71228de916b6c96108c7689f11d6303c">SPELL_AURA_SPLIT_DAMAGE_PCT</a>;</div>
<div class="line"><span class="lineno">  648</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a626ebdc89eb6b2243936fb5f6a6edf98">TARGET_UNIT_TARGET_ALLY</a>);</div>
<div class="line"><span class="lineno">  649</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].DieSides = 1;</div>
<div class="line"><span class="lineno">  650</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].BasePoints = 19;</div>
<div class="line"><span class="lineno">  651</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].BasePoints = 127; <span class="comment">// all schools</span></div>
<div class="line"><span class="lineno">  652</span>    });</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>    <span class="comment">// Silencing Shot</span></div>
<div class="line"><span class="lineno">  655</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 34490, 41084, 42671 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  656</span>    {</div>
<div class="line"><span class="lineno">  657</span>        spellInfo-&gt;Speed = 0.0f;</div>
<div class="line"><span class="lineno">  658</span>    });</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>    <span class="comment">// Monstrous Bite</span></div>
<div class="line"><span class="lineno">  661</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 54680, 55495, 55496, 55497, 55498, 55499 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  662</span>    {</div>
<div class="line"><span class="lineno">  663</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno">  664</span>    });</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>    <span class="comment">// Hunter&#39;s Mark</span></div>
<div class="line"><span class="lineno">  667</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 1130, 14323, 14324, 14325, 53338 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  668</span>    {</div>
<div class="line"><span class="lineno">  669</span>        spellInfo-&gt;DmgClass = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><span class="lineno">  670</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><span class="lineno">  671</span>    });</div>
<div class="line"><span class="lineno">  672</span> </div>
<div class="line"><span class="lineno">  673</span>    <span class="comment">// Cobra Strikes</span></div>
<div class="line"><span class="lineno">  674</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 53257 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  675</span>    {</div>
<div class="line"><span class="lineno">  676</span>        spellInfo-&gt;ProcCharges = 2;</div>
<div class="line"><span class="lineno">  677</span>        spellInfo-&gt;StackAmount = 0;</div>
<div class="line"><span class="lineno">  678</span>    });</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>    <span class="comment">// Kill Command</span></div>
<div class="line"><span class="lineno">  681</span>    <span class="comment">// Kill Command, Overpower</span></div>
<div class="line"><span class="lineno">  682</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 34027, 37529 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  683</span>    {</div>
<div class="line"><span class="lineno">  684</span>        spellInfo-&gt;ProcCharges = 0;</div>
<div class="line"><span class="lineno">  685</span>    });</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>    <span class="comment">// Kindred Spirits, damage aura</span></div>
<div class="line"><span class="lineno">  688</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 57458 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  689</span>    {</div>
<div class="line"><span class="lineno">  690</span>        spellInfo-&gt;AttributesEx4 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6a5c5365d0d28e6cd6d5a9475e06676458">SPELL_ATTR4_ALLOW_ENETRING_ARENA</a>;</div>
<div class="line"><span class="lineno">  691</span>    });</div>
<div class="line"><span class="lineno">  692</span> </div>
<div class="line"><span class="lineno">  693</span>    <span class="comment">// Chimera Shot - Serpent trigger</span></div>
<div class="line"><span class="lineno">  694</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 53353 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  695</span>    {</div>
<div class="line"><span class="lineno">  696</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><span class="lineno">  697</span>    });</div>
<div class="line"><span class="lineno">  698</span> </div>
<div class="line"><span class="lineno">  699</span>    <span class="comment">// Entrapment trigger</span></div>
<div class="line"><span class="lineno">  700</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 19185, 64803, 64804 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  701</span>    {</div>
<div class="line"><span class="lineno">  702</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a85d8f0e6d574cf640ec0c42b54e2ad3c">TARGET_DEST_TARGET_ENEMY</a>);</div>
<div class="line"><span class="lineno">  703</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a423eed54c405c7e51816127214e8ea82">TARGET_UNIT_DEST_AREA_ENEMY</a>);</div>
<div class="line"><span class="lineno">  704</span>        spellInfo-&gt;AttributesEx5 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a376aa62261a98289589839b821786adaab0527496eccfcafc34a8a49f74d9afbd">SPELL_ATTR5_ALWAYS_AOE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno">  705</span>    });</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>    <span class="comment">// Improved Stings (Rank 2)</span></div>
<div class="line"><span class="lineno">  708</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 19465 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  709</span>    {</div>
<div class="line"><span class="lineno">  710</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno">  711</span>    });</div>
<div class="line"><span class="lineno">  712</span> </div>
<div class="line"><span class="lineno">  713</span>    <span class="comment">// Heart of the Phoenix (triggered)</span></div>
<div class="line"><span class="lineno">  714</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 54114 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  715</span>    {</div>
<div class="line"><span class="lineno">  716</span>        spellInfo-&gt;AttributesEx &amp;= ~SPELL_ATTR1_DISMISS_PET_FIRST;</div>
<div class="line"><span class="lineno">  717</span>        spellInfo-&gt;RecoveryTime = 8 * 60 * <a class="code hl_variable" href="../../d4/d51/a00017.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>; <span class="comment">// prev 600000</span></div>
<div class="line"><span class="lineno">  718</span>    });</div>
<div class="line"><span class="lineno">  719</span> </div>
<div class="line"><span class="lineno">  720</span>    <span class="comment">// Master of Subtlety</span></div>
<div class="line"><span class="lineno">  721</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 31221, 31222, 31223 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  722</span>    {</div>
<div class="line"><span class="lineno">  723</span>        spellInfo-&gt;SpellFamilyName = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba9160b2e3a87a908af25c9a594295c0c1">SPELLFAMILY_ROGUE</a>;</div>
<div class="line"><span class="lineno">  724</span>    });</div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  727</span>        31666,  <span class="comment">// Master of Subtlety triggers</span></div>
<div class="line"><span class="lineno">  728</span>        58428   <span class="comment">// Overkill</span></div>
<div class="line"><span class="lineno">  729</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  730</span>    {</div>
<div class="line"><span class="lineno">  731</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a078f855df3793531cf8efdef80967cba">SPELL_EFFECT_SCRIPT_EFFECT</a>;</div>
<div class="line"><span class="lineno">  732</span>    });</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>    <span class="comment">// Honor Among Thieves</span></div>
<div class="line"><span class="lineno">  735</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 51698, 51700, 51701 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  736</span>    {</div>
<div class="line"><span class="lineno">  737</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TriggerSpell = 51699;</div>
<div class="line"><span class="lineno">  738</span>    });</div>
<div class="line"><span class="lineno">  739</span> </div>
<div class="line"><span class="lineno">  740</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  741</span>        5171,   <span class="comment">// Slice and Dice</span></div>
<div class="line"><span class="lineno">  742</span>        6774    <span class="comment">// Slice and Dice</span></div>
<div class="line"><span class="lineno">  743</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  744</span>    {</div>
<div class="line"><span class="lineno">  745</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno">  746</span>    });</div>
<div class="line"><span class="lineno">  747</span> </div>
<div class="line"><span class="lineno">  748</span>    <span class="comment">// Envenom</span></div>
<div class="line"><span class="lineno">  749</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 32645, 32684, 57992, 57993 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  750</span>    {</div>
<div class="line"><span class="lineno">  751</span>        spellInfo-&gt;Dispel = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#ada2b5e66b650d7a63f70c06a746070d1a71382806b5f961e5a04f6d06a97a1195">DISPEL_NONE</a>;</div>
<div class="line"><span class="lineno">  752</span>    });</div>
<div class="line"><span class="lineno">  753</span> </div>
<div class="line"><span class="lineno">  754</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno">  755</span>        64014,  <span class="comment">// Expedition Base Camp Teleport</span></div>
<div class="line"><span class="lineno">  756</span>        64032,  <span class="comment">// Formation Grounds Teleport</span></div>
<div class="line"><span class="lineno">  757</span>        64028,  <span class="comment">// Colossal Forge Teleport</span></div>
<div class="line"><span class="lineno">  758</span>        64031,  <span class="comment">// Scrapyard Teleport</span></div>
<div class="line"><span class="lineno">  759</span>        64030,  <span class="comment">// Antechamber Teleport</span></div>
<div class="line"><span class="lineno">  760</span>        64029,  <span class="comment">// Shattered Walkway Teleport</span></div>
<div class="line"><span class="lineno">  761</span>        64024,  <span class="comment">// Conservatory Teleport</span></div>
<div class="line"><span class="lineno">  762</span>        64025,  <span class="comment">// Halls of Invention Teleport</span></div>
<div class="line"><span class="lineno">  763</span>        65042   <span class="comment">// Prison of Yogg-Saron Teleport</span></div>
<div class="line"><span class="lineno">  764</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  765</span>    {</div>
<div class="line"><span class="lineno">  766</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a26506da78f6a6950f7ac66718b775817">TARGET_DEST_DB</a>);</div>
<div class="line"><span class="lineno">  767</span>    });</div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span>    <span class="comment">// Killing Spree (teleport)</span></div>
<div class="line"><span class="lineno">  770</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 57840 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  771</span>    {</div>
<div class="line"><span class="lineno">  772</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(6); <span class="comment">// 100 yards</span></div>
<div class="line"><span class="lineno">  773</span>    });</div>
<div class="line"><span class="lineno">  774</span> </div>
<div class="line"><span class="lineno">  775</span>    <span class="comment">// Killing Spree</span></div>
<div class="line"><span class="lineno">  776</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 51690 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  777</span>    {</div>
<div class="line"><span class="lineno">  778</span>        spellInfo-&gt;AttributesEx |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076a59ca425969878e61a40a8337878c1933">SPELL_ATTR1_ALLOW_WHILE_STEALTHED</a>;</div>
<div class="line"><span class="lineno">  779</span>    });</div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span>    <span class="comment">// Blood Tap visual cd reset</span></div>
<div class="line"><span class="lineno">  782</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 47804 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  783</span>    {</div>
<div class="line"><span class="lineno">  784</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno">  785</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno">  786</span>        spellInfo-&gt;RuneCostID = 442;</div>
<div class="line"><span class="lineno">  787</span>    });</div>
<div class="line"><span class="lineno">  788</span> </div>
<div class="line"><span class="lineno">  789</span>    <span class="comment">// Chains of Ice</span></div>
<div class="line"><span class="lineno">  790</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 45524 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  791</span>    {</div>
<div class="line"><span class="lineno">  792</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno">  793</span>    });</div>
<div class="line"><span class="lineno">  794</span> </div>
<div class="line"><span class="lineno">  795</span>    <span class="comment">// Impurity</span></div>
<div class="line"><span class="lineno">  796</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 49220, 49633, 49635, 49636, 49638 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  797</span>    {</div>
<div class="line"><span class="lineno">  798</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><span class="lineno">  799</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>;</div>
<div class="line"><span class="lineno">  800</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno">  801</span>        spellInfo-&gt;SpellFamilyName = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1badc34b27f2cd523716d80c51d4e1d6f02">SPELLFAMILY_DEATHKNIGHT</a>;</div>
<div class="line"><span class="lineno">  802</span>    });</div>
<div class="line"><span class="lineno">  803</span> </div>
<div class="line"><span class="lineno">  804</span>    <span class="comment">// Deadly Aggression (Deadly Gladiator&#39;s Death Knight Relic, item: 42620)</span></div>
<div class="line"><span class="lineno">  805</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 60549 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  806</span>    {</div>
<div class="line"><span class="lineno">  807</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno">  808</span>    });</div>
<div class="line"><span class="lineno">  809</span> </div>
<div class="line"><span class="lineno">  810</span>    <span class="comment">// Magic Suppression</span></div>
<div class="line"><span class="lineno">  811</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 49224, 49610, 49611 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  812</span>    {</div>
<div class="line"><span class="lineno">  813</span>        spellInfo-&gt;ProcCharges = 0;</div>
<div class="line"><span class="lineno">  814</span>    });</div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>    <span class="comment">// Wandering Plague</span></div>
<div class="line"><span class="lineno">  817</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 50526 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  818</span>    {</div>
<div class="line"><span class="lineno">  819</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><span class="lineno">  820</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno">  821</span>    });</div>
<div class="line"><span class="lineno">  822</span> </div>
<div class="line"><span class="lineno">  823</span>    <span class="comment">// Dancing Rune Weapon</span></div>
<div class="line"><span class="lineno">  824</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 49028 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  825</span>    {</div>
<div class="line"><span class="lineno">  826</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno">  827</span>        spellInfo-&gt;ProcFlags |= <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a62b453b99197db2931efaae9c3f7efbc">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a>;</div>
<div class="line"><span class="lineno">  828</span>    });</div>
<div class="line"><span class="lineno">  829</span> </div>
<div class="line"><span class="lineno">  830</span>    <span class="comment">// Death and Decay</span></div>
<div class="line"><span class="lineno">  831</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 52212 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  832</span>    {</div>
<div class="line"><span class="lineno">  833</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno">  834</span>        spellInfo-&gt;AttributesEx6 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094a78992c0cb395380959dea6189150d8bb">SPELL_ATTR6_IGNORE_PHASE_SHIFT</a>;</div>
<div class="line"><span class="lineno">  835</span>    });</div>
<div class="line"><span class="lineno">  836</span> </div>
<div class="line"><span class="lineno">  837</span>    <span class="comment">// T9 blood plague crit bonus</span></div>
<div class="line"><span class="lineno">  838</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 67118 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  839</span>    {</div>
<div class="line"><span class="lineno">  840</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno">  841</span>    });</div>
<div class="line"><span class="lineno">  842</span> </div>
<div class="line"><span class="lineno">  843</span>    <span class="comment">// Pestilence</span></div>
<div class="line"><span class="lineno">  844</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 50842 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  845</span>    {</div>
<div class="line"><span class="lineno">  846</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a85d8f0e6d574cf640ec0c42b54e2ad3c">TARGET_DEST_TARGET_ENEMY</a>;</div>
<div class="line"><span class="lineno">  847</span>    });</div>
<div class="line"><span class="lineno">  848</span> </div>
<div class="line"><span class="lineno">  849</span>    <span class="comment">// Horn of Winter, stacking issues</span></div>
<div class="line"><span class="lineno">  850</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 57330, 57623 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  851</span>    {</div>
<div class="line"><span class="lineno">  852</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = 0;</div>
<div class="line"><span class="lineno">  853</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno">  854</span>    });</div>
<div class="line"><span class="lineno">  855</span> </div>
<div class="line"><span class="lineno">  856</span>    <span class="comment">// Scourge Strike trigger</span></div>
<div class="line"><span class="lineno">  857</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70890 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  858</span>    {</div>
<div class="line"><span class="lineno">  859</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81ac2d73c6356fd835178b899a41edc5a52">SPELL_ATTR3_SUPPRESS_CASTER_PROCS</a>;</div>
<div class="line"><span class="lineno">  860</span>    });</div>
<div class="line"><span class="lineno">  861</span> </div>
<div class="line"><span class="lineno">  862</span>    <span class="comment">// Blood-caked Blade - Blood-caked Strike trigger</span></div>
<div class="line"><span class="lineno">  863</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 50463 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  864</span>    {</div>
<div class="line"><span class="lineno">  865</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81ac2d73c6356fd835178b899a41edc5a52">SPELL_ATTR3_SUPPRESS_CASTER_PROCS</a>;</div>
<div class="line"><span class="lineno">  866</span>    });</div>
<div class="line"><span class="lineno">  867</span> </div>
<div class="line"><span class="lineno">  868</span>    <span class="comment">// Blood Gorged</span></div>
<div class="line"><span class="lineno">  869</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 61274, 61275, 61276, 61277,61278 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  870</span>    {</div>
<div class="line"><span class="lineno">  871</span>        <span class="comment">// ARP affect Death Strike and Rune Strike</span></div>
<div class="line"><span class="lineno">  872</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].SpellClassMask = <a class="code hl_class" href="../../dd/d66/a05534.html">flag96</a>(0x1400011, 0x20000000, 0x0);</div>
<div class="line"><span class="lineno">  873</span>    });</div>
<div class="line"><span class="lineno">  874</span> </div>
<div class="line"><span class="lineno">  875</span>    <span class="comment">// Death Grip</span></div>
<div class="line"><span class="lineno">  876</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 49576, 49560 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  877</span>    {</div>
<div class="line"><span class="lineno">  878</span>        <span class="comment">// remove main grip mechanic, leave only effect one</span></div>
<div class="line"><span class="lineno">  879</span>        <span class="comment">//  should fix taunt on bosses and not break the pull protection at the same time (no aura provides immunity to grip mechanic)</span></div>
<div class="line"><span class="lineno">  880</span>        spellInfo-&gt;Mechanic = 0;</div>
<div class="line"><span class="lineno">  881</span>    });</div>
<div class="line"><span class="lineno">  882</span> </div>
<div class="line"><span class="lineno">  883</span>    <span class="comment">// Death Grip Jump Dest</span></div>
<div class="line"><span class="lineno">  884</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 57604 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  885</span>    {</div>
<div class="line"><span class="lineno">  886</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno">  887</span>    });</div>
<div class="line"><span class="lineno">  888</span> </div>
<div class="line"><span class="lineno">  889</span>    <span class="comment">// Death Pact</span></div>
<div class="line"><span class="lineno">  890</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 48743 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  891</span>    {</div>
<div class="line"><span class="lineno">  892</span>        spellInfo-&gt;AttributesEx &amp;= ~SPELL_ATTR1_EXCLUDE_CASTER;</div>
<div class="line"><span class="lineno">  893</span>    });</div>
<div class="line"><span class="lineno">  894</span> </div>
<div class="line"><span class="lineno">  895</span>    <span class="comment">// Raise Ally (trigger)</span></div>
<div class="line"><span class="lineno">  896</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 46619 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  897</span>    {</div>
<div class="line"><span class="lineno">  898</span>        spellInfo-&gt;Attributes &amp;= ~SPELL_ATTR0_NO_AURA_CANCEL;</div>
<div class="line"><span class="lineno">  899</span>    });</div>
<div class="line"><span class="lineno">  900</span> </div>
<div class="line"><span class="lineno">  901</span>    <span class="comment">// Frost Strike</span></div>
<div class="line"><span class="lineno">  902</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 49143, 51416, 51417, 51418, 51419, 55268 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  903</span>    {</div>
<div class="line"><span class="lineno">  904</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81aee1cef82ec80ed50232026a07405804a">SPELL_ATTR3_COMPLETELY_BLOCKED</a>;</div>
<div class="line"><span class="lineno">  905</span>    });</div>
<div class="line"><span class="lineno">  906</span> </div>
<div class="line"><span class="lineno">  907</span>    <span class="comment">// Death Knight T10 Tank 2p Bonus</span></div>
<div class="line"><span class="lineno">  908</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70650 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  909</span>    {</div>
<div class="line"><span class="lineno">  910</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a2c530c4b7d2f3b77f65f62395bda9c4a">SPELL_AURA_ADD_PCT_MODIFIER</a>;</div>
<div class="line"><span class="lineno">  911</span>    });</div>
<div class="line"><span class="lineno">  912</span> </div>
<div class="line"><span class="lineno">  913</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 45297, 45284 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  914</span>    {</div>
<div class="line"><span class="lineno">  915</span>        spellInfo-&gt;CategoryRecoveryTime = 0;</div>
<div class="line"><span class="lineno">  916</span>        spellInfo-&gt;RecoveryTime = 0;</div>
<div class="line"><span class="lineno">  917</span>        spellInfo-&gt;AttributesEx6 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094a653a9dadab0c249ed232ecda87dd833f">SPELL_ATTR6_IGNORE_CASTER_DAMAGE_MODIFIERS</a>;</div>
<div class="line"><span class="lineno">  918</span>    });</div>
<div class="line"><span class="lineno">  919</span> </div>
<div class="line"><span class="lineno">  920</span>    <span class="comment">// Improved Earth Shield</span></div>
<div class="line"><span class="lineno">  921</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 51560, 51561 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  922</span>    {</div>
<div class="line"><span class="lineno">  923</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].MiscValue = <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a39b60e1f12cca9b6873cb817e7717351a0df5b1482e6dd01af433e9e95fbae0f3">SPELLMOD_DAMAGE</a>;</div>
<div class="line"><span class="lineno">  924</span>    });</div>
<div class="line"><span class="lineno">  925</span> </div>
<div class="line"><span class="lineno">  926</span>    <span class="comment">// Tidal Force</span></div>
<div class="line"><span class="lineno">  927</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 55166, 55198 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  928</span>    {</div>
<div class="line"><span class="lineno">  929</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(18);</div>
<div class="line"><span class="lineno">  930</span>        spellInfo-&gt;ProcCharges = 0;</div>
<div class="line"><span class="lineno">  931</span>    });</div>
<div class="line"><span class="lineno">  932</span> </div>
<div class="line"><span class="lineno">  933</span>    <span class="comment">// Healing Stream Totem</span></div>
<div class="line"><span class="lineno">  934</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 52042 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  935</span>    {</div>
<div class="line"><span class="lineno">  936</span>        spellInfo-&gt;SpellLevel = 0;</div>
<div class="line"><span class="lineno">  937</span>        spellInfo-&gt;BaseLevel = 0;</div>
<div class="line"><span class="lineno">  938</span>        spellInfo-&gt;DmgClass = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><span class="lineno">  939</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(5); <span class="comment">// 40yd</span></div>
<div class="line"><span class="lineno">  940</span>    });</div>
<div class="line"><span class="lineno">  941</span> </div>
<div class="line"><span class="lineno">  942</span>    <span class="comment">// Earth Shield</span></div>
<div class="line"><span class="lineno">  943</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 379 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  944</span>    {</div>
<div class="line"><span class="lineno">  945</span>        spellInfo-&gt;SpellLevel = 0;</div>
<div class="line"><span class="lineno">  946</span>        spellInfo-&gt;BaseLevel = 0;</div>
<div class="line"><span class="lineno">  947</span>        spellInfo-&gt;DmgClass = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><span class="lineno">  948</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><span class="lineno">  949</span>    });</div>
<div class="line"><span class="lineno">  950</span> </div>
<div class="line"><span class="lineno">  951</span>    <span class="comment">// Stormstrike</span></div>
<div class="line"><span class="lineno">  952</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 17364 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  953</span>    {</div>
<div class="line"><span class="lineno">  954</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><span class="lineno">  955</span>    });</div>
<div class="line"><span class="lineno">  956</span> </div>
<div class="line"><span class="lineno">  957</span>    <span class="comment">// Strength of Earth totem effect</span></div>
<div class="line"><span class="lineno">  958</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 8076, 8162, 8163, 10441, 25362, 25527, 57621, 58646 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  959</span>    {</div>
<div class="line"><span class="lineno">  960</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry;</div>
<div class="line"><span class="lineno">  961</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].RadiusEntry = spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry;</div>
<div class="line"><span class="lineno">  962</span>    });</div>
<div class="line"><span class="lineno">  963</span> </div>
<div class="line"><span class="lineno">  964</span>    <span class="comment">// Flametongue Totem effect</span></div>
<div class="line"><span class="lineno">  965</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 52109, 52110, 52111, 52112, 52113, 58651, 58654, 58655 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  966</span>    {</div>
<div class="line"><span class="lineno">  967</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetB = spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetB = spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = 0;</div>
<div class="line"><span class="lineno">  968</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno">  969</span>    });</div>
<div class="line"><span class="lineno">  970</span> </div>
<div class="line"><span class="lineno">  971</span>    <span class="comment">// Sentry Totem</span></div>
<div class="line"><span class="lineno">  972</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 6495 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  973</span>    {</div>
<div class="line"><span class="lineno">  974</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(0);</div>
<div class="line"><span class="lineno">  975</span>    });</div>
<div class="line"><span class="lineno">  976</span> </div>
<div class="line"><span class="lineno">  977</span>    <span class="comment">// Bind Sight (PT)</span></div>
<div class="line"><span class="lineno">  978</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 6277 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  979</span>    {</div>
<div class="line"><span class="lineno">  980</span>        <span class="comment">// because it is passive, needs this to be properly removed at death in RemoveAllAurasOnDeath()</span></div>
<div class="line"><span class="lineno">  981</span>        spellInfo-&gt;AttributesEx &amp;= ~SPELL_ATTR1_IS_CHANNELED;</div>
<div class="line"><span class="lineno">  982</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada407e023ed336f3c64aa20f11dd49f6bd">SPELL_ATTR0_PASSIVE</a>;</div>
<div class="line"><span class="lineno">  983</span>        spellInfo-&gt;AttributesEx7 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a25ff5d34ce79433dfc852484cef1d47dae4d6434b5dceff532ff803a94f7b57c3">SPELL_ATTR7_DISABLE_AURA_WHILE_DEAD</a>;</div>
<div class="line"><span class="lineno">  984</span>    });</div>
<div class="line"><span class="lineno">  985</span> </div>
<div class="line"><span class="lineno">  986</span>    <span class="comment">// Ancestral Awakening Heal</span></div>
<div class="line"><span class="lineno">  987</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 52752 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  988</span>    {</div>
<div class="line"><span class="lineno">  989</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><span class="lineno">  990</span>    });</div>
<div class="line"><span class="lineno">  991</span> </div>
<div class="line"><span class="lineno">  992</span>    <span class="comment">// Heroism</span></div>
<div class="line"><span class="lineno">  993</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 32182 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno">  994</span>    {</div>
<div class="line"><span class="lineno">  995</span>        spellInfo-&gt;ExcludeTargetAuraSpell = 57723; <span class="comment">// Exhaustion</span></div>
<div class="line"><span class="lineno">  996</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno">  997</span>    });</div>
<div class="line"><span class="lineno">  998</span> </div>
<div class="line"><span class="lineno">  999</span>    <span class="comment">// Bloodlust</span></div>
<div class="line"><span class="lineno"> 1000</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 2825 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1001</span>    {</div>
<div class="line"><span class="lineno"> 1002</span>        spellInfo-&gt;ExcludeTargetAuraSpell = 57724; <span class="comment">// Sated</span></div>
<div class="line"><span class="lineno"> 1003</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 1004</span>    });</div>
<div class="line"><span class="lineno"> 1005</span> </div>
<div class="line"><span class="lineno"> 1006</span>    <span class="comment">// Improved Succubus</span></div>
<div class="line"><span class="lineno"> 1007</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 18754, 18755, 18756 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1008</span>    {</div>
<div class="line"><span class="lineno"> 1009</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno"> 1010</span>    });</div>
<div class="line"><span class="lineno"> 1011</span> </div>
<div class="line"><span class="lineno"> 1012</span>    <span class="comment">// Unstable Affliction</span></div>
<div class="line"><span class="lineno"> 1013</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 31117 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1014</span>    {</div>
<div class="line"><span class="lineno"> 1015</span>        spellInfo-&gt;PreventionType = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a3194644c6ed7acd85ec8eb1b98821b8eab3aa650b1b206f5968ed28e76fe83c18">SPELL_PREVENTION_TYPE_NONE</a>;</div>
<div class="line"><span class="lineno"> 1016</span>    });</div>
<div class="line"><span class="lineno"> 1017</span> </div>
<div class="line"><span class="lineno"> 1018</span>    <span class="comment">// Shadowflame - trigger</span></div>
<div class="line"><span class="lineno"> 1019</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 1020</span>        47960,  <span class="comment">// r1</span></div>
<div class="line"><span class="lineno"> 1021</span>        61291   <span class="comment">// r2</span></div>
<div class="line"><span class="lineno"> 1022</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1023</span>    {</div>
<div class="line"><span class="lineno"> 1024</span>        spellInfo-&gt;AttributesEx |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076aff8f5208b6bab753ec0cb8d8ccff67eb">SPELL_ATTR1_NO_REDIRECTION</a>;</div>
<div class="line"><span class="lineno"> 1025</span>    });</div>
<div class="line"><span class="lineno"> 1026</span> </div>
<div class="line"><span class="lineno"> 1027</span>    <span class="comment">// Curse of Doom</span></div>
<div class="line"><span class="lineno"> 1028</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 18662 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1029</span>    {</div>
<div class="line"><span class="lineno"> 1030</span>        <span class="comment">// summoned doomguard duration fix</span></div>
<div class="line"><span class="lineno"> 1031</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(6);</div>
<div class="line"><span class="lineno"> 1032</span>    });</div>
<div class="line"><span class="lineno"> 1033</span> </div>
<div class="line"><span class="lineno"> 1034</span>    <span class="comment">// Everlasting Affliction</span></div>
<div class="line"><span class="lineno"> 1035</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 47201, 47202, 47203, 47204, 47205 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1036</span>    {</div>
<div class="line"><span class="lineno"> 1037</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].SpellClassMask[0] |= 2; <span class="comment">// add corruption to affected spells</span></div>
<div class="line"><span class="lineno"> 1038</span>    });</div>
<div class="line"><span class="lineno"> 1039</span> </div>
<div class="line"><span class="lineno"> 1040</span>    <span class="comment">// Death&#39;s Embrace</span></div>
<div class="line"><span class="lineno"> 1041</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 47198, 47199, 47200 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1042</span>    {</div>
<div class="line"><span class="lineno"> 1043</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].SpellClassMask[0] |= 0x4000; <span class="comment">// include Drain Soul</span></div>
<div class="line"><span class="lineno"> 1044</span>    });</div>
<div class="line"><span class="lineno"> 1045</span> </div>
<div class="line"><span class="lineno"> 1046</span>    <span class="comment">// Improved Demonic Tactics</span></div>
<div class="line"><span class="lineno"> 1047</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 54347, 54348, 54349 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1048</span>    {</div>
<div class="line"><span class="lineno"> 1049</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect;</div>
<div class="line"><span class="lineno"> 1050</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].ApplyAuraName = spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName;</div>
<div class="line"><span class="lineno"> 1051</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA;</div>
<div class="line"><span class="lineno"> 1052</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValue = <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a39b60e1f12cca9b6873cb817e7717351ab97b462651ee3567f2c518bd09e74e9e">SPELLMOD_EFFECT1</a>;</div>
<div class="line"><span class="lineno"> 1053</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].MiscValue = <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a39b60e1f12cca9b6873cb817e7717351a0424ff84a813354eb36d6f6774bbacce">SPELLMOD_EFFECT2</a>;</div>
<div class="line"><span class="lineno"> 1054</span>    });</div>
<div class="line"><span class="lineno"> 1055</span> </div>
<div class="line"><span class="lineno"> 1056</span>    <span class="comment">// Rain of Fire (Doomguard)</span></div>
<div class="line"><span class="lineno"> 1057</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 42227 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1058</span>    {</div>
<div class="line"><span class="lineno"> 1059</span>        spellInfo-&gt;Speed = 0.0f;</div>
<div class="line"><span class="lineno"> 1060</span>    });</div>
<div class="line"><span class="lineno"> 1061</span> </div>
<div class="line"><span class="lineno"> 1062</span>    <span class="comment">// Ritual Enslavement</span></div>
<div class="line"><span class="lineno"> 1063</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 22987 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1064</span>    {</div>
<div class="line"><span class="lineno"> 1065</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a7b5d0b48f9a7e84bf7a896602e8c66b9">SPELL_AURA_MOD_CHARM</a>;</div>
<div class="line"><span class="lineno"> 1066</span>    });</div>
<div class="line"><span class="lineno"> 1067</span> </div>
<div class="line"><span class="lineno"> 1068</span>    <span class="comment">// Combustion, make this passive</span></div>
<div class="line"><span class="lineno"> 1069</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 11129 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1070</span>    {</div>
<div class="line"><span class="lineno"> 1071</span>        spellInfo-&gt;Dispel = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#ada2b5e66b650d7a63f70c06a746070d1a71382806b5f961e5a04f6d06a97a1195">DISPEL_NONE</a>;</div>
<div class="line"><span class="lineno"> 1072</span>    });</div>
<div class="line"><span class="lineno"> 1073</span> </div>
<div class="line"><span class="lineno"> 1074</span>    <span class="comment">// Magic Absorption</span></div>
<div class="line"><span class="lineno"> 1075</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 29441, 29444 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1076</span>    {</div>
<div class="line"><span class="lineno"> 1077</span>        spellInfo-&gt;SpellLevel = 0;</div>
<div class="line"><span class="lineno"> 1078</span>    });</div>
<div class="line"><span class="lineno"> 1079</span> </div>
<div class="line"><span class="lineno"> 1080</span>    <span class="comment">// Living Bomb</span></div>
<div class="line"><span class="lineno"> 1081</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 44461, 55361, 55362 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1082</span>    {</div>
<div class="line"><span class="lineno"> 1083</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno"> 1084</span>        spellInfo-&gt;AttributesEx4 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6ad67c11c16b7239803ce216691ed50360">SPELL_ATTR4_REACTIVE_DAMAGE_PROC</a>;</div>
<div class="line"><span class="lineno"> 1085</span>    });</div>
<div class="line"><span class="lineno"> 1086</span> </div>
<div class="line"><span class="lineno"> 1087</span>    <span class="comment">// Evocation</span></div>
<div class="line"><span class="lineno"> 1088</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 12051 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1089</span>    {</div>
<div class="line"><span class="lineno"> 1090</span>        spellInfo-&gt;InterruptFlags |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#abadf2f982fd866917c372d16ab99c109a69ed081a90c21e0d86095c70de005dbb">SPELL_INTERRUPT_FLAG_INTERRUPT</a>;</div>
<div class="line"><span class="lineno"> 1091</span>    });</div>
<div class="line"><span class="lineno"> 1092</span> </div>
<div class="line"><span class="lineno"> 1093</span>    <span class="comment">// MI Fireblast, WE Frostbolt, MI Frostbolt</span></div>
<div class="line"><span class="lineno"> 1094</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 59637, 31707, 72898 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1095</span>    {</div>
<div class="line"><span class="lineno"> 1096</span>        spellInfo-&gt;DmgClass = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><span class="lineno"> 1097</span>    });</div>
<div class="line"><span class="lineno"> 1098</span> </div>
<div class="line"><span class="lineno"> 1099</span>    <span class="comment">// Blazing Speed</span></div>
<div class="line"><span class="lineno"> 1100</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 31641, 31642 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1101</span>    {</div>
<div class="line"><span class="lineno"> 1102</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TriggerSpell = 31643;</div>
<div class="line"><span class="lineno"> 1103</span>    });</div>
<div class="line"><span class="lineno"> 1104</span> </div>
<div class="line"><span class="lineno"> 1105</span>    <span class="comment">// Summon Water Elemental (permanent)</span></div>
<div class="line"><span class="lineno"> 1106</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70908 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1107</span>    {</div>
<div class="line"><span class="lineno"> 1108</span>        <span class="comment">// treat it as pet</span></div>
<div class="line"><span class="lineno"> 1109</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a0e77fe9c0e808131a2440afe38a856af">SPELL_EFFECT_SUMMON_PET</a>;</div>
<div class="line"><span class="lineno"> 1110</span>    });</div>
<div class="line"><span class="lineno"> 1111</span> </div>
<div class="line"><span class="lineno"> 1112</span>    <span class="comment">// // Burnout, trigger</span></div>
<div class="line"><span class="lineno"> 1113</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 44450 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1114</span>    {</div>
<div class="line"><span class="lineno"> 1115</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a0a43a6be2a57b573021530d45a1e367e">SPELL_EFFECT_POWER_BURN</a>;</div>
<div class="line"><span class="lineno"> 1116</span>    });</div>
<div class="line"><span class="lineno"> 1117</span> </div>
<div class="line"><span class="lineno"> 1118</span>    <span class="comment">// Mirror Image - Summon Spells</span></div>
<div class="line"><span class="lineno"> 1119</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 58831, 58833, 58834, 65047 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1120</span>    {</div>
<div class="line"><span class="lineno"> 1121</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aaff4bf7194055bf177ba701c46cdcadb">TARGET_DEST_CASTER</a>);</div>
<div class="line"><span class="lineno"> 1122</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(0);</div>
<div class="line"><span class="lineno"> 1123</span>    });</div>
<div class="line"><span class="lineno"> 1124</span> </div>
<div class="line"><span class="lineno"> 1125</span>    <span class="comment">// Initialize Images (Mirror Image)</span></div>
<div class="line"><span class="lineno"> 1126</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 58836 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1127</span>    {</div>
<div class="line"><span class="lineno"> 1128</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno"> 1129</span>    });</div>
<div class="line"><span class="lineno"> 1130</span> </div>
<div class="line"><span class="lineno"> 1131</span>    <span class="comment">// Arcane Blast, can&#39;t be dispelled</span></div>
<div class="line"><span class="lineno"> 1132</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 36032 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1133</span>    {</div>
<div class="line"><span class="lineno"> 1134</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780">SPELL_ATTR0_NO_IMMUNITIES</a>;</div>
<div class="line"><span class="lineno"> 1135</span>    });</div>
<div class="line"><span class="lineno"> 1136</span> </div>
<div class="line"><span class="lineno"> 1137</span>    <span class="comment">// Chilled (frost armor, ice armor proc)</span></div>
<div class="line"><span class="lineno"> 1138</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 6136, 7321 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1139</span>    {</div>
<div class="line"><span class="lineno"> 1140</span>        spellInfo-&gt;PreventionType = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a3194644c6ed7acd85ec8eb1b98821b8eab3aa650b1b206f5968ed28e76fe83c18">SPELL_PREVENTION_TYPE_NONE</a>;</div>
<div class="line"><span class="lineno"> 1141</span>    });</div>
<div class="line"><span class="lineno"> 1142</span> </div>
<div class="line"><span class="lineno"> 1143</span>    <span class="comment">// Mirror Image Frostbolt</span></div>
<div class="line"><span class="lineno"> 1144</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 59638 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1145</span>    {</div>
<div class="line"><span class="lineno"> 1146</span>        spellInfo-&gt;DmgClass = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><span class="lineno"> 1147</span>        spellInfo-&gt;SpellFamilyName = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0e4b88db8be01ea5d62cc08d07b28aae">SPELLFAMILY_MAGE</a>;</div>
<div class="line"><span class="lineno"> 1148</span>        spellInfo-&gt;SpellFamilyFlags = <a class="code hl_class" href="../../dd/d66/a05534.html">flag96</a>(0x20, 0x0, 0x0);</div>
<div class="line"><span class="lineno"> 1149</span>    });</div>
<div class="line"><span class="lineno"> 1150</span> </div>
<div class="line"><span class="lineno"> 1151</span>    <span class="comment">// Fingers of Frost</span></div>
<div class="line"><span class="lineno"> 1152</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 44544 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1153</span>    {</div>
<div class="line"><span class="lineno"> 1154</span>        spellInfo-&gt;Dispel = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#ada2b5e66b650d7a63f70c06a746070d1a71382806b5f961e5a04f6d06a97a1195">DISPEL_NONE</a>;</div>
<div class="line"><span class="lineno"> 1155</span>        spellInfo-&gt;AttributesEx4 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6ad292b675afe6f67c5524fb87701dbf59">SPELL_ATTR4_CANNOT_BE_STOLEN</a>;</div>
<div class="line"><span class="lineno"> 1156</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].SpellClassMask = <a class="code hl_class" href="../../dd/d66/a05534.html">flag96</a>(685904631, 1151040, 32);</div>
<div class="line"><span class="lineno"> 1157</span>    });</div>
<div class="line"><span class="lineno"> 1158</span> </div>
<div class="line"><span class="lineno"> 1159</span>    <span class="comment">// Fingers of Frost visual buff</span></div>
<div class="line"><span class="lineno"> 1160</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 74396 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1161</span>    {</div>
<div class="line"><span class="lineno"> 1162</span>        spellInfo-&gt;ProcCharges = 2;</div>
<div class="line"><span class="lineno"> 1163</span>        spellInfo-&gt;StackAmount = 0;</div>
<div class="line"><span class="lineno"> 1164</span>    });</div>
<div class="line"><span class="lineno"> 1165</span> </div>
<div class="line"><span class="lineno"> 1166</span>    <span class="comment">// Glyph of blocking</span></div>
<div class="line"><span class="lineno"> 1167</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 58375 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1168</span>    {</div>
<div class="line"><span class="lineno"> 1169</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TriggerSpell = 58374;</div>
<div class="line"><span class="lineno"> 1170</span>    });</div>
<div class="line"><span class="lineno"> 1171</span> </div>
<div class="line"><span class="lineno"> 1172</span>    <span class="comment">// Sweeping Strikes stance change</span></div>
<div class="line"><span class="lineno"> 1173</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 12328 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1174</span>    {</div>
<div class="line"><span class="lineno"> 1175</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada181bc0f8031c0a2e477f0eb213ae3fc0">SPELL_ATTR0_NOT_SHAPESHIFTED</a>;</div>
<div class="line"><span class="lineno"> 1176</span>    });</div>
<div class="line"><span class="lineno"> 1177</span> </div>
<div class="line"><span class="lineno"> 1178</span>    <span class="comment">// Damage Shield</span></div>
<div class="line"><span class="lineno"> 1179</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 59653 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1180</span>    {</div>
<div class="line"><span class="lineno"> 1181</span>        spellInfo-&gt;DmgClass = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><span class="lineno"> 1182</span>        spellInfo-&gt;SpellLevel = 0;</div>
<div class="line"><span class="lineno"> 1183</span>    });</div>
<div class="line"><span class="lineno"> 1184</span> </div>
<div class="line"><span class="lineno"> 1185</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 1186</span>        20230,  <span class="comment">// Retaliation</span></div>
<div class="line"><span class="lineno"> 1187</span>        871,    <span class="comment">// Shield Wall</span></div>
<div class="line"><span class="lineno"> 1188</span>        1719    <span class="comment">// Recklessness</span></div>
<div class="line"><span class="lineno"> 1189</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1190</span>    {</div>
<div class="line"><span class="lineno"> 1191</span>        <span class="comment">// Strange shared cooldown</span></div>
<div class="line"><span class="lineno"> 1192</span>        spellInfo-&gt;AttributesEx6 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094ac83bf4647c4ce691b6e207712e286c98">SPELL_ATTR6_NO_CATEGORY_COOLDOWN_MODS</a>;</div>
<div class="line"><span class="lineno"> 1193</span>    });</div>
<div class="line"><span class="lineno"> 1194</span> </div>
<div class="line"><span class="lineno"> 1195</span>    <span class="comment">// Vigilance</span></div>
<div class="line"><span class="lineno"> 1196</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 50720 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1197</span>    {</div>
<div class="line"><span class="lineno"> 1198</span>        <span class="comment">// fixes bug with empowered renew, single target aura</span></div>
<div class="line"><span class="lineno"> 1199</span>        spellInfo-&gt;SpellFamilyName = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba52acbcf14a96b5ed01b8a43052a26a11">SPELLFAMILY_WARRIOR</a>;</div>
<div class="line"><span class="lineno"> 1200</span>    });</div>
<div class="line"><span class="lineno"> 1201</span> </div>
<div class="line"><span class="lineno"> 1202</span>    <span class="comment">// Sunder Armor - Old Ranks</span></div>
<div class="line"><span class="lineno"> 1203</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 7405, 8380, 11596, 11597, 25225, 47467 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1204</span>    {</div>
<div class="line"><span class="lineno"> 1205</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TriggerSpell = 11971;</div>
<div class="line"><span class="lineno"> 1206</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a15015f3acf3dd811f2776d67f1991b50">SPELL_EFFECT_TRIGGER_SPELL_WITH_VALUE</a>;</div>
<div class="line"><span class="lineno"> 1207</span>    });</div>
<div class="line"><span class="lineno"> 1208</span> </div>
<div class="line"><span class="lineno"> 1209</span>    <span class="comment">// Improved Spell Reflection</span></div>
<div class="line"><span class="lineno"> 1210</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 59725 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1211</span>    {</div>
<div class="line"><span class="lineno"> 1212</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a29d2b1998be41c09ef3ee459c9208117">TARGET_UNIT_CASTER_AREA_PARTY</a>);</div>
<div class="line"><span class="lineno"> 1213</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 1214</span>    });</div>
<div class="line"><span class="lineno"> 1215</span> </div>
<div class="line"><span class="lineno"> 1216</span>    <span class="comment">// Hymn of Hope</span></div>
<div class="line"><span class="lineno"> 1217</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 64904 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1218</span>    {</div>
<div class="line"><span class="lineno"> 1219</span>        <span class="comment">// rewrite part of aura system or swap effects...</span></div>
<div class="line"><span class="lineno"> 1220</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799aa6334836ea9df28bbb9637f5b4987030">SPELL_AURA_MOD_INCREASE_ENERGY_PERCENT</a>;</div>
<div class="line"><span class="lineno"> 1221</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect;</div>
<div class="line"><span class="lineno"> 1222</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 1223</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].DieSides = spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].DieSides;</div>
<div class="line"><span class="lineno"> 1224</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB;</div>
<div class="line"><span class="lineno"> 1225</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].RadiusEntry = spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry;</div>
<div class="line"><span class="lineno"> 1226</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].BasePoints = spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints;</div>
<div class="line"><span class="lineno"> 1227</span>    });</div>
<div class="line"><span class="lineno"> 1228</span> </div>
<div class="line"><span class="lineno"> 1229</span>    <span class="comment">// Divine Hymn</span></div>
<div class="line"><span class="lineno"> 1230</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 64844 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1231</span>    {</div>
<div class="line"><span class="lineno"> 1232</span>        spellInfo-&gt;DmgClass = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><span class="lineno"> 1233</span>        spellInfo-&gt;SpellLevel = 0;</div>
<div class="line"><span class="lineno"> 1234</span>    });</div>
<div class="line"><span class="lineno"> 1235</span> </div>
<div class="line"><span class="lineno"> 1236</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 1237</span>        14898,  <span class="comment">// Spiritual Healing affects prayer of mending</span></div>
<div class="line"><span class="lineno"> 1238</span>        15349,</div>
<div class="line"><span class="lineno"> 1239</span>        15354,</div>
<div class="line"><span class="lineno"> 1240</span>        15355,</div>
<div class="line"><span class="lineno"> 1241</span>        15356,</div>
<div class="line"><span class="lineno"> 1242</span>        47562,  <span class="comment">// Divine Providence affects prayer of mending</span></div>
<div class="line"><span class="lineno"> 1243</span>        47564,</div>
<div class="line"><span class="lineno"> 1244</span>        47565,</div>
<div class="line"><span class="lineno"> 1245</span>        47566,</div>
<div class="line"><span class="lineno"> 1246</span>        47567,</div>
<div class="line"><span class="lineno"> 1247</span>        47586,  <span class="comment">// Twin Disciplines affects prayer of mending</span></div>
<div class="line"><span class="lineno"> 1248</span>        47587,</div>
<div class="line"><span class="lineno"> 1249</span>        47588,</div>
<div class="line"><span class="lineno"> 1250</span>        52802,</div>
<div class="line"><span class="lineno"> 1251</span>        52803</div>
<div class="line"><span class="lineno"> 1252</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1253</span>    {</div>
<div class="line"><span class="lineno"> 1254</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].SpellClassMask[1] |= 0x20; <span class="comment">// prayer of mending</span></div>
<div class="line"><span class="lineno"> 1255</span>    });</div>
<div class="line"><span class="lineno"> 1256</span> </div>
<div class="line"><span class="lineno"> 1257</span>    <span class="comment">// Power Infusion</span></div>
<div class="line"><span class="lineno"> 1258</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 10060 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1259</span>    {</div>
<div class="line"><span class="lineno"> 1260</span>        <span class="comment">// hack to fix stacking with arcane power</span></div>
<div class="line"><span class="lineno"> 1261</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><span class="lineno"> 1262</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a2c530c4b7d2f3b77f65f62395bda9c4a">SPELL_AURA_ADD_PCT_MODIFIER</a>;</div>
<div class="line"><span class="lineno"> 1263</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a626ebdc89eb6b2243936fb5f6a6edf98">TARGET_UNIT_TARGET_ALLY</a>);</div>
<div class="line"><span class="lineno"> 1264</span>    });</div>
<div class="line"><span class="lineno"> 1265</span> </div>
<div class="line"><span class="lineno"> 1266</span>    <span class="comment">// Lifebloom final bloom</span></div>
<div class="line"><span class="lineno"> 1267</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 33778 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1268</span>    {</div>
<div class="line"><span class="lineno"> 1269</span>        spellInfo-&gt;DmgClass = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><span class="lineno"> 1270</span>        spellInfo-&gt;SpellLevel = 0;</div>
<div class="line"><span class="lineno"> 1271</span>        spellInfo-&gt;SpellFamilyFlags = <a class="code hl_class" href="../../dd/d66/a05534.html">flag96</a>(0, 0x10, 0);</div>
<div class="line"><span class="lineno"> 1272</span>    });</div>
<div class="line"><span class="lineno"> 1273</span> </div>
<div class="line"><span class="lineno"> 1274</span>    <span class="comment">// Owlkin Frenzy</span></div>
<div class="line"><span class="lineno"> 1275</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 48391 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1276</span>    {</div>
<div class="line"><span class="lineno"> 1277</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada181bc0f8031c0a2e477f0eb213ae3fc0">SPELL_ATTR0_NOT_SHAPESHIFTED</a>;</div>
<div class="line"><span class="lineno"> 1278</span>    });</div>
<div class="line"><span class="lineno"> 1279</span> </div>
<div class="line"><span class="lineno"> 1280</span>    <span class="comment">// Item T10 Restoration 4P Bonus</span></div>
<div class="line"><span class="lineno"> 1281</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70691 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1282</span>    {</div>
<div class="line"><span class="lineno"> 1283</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><span class="lineno"> 1284</span>    });</div>
<div class="line"><span class="lineno"> 1285</span> </div>
<div class="line"><span class="lineno"> 1286</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 1287</span>        770,    <span class="comment">// Faerie Fire</span></div>
<div class="line"><span class="lineno"> 1288</span>        16857   <span class="comment">// Faerie Fire (Feral)</span></div>
<div class="line"><span class="lineno"> 1289</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1290</span>    {</div>
<div class="line"><span class="lineno"> 1291</span>        spellInfo-&gt;AttributesEx &amp;= ~SPELL_ATTR1_IMMUNITY_TO_HOSTILE_AND_FRIENDLY_EFFECTS;</div>
<div class="line"><span class="lineno"> 1292</span>    });</div>
<div class="line"><span class="lineno"> 1293</span> </div>
<div class="line"><span class="lineno"> 1294</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 49376 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1295</span>    {</div>
<div class="line"><span class="lineno"> 1296</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a84f16c69f55cca8b4fdde0c6778d9912">EFFECT_RADIUS_3_YARDS</a>); <span class="comment">// 3yd</span></div>
<div class="line"><span class="lineno"> 1297</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno"> 1298</span>    });</div>
<div class="line"><span class="lineno"> 1299</span> </div>
<div class="line"><span class="lineno"> 1300</span>    <span class="comment">// Feral Charge - Cat</span></div>
<div class="line"><span class="lineno"> 1301</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 61138, 61132, 50259 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1302</span>    {</div>
<div class="line"><span class="lineno"> 1303</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno"> 1304</span>    });</div>
<div class="line"><span class="lineno"> 1305</span> </div>
<div class="line"><span class="lineno"> 1306</span>    <span class="comment">// Glyph of Barkskin</span></div>
<div class="line"><span class="lineno"> 1307</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 63058 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1308</span>    {</div>
<div class="line"><span class="lineno"> 1309</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a7dffb8e20e91a710ae9d4a2c804bcb6e">SPELL_AURA_MOD_ATTACKER_MELEE_CRIT_CHANCE</a>;</div>
<div class="line"><span class="lineno"> 1310</span>    });</div>
<div class="line"><span class="lineno"> 1311</span> </div>
<div class="line"><span class="lineno"> 1312</span>    <span class="comment">// Resurrection Sickness</span></div>
<div class="line"><span class="lineno"> 1313</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 15007 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1314</span>    {</div>
<div class="line"><span class="lineno"> 1315</span>        spellInfo-&gt;SpellFamilyName = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0ebbb6206eb92cdc484b416eb6f41743">SPELLFAMILY_GENERIC</a>;</div>
<div class="line"><span class="lineno"> 1316</span>    });</div>
<div class="line"><span class="lineno"> 1317</span> </div>
<div class="line"><span class="lineno"> 1318</span>    <span class="comment">// Luck of the Draw</span></div>
<div class="line"><span class="lineno"> 1319</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72221 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1320</span>    {</div>
<div class="line"><span class="lineno"> 1321</span>        spellInfo-&gt;AuraInterruptFlags |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011addd23de47de1322a4cc921e361bc6dd8">AURA_INTERRUPT_FLAG_CHANGE_MAP</a>;</div>
<div class="line"><span class="lineno"> 1322</span>    });</div>
<div class="line"><span class="lineno"> 1323</span> </div>
<div class="line"><span class="lineno"> 1324</span>    <span class="comment">// Bind</span></div>
<div class="line"><span class="lineno"> 1325</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 3286 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1326</span>    {</div>
<div class="line"><span class="lineno"> 1327</span>        spellInfo-&gt;Targets = 0; <span class="comment">// neutral innkeepers not friendly?</span></div>
<div class="line"><span class="lineno"> 1328</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 1329</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 1330</span>    });</div>
<div class="line"><span class="lineno"> 1331</span> </div>
<div class="line"><span class="lineno"> 1332</span>    <span class="comment">// Playback Speech</span></div>
<div class="line"><span class="lineno"> 1333</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 74209 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1334</span>    {</div>
<div class="line"><span class="lineno"> 1335</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(1);</div>
<div class="line"><span class="lineno"> 1336</span>    });</div>
<div class="line"><span class="lineno"> 1337</span> </div>
<div class="line"><span class="lineno"> 1338</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 1339</span>        2641, <span class="comment">// Dismiss Pet</span></div>
<div class="line"><span class="lineno"> 1340</span>        23356 <span class="comment">// Taming Lesson</span></div>
<div class="line"><span class="lineno"> 1341</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1342</span>    {</div>
<div class="line"><span class="lineno"> 1343</span>        <span class="comment">// remove creaturetargettype</span></div>
<div class="line"><span class="lineno"> 1344</span>        spellInfo-&gt;TargetCreatureType = 0;</div>
<div class="line"><span class="lineno"> 1345</span>    });</div>
<div class="line"><span class="lineno"> 1346</span> </div>
<div class="line"><span class="lineno"> 1347</span>    <span class="comment">// Aspect of the Viper</span></div>
<div class="line"><span class="lineno"> 1348</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 34074 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1349</span>    {</div>
<div class="line"><span class="lineno"> 1350</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><span class="lineno"> 1351</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(1);</div>
<div class="line"><span class="lineno"> 1352</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>;</div>
<div class="line"><span class="lineno"> 1353</span>    });</div>
<div class="line"><span class="lineno"> 1354</span> </div>
<div class="line"><span class="lineno"> 1355</span>    <span class="comment">// Strength of Wrynn</span></div>
<div class="line"><span class="lineno"> 1356</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 60509 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1357</span>    {</div>
<div class="line"><span class="lineno"> 1358</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].BasePoints = 1500;</div>
<div class="line"><span class="lineno"> 1359</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].BasePoints = 150;</div>
<div class="line"><span class="lineno"> 1360</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a6442a4a379f82e2f08734296e1e21c9f">SPELL_AURA_PERIODIC_HEAL</a>;</div>
<div class="line"><span class="lineno"> 1361</span>    });</div>
<div class="line"><span class="lineno"> 1362</span> </div>
<div class="line"><span class="lineno"> 1363</span>    <span class="comment">// Winterfin First Responder</span></div>
<div class="line"><span class="lineno"> 1364</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 48739 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1365</span>    {</div>
<div class="line"><span class="lineno"> 1366</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints = 1;</div>
<div class="line"><span class="lineno"> 1367</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RealPointsPerLevel = 0;</div>
<div class="line"><span class="lineno"> 1368</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].DieSides = 0;</div>
<div class="line"><span class="lineno"> 1369</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].DamageMultiplier = 0;</div>
<div class="line"><span class="lineno"> 1370</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BonusMultiplier = 0;</div>
<div class="line"><span class="lineno"> 1371</span>    });</div>
<div class="line"><span class="lineno"> 1372</span> </div>
<div class="line"><span class="lineno"> 1373</span>    <span class="comment">// Army of the Dead (trigger npc aura)</span></div>
<div class="line"><span class="lineno"> 1374</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 49099 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1375</span>    {</div>
<div class="line"><span class="lineno"> 1376</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Amplitude = 15000;</div>
<div class="line"><span class="lineno"> 1377</span>    });</div>
<div class="line"><span class="lineno"> 1378</span> </div>
<div class="line"><span class="lineno"> 1379</span>    <span class="comment">// Frightening Shout</span></div>
<div class="line"><span class="lineno"> 1380</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 19134 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1381</span>    {</div>
<div class="line"><span class="lineno"> 1382</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a>;</div>
<div class="line"><span class="lineno"> 1383</span>    });</div>
<div class="line"><span class="lineno"> 1384</span> </div>
<div class="line"><span class="lineno"> 1385</span>    <span class="comment">// Isle of Conquest</span></div>
<div class="line"><span class="lineno"> 1386</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66551 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1387</span>    {</div>
<div class="line"><span class="lineno"> 1388</span>        <span class="comment">// Teleport in, missing range</span></div>
<div class="line"><span class="lineno"> 1389</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(13); <span class="comment">// 50000yd</span></div>
<div class="line"><span class="lineno"> 1390</span>    });</div>
<div class="line"><span class="lineno"> 1391</span> </div>
<div class="line"><span class="lineno"> 1392</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 1393</span>        57607,  <span class="comment">// WintergraspCatapult - Spell Plague Barrel - EffectRadiusIndex</span></div>
<div class="line"><span class="lineno"> 1394</span>        57619,  <span class="comment">// WintergraspDemolisher - Spell Hourl Boulder - EffectRadiusIndex</span></div>
<div class="line"><span class="lineno"> 1395</span>        57610   <span class="comment">// Cannon (Siege Turret)</span></div>
<div class="line"><span class="lineno"> 1396</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1397</span>    {</div>
<div class="line"><span class="lineno"> 1398</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a7127bc77ddfb8193b045d89e73b367ec">EFFECT_RADIUS_25_YARDS</a>); <span class="comment">// SPELL_EFFECT_WMO_DAMAGE</span></div>
<div class="line"><span class="lineno"> 1399</span>    });</div>
<div class="line"><span class="lineno"> 1400</span> </div>
<div class="line"><span class="lineno"> 1401</span>    <span class="comment">// WintergraspCannon - Spell Fire Cannon - EffectRadiusIndex</span></div>
<div class="line"><span class="lineno"> 1402</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 51422 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1403</span>    {</div>
<div class="line"><span class="lineno"> 1404</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a>); <span class="comment">// SPELL_EFFECT_SCHOOL_DAMAGE</span></div>
<div class="line"><span class="lineno"> 1405</span>    });</div>
<div class="line"><span class="lineno"> 1406</span> </div>
<div class="line"><span class="lineno"> 1407</span>    <span class="comment">// WintergraspDemolisher - Spell Ram -  EffectRadiusIndex</span></div>
<div class="line"><span class="lineno"> 1408</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 54107 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1409</span>    {</div>
<div class="line"><span class="lineno"> 1410</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a84f16c69f55cca8b4fdde0c6778d9912">EFFECT_RADIUS_3_YARDS</a>); <span class="comment">// SPELL_EFFECT_KNOCK_BACK</span></div>
<div class="line"><span class="lineno"> 1411</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a84f16c69f55cca8b4fdde0c6778d9912">EFFECT_RADIUS_3_YARDS</a>); <span class="comment">// SPELL_EFFECT_SCHOOL_DAMAGE</span></div>
<div class="line"><span class="lineno"> 1412</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a84f16c69f55cca8b4fdde0c6778d9912">EFFECT_RADIUS_3_YARDS</a>); <span class="comment">// SPELL_EFFECT_WEAPON_DAMAGE</span></div>
<div class="line"><span class="lineno"> 1413</span>    });</div>
<div class="line"><span class="lineno"> 1414</span> </div>
<div class="line"><span class="lineno"> 1415</span>    <span class="comment">// WintergraspSiegeEngine - Spell Ram - EffectRadiusIndex</span></div>
<div class="line"><span class="lineno"> 1416</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 51678 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1417</span>    {</div>
<div class="line"><span class="lineno"> 1418</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a>); <span class="comment">// SPELL_EFFECT_KNOCK_BACK</span></div>
<div class="line"><span class="lineno"> 1419</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a>); <span class="comment">// SPELL_EFFECT_SCHOOL_DAMAGE</span></div>
<div class="line"><span class="lineno"> 1420</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a17e659065202f50148fd26019a3ed3a3">EFFECT_RADIUS_20_YARDS</a>); <span class="comment">// SPELL_EFFECT_WEAPON_DAMAGE</span></div>
<div class="line"><span class="lineno"> 1421</span>    });</div>
<div class="line"><span class="lineno"> 1422</span> </div>
<div class="line"><span class="lineno"> 1423</span>    <span class="comment">// WintergraspCatapult - Spell Plague Barrell - Range</span></div>
<div class="line"><span class="lineno"> 1424</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 57606 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1425</span>    {</div>
<div class="line"><span class="lineno"> 1426</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(164); <span class="comment">// &quot;Catapult Range&quot;</span></div>
<div class="line"><span class="lineno"> 1427</span>    });</div>
<div class="line"><span class="lineno"> 1428</span> </div>
<div class="line"><span class="lineno"> 1429</span>    <span class="comment">// Boulder (Demolisher)</span></div>
<div class="line"><span class="lineno"> 1430</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 50999 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1431</span>    {</div>
<div class="line"><span class="lineno"> 1432</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a>); <span class="comment">// 10yd</span></div>
<div class="line"><span class="lineno"> 1433</span>    });</div>
<div class="line"><span class="lineno"> 1434</span> </div>
<div class="line"><span class="lineno"> 1435</span>    <span class="comment">// Flame Breath (Catapult)</span></div>
<div class="line"><span class="lineno"> 1436</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 50990 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1437</span>    {</div>
<div class="line"><span class="lineno"> 1438</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa9bb19ae5f3981f0ba44b4c20d4b2fc5">EFFECT_RADIUS_18_YARDS</a>); <span class="comment">// 18yd</span></div>
<div class="line"><span class="lineno"> 1439</span>    });</div>
<div class="line"><span class="lineno"> 1440</span> </div>
<div class="line"><span class="lineno"> 1441</span>    <span class="comment">// Jormungar Bite</span></div>
<div class="line"><span class="lineno"> 1442</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 56103 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1443</span>    {</div>
<div class="line"><span class="lineno"> 1444</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 1445</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 1446</span>    });</div>
<div class="line"><span class="lineno"> 1447</span> </div>
<div class="line"><span class="lineno"> 1448</span>    <span class="comment">// Throw Proximity Bomb</span></div>
<div class="line"><span class="lineno"> 1449</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 34095 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1450</span>    {</div>
<div class="line"><span class="lineno"> 1451</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a85d8f0e6d574cf640ec0c42b54e2ad3c">TARGET_DEST_TARGET_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 1452</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 1453</span>    });</div>
<div class="line"><span class="lineno"> 1454</span> </div>
<div class="line"><span class="lineno"> 1455</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 1456</span>        53348,  <span class="comment">// DEATH KNIGHT SCARLET FIRE ARROW</span></div>
<div class="line"><span class="lineno"> 1457</span>        53117   <span class="comment">// BALISTA</span></div>
<div class="line"><span class="lineno"> 1458</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1459</span>    {</div>
<div class="line"><span class="lineno"> 1460</span>        spellInfo-&gt;RecoveryTime = 5000;</div>
<div class="line"><span class="lineno"> 1461</span>        spellInfo-&gt;CategoryRecoveryTime = 5000;</div>
<div class="line"><span class="lineno"> 1462</span>    });</div>
<div class="line"><span class="lineno"> 1463</span> </div>
<div class="line"><span class="lineno"> 1464</span>    <span class="comment">// Teleport To Molten Core</span></div>
<div class="line"><span class="lineno"> 1465</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 25139 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1466</span>    {</div>
<div class="line"><span class="lineno"> 1467</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0a71d4cc2660db4702163d932a53841c">SPELL_ATTR3_ALLOW_AURA_WHILE_DEAD</a>;</div>
<div class="line"><span class="lineno"> 1468</span>    });</div>
<div class="line"><span class="lineno"> 1469</span> </div>
<div class="line"><span class="lineno"> 1470</span>    <span class="comment">// Landen Stilwell Transform</span></div>
<div class="line"><span class="lineno"> 1471</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 31310 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1472</span>    {</div>
<div class="line"><span class="lineno"> 1473</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada407e023ed336f3c64aa20f11dd49f6bd">SPELL_ATTR0_PASSIVE</a>;</div>
<div class="line"><span class="lineno"> 1474</span>    });</div>
<div class="line"><span class="lineno"> 1475</span> </div>
<div class="line"><span class="lineno"> 1476</span>    <span class="comment">// Shadowstalker Stealth</span></div>
<div class="line"><span class="lineno"> 1477</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 5916 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1478</span>    {</div>
<div class="line"><span class="lineno"> 1479</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RealPointsPerLevel = 5.0f;</div>
<div class="line"><span class="lineno"> 1480</span>    });</div>
<div class="line"><span class="lineno"> 1481</span> </div>
<div class="line"><span class="lineno"> 1482</span>    <span class="comment">// Sneak</span></div>
<div class="line"><span class="lineno"> 1483</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 22766 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1484</span>    {</div>
<div class="line"><span class="lineno"> 1485</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RealPointsPerLevel = 5.0f;</div>
<div class="line"><span class="lineno"> 1486</span>    });</div>
<div class="line"><span class="lineno"> 1487</span> </div>
<div class="line"><span class="lineno"> 1488</span>    <span class="comment">// Murmur&#39;s Touch</span></div>
<div class="line"><span class="lineno"> 1489</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 38794, 33711 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1490</span>    {</div>
<div class="line"><span class="lineno"> 1491</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno"> 1492</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TriggerSpell = 33760;</div>
<div class="line"><span class="lineno"> 1493</span>    });</div>
<div class="line"><span class="lineno"> 1494</span> </div>
<div class="line"><span class="lineno"> 1495</span>    <span class="comment">// Negaton Field</span></div>
<div class="line"><span class="lineno"> 1496</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 1497</span>        36729,  <span class="comment">// Normal</span></div>
<div class="line"><span class="lineno"> 1498</span>        38834   <span class="comment">// Heroic</span></div>
<div class="line"><span class="lineno"> 1499</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1500</span>    {</div>
<div class="line"><span class="lineno"> 1501</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><span class="lineno"> 1502</span>    });</div>
<div class="line"><span class="lineno"> 1503</span> </div>
<div class="line"><span class="lineno"> 1504</span>    <span class="comment">// Curse of the Doomsayer NORMAL</span></div>
<div class="line"><span class="lineno"> 1505</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 36173 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1506</span>    {</div>
<div class="line"><span class="lineno"> 1507</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TriggerSpell = 36174; <span class="comment">// Currently triggers heroic version...</span></div>
<div class="line"><span class="lineno"> 1508</span>    });</div>
<div class="line"><span class="lineno"> 1509</span> </div>
<div class="line"><span class="lineno"> 1510</span>    <span class="comment">// Crystal Channel</span></div>
<div class="line"><span class="lineno"> 1511</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 34156 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1512</span>    {</div>
<div class="line"><span class="lineno"> 1513</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(35); <span class="comment">// 35yd;</span></div>
<div class="line"><span class="lineno"> 1514</span>        spellInfo-&gt;ChannelInterruptFlags |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a79d9517e2981beafd03e4ee2ccbb1c35">AURA_INTERRUPT_FLAG_MOVE</a>;</div>
<div class="line"><span class="lineno"> 1515</span>    });</div>
<div class="line"><span class="lineno"> 1516</span> </div>
<div class="line"><span class="lineno"> 1517</span>    <span class="comment">// Debris - Debris Visual</span></div>
<div class="line"><span class="lineno"> 1518</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 36449, 30632 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1519</span>    {</div>
<div class="line"><span class="lineno"> 1520</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada2d40022c3a03aa2a0e78dfe6a115e3f3">SPELL_ATTR0_AURA_IS_DEBUFF</a>;</div>
<div class="line"><span class="lineno"> 1521</span>    });</div>
<div class="line"><span class="lineno"> 1522</span> </div>
<div class="line"><span class="lineno"> 1523</span>    <span class="comment">// Soul Channel</span></div>
<div class="line"><span class="lineno"> 1524</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 30531 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1525</span>    {</div>
<div class="line"><span class="lineno"> 1526</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><span class="lineno"> 1527</span>    });</div>
<div class="line"><span class="lineno"> 1528</span> </div>
<div class="line"><span class="lineno"> 1529</span>    <span class="comment">// Activate Sunblade Protecto</span></div>
<div class="line"><span class="lineno"> 1530</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 46475, 46476 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1531</span>    {</div>
<div class="line"><span class="lineno"> 1532</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(14); <span class="comment">// 60yd</span></div>
<div class="line"><span class="lineno"> 1533</span>    });</div>
<div class="line"><span class="lineno"> 1534</span> </div>
<div class="line"><span class="lineno"> 1535</span>    <span class="comment">// Break Ice</span></div>
<div class="line"><span class="lineno"> 1536</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 46638 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1537</span>    {</div>
<div class="line"><span class="lineno"> 1538</span>        spellInfo-&gt;AttributesEx3 &amp;= ~SPELL_ATTR3_ONLY_ON_PLAYER; <span class="comment">// Obvious fail, it targets gameobject...</span></div>
<div class="line"><span class="lineno"> 1539</span>    });</div>
<div class="line"><span class="lineno"> 1540</span> </div>
<div class="line"><span class="lineno"> 1541</span>    <span class="comment">// Sinister Reflection Clone</span></div>
<div class="line"><span class="lineno"> 1542</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 45785 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1543</span>    {</div>
<div class="line"><span class="lineno"> 1544</span>        spellInfo-&gt;Speed = 0.0f;</div>
<div class="line"><span class="lineno"> 1545</span>    });</div>
<div class="line"><span class="lineno"> 1546</span> </div>
<div class="line"><span class="lineno"> 1547</span>    <span class="comment">// Armageddon</span></div>
<div class="line"><span class="lineno"> 1548</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 45909 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1549</span>    {</div>
<div class="line"><span class="lineno"> 1550</span>        spellInfo-&gt;Speed = 8.0f;</div>
<div class="line"><span class="lineno"> 1551</span>    });</div>
<div class="line"><span class="lineno"> 1552</span> </div>
<div class="line"><span class="lineno"> 1553</span>    <span class="comment">// Spell Absorption</span></div>
<div class="line"><span class="lineno"> 1554</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 41034 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1555</span>    {</div>
<div class="line"><span class="lineno"> 1556</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><span class="lineno"> 1557</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ab7b51e8dff5aaafa4617c9fdde043b08">SPELL_AURA_SCHOOL_ABSORB</a>;</div>
<div class="line"><span class="lineno"> 1558</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno"> 1559</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].MiscValue = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aff6913cfd69489c107a071be9ec2ec8fa53b7883ddb2ff484fe7e089afe2c85dc">SPELL_SCHOOL_MASK_MAGIC</a>;</div>
<div class="line"><span class="lineno"> 1560</span>    });</div>
<div class="line"><span class="lineno"> 1561</span> </div>
<div class="line"><span class="lineno"> 1562</span>    <span class="comment">// Shared Bonds</span></div>
<div class="line"><span class="lineno"> 1563</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 41363 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1564</span>    {</div>
<div class="line"><span class="lineno"> 1565</span>        spellInfo-&gt;AttributesEx &amp;= ~SPELL_ATTR1_IS_CHANNELED;</div>
<div class="line"><span class="lineno"> 1566</span>    });</div>
<div class="line"><span class="lineno"> 1567</span> </div>
<div class="line"><span class="lineno"> 1568</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 1569</span>        41485,  <span class="comment">// Deadly Poison</span></div>
<div class="line"><span class="lineno"> 1570</span>        41487   <span class="comment">// Envenom</span></div>
<div class="line"><span class="lineno"> 1571</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1572</span>    {</div>
<div class="line"><span class="lineno"> 1573</span>        spellInfo-&gt;AttributesEx6 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094a78992c0cb395380959dea6189150d8bb">SPELL_ATTR6_IGNORE_PHASE_SHIFT</a>;</div>
<div class="line"><span class="lineno"> 1574</span>    });</div>
<div class="line"><span class="lineno"> 1575</span> </div>
<div class="line"><span class="lineno"> 1576</span>    <span class="comment">// Parasitic Shadowfiend</span></div>
<div class="line"><span class="lineno"> 1577</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 41914 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1578</span>    {</div>
<div class="line"><span class="lineno"> 1579</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada2d40022c3a03aa2a0e78dfe6a115e3f3">SPELL_ATTR0_AURA_IS_DEBUFF</a>;</div>
<div class="line"><span class="lineno"> 1580</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><span class="lineno"> 1581</span>    });</div>
<div class="line"><span class="lineno"> 1582</span> </div>
<div class="line"><span class="lineno"> 1583</span>    <span class="comment">// Teleport Maiev</span></div>
<div class="line"><span class="lineno"> 1584</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 41221 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1585</span>    {</div>
<div class="line"><span class="lineno"> 1586</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(13); <span class="comment">// 0-50000yd</span></div>
<div class="line"><span class="lineno"> 1587</span>    });</div>
<div class="line"><span class="lineno"> 1588</span> </div>
<div class="line"><span class="lineno"> 1589</span>    <span class="comment">// Watery Grave Explosion</span></div>
<div class="line"><span class="lineno"> 1590</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 37852 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1591</span>    {</div>
<div class="line"><span class="lineno"> 1592</span>        spellInfo-&gt;AttributesEx5 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a376aa62261a98289589839b821786adaa38355c8ac37633a451b6ea0cad0389b6">SPELL_ATTR5_ALLOW_WHILE_STUNNED</a>;</div>
<div class="line"><span class="lineno"> 1593</span>    });</div>
<div class="line"><span class="lineno"> 1594</span> </div>
<div class="line"><span class="lineno"> 1595</span>    <span class="comment">// Amplify Damage</span></div>
<div class="line"><span class="lineno"> 1596</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 39095 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1597</span>    {</div>
<div class="line"><span class="lineno"> 1598</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno"> 1599</span>    });</div>
<div class="line"><span class="lineno"> 1600</span> </div>
<div class="line"><span class="lineno"> 1601</span>    <span class="comment">// Energy Feedback</span></div>
<div class="line"><span class="lineno"> 1602</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 44335 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1603</span>    {</div>
<div class="line"><span class="lineno"> 1604</span>        spellInfo-&gt;AuraInterruptFlags |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011addd23de47de1322a4cc921e361bc6dd8">AURA_INTERRUPT_FLAG_CHANGE_MAP</a>;</div>
<div class="line"><span class="lineno"> 1605</span>    });</div>
<div class="line"><span class="lineno"> 1606</span> </div>
<div class="line"><span class="lineno"> 1607</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 1608</span>        31984,  <span class="comment">// Finger of Death</span></div>
<div class="line"><span class="lineno"> 1609</span>        35354   <span class="comment">// Hand of Death</span></div>
<div class="line"><span class="lineno"> 1610</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1611</span>    {</div>
<div class="line"><span class="lineno"> 1612</span>        <span class="comment">// Spell doesn&#39;t need to ignore invulnerabilities</span></div>
<div class="line"><span class="lineno"> 1613</span>        spellInfo-&gt;Attributes = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada46b6f1510e54490ecf24ee8a769b0aab">SPELL_ATTR0_IS_ABILITY</a>;</div>
<div class="line"><span class="lineno"> 1614</span>    });</div>
<div class="line"><span class="lineno"> 1615</span> </div>
<div class="line"><span class="lineno"> 1616</span>    <span class="comment">// Finger of Death</span></div>
<div class="line"><span class="lineno"> 1617</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 32111 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1618</span>    {</div>
<div class="line"><span class="lineno"> 1619</span>        spellInfo-&gt;CastTimeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5c5f896be6bbbc33caa037de254cb917">sSpellCastTimesStore</a>.LookupEntry(0); <span class="comment">// We only need the animation, no damage</span></div>
<div class="line"><span class="lineno"> 1620</span>    });</div>
<div class="line"><span class="lineno"> 1621</span> </div>
<div class="line"><span class="lineno"> 1622</span>    <span class="comment">// Flame Breath, catapult spell</span></div>
<div class="line"><span class="lineno"> 1623</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 50989 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1624</span>    {</div>
<div class="line"><span class="lineno"> 1625</span>        spellInfo-&gt;Attributes &amp;= ~SPELL_ATTR0_SCALES_WITH_CREATURE_LEVEL;</div>
<div class="line"><span class="lineno"> 1626</span>    });</div>
<div class="line"><span class="lineno"> 1627</span> </div>
<div class="line"><span class="lineno"> 1628</span>    <span class="comment">// Koralon, Flaming Cinder</span></div>
<div class="line"><span class="lineno"> 1629</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66690 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1630</span>    {</div>
<div class="line"><span class="lineno"> 1631</span>        <span class="comment">// missing radius index</span></div>
<div class="line"><span class="lineno"> 1632</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>); <span class="comment">// 100yd</span></div>
<div class="line"><span class="lineno"> 1633</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno"> 1634</span>    });</div>
<div class="line"><span class="lineno"> 1635</span> </div>
<div class="line"><span class="lineno"> 1636</span>    <span class="comment">// Acid Volley</span></div>
<div class="line"><span class="lineno"> 1637</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 54714, 29325 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1638</span>    {</div>
<div class="line"><span class="lineno"> 1639</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno"> 1640</span>    });</div>
<div class="line"><span class="lineno"> 1641</span> </div>
<div class="line"><span class="lineno"> 1642</span>    <span class="comment">// Summon Plagued Warrior</span></div>
<div class="line"><span class="lineno"> 1643</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 29237 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1644</span>    {</div>
<div class="line"><span class="lineno"> 1645</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a>;</div>
<div class="line"><span class="lineno"> 1646</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 1647</span>    });</div>
<div class="line"><span class="lineno"> 1648</span> </div>
<div class="line"><span class="lineno"> 1649</span>    <span class="comment">// Icebolt</span></div>
<div class="line"><span class="lineno"> 1650</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 28526 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1651</span>    {</div>
<div class="line"><span class="lineno"> 1652</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 1653</span>    });</div>
<div class="line"><span class="lineno"> 1654</span> </div>
<div class="line"><span class="lineno"> 1655</span>    <span class="comment">// Infected Wound</span></div>
<div class="line"><span class="lineno"> 1656</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 29306 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1657</span>    {</div>
<div class="line"><span class="lineno"> 1658</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><span class="lineno"> 1659</span>    });</div>
<div class="line"><span class="lineno"> 1660</span> </div>
<div class="line"><span class="lineno"> 1661</span>    <span class="comment">// Hopeless</span></div>
<div class="line"><span class="lineno"> 1662</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 29125 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1663</span>    {</div>
<div class="line"><span class="lineno"> 1664</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a>);</div>
<div class="line"><span class="lineno"> 1665</span>    });</div>
<div class="line"><span class="lineno"> 1666</span> </div>
<div class="line"><span class="lineno"> 1667</span>    <span class="comment">// Jagged Knife</span></div>
<div class="line"><span class="lineno"> 1668</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 55550 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1669</span>    {</div>
<div class="line"><span class="lineno"> 1670</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44adaba8502c6e37f89c8ff90f17025b0cb08">SPELL_ATTR0_USES_RANGED_SLOT</a>;</div>
<div class="line"><span class="lineno"> 1671</span>    });</div>
<div class="line"><span class="lineno"> 1672</span> </div>
<div class="line"><span class="lineno"> 1673</span>    <span class="comment">// Moorabi - Transformation</span></div>
<div class="line"><span class="lineno"> 1674</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 55098 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1675</span>    {</div>
<div class="line"><span class="lineno"> 1676</span>        spellInfo-&gt;InterruptFlags |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#abadf2f982fd866917c372d16ab99c109a69ed081a90c21e0d86095c70de005dbb">SPELL_INTERRUPT_FLAG_INTERRUPT</a>;</div>
<div class="line"><span class="lineno"> 1677</span>    });</div>
<div class="line"><span class="lineno"> 1678</span> </div>
<div class="line"><span class="lineno"> 1679</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 1680</span>        55521,  <span class="comment">// Poisoned Spear (Normal)</span></div>
<div class="line"><span class="lineno"> 1681</span>        58967,  <span class="comment">// Poisoned Spear (Heroic)</span></div>
<div class="line"><span class="lineno"> 1682</span>        55348,  <span class="comment">// Throw (Normal)</span></div>
<div class="line"><span class="lineno"> 1683</span>        58966   <span class="comment">// Throw (Heroic)</span></div>
<div class="line"><span class="lineno"> 1684</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1685</span>    {</div>
<div class="line"><span class="lineno"> 1686</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44adaba8502c6e37f89c8ff90f17025b0cb08">SPELL_ATTR0_USES_RANGED_SLOT</a>;</div>
<div class="line"><span class="lineno"> 1687</span>    });</div>
<div class="line"><span class="lineno"> 1688</span> </div>
<div class="line"><span class="lineno"> 1689</span>    <span class="comment">// Charged Chaotic rift aura, trigger</span></div>
<div class="line"><span class="lineno"> 1690</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 47737 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1691</span>    {</div>
<div class="line"><span class="lineno"> 1692</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(37); <span class="comment">// 50yd</span></div>
<div class="line"><span class="lineno"> 1693</span>    });</div>
<div class="line"><span class="lineno"> 1694</span> </div>
<div class="line"><span class="lineno"> 1695</span>    <span class="comment">// Vanish</span></div>
<div class="line"><span class="lineno"> 1696</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 55964 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1697</span>    {</div>
<div class="line"><span class="lineno"> 1698</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 1699</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 1700</span>    });</div>
<div class="line"><span class="lineno"> 1701</span> </div>
<div class="line"><span class="lineno"> 1702</span>    <span class="comment">// Trollgore - Summon Drakkari Invader</span></div>
<div class="line"><span class="lineno"> 1703</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 49456, 49457, 49458 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1704</span>    {</div>
<div class="line"><span class="lineno"> 1705</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a26506da78f6a6950f7ac66718b775817">TARGET_DEST_DB</a>);</div>
<div class="line"><span class="lineno"> 1706</span>    });</div>
<div class="line"><span class="lineno"> 1707</span> </div>
<div class="line"><span class="lineno"> 1708</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 1709</span>        48278,  <span class="comment">// Paralyse</span></div>
<div class="line"><span class="lineno"> 1710</span>        47669   <span class="comment">// Awaken subboss</span></div>
<div class="line"><span class="lineno"> 1711</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1712</span>    {</div>
<div class="line"><span class="lineno"> 1713</span>        spellInfo-&gt;Effects[0].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 1714</span>        spellInfo-&gt;Effects[0].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 1715</span>    });</div>
<div class="line"><span class="lineno"> 1716</span> </div>
<div class="line"><span class="lineno"> 1717</span>    <span class="comment">// Flame Breath</span></div>
<div class="line"><span class="lineno"> 1718</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 47592 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1719</span>    {</div>
<div class="line"><span class="lineno"> 1720</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Amplitude = 200;</div>
<div class="line"><span class="lineno"> 1721</span>    });</div>
<div class="line"><span class="lineno"> 1722</span> </div>
<div class="line"><span class="lineno"> 1723</span>    <span class="comment">// Skarvald, Charge</span></div>
<div class="line"><span class="lineno"> 1724</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 43651 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1725</span>    {</div>
<div class="line"><span class="lineno"> 1726</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(13); <span class="comment">// 0-50000yd</span></div>
<div class="line"><span class="lineno"> 1727</span>    });</div>
<div class="line"><span class="lineno"> 1728</span> </div>
<div class="line"><span class="lineno"> 1729</span>    <span class="comment">// Ingvar the Plunderer, Woe Strike</span></div>
<div class="line"><span class="lineno"> 1730</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 42730 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1731</span>    {</div>
<div class="line"><span class="lineno"> 1732</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TriggerSpell = 42739;</div>
<div class="line"><span class="lineno"> 1733</span>    });</div>
<div class="line"><span class="lineno"> 1734</span> </div>
<div class="line"><span class="lineno"> 1735</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 59735 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1736</span>    {</div>
<div class="line"><span class="lineno"> 1737</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TriggerSpell = 59736;</div>
<div class="line"><span class="lineno"> 1738</span>    });</div>
<div class="line"><span class="lineno"> 1739</span> </div>
<div class="line"><span class="lineno"> 1740</span>    <span class="comment">// Ingvar the Plunderer, Ingvar transform</span></div>
<div class="line"><span class="lineno"> 1741</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 42796 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1742</span>    {</div>
<div class="line"><span class="lineno"> 1743</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0a71d4cc2660db4702163d932a53841c">SPELL_ATTR3_ALLOW_AURA_WHILE_DEAD</a>;</div>
<div class="line"><span class="lineno"> 1744</span>    });</div>
<div class="line"><span class="lineno"> 1745</span> </div>
<div class="line"><span class="lineno"> 1746</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 1747</span>        42772,  <span class="comment">// Hurl Dagger (Normal)</span></div>
<div class="line"><span class="lineno"> 1748</span>        59685   <span class="comment">// Hurl Dagger (Heroic)</span></div>
<div class="line"><span class="lineno"> 1749</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1750</span>    {</div>
<div class="line"><span class="lineno"> 1751</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44adaba8502c6e37f89c8ff90f17025b0cb08">SPELL_ATTR0_USES_RANGED_SLOT</a>;</div>
<div class="line"><span class="lineno"> 1752</span>    });</div>
<div class="line"><span class="lineno"> 1753</span> </div>
<div class="line"><span class="lineno"> 1754</span>    <span class="comment">// Control Crystal Activation</span></div>
<div class="line"><span class="lineno"> 1755</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 57804 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1756</span>    {</div>
<div class="line"><span class="lineno"> 1757</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(1);</div>
<div class="line"><span class="lineno"> 1758</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 1759</span>    });</div>
<div class="line"><span class="lineno"> 1760</span> </div>
<div class="line"><span class="lineno"> 1761</span>    <span class="comment">// Destroy Door Seal</span></div>
<div class="line"><span class="lineno"> 1762</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 58040 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1763</span>    {</div>
<div class="line"><span class="lineno"> 1764</span>        spellInfo-&gt;ChannelInterruptFlags &amp;= ~(<a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a79d42b7d97460b52fe46d9bc3c288a15">AURA_INTERRUPT_FLAG_HITBYSPELL</a> | <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a043102900f6d0a56c4ba2aaf151fa41a">AURA_INTERRUPT_FLAG_TAKE_DAMAGE</a>);</div>
<div class="line"><span class="lineno"> 1765</span>    });</div>
<div class="line"><span class="lineno"> 1766</span> </div>
<div class="line"><span class="lineno"> 1767</span>    <span class="comment">// Ichoron, Water Blast</span></div>
<div class="line"><span class="lineno"> 1768</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 54237, 59520 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1769</span>    {</div>
<div class="line"><span class="lineno"> 1770</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><span class="lineno"> 1771</span>    });</div>
<div class="line"><span class="lineno"> 1772</span> </div>
<div class="line"><span class="lineno"> 1773</span>    <span class="comment">// Krik&#39;thir - Mind Flay</span></div>
<div class="line"><span class="lineno"> 1774</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 52586, 59367 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1775</span>    {</div>
<div class="line"><span class="lineno"> 1776</span>        spellInfo-&gt;ChannelInterruptFlags |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a79d9517e2981beafd03e4ee2ccbb1c35">AURA_INTERRUPT_FLAG_MOVE</a>;</div>
<div class="line"><span class="lineno"> 1777</span>    });</div>
<div class="line"><span class="lineno"> 1778</span> </div>
<div class="line"><span class="lineno"> 1779</span>    <span class="comment">// Glare of the Tribunal</span></div>
<div class="line"><span class="lineno"> 1780</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 50988, 59870 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1781</span>    {</div>
<div class="line"><span class="lineno"> 1782</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 1783</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 1784</span>    });</div>
<div class="line"><span class="lineno"> 1785</span> </div>
<div class="line"><span class="lineno"> 1786</span>    <span class="comment">// Static Charge</span></div>
<div class="line"><span class="lineno"> 1787</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 50835, 59847 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1788</span>    {</div>
<div class="line"><span class="lineno"> 1789</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a5636479f4e747c35d6eab829ac5ba6c1">TARGET_UNIT_SRC_AREA_ALLY</a>);</div>
<div class="line"><span class="lineno"> 1790</span>    });</div>
<div class="line"><span class="lineno"> 1791</span> </div>
<div class="line"><span class="lineno"> 1792</span>    <span class="comment">// Lava Strike damage</span></div>
<div class="line"><span class="lineno"> 1793</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 57697 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1794</span>    {</div>
<div class="line"><span class="lineno"> 1795</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>);</div>
<div class="line"><span class="lineno"> 1796</span>    });</div>
<div class="line"><span class="lineno"> 1797</span> </div>
<div class="line"><span class="lineno"> 1798</span>    <span class="comment">// Lava Strike trigger</span></div>
<div class="line"><span class="lineno"> 1799</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 57578 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1800</span>    {</div>
<div class="line"><span class="lineno"> 1801</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno"> 1802</span>    });</div>
<div class="line"><span class="lineno"> 1803</span> </div>
<div class="line"><span class="lineno"> 1804</span>    <span class="comment">// Gift of Twilight Shadow/Fire</span></div>
<div class="line"><span class="lineno"> 1805</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 57835, 58766 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1806</span>    {</div>
<div class="line"><span class="lineno"> 1807</span>        spellInfo-&gt;AttributesEx &amp;= ~SPELL_ATTR1_IS_CHANNELED;</div>
<div class="line"><span class="lineno"> 1808</span>    });</div>
<div class="line"><span class="lineno"> 1809</span> </div>
<div class="line"><span class="lineno"> 1810</span>    <span class="comment">// Pyrobuffet</span></div>
<div class="line"><span class="lineno"> 1811</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 57557 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1812</span>    {</div>
<div class="line"><span class="lineno"> 1813</span>        spellInfo-&gt;ExcludeTargetAuraSpell = 56911;</div>
<div class="line"><span class="lineno"> 1814</span>    });</div>
<div class="line"><span class="lineno"> 1815</span> </div>
<div class="line"><span class="lineno"> 1816</span>    <span class="comment">// Arcane Barrage</span></div>
<div class="line"><span class="lineno"> 1817</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 56397 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1818</span>    {</div>
<div class="line"><span class="lineno"> 1819</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 1820</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 1821</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 1822</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 1823</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 1824</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 1825</span>    });</div>
<div class="line"><span class="lineno"> 1826</span> </div>
<div class="line"><span class="lineno"> 1827</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 1828</span>        55849,  <span class="comment">// Power Spark (ground +50% dmg aura)</span></div>
<div class="line"><span class="lineno"> 1829</span>        56438,  <span class="comment">// Arcane Overload (-50% dmg taken) - this is to prevent apply -&gt; unapply -&gt; apply ... dunno whether it&#39;s correct</span></div>
<div class="line"><span class="lineno"> 1830</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1831</span>    {</div>
<div class="line"><span class="lineno"> 1832</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><span class="lineno"> 1833</span>    });</div>
<div class="line"><span class="lineno"> 1834</span> </div>
<div class="line"><span class="lineno"> 1835</span>    <span class="comment">// Vortex (Control Vehicle)</span></div>
<div class="line"><span class="lineno"> 1836</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 56263 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1837</span>    {</div>
<div class="line"><span class="lineno"> 1838</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><span class="lineno"> 1839</span>    });</div>
<div class="line"><span class="lineno"> 1840</span> </div>
<div class="line"><span class="lineno"> 1841</span>    <span class="comment">// Haste (Nexus Lord, increase run Speed of the disk)</span></div>
<div class="line"><span class="lineno"> 1842</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 57060 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1843</span>    {</div>
<div class="line"><span class="lineno"> 1844</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a6a3ac6fe01ea9d30849ba6f822e08e35">TARGET_UNIT_VEHICLE</a>);</div>
<div class="line"><span class="lineno"> 1845</span>    });</div>
<div class="line"><span class="lineno"> 1846</span> </div>
<div class="line"><span class="lineno"> 1847</span>    <span class="comment">// Arcane Overload</span></div>
<div class="line"><span class="lineno"> 1848</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 56430 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1849</span>    {</div>
<div class="line"><span class="lineno"> 1850</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a3303d1b9499775f687785269eaaaff1b">SPELL_EFFECT_TRIGGER_MISSILE</a>;</div>
<div class="line"><span class="lineno"> 1851</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TriggerSpell = 56429;</div>
<div class="line"><span class="lineno"> 1852</span>    });</div>
<div class="line"><span class="lineno"> 1853</span> </div>
<div class="line"><span class="lineno"> 1854</span>    <span class="comment">// Summon Arcane Bomb</span></div>
<div class="line"><span class="lineno"> 1855</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 56429 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1856</span>    {</div>
<div class="line"><span class="lineno"> 1857</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>);</div>
<div class="line"><span class="lineno"> 1858</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 1859</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 1860</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 1861</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 1862</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 1863</span>    });</div>
<div class="line"><span class="lineno"> 1864</span> </div>
<div class="line"><span class="lineno"> 1865</span>    <span class="comment">// Destroy Platform Event</span></div>
<div class="line"><span class="lineno"> 1866</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 59099 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1867</span>    {</div>
<div class="line"><span class="lineno"> 1868</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(22);</div>
<div class="line"><span class="lineno"> 1869</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(15);</div>
<div class="line"><span class="lineno"> 1870</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(22);</div>
<div class="line"><span class="lineno"> 1871</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(15);</div>
<div class="line"><span class="lineno"> 1872</span>    });</div>
<div class="line"><span class="lineno"> 1873</span> </div>
<div class="line"><span class="lineno"> 1874</span>    <span class="comment">// Surge of Power (Phase 3)</span></div>
<div class="line"><span class="lineno"> 1875</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 1876</span>        57407,  <span class="comment">// N</span></div>
<div class="line"><span class="lineno"> 1877</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1878</span>    {</div>
<div class="line"><span class="lineno"> 1879</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno"> 1880</span>        spellInfo-&gt;InterruptFlags = 0;</div>
<div class="line"><span class="lineno"> 1881</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>);</div>
<div class="line"><span class="lineno"> 1882</span>        spellInfo-&gt;AttributesEx4 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6aba174418f37eafaa54fe775f50a43ca9">SPELL_ATTR4_ALLOW_CAST_WHILE_CASTING</a>;</div>
<div class="line"><span class="lineno"> 1883</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>);</div>
<div class="line"><span class="lineno"> 1884</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7b8c7cf5819db17b9ed16dfbb93addb4">TARGET_UNIT_SRC_AREA_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 1885</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 1886</span>    });</div>
<div class="line"><span class="lineno"> 1887</span> </div>
<div class="line"><span class="lineno"> 1888</span>    <span class="comment">// Surge of Power (Phase 3)</span></div>
<div class="line"><span class="lineno"> 1889</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 1890</span>        60936   <span class="comment">// H</span></div>
<div class="line"><span class="lineno"> 1891</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1892</span>    {</div>
<div class="line"><span class="lineno"> 1893</span>        spellInfo-&gt;MaxAffectedTargets = 3;</div>
<div class="line"><span class="lineno"> 1894</span>        spellInfo-&gt;InterruptFlags = 0;</div>
<div class="line"><span class="lineno"> 1895</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>);</div>
<div class="line"><span class="lineno"> 1896</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>);</div>
<div class="line"><span class="lineno"> 1897</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7b8c7cf5819db17b9ed16dfbb93addb4">TARGET_UNIT_SRC_AREA_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 1898</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 1899</span>    });</div>
<div class="line"><span class="lineno"> 1900</span> </div>
<div class="line"><span class="lineno"> 1901</span>    <span class="comment">// Wyrmrest Drake - Life Burst</span></div>
<div class="line"><span class="lineno"> 1902</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 57143 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1903</span>    {</div>
<div class="line"><span class="lineno"> 1904</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 1905</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 1906</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 1907</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>);</div>
<div class="line"><span class="lineno"> 1908</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a5636479f4e747c35d6eab829ac5ba6c1">TARGET_UNIT_SRC_AREA_ALLY</a>);</div>
<div class="line"><span class="lineno"> 1909</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].PointsPerComboPoint = 2500;</div>
<div class="line"><span class="lineno"> 1910</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].BasePoints = 2499;</div>
<div class="line"><span class="lineno"> 1911</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(1);</div>
<div class="line"><span class="lineno"> 1912</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 1913</span>    });</div>
<div class="line"><span class="lineno"> 1914</span> </div>
<div class="line"><span class="lineno"> 1915</span>    <span class="comment">//Alexstrasza - Gift</span></div>
<div class="line"><span class="lineno"> 1916</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 61028 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1917</span>    {</div>
<div class="line"><span class="lineno"> 1918</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>);</div>
<div class="line"><span class="lineno"> 1919</span>    });</div>
<div class="line"><span class="lineno"> 1920</span> </div>
<div class="line"><span class="lineno"> 1921</span>    <span class="comment">// Vortex (freeze anim)</span></div>
<div class="line"><span class="lineno"> 1922</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 55883 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1923</span>    {</div>
<div class="line"><span class="lineno"> 1924</span>        spellInfo-&gt;AuraInterruptFlags |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011addd23de47de1322a4cc921e361bc6dd8">AURA_INTERRUPT_FLAG_CHANGE_MAP</a>;</div>
<div class="line"><span class="lineno"> 1925</span>    });</div>
<div class="line"><span class="lineno"> 1926</span> </div>
<div class="line"><span class="lineno"> 1927</span>    <span class="comment">// Hurl Pyrite</span></div>
<div class="line"><span class="lineno"> 1928</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62490 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1929</span>    {</div>
<div class="line"><span class="lineno"> 1930</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 1931</span>    });</div>
<div class="line"><span class="lineno"> 1932</span> </div>
<div class="line"><span class="lineno"> 1933</span>    <span class="comment">// Ulduar, Mimiron, Magnetic Core (summon)</span></div>
<div class="line"><span class="lineno"> 1934</span>    <span class="comment">// Meeting Stone Summon</span></div>
<div class="line"><span class="lineno"> 1935</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 64444, 23598 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1936</span>    {</div>
<div class="line"><span class="lineno"> 1937</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aaff4bf7194055bf177ba701c46cdcadb">TARGET_DEST_CASTER</a>);</div>
<div class="line"><span class="lineno"> 1938</span>    });</div>
<div class="line"><span class="lineno"> 1939</span> </div>
<div class="line"><span class="lineno"> 1940</span>    <span class="comment">// Ulduar, Mimiron, bomb bot explosion</span></div>
<div class="line"><span class="lineno"> 1941</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 63801 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1942</span>    {</div>
<div class="line"><span class="lineno"> 1943</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].MiscValue = 17286;</div>
<div class="line"><span class="lineno"> 1944</span>    });</div>
<div class="line"><span class="lineno"> 1945</span> </div>
<div class="line"><span class="lineno"> 1946</span>    <span class="comment">// Ulduar, Mimiron, Summon Flames Initial</span></div>
<div class="line"><span class="lineno"> 1947</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 64563 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1948</span>    {</div>
<div class="line"><span class="lineno"> 1949</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 1950</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><span class="lineno"> 1951</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>);</div>
<div class="line"><span class="lineno"> 1952</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 1953</span>    });</div>
<div class="line"><span class="lineno"> 1954</span> </div>
<div class="line"><span class="lineno"> 1955</span>    <span class="comment">// Ulduar, Mimiron, Flames (damage)</span></div>
<div class="line"><span class="lineno"> 1956</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 64566 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1957</span>    {</div>
<div class="line"><span class="lineno"> 1958</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 1959</span>        spellInfo-&gt;AttributesEx4 &amp;= ~SPELL_ATTR4_NO_CAST_LOG;</div>
<div class="line"><span class="lineno"> 1960</span>    });</div>
<div class="line"><span class="lineno"> 1961</span> </div>
<div class="line"><span class="lineno"> 1962</span>    <span class="comment">// Ulduar, Hodir, Starlight</span></div>
<div class="line"><span class="lineno"> 1963</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62807 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1964</span>    {</div>
<div class="line"><span class="lineno"> 1965</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a516a507bd1698b0c02b7d9c9dcb486f4">EFFECT_RADIUS_1_YARD</a>); <span class="comment">// 1yd</span></div>
<div class="line"><span class="lineno"> 1966</span>    });</div>
<div class="line"><span class="lineno"> 1967</span> </div>
<div class="line"><span class="lineno"> 1968</span>    <span class="comment">// Hodir Shatter Cache</span></div>
<div class="line"><span class="lineno"> 1969</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62502 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1970</span>    {</div>
<div class="line"><span class="lineno"> 1971</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a>);</div>
<div class="line"><span class="lineno"> 1972</span>    });</div>
<div class="line"><span class="lineno"> 1973</span> </div>
<div class="line"><span class="lineno"> 1974</span>    <span class="comment">// Ulduar, General Vezax, Mark of the Faceless</span></div>
<div class="line"><span class="lineno"> 1975</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 63278 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1976</span>    {</div>
<div class="line"><span class="lineno"> 1977</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 1978</span>    });</div>
<div class="line"><span class="lineno"> 1979</span> </div>
<div class="line"><span class="lineno"> 1980</span>    <span class="comment">// Boom (XT-002)</span></div>
<div class="line"><span class="lineno"> 1981</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62834 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1982</span>    {</div>
<div class="line"><span class="lineno"> 1983</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 1984</span>    });</div>
<div class="line"><span class="lineno"> 1985</span> </div>
<div class="line"><span class="lineno"> 1986</span>    <span class="comment">// Supercharge</span></div>
<div class="line"><span class="lineno"> 1987</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 61920 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1988</span>    {</div>
<div class="line"><span class="lineno"> 1989</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><span class="lineno"> 1990</span>    });</div>
<div class="line"><span class="lineno"> 1991</span> </div>
<div class="line"><span class="lineno"> 1992</span>    <span class="comment">// Lightning Whirl</span></div>
<div class="line"><span class="lineno"> 1993</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 61916 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1994</span>    {</div>
<div class="line"><span class="lineno"> 1995</span>        spellInfo-&gt;MaxAffectedTargets = 3;</div>
<div class="line"><span class="lineno"> 1996</span>    });</div>
<div class="line"><span class="lineno"> 1997</span> </div>
<div class="line"><span class="lineno"> 1998</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 63482 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 1999</span>    {</div>
<div class="line"><span class="lineno"> 2000</span>        spellInfo-&gt;MaxAffectedTargets = 8;</div>
<div class="line"><span class="lineno"> 2001</span>    });</div>
<div class="line"><span class="lineno"> 2002</span> </div>
<div class="line"><span class="lineno"> 2003</span>    <span class="comment">// Stone Grip, remove absorb aura</span></div>
<div class="line"><span class="lineno"> 2004</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62056, 63985 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2005</span>    {</div>
<div class="line"><span class="lineno"> 2006</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2007</span>    });</div>
<div class="line"><span class="lineno"> 2008</span> </div>
<div class="line"><span class="lineno"> 2009</span>    <span class="comment">// Sentinel Blast</span></div>
<div class="line"><span class="lineno"> 2010</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 64389, 64678 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2011</span>    {</div>
<div class="line"><span class="lineno"> 2012</span>        spellInfo-&gt;Dispel = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#ada2b5e66b650d7a63f70c06a746070d1a6672f5f1c819fba2de73b0e8c8a9cb06">DISPEL_MAGIC</a>;</div>
<div class="line"><span class="lineno"> 2013</span>    });</div>
<div class="line"><span class="lineno"> 2014</span> </div>
<div class="line"><span class="lineno"> 2015</span>    <span class="comment">// Potent Pheromones</span></div>
<div class="line"><span class="lineno"> 2016</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62619 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2017</span>    {</div>
<div class="line"><span class="lineno"> 2018</span>        spellInfo-&gt;AttributesEx |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076ab2ba4cd294111dc378e33055074250be">SPELL_ATTR1_IMMUNITY_PURGES_EFFECT</a>;</div>
<div class="line"><span class="lineno"> 2019</span>    });</div>
<div class="line"><span class="lineno"> 2020</span> </div>
<div class="line"><span class="lineno"> 2021</span>    <span class="comment">// Healthy spore summon periodic</span></div>
<div class="line"><span class="lineno"> 2022</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62566 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2023</span>    {</div>
<div class="line"><span class="lineno"> 2024</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Amplitude = 2000;</div>
<div class="line"><span class="lineno"> 2025</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799af51e1877e096bbfd69505e5ab4fc69ad">SPELL_AURA_PERIODIC_TRIGGER_SPELL</a>;</div>
<div class="line"><span class="lineno"> 2026</span>    });</div>
<div class="line"><span class="lineno"> 2027</span> </div>
<div class="line"><span class="lineno"> 2028</span>    <span class="comment">// Brightleaf Essence trigger</span></div>
<div class="line"><span class="lineno"> 2029</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62968 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2030</span>    {</div>
<div class="line"><span class="lineno"> 2031</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0; <span class="comment">// duplicate</span></div>
<div class="line"><span class="lineno"> 2032</span>    });</div>
<div class="line"><span class="lineno"> 2033</span> </div>
<div class="line"><span class="lineno"> 2034</span>    <span class="comment">// Potent Pheromones</span></div>
<div class="line"><span class="lineno"> 2035</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 64321 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2036</span>    {</div>
<div class="line"><span class="lineno"> 2037</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81afd31a3efb01e11ee685cd0cac502b9ac">SPELL_ATTR3_ONLY_ON_PLAYER</a>;</div>
<div class="line"><span class="lineno"> 2038</span>        spellInfo-&gt;AttributesEx |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076ab2ba4cd294111dc378e33055074250be">SPELL_ATTR1_IMMUNITY_PURGES_EFFECT</a>;</div>
<div class="line"><span class="lineno"> 2039</span>    });</div>
<div class="line"><span class="lineno"> 2040</span> </div>
<div class="line"><span class="lineno"> 2041</span>    <span class="comment">// Lightning Orb Charged</span></div>
<div class="line"><span class="lineno"> 2042</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62186 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2043</span>    {</div>
<div class="line"><span class="lineno"> 2044</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Amplitude = 5000; <span class="comment">// Duration 5 secs, amplitude 8 secs...</span></div>
<div class="line"><span class="lineno"> 2045</span>    });</div>
<div class="line"><span class="lineno"> 2046</span> </div>
<div class="line"><span class="lineno"> 2047</span>    <span class="comment">// Lightning Pillar</span></div>
<div class="line"><span class="lineno"> 2048</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62976 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2049</span>    {</div>
<div class="line"><span class="lineno"> 2050</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(6);</div>
<div class="line"><span class="lineno"> 2051</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(28); <span class="comment">// 5 seconds, wrong DBC data?</span></div>
<div class="line"><span class="lineno"> 2052</span>    });</div>
<div class="line"><span class="lineno"> 2053</span> </div>
<div class="line"><span class="lineno"> 2054</span>    <span class="comment">// Sif&#39;s Blizzard</span></div>
<div class="line"><span class="lineno"> 2055</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62576, 62602 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2056</span>    {</div>
<div class="line"><span class="lineno"> 2057</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a1a748594451cc6774accf878f228c306">EFFECT_RADIUS_8_YARDS</a>); <span class="comment">// 8yd</span></div>
<div class="line"><span class="lineno"> 2058</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a1a748594451cc6774accf878f228c306">EFFECT_RADIUS_8_YARDS</a>); <span class="comment">// 8yd</span></div>
<div class="line"><span class="lineno"> 2059</span>    });</div>
<div class="line"><span class="lineno"> 2060</span> </div>
<div class="line"><span class="lineno"> 2061</span>    <span class="comment">// Protective Gaze</span></div>
<div class="line"><span class="lineno"> 2062</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 64175 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2063</span>    {</div>
<div class="line"><span class="lineno"> 2064</span>        spellInfo-&gt;RecoveryTime = 25000;</div>
<div class="line"><span class="lineno"> 2065</span>    });</div>
<div class="line"><span class="lineno"> 2066</span> </div>
<div class="line"><span class="lineno"> 2067</span>    <span class="comment">// Shadow Beacon</span></div>
<div class="line"><span class="lineno"> 2068</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 64465 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2069</span>    {</div>
<div class="line"><span class="lineno"> 2070</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TriggerSpell = 64467; <span class="comment">// why do they need two script effects :/ (this one has visual effect)</span></div>
<div class="line"><span class="lineno"> 2071</span>    });</div>
<div class="line"><span class="lineno"> 2072</span> </div>
<div class="line"><span class="lineno"> 2073</span>    <span class="comment">// Sanity</span></div>
<div class="line"><span class="lineno"> 2074</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 63050 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2075</span>    {</div>
<div class="line"><span class="lineno"> 2076</span>        spellInfo-&gt;AttributesEx6 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094a78992c0cb395380959dea6189150d8bb">SPELL_ATTR6_IGNORE_PHASE_SHIFT</a>;</div>
<div class="line"><span class="lineno"> 2077</span>    });</div>
<div class="line"><span class="lineno"> 2078</span> </div>
<div class="line"><span class="lineno"> 2079</span>    <span class="comment">// Shadow Nova</span></div>
<div class="line"><span class="lineno"> 2080</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62714, 65209 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2081</span>    {</div>
<div class="line"><span class="lineno"> 2082</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><span class="lineno"> 2083</span>    });</div>
<div class="line"><span class="lineno"> 2084</span> </div>
<div class="line"><span class="lineno"> 2085</span>    <span class="comment">// Cosmic Smash (Algalon the Observer)</span></div>
<div class="line"><span class="lineno"> 2086</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62293 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2087</span>    {</div>
<div class="line"><span class="lineno"> 2088</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aaff4bf7194055bf177ba701c46cdcadb">TARGET_DEST_CASTER</a>);</div>
<div class="line"><span class="lineno"> 2089</span>    });</div>
<div class="line"><span class="lineno"> 2090</span> </div>
<div class="line"><span class="lineno"> 2091</span>    <span class="comment">// Cosmic Smash (Algalon the Observer)</span></div>
<div class="line"><span class="lineno"> 2092</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62311, 64596 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2093</span>    {</div>
<div class="line"><span class="lineno"> 2094</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 2095</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>); <span class="comment">// 100yd</span></div>
<div class="line"><span class="lineno"> 2096</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(13);  <span class="comment">// 50000yd</span></div>
<div class="line"><span class="lineno"> 2097</span>    });</div>
<div class="line"><span class="lineno"> 2098</span> </div>
<div class="line"><span class="lineno"> 2099</span>    <span class="comment">// Constellation Phase Effect</span></div>
<div class="line"><span class="lineno"> 2100</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 65509 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2101</span>    {</div>
<div class="line"><span class="lineno"> 2102</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno"> 2103</span>    });</div>
<div class="line"><span class="lineno"> 2104</span> </div>
<div class="line"><span class="lineno"> 2105</span>    <span class="comment">// Black Hole</span></div>
<div class="line"><span class="lineno"> 2106</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62168, 65250, 62169 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2107</span>    {</div>
<div class="line"><span class="lineno"> 2108</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada2d40022c3a03aa2a0e78dfe6a115e3f3">SPELL_ATTR0_AURA_IS_DEBUFF</a>;</div>
<div class="line"><span class="lineno"> 2109</span>    });</div>
<div class="line"><span class="lineno"> 2110</span> </div>
<div class="line"><span class="lineno"> 2111</span>    <span class="comment">// Ground Slam</span></div>
<div class="line"><span class="lineno"> 2112</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62625 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2113</span>    {</div>
<div class="line"><span class="lineno"> 2114</span>        spellInfo-&gt;InterruptFlags |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#abadf2f982fd866917c372d16ab99c109a69ed081a90c21e0d86095c70de005dbb">SPELL_INTERRUPT_FLAG_INTERRUPT</a>;</div>
<div class="line"><span class="lineno"> 2115</span>    });</div>
<div class="line"><span class="lineno"> 2116</span> </div>
<div class="line"><span class="lineno"> 2117</span>    <span class="comment">// Onyxia&#39;s Lair, Onyxia, Flame Breath (TriggerSpell = 0 and spamming errors in console)</span></div>
<div class="line"><span class="lineno"> 2118</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 18435 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2119</span>    {</div>
<div class="line"><span class="lineno"> 2120</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2121</span>    });</div>
<div class="line"><span class="lineno"> 2122</span> </div>
<div class="line"><span class="lineno"> 2123</span>    <span class="comment">// Onyxia&#39;s Lair, Onyxia, Create Onyxia Spawner</span></div>
<div class="line"><span class="lineno"> 2124</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 17647 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2125</span>    {</div>
<div class="line"><span class="lineno"> 2126</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(37);</div>
<div class="line"><span class="lineno"> 2127</span>    });</div>
<div class="line"><span class="lineno"> 2128</span> </div>
<div class="line"><span class="lineno"> 2129</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2130</span>        17646,  <span class="comment">// Onyxia&#39;s Lair, Onyxia, Summon Onyxia Whelp</span></div>
<div class="line"><span class="lineno"> 2131</span>        68968   <span class="comment">// Onyxia&#39;s Lair, Onyxia, Summon Lair Guard</span></div>
<div class="line"><span class="lineno"> 2132</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2133</span>    {</div>
<div class="line"><span class="lineno"> 2134</span>        spellInfo-&gt;Targets |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a3c11f0d0cd9689554b34ccbc325da54fa6743615e8912aefb100fe3f804c162be">TARGET_FLAG_DEST_LOCATION</a>;</div>
<div class="line"><span class="lineno"> 2135</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>);</div>
<div class="line"><span class="lineno"> 2136</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(13); <span class="comment">// 50000yd</span></div>
<div class="line"><span class="lineno"> 2137</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(5);</div>
<div class="line"><span class="lineno"> 2138</span>    });</div>
<div class="line"><span class="lineno"> 2139</span> </div>
<div class="line"><span class="lineno"> 2140</span>    <span class="comment">// Onyxia&#39;s Lair, Onyxia, Eruption</span></div>
<div class="line"><span class="lineno"> 2141</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 17731, 69294 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2142</span>    {</div>
<div class="line"><span class="lineno"> 2143</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a>;</div>
<div class="line"><span class="lineno"> 2144</span>        spellInfo-&gt;CastTimeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5c5f896be6bbbc33caa037de254cb917">sSpellCastTimesStore</a>.LookupEntry(3);</div>
<div class="line"><span class="lineno"> 2145</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa9bb19ae5f3981f0ba44b4c20d4b2fc5">EFFECT_RADIUS_18_YARDS</a>); <span class="comment">// 18yd instead of 13yd to make sure all cracks erupt</span></div>
<div class="line"><span class="lineno"> 2146</span>    });</div>
<div class="line"><span class="lineno"> 2147</span> </div>
<div class="line"><span class="lineno"> 2148</span>    <span class="comment">// Onyxia&#39;s Lair, Onyxia, Breath</span></div>
<div class="line"><span class="lineno"> 2149</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2150</span>        18576, 18578, 18579, 18580, 18581, 18582, 18583, 18609, 18611, 18612, 18613, 18614, 18615, 18616, 18584,</div>
<div class="line"><span class="lineno"> 2151</span>        18585, 18586, 18587, 18588, 18589, 18590, 18591, 18592, 18593, 18594, 18595, 18564, 18565, 18566, 18567,</div>
<div class="line"><span class="lineno"> 2152</span>        18568, 18569, 18570, 18571, 18572, 18573, 18574, 18575, 18596, 18597, 18598, 18599, 18600, 18601, 18602,</div>
<div class="line"><span class="lineno"> 2153</span>        18603, 18604, 18605, 18606, 18607, 18617, 18619, 18620, 18621, 18622, 18623, 18624, 18625, 18626, 18627,</div>
<div class="line"><span class="lineno"> 2154</span>        18628, 18618, 18351, 18352, 18353, 18354, 18355, 18356, 18357, 18358, 18359, 18360, 18361, 17086, 17087,</div>
<div class="line"><span class="lineno"> 2155</span>        17088, 17089, 17090, 17091, 17092, 17093, 17094, 17095, 17097, 22267, 22268, 21132, 21133, 21135, 21136,</div>
<div class="line"><span class="lineno"> 2156</span>        21137, 21138, 21139</div>
<div class="line"><span class="lineno"> 2157</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2158</span>    {</div>
<div class="line"><span class="lineno"> 2159</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(328); <span class="comment">// 250ms</span></div>
<div class="line"><span class="lineno"> 2160</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(1);</div>
<div class="line"><span class="lineno"> 2161</span>        <span class="keywordflow">if</span> (spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect)</div>
<div class="line"><span class="lineno"> 2162</span>        {</div>
<div class="line"><span class="lineno"> 2163</span>            spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><span class="lineno"> 2164</span>            spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799af51e1877e096bbfd69505e5ab4fc69ad">SPELL_AURA_PERIODIC_TRIGGER_SPELL</a>;</div>
<div class="line"><span class="lineno"> 2165</span>            spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Amplitude = ((spellInfo-&gt;CastTimeEntry == <a class="code hl_variable" href="../../d7/da2/a03704.html#a5c5f896be6bbbc33caa037de254cb917">sSpellCastTimesStore</a>.LookupEntry(170)) ? 50 : 215);</div>
<div class="line"><span class="lineno"> 2166</span>        }</div>
<div class="line"><span class="lineno"> 2167</span>    });</div>
<div class="line"><span class="lineno"> 2168</span> </div>
<div class="line"><span class="lineno"> 2169</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2170</span>        48760,  <span class="comment">// Oculus, Teleport to Coldarra DND</span></div>
<div class="line"><span class="lineno"> 2171</span>        49305   <span class="comment">// Oculus, Teleport to Boss 1 DND</span></div>
<div class="line"><span class="lineno"> 2172</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2173</span>    {</div>
<div class="line"><span class="lineno"> 2174</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(25);</div>
<div class="line"><span class="lineno"> 2175</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(17);</div>
<div class="line"><span class="lineno"> 2176</span>    });</div>
<div class="line"><span class="lineno"> 2177</span> </div>
<div class="line"><span class="lineno"> 2178</span>    <span class="comment">// Oculus, Drake spell Stop Time</span></div>
<div class="line"><span class="lineno"> 2179</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 49838 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2180</span>    {</div>
<div class="line"><span class="lineno"> 2181</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno"> 2182</span>        spellInfo-&gt;ExcludeTargetAuraSpell = 51162; <span class="comment">// exclude planar shift</span></div>
<div class="line"><span class="lineno"> 2183</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ad83d4353e8c1f40105dbc7e945eeceae">EFFECT_RADIUS_150_YARDS</a>);</div>
<div class="line"><span class="lineno"> 2184</span>    });</div>
<div class="line"><span class="lineno"> 2185</span> </div>
<div class="line"><span class="lineno"> 2186</span>    <span class="comment">// Oculus, Varos Cloudstrider, Energize Cores</span></div>
<div class="line"><span class="lineno"> 2187</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 61407, 62136, 56251, 54069 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2188</span>    {</div>
<div class="line"><span class="lineno"> 2189</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a0b51bc473102ffda4749bf8515131ee2">TARGET_UNIT_CONE_ENTRY</a>);</div>
<div class="line"><span class="lineno"> 2190</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2191</span>    });</div>
<div class="line"><span class="lineno"> 2192</span> </div>
<div class="line"><span class="lineno"> 2193</span>    <span class="comment">// Halls of Lightning, Arc Weld</span></div>
<div class="line"><span class="lineno"> 2194</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 59086 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2195</span>    {</div>
<div class="line"><span class="lineno"> 2196</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(1);</div>
<div class="line"><span class="lineno"> 2197</span>    });</div>
<div class="line"><span class="lineno"> 2198</span> </div>
<div class="line"><span class="lineno"> 2199</span>    <span class="comment">// Halls of Lightning, Arcing Burn</span></div>
<div class="line"><span class="lineno"> 2200</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 52671, 59834 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2201</span>    {</div>
<div class="line"><span class="lineno"> 2202</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><span class="lineno"> 2203</span>    });</div>
<div class="line"><span class="lineno"> 2204</span> </div>
<div class="line"><span class="lineno"> 2205</span>    <span class="comment">// Trial of the Champion, Death&#39;s Respite</span></div>
<div class="line"><span class="lineno"> 2206</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 68306 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2207</span>    {</div>
<div class="line"><span class="lineno"> 2208</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(25);</div>
<div class="line"><span class="lineno"> 2209</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(25);</div>
<div class="line"><span class="lineno"> 2210</span>    });</div>
<div class="line"><span class="lineno"> 2211</span> </div>
<div class="line"><span class="lineno"> 2212</span>    <span class="comment">// Trial of the Champion, Eadric Achievement (The Faceroller)</span></div>
<div class="line"><span class="lineno"> 2213</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 68197 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2214</span>    {</div>
<div class="line"><span class="lineno"> 2215</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a5636479f4e747c35d6eab829ac5ba6c1">TARGET_UNIT_SRC_AREA_ALLY</a>);</div>
<div class="line"><span class="lineno"> 2216</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44adaba896f4f7d6dc5d34f09ff29f5db159a">SPELL_ATTR0_ALLOW_CAST_WHILE_DEAD</a>;</div>
<div class="line"><span class="lineno"> 2217</span>    });</div>
<div class="line"><span class="lineno"> 2218</span> </div>
<div class="line"><span class="lineno"> 2219</span>    <span class="comment">// Trial of the Champion, Earth Shield</span></div>
<div class="line"><span class="lineno"> 2220</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 67530 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2221</span>    {</div>
<div class="line"><span class="lineno"> 2222</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a3c6e04ab343a9f5ef767f8e8dd71af5b">SPELL_AURA_PROC_TRIGGER_SPELL</a>; <span class="comment">// will trigger 67537</span></div>
<div class="line"><span class="lineno"> 2223</span>    });</div>
<div class="line"><span class="lineno"> 2224</span> </div>
<div class="line"><span class="lineno"> 2225</span>    <span class="comment">// Trial of the Champion, Hammer of the Righteous</span></div>
<div class="line"><span class="lineno"> 2226</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66867 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2227</span>    {</div>
<div class="line"><span class="lineno"> 2228</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a>;</div>
<div class="line"><span class="lineno"> 2229</span>    });</div>
<div class="line"><span class="lineno"> 2230</span> </div>
<div class="line"><span class="lineno"> 2231</span>    <span class="comment">// Trial of the Champion, Summon Risen Jaeren/Arelas</span></div>
<div class="line"><span class="lineno"> 2232</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 67705, 67715 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2233</span>    {</div>
<div class="line"><span class="lineno"> 2234</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ad2cb623676f084a0370c1983084a29d8">SPELL_ATTR2_ALLOW_DEAD_TARGET</a>;</div>
<div class="line"><span class="lineno"> 2235</span>    });</div>
<div class="line"><span class="lineno"> 2236</span> </div>
<div class="line"><span class="lineno"> 2237</span>    <span class="comment">// Trial of the Champion, Ghoul Explode</span></div>
<div class="line"><span class="lineno"> 2238</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 67751 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2239</span>    {</div>
<div class="line"><span class="lineno"> 2240</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>);</div>
<div class="line"><span class="lineno"> 2241</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a>);</div>
<div class="line"><span class="lineno"> 2242</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>);</div>
<div class="line"><span class="lineno"> 2243</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>);</div>
<div class="line"><span class="lineno"> 2244</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a>);</div>
<div class="line"><span class="lineno"> 2245</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>);</div>
<div class="line"><span class="lineno"> 2246</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>);</div>
<div class="line"><span class="lineno"> 2247</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a>);</div>
<div class="line"><span class="lineno"> 2248</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>);</div>
<div class="line"><span class="lineno"> 2249</span>    });</div>
<div class="line"><span class="lineno"> 2250</span> </div>
<div class="line"><span class="lineno"> 2251</span>    <span class="comment">// Trial of the Champion, Desecration</span></div>
<div class="line"><span class="lineno"> 2252</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 67778, 67877 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2253</span>    {</div>
<div class="line"><span class="lineno"> 2254</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TriggerSpell = 68766;</div>
<div class="line"><span class="lineno"> 2255</span>    });</div>
<div class="line"><span class="lineno"> 2256</span> </div>
<div class="line"><span class="lineno"> 2257</span>    <span class="comment">// Killing Spree (Off hand damage)</span></div>
<div class="line"><span class="lineno"> 2258</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 57842 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2259</span>    {</div>
<div class="line"><span class="lineno"> 2260</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(2); <span class="comment">// Melee Range</span></div>
<div class="line"><span class="lineno"> 2261</span>    });</div>
<div class="line"><span class="lineno"> 2262</span> </div>
<div class="line"><span class="lineno"> 2263</span>    <span class="comment">// Trial of the Crusader, Jaraxxus Intro spell</span></div>
<div class="line"><span class="lineno"> 2264</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 67888 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2265</span>    {</div>
<div class="line"><span class="lineno"> 2266</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada70a88000e26e915779029013b794396e">SPELL_ATTR0_CANCELS_AUTO_ATTACK_COMBAT</a>;</div>
<div class="line"><span class="lineno"> 2267</span>        spellInfo-&gt;AttributesEx |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076a02166cd30d63804b4175bdfe29ffd068">SPELL_ATTR1_NO_THREAT</a>;</div>
<div class="line"><span class="lineno"> 2268</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno"> 2269</span>    });</div>
<div class="line"><span class="lineno"> 2270</span> </div>
<div class="line"><span class="lineno"> 2271</span>    <span class="comment">// Trial of the Crusader, Lich King Intro spell</span></div>
<div class="line"><span class="lineno"> 2272</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 68193 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2273</span>    {</div>
<div class="line"><span class="lineno"> 2274</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7b8c7cf5819db17b9ed16dfbb93addb4">TARGET_UNIT_SRC_AREA_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 2275</span>    });</div>
<div class="line"><span class="lineno"> 2276</span> </div>
<div class="line"><span class="lineno"> 2277</span>    <span class="comment">// Trial of the Crusader, Gormok, player vehicle spell, CUSTOM! (default jump to hand, not used)</span></div>
<div class="line"><span class="lineno"> 2278</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66342 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2279</span>    {</div>
<div class="line"><span class="lineno"> 2280</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><span class="lineno"> 2281</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799afdb369d59878e85eb2c47405d92b0a0b">SPELL_AURA_SET_VEHICLE_ID</a>;</div>
<div class="line"><span class="lineno"> 2282</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValue = 496;</div>
<div class="line"><span class="lineno"> 2283</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(21);</div>
<div class="line"><span class="lineno"> 2284</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(13);</div>
<div class="line"><span class="lineno"> 2285</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(25);</div>
<div class="line"><span class="lineno"> 2286</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2287</span>        spellInfo-&gt;AuraInterruptFlags = <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011addd23de47de1322a4cc921e361bc6dd8">AURA_INTERRUPT_FLAG_CHANGE_MAP</a>;</div>
<div class="line"><span class="lineno"> 2288</span>    });</div>
<div class="line"><span class="lineno"> 2289</span> </div>
<div class="line"><span class="lineno"> 2290</span>    <span class="comment">// Trial of the Crusader, Gormok, Fire Bomb</span></div>
<div class="line"><span class="lineno"> 2291</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66313 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2292</span>    {</div>
<div class="line"><span class="lineno"> 2293</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 2294</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a036a2b93df9713482bdbf62afd6d07cd">TARGET_DEST_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 2295</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 2296</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a036a2b93df9713482bdbf62afd6d07cd">TARGET_DEST_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 2297</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect  = 0;</div>
<div class="line"><span class="lineno"> 2298</span>    });</div>
<div class="line"><span class="lineno"> 2299</span> </div>
<div class="line"><span class="lineno"> 2300</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66317 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2301</span>    {</div>
<div class="line"><span class="lineno"> 2302</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada70a88000e26e915779029013b794396e">SPELL_ATTR0_CANCELS_AUTO_ATTACK_COMBAT</a>;</div>
<div class="line"><span class="lineno"> 2303</span>        spellInfo-&gt;AttributesEx |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076a02166cd30d63804b4175bdfe29ffd068">SPELL_ATTR1_NO_THREAT</a>;</div>
<div class="line"><span class="lineno"> 2304</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno"> 2305</span>    });</div>
<div class="line"><span class="lineno"> 2306</span> </div>
<div class="line"><span class="lineno"> 2307</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66318 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2308</span>    {</div>
<div class="line"><span class="lineno"> 2309</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 2310</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2311</span>        spellInfo-&gt;Speed = 14.0f;</div>
<div class="line"><span class="lineno"> 2312</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada70a88000e26e915779029013b794396e">SPELL_ATTR0_CANCELS_AUTO_ATTACK_COMBAT</a>;</div>
<div class="line"><span class="lineno"> 2313</span>        spellInfo-&gt;AttributesEx |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076a02166cd30d63804b4175bdfe29ffd068">SPELL_ATTR1_NO_THREAT</a>;</div>
<div class="line"><span class="lineno"> 2314</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno"> 2315</span>    });</div>
<div class="line"><span class="lineno"> 2316</span> </div>
<div class="line"><span class="lineno"> 2317</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66320, 67472, 67473, 67475 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2318</span>    {</div>
<div class="line"><span class="lineno"> 2319</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a32a0a0b95c85980dc1e23d3e9fd64fac">EFFECT_RADIUS_2_YARDS</a>);</div>
<div class="line"><span class="lineno"> 2320</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a32a0a0b95c85980dc1e23d3e9fd64fac">EFFECT_RADIUS_2_YARDS</a>);</div>
<div class="line"><span class="lineno"> 2321</span>    });</div>
<div class="line"><span class="lineno"> 2322</span> </div>
<div class="line"><span class="lineno"> 2323</span>    <span class="comment">// Trial of the Crusader, Acidmaw &amp; Dreadscale, Emerge</span></div>
<div class="line"><span class="lineno"> 2324</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66947 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2325</span>    {</div>
<div class="line"><span class="lineno"> 2326</span>        spellInfo-&gt;AttributesEx5 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a376aa62261a98289589839b821786adaa38355c8ac37633a451b6ea0cad0389b6">SPELL_ATTR5_ALLOW_WHILE_STUNNED</a>;</div>
<div class="line"><span class="lineno"> 2327</span>    });</div>
<div class="line"><span class="lineno"> 2328</span> </div>
<div class="line"><span class="lineno"> 2329</span>    <span class="comment">// Trial of the Crusader, Jaraxxus, Curse of the Nether</span></div>
<div class="line"><span class="lineno"> 2330</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66211 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2331</span>    {</div>
<div class="line"><span class="lineno"> 2332</span>        spellInfo-&gt;ExcludeTargetAuraSpell = 66209; <span class="comment">// exclude Touch of Jaraxxus</span></div>
<div class="line"><span class="lineno"> 2333</span>    });</div>
<div class="line"><span class="lineno"> 2334</span> </div>
<div class="line"><span class="lineno"> 2335</span>    <span class="comment">// Trial of the Crusader, Jaraxxus, Summon Volcano</span></div>
<div class="line"><span class="lineno"> 2336</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66258, 67901 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2337</span>    {</div>
<div class="line"><span class="lineno"> 2338</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(85); <span class="comment">// summon for 18 seconds, 15 not enough</span></div>
<div class="line"><span class="lineno"> 2339</span>    });</div>
<div class="line"><span class="lineno"> 2340</span> </div>
<div class="line"><span class="lineno"> 2341</span>    <span class="comment">// Trial of the Crusader, Jaraxxus, Spinning Pain Spike</span></div>
<div class="line"><span class="lineno"> 2342</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66281 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2343</span>    {</div>
<div class="line"><span class="lineno"> 2344</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a6ca19cbc942cd306b4143a4c17041728">EFFECT_RADIUS_4_YARDS</a>);</div>
<div class="line"><span class="lineno"> 2345</span>    });</div>
<div class="line"><span class="lineno"> 2346</span> </div>
<div class="line"><span class="lineno"> 2347</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66287 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2348</span>    {</div>
<div class="line"><span class="lineno"> 2349</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><span class="lineno"> 2350</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a9a82bcb2293394d7dc4a105cc52f8aa1">SPELL_AURA_MOD_TAUNT</a>;</div>
<div class="line"><span class="lineno"> 2351</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aab0751c8895d224e37904a23bc625efa">TARGET_UNIT_NEARBY_ENTRY</a>);</div>
<div class="line"><span class="lineno"> 2352</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><span class="lineno"> 2353</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799afdf00dd634aaa25017ad329f58bd6cfd">SPELL_AURA_MOD_STUN</a>;</div>
<div class="line"><span class="lineno"> 2354</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno"> 2355</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(35); <span class="comment">// 4 secs</span></div>
<div class="line"><span class="lineno"> 2356</span>    });</div>
<div class="line"><span class="lineno"> 2357</span> </div>
<div class="line"><span class="lineno"> 2358</span>    <span class="comment">// Trial of the Crusader, Jaraxxus, Fel Fireball</span></div>
<div class="line"><span class="lineno"> 2359</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66532, 66963, 66964, 66965 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2360</span>    {</div>
<div class="line"><span class="lineno"> 2361</span>        spellInfo-&gt;InterruptFlags |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#abadf2f982fd866917c372d16ab99c109a69ed081a90c21e0d86095c70de005dbb">SPELL_INTERRUPT_FLAG_INTERRUPT</a>;</div>
<div class="line"><span class="lineno"> 2362</span>    });</div>
<div class="line"><span class="lineno"> 2363</span> </div>
<div class="line"><span class="lineno"> 2364</span>    <span class="comment">// tempfix, make Nether Power not stealable</span></div>
<div class="line"><span class="lineno"> 2365</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66228, 67106, 67107, 67108 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2366</span>    {</div>
<div class="line"><span class="lineno"> 2367</span>        spellInfo-&gt;AttributesEx4 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6ad292b675afe6f67c5524fb87701dbf59">SPELL_ATTR4_CANNOT_BE_STOLEN</a>;</div>
<div class="line"><span class="lineno"> 2368</span>    });</div>
<div class="line"><span class="lineno"> 2369</span> </div>
<div class="line"><span class="lineno"> 2370</span>    <span class="comment">// Trial of the Crusader, Faction Champions, Druid - Tranquality</span></div>
<div class="line"><span class="lineno"> 2371</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66086, 67974, 67975, 67976 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2372</span>    {</div>
<div class="line"><span class="lineno"> 2373</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a140c94210262d911b2db681aba463d19">SPELL_EFFECT_APPLY_AREA_AURA_FRIEND</a>;</div>
<div class="line"><span class="lineno"> 2374</span>    });</div>
<div class="line"><span class="lineno"> 2375</span> </div>
<div class="line"><span class="lineno"> 2376</span>    <span class="comment">// Trial of the Crusader, Faction Champions, Shaman - Earth Shield</span></div>
<div class="line"><span class="lineno"> 2377</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66063 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2378</span>    {</div>
<div class="line"><span class="lineno"> 2379</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a3c6e04ab343a9f5ef767f8e8dd71af5b">SPELL_AURA_PROC_TRIGGER_SPELL</a>;</div>
<div class="line"><span class="lineno"> 2380</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TriggerSpell = 66064;</div>
<div class="line"><span class="lineno"> 2381</span>    });</div>
<div class="line"><span class="lineno"> 2382</span> </div>
<div class="line"><span class="lineno"> 2383</span>    <span class="comment">// Trial of the Crusader, Faction Champions, Priest - Mana Burn</span></div>
<div class="line"><span class="lineno"> 2384</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66100 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2385</span>    {</div>
<div class="line"><span class="lineno"> 2386</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints = 5;</div>
<div class="line"><span class="lineno"> 2387</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].DieSides = 0;</div>
<div class="line"><span class="lineno"> 2388</span>    });</div>
<div class="line"><span class="lineno"> 2389</span> </div>
<div class="line"><span class="lineno"> 2390</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 68026 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2391</span>    {</div>
<div class="line"><span class="lineno"> 2392</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints = 8;</div>
<div class="line"><span class="lineno"> 2393</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].DieSides = 0;</div>
<div class="line"><span class="lineno"> 2394</span>    });</div>
<div class="line"><span class="lineno"> 2395</span> </div>
<div class="line"><span class="lineno"> 2396</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 68027 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2397</span>    {</div>
<div class="line"><span class="lineno"> 2398</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints = 6;</div>
<div class="line"><span class="lineno"> 2399</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].DieSides = 0;</div>
<div class="line"><span class="lineno"> 2400</span>    });</div>
<div class="line"><span class="lineno"> 2401</span> </div>
<div class="line"><span class="lineno"> 2402</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 68028 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2403</span>    {</div>
<div class="line"><span class="lineno"> 2404</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints = 10;</div>
<div class="line"><span class="lineno"> 2405</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].DieSides = 0;</div>
<div class="line"><span class="lineno"> 2406</span>    });</div>
<div class="line"><span class="lineno"> 2407</span> </div>
<div class="line"><span class="lineno"> 2408</span>    <span class="comment">// Trial of the Crusader, Twin Valkyr, Touch of Light/Darkness, Light/Dark Surge</span></div>
<div class="line"><span class="lineno"> 2409</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2410</span>        65950   <span class="comment">// light 0</span></div>
<div class="line"><span class="lineno"> 2411</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2412</span>    {</div>
<div class="line"><span class="lineno"> 2413</span>        <span class="comment">//spellInfo-&gt;EffectApplyAuraName[0] = SPELL_AURA_PERIODIC_DUMMY;</span></div>
<div class="line"><span class="lineno"> 2414</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(6);</div>
<div class="line"><span class="lineno"> 2415</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2416</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2417</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2418</span>    });</div>
<div class="line"><span class="lineno"> 2419</span> </div>
<div class="line"><span class="lineno"> 2420</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2421</span>        65767   <span class="comment">// light surge 0</span></div>
<div class="line"><span class="lineno"> 2422</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2423</span>    {</div>
<div class="line"><span class="lineno"> 2424</span>        spellInfo-&gt;ExcludeTargetAuraSpell = 65686;</div>
<div class="line"><span class="lineno"> 2425</span>    });</div>
<div class="line"><span class="lineno"> 2426</span> </div>
<div class="line"><span class="lineno"> 2427</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2428</span>        67296   <span class="comment">// light 1</span></div>
<div class="line"><span class="lineno"> 2429</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2430</span>    {</div>
<div class="line"><span class="lineno"> 2431</span>        <span class="comment">//spellInfo-&gt;Effects[EFFECT_0].ApplyAuraNames = SPELL_AURA_PERIODIC_DUMMY;</span></div>
<div class="line"><span class="lineno"> 2432</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(6);</div>
<div class="line"><span class="lineno"> 2433</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2434</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2435</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2436</span>    });</div>
<div class="line"><span class="lineno"> 2437</span> </div>
<div class="line"><span class="lineno"> 2438</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2439</span>        67274   <span class="comment">// light surge 1</span></div>
<div class="line"><span class="lineno"> 2440</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2441</span>    {</div>
<div class="line"><span class="lineno"> 2442</span>        spellInfo-&gt;ExcludeTargetAuraSpell = 67222;</div>
<div class="line"><span class="lineno"> 2443</span>    });</div>
<div class="line"><span class="lineno"> 2444</span> </div>
<div class="line"><span class="lineno"> 2445</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2446</span>        67297   <span class="comment">// light 2</span></div>
<div class="line"><span class="lineno"> 2447</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2448</span>    {</div>
<div class="line"><span class="lineno"> 2449</span>        <span class="comment">//spellInfo-&gt;Effects[EFFECT_0].ApplyAuraNames = SPELL_AURA_PERIODIC_DUMMY;</span></div>
<div class="line"><span class="lineno"> 2450</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(6);</div>
<div class="line"><span class="lineno"> 2451</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2452</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2453</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2454</span>    });</div>
<div class="line"><span class="lineno"> 2455</span> </div>
<div class="line"><span class="lineno"> 2456</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2457</span>        67275   <span class="comment">// light surge 2</span></div>
<div class="line"><span class="lineno"> 2458</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2459</span>    {</div>
<div class="line"><span class="lineno"> 2460</span>        spellInfo-&gt;ExcludeTargetAuraSpell = 67223;</div>
<div class="line"><span class="lineno"> 2461</span>    });</div>
<div class="line"><span class="lineno"> 2462</span> </div>
<div class="line"><span class="lineno"> 2463</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2464</span>        67298   <span class="comment">// light 3</span></div>
<div class="line"><span class="lineno"> 2465</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2466</span>    {</div>
<div class="line"><span class="lineno"> 2467</span>        <span class="comment">//spellInfo-&gt;Effects[EFFECT_0].ApplyAuraNames = SPELL_AURA_PERIODIC_DUMMY;</span></div>
<div class="line"><span class="lineno"> 2468</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(6);</div>
<div class="line"><span class="lineno"> 2469</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2470</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2471</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2472</span>    });</div>
<div class="line"><span class="lineno"> 2473</span> </div>
<div class="line"><span class="lineno"> 2474</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2475</span>        67276   <span class="comment">// light surge 3</span></div>
<div class="line"><span class="lineno"> 2476</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2477</span>    {</div>
<div class="line"><span class="lineno"> 2478</span>        spellInfo-&gt;ExcludeTargetAuraSpell = 67224;</div>
<div class="line"><span class="lineno"> 2479</span>    });</div>
<div class="line"><span class="lineno"> 2480</span> </div>
<div class="line"><span class="lineno"> 2481</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2482</span>        66001   <span class="comment">// dark 0</span></div>
<div class="line"><span class="lineno"> 2483</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2484</span>    {</div>
<div class="line"><span class="lineno"> 2485</span>        <span class="comment">//spellInfo-&gt;Effects[EFFECT_0].ApplyAuraNames = SPELL_AURA_PERIODIC_DUMMY;</span></div>
<div class="line"><span class="lineno"> 2486</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(6);</div>
<div class="line"><span class="lineno"> 2487</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2488</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2489</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2490</span>    });</div>
<div class="line"><span class="lineno"> 2491</span> </div>
<div class="line"><span class="lineno"> 2492</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2493</span>        65769   <span class="comment">// dark surge 0</span></div>
<div class="line"><span class="lineno"> 2494</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2495</span>    {</div>
<div class="line"><span class="lineno"> 2496</span>        spellInfo-&gt;ExcludeTargetAuraSpell = 65684;</div>
<div class="line"><span class="lineno"> 2497</span>    });</div>
<div class="line"><span class="lineno"> 2498</span> </div>
<div class="line"><span class="lineno"> 2499</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2500</span>        67281   <span class="comment">// dark 1</span></div>
<div class="line"><span class="lineno"> 2501</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2502</span>    {</div>
<div class="line"><span class="lineno"> 2503</span>        <span class="comment">//spellInfo-&gt;Effects[EFFECT_0].ApplyAuraNames = SPELL_AURA_PERIODIC_DUMMY;</span></div>
<div class="line"><span class="lineno"> 2504</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(6);</div>
<div class="line"><span class="lineno"> 2505</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2506</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2507</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2508</span>    });</div>
<div class="line"><span class="lineno"> 2509</span> </div>
<div class="line"><span class="lineno"> 2510</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2511</span>        67265   <span class="comment">// dark surge 1</span></div>
<div class="line"><span class="lineno"> 2512</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2513</span>    {</div>
<div class="line"><span class="lineno"> 2514</span>        spellInfo-&gt;ExcludeTargetAuraSpell = 67176;</div>
<div class="line"><span class="lineno"> 2515</span>    });</div>
<div class="line"><span class="lineno"> 2516</span> </div>
<div class="line"><span class="lineno"> 2517</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2518</span>        67282   <span class="comment">// dark 2</span></div>
<div class="line"><span class="lineno"> 2519</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2520</span>    {</div>
<div class="line"><span class="lineno"> 2521</span>        <span class="comment">//spellInfo-&gt;Effects[EFFECT_0].ApplyAuraNames = SPELL_AURA_PERIODIC_DUMMY;</span></div>
<div class="line"><span class="lineno"> 2522</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(6);</div>
<div class="line"><span class="lineno"> 2523</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2524</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2525</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2526</span>    });</div>
<div class="line"><span class="lineno"> 2527</span> </div>
<div class="line"><span class="lineno"> 2528</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2529</span>        67266   <span class="comment">// dark surge 2</span></div>
<div class="line"><span class="lineno"> 2530</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2531</span>    {</div>
<div class="line"><span class="lineno"> 2532</span>        spellInfo-&gt;ExcludeTargetAuraSpell = 67177;</div>
<div class="line"><span class="lineno"> 2533</span>    });</div>
<div class="line"><span class="lineno"> 2534</span> </div>
<div class="line"><span class="lineno"> 2535</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2536</span>        67283   <span class="comment">// dark 3</span></div>
<div class="line"><span class="lineno"> 2537</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2538</span>    {</div>
<div class="line"><span class="lineno"> 2539</span>        <span class="comment">//spellInfo-&gt;Effects[EFFECT_0].ApplyAuraNames = SPELL_AURA_PERIODIC_DUMMY;</span></div>
<div class="line"><span class="lineno"> 2540</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(6);</div>
<div class="line"><span class="lineno"> 2541</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2542</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2543</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2544</span>    });</div>
<div class="line"><span class="lineno"> 2545</span> </div>
<div class="line"><span class="lineno"> 2546</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2547</span>        67267   <span class="comment">// dark surge 3</span></div>
<div class="line"><span class="lineno"> 2548</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2549</span>    {</div>
<div class="line"><span class="lineno"> 2550</span>        spellInfo-&gt;ExcludeTargetAuraSpell = 67178;</div>
<div class="line"><span class="lineno"> 2551</span>    });</div>
<div class="line"><span class="lineno"> 2552</span> </div>
<div class="line"><span class="lineno"> 2553</span>    <span class="comment">// Trial of the Crusader, Twin Valkyr, Twin&#39;s Pact</span></div>
<div class="line"><span class="lineno"> 2554</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 65875, 67303, 67304, 67305, 65876, 67306, 67307, 67308 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2555</span>    {</div>
<div class="line"><span class="lineno"> 2556</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2557</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2558</span>    });</div>
<div class="line"><span class="lineno"> 2559</span> </div>
<div class="line"><span class="lineno"> 2560</span>    <span class="comment">// Trial of the Crusader, Anub&#39;arak, Emerge</span></div>
<div class="line"><span class="lineno"> 2561</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 65982 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2562</span>    {</div>
<div class="line"><span class="lineno"> 2563</span>        spellInfo-&gt;AttributesEx5 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a376aa62261a98289589839b821786adaa38355c8ac37633a451b6ea0cad0389b6">SPELL_ATTR5_ALLOW_WHILE_STUNNED</a>;</div>
<div class="line"><span class="lineno"> 2564</span>    });</div>
<div class="line"><span class="lineno"> 2565</span> </div>
<div class="line"><span class="lineno"> 2566</span>    <span class="comment">// Trial of the Crusader, Anub&#39;arak, Penetrating Cold</span></div>
<div class="line"><span class="lineno"> 2567</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66013, 67700, 68509, 68510 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2568</span>    {</div>
<div class="line"><span class="lineno"> 2569</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>); <span class="comment">// 100yd</span></div>
<div class="line"><span class="lineno"> 2570</span>    });</div>
<div class="line"><span class="lineno"> 2571</span> </div>
<div class="line"><span class="lineno"> 2572</span>    <span class="comment">// Trial of the Crusader, Anub&#39;arak, Shadow Strike</span></div>
<div class="line"><span class="lineno"> 2573</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66134 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2574</span>    {</div>
<div class="line"><span class="lineno"> 2575</span>        spellInfo-&gt;InterruptFlags |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#abadf2f982fd866917c372d16ab99c109a69ed081a90c21e0d86095c70de005dbb">SPELL_INTERRUPT_FLAG_INTERRUPT</a>;</div>
<div class="line"><span class="lineno"> 2576</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2577</span>    });</div>
<div class="line"><span class="lineno"> 2578</span> </div>
<div class="line"><span class="lineno"> 2579</span>    <span class="comment">// Trial of the Crusader, Anub&#39;arak, Pursuing Spikes</span></div>
<div class="line"><span class="lineno"> 2580</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 65920, 65922, 65923 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2581</span>    {</div>
<div class="line"><span class="lineno"> 2582</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799add498157825d0faca2c013bbcdfbae56">SPELL_AURA_PERIODIC_DUMMY</a>;</div>
<div class="line"><span class="lineno"> 2583</span>        <span class="comment">//spellInfo-&gt;EffectTriggerSpell[0] = 0;</span></div>
<div class="line"><span class="lineno"> 2584</span>    });</div>
<div class="line"><span class="lineno"> 2585</span> </div>
<div class="line"><span class="lineno"> 2586</span>    <span class="comment">// Trial of the Crusader, Anub&#39;arak, Summon Scarab</span></div>
<div class="line"><span class="lineno"> 2587</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66339 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2588</span>    {</div>
<div class="line"><span class="lineno"> 2589</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(35);</div>
<div class="line"><span class="lineno"> 2590</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(25);</div>
<div class="line"><span class="lineno"> 2591</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2592</span>    });</div>
<div class="line"><span class="lineno"> 2593</span> </div>
<div class="line"><span class="lineno"> 2594</span>    <span class="comment">// Trial of the Crusader, Anub&#39;arak, Achievements: The Traitor King</span></div>
<div class="line"><span class="lineno"> 2595</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2596</span>        68186,  <span class="comment">// Anub&#39;arak Scarab Achievement 10</span></div>
<div class="line"><span class="lineno"> 2597</span>        68515   <span class="comment">// Anub&#39;arak Scarab Achievement 25</span></div>
<div class="line"><span class="lineno"> 2598</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2599</span>    {</div>
<div class="line"><span class="lineno"> 2600</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>);</div>
<div class="line"><span class="lineno"> 2601</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7b8c7cf5819db17b9ed16dfbb93addb4">TARGET_UNIT_SRC_AREA_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 2602</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44adaba896f4f7d6dc5d34f09ff29f5db159a">SPELL_ATTR0_ALLOW_CAST_WHILE_DEAD</a>;</div>
<div class="line"><span class="lineno"> 2603</span>    });</div>
<div class="line"><span class="lineno"> 2604</span> </div>
<div class="line"><span class="lineno"> 2605</span>    <span class="comment">// Trial of the Crusader, Anub&#39;arak, Spider Frenzy</span></div>
<div class="line"><span class="lineno"> 2606</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 66129 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2607</span>    {</div>
<div class="line"><span class="lineno"> 2608</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><span class="lineno"> 2609</span>    });</div>
<div class="line"><span class="lineno"> 2610</span> </div>
<div class="line"><span class="lineno"> 2611</span>    <span class="comment">// Soul Sickness</span></div>
<div class="line"><span class="lineno"> 2612</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69131 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2613</span>    {</div>
<div class="line"><span class="lineno"> 2614</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799af51e1877e096bbfd69505e5ab4fc69ad">SPELL_AURA_PERIODIC_TRIGGER_SPELL</a>;</div>
<div class="line"><span class="lineno"> 2615</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Amplitude = 8000;</div>
<div class="line"><span class="lineno"> 2616</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TriggerSpell = 69133;</div>
<div class="line"><span class="lineno"> 2617</span>    });</div>
<div class="line"><span class="lineno"> 2618</span> </div>
<div class="line"><span class="lineno"> 2619</span>    <span class="comment">// Phantom Blast</span></div>
<div class="line"><span class="lineno"> 2620</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 68982, 70322 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2621</span>    {</div>
<div class="line"><span class="lineno"> 2622</span>        spellInfo-&gt;InterruptFlags |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#abadf2f982fd866917c372d16ab99c109a69ed081a90c21e0d86095c70de005dbb">SPELL_INTERRUPT_FLAG_INTERRUPT</a>;</div>
<div class="line"><span class="lineno"> 2623</span>    });</div>
<div class="line"><span class="lineno"> 2624</span> </div>
<div class="line"><span class="lineno"> 2625</span>    <span class="comment">// Empowered Blizzard</span></div>
<div class="line"><span class="lineno"> 2626</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70131 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2627</span>    {</div>
<div class="line"><span class="lineno"> 2628</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>);</div>
<div class="line"><span class="lineno"> 2629</span>    });</div>
<div class="line"><span class="lineno"> 2630</span> </div>
<div class="line"><span class="lineno"> 2631</span>    <span class="comment">// Ice Lance Volley</span></div>
<div class="line"><span class="lineno"> 2632</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70464 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2633</span>    {</div>
<div class="line"><span class="lineno"> 2634</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>);</div>
<div class="line"><span class="lineno"> 2635</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a>);</div>
<div class="line"><span class="lineno"> 2636</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a7d28b9fbd24fa0df7b57ea9bc707e8a7">EFFECT_RADIUS_70_YARDS</a>);</div>
<div class="line"><span class="lineno"> 2637</span>    });</div>
<div class="line"><span class="lineno"> 2638</span> </div>
<div class="line"><span class="lineno"> 2639</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2640</span>        70513,   <span class="comment">// Multi-Shot</span></div>
<div class="line"><span class="lineno"> 2641</span>        59514    <span class="comment">// Shriek of the Highborne</span></div>
<div class="line"><span class="lineno"> 2642</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2643</span>    {</div>
<div class="line"><span class="lineno"> 2644</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a0b51bc473102ffda4749bf8515131ee2">TARGET_UNIT_CONE_ENTRY</a>);</div>
<div class="line"><span class="lineno"> 2645</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2646</span>    });</div>
<div class="line"><span class="lineno"> 2647</span> </div>
<div class="line"><span class="lineno"> 2648</span>    <span class="comment">// Icicle</span></div>
<div class="line"><span class="lineno"> 2649</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69428, 69426 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2650</span>    {</div>
<div class="line"><span class="lineno"> 2651</span>        spellInfo-&gt;InterruptFlags = 0;</div>
<div class="line"><span class="lineno"> 2652</span>        spellInfo-&gt;AuraInterruptFlags = 0;</div>
<div class="line"><span class="lineno"> 2653</span>        spellInfo-&gt;ChannelInterruptFlags = 0;</div>
<div class="line"><span class="lineno"> 2654</span>    });</div>
<div class="line"><span class="lineno"> 2655</span> </div>
<div class="line"><span class="lineno"> 2656</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70525, 70639 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2657</span>    {</div>
<div class="line"><span class="lineno"> 2658</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2659</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2660</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>);</div>
<div class="line"><span class="lineno"> 2661</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a>);</div>
<div class="line"><span class="lineno"> 2662</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a12ae63600ccfe4296e546ef44d3ef3e9">EFFECT_RADIUS_500_YARDS</a>); <span class="comment">// 500yd</span></div>
<div class="line"><span class="lineno"> 2663</span>    });</div>
<div class="line"><span class="lineno"> 2664</span> </div>
<div class="line"><span class="lineno"> 2665</span>    <span class="comment">// Frost Nova</span></div>
<div class="line"><span class="lineno"> 2666</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 68198 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2667</span>    {</div>
<div class="line"><span class="lineno"> 2668</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(13);</div>
<div class="line"><span class="lineno"> 2669</span>        spellInfo-&gt;Targets |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a3c11f0d0cd9689554b34ccbc325da54fa6743615e8912aefb100fe3f804c162be">TARGET_FLAG_DEST_LOCATION</a>;</div>
<div class="line"><span class="lineno"> 2670</span>    });</div>
<div class="line"><span class="lineno"> 2671</span> </div>
<div class="line"><span class="lineno"> 2672</span>    <span class="comment">// Blight</span></div>
<div class="line"><span class="lineno"> 2673</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69604, 70286 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2674</span>    {</div>
<div class="line"><span class="lineno"> 2675</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno"> 2676</span>        spellInfo-&gt;AttributesEx3 |= (<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a> | <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81afd31a3efb01e11ee685cd0cac502b9ac">SPELL_ATTR3_ONLY_ON_PLAYER</a>);</div>
<div class="line"><span class="lineno"> 2677</span>    });</div>
<div class="line"><span class="lineno"> 2678</span> </div>
<div class="line"><span class="lineno"> 2679</span>    <span class="comment">// Chilling Wave</span></div>
<div class="line"><span class="lineno"> 2680</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 68778, 70333 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2681</span>    {</div>
<div class="line"><span class="lineno"> 2682</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a85d8f0e6d574cf640ec0c42b54e2ad3c">TARGET_DEST_TARGET_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 2683</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2684</span>    });</div>
<div class="line"><span class="lineno"> 2685</span> </div>
<div class="line"><span class="lineno"> 2686</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 68786, 70336 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2687</span>    {</div>
<div class="line"><span class="lineno"> 2688</span>        spellInfo-&gt;AttributesEx3 |= (<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a> | <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81afd31a3efb01e11ee685cd0cac502b9ac">SPELL_ATTR3_ONLY_ON_PLAYER</a>);</div>
<div class="line"><span class="lineno"> 2689</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a>;</div>
<div class="line"><span class="lineno"> 2690</span>    });</div>
<div class="line"><span class="lineno"> 2691</span> </div>
<div class="line"><span class="lineno"> 2692</span>    <span class="comment">// Pursuit</span></div>
<div class="line"><span class="lineno"> 2693</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 68987 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2694</span>    {</div>
<div class="line"><span class="lineno"> 2695</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 2696</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2697</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 2698</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2699</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno"> 2700</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2701</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(6); <span class="comment">// 100yd</span></div>
<div class="line"><span class="lineno"> 2702</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><span class="lineno"> 2703</span>    });</div>
<div class="line"><span class="lineno"> 2704</span> </div>
<div class="line"><span class="lineno"> 2705</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69029, 70850 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2706</span>    {</div>
<div class="line"><span class="lineno"> 2707</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2708</span>    });</div>
<div class="line"><span class="lineno"> 2709</span> </div>
<div class="line"><span class="lineno"> 2710</span>    <span class="comment">// Explosive Barrage</span></div>
<div class="line"><span class="lineno"> 2711</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69263 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2712</span>    {</div>
<div class="line"><span class="lineno"> 2713</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799afdf00dd634aaa25017ad329f58bd6cfd">SPELL_AURA_MOD_STUN</a>;</div>
<div class="line"><span class="lineno"> 2714</span>    });</div>
<div class="line"><span class="lineno"> 2715</span> </div>
<div class="line"><span class="lineno"> 2716</span>    <span class="comment">// Overlord&#39;s Brand</span></div>
<div class="line"><span class="lineno"> 2717</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69172 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2718</span>    {</div>
<div class="line"><span class="lineno"> 2719</span>        spellInfo-&gt;ProcFlags = <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6ae0cef27dc24d6bd6fa46efa85df7d488">DONE_HIT_PROC_FLAG_MASK</a> &amp; ~PROC_FLAG_DONE_PERIODIC;</div>
<div class="line"><span class="lineno"> 2720</span>        spellInfo-&gt;ProcChance = 100;</div>
<div class="line"><span class="lineno"> 2721</span>    });</div>
<div class="line"><span class="lineno"> 2722</span> </div>
<div class="line"><span class="lineno"> 2723</span>    <span class="comment">// Icy Blast</span></div>
<div class="line"><span class="lineno"> 2724</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69232 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2725</span>    {</div>
<div class="line"><span class="lineno"> 2726</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TriggerSpell = 69238;</div>
<div class="line"><span class="lineno"> 2727</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 2728</span>    });</div>
<div class="line"><span class="lineno"> 2729</span> </div>
<div class="line"><span class="lineno"> 2730</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69233, 69646 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2731</span>    {</div>
<div class="line"><span class="lineno"> 2732</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 2733</span>    });</div>
<div class="line"><span class="lineno"> 2734</span> </div>
<div class="line"><span class="lineno"> 2735</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69238, 69628 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2736</span>    {</div>
<div class="line"><span class="lineno"> 2737</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>);</div>
<div class="line"><span class="lineno"> 2738</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a86bfc5644ebafe704834da6ecb5a0ac8">TARGET_DEST_DYNOBJ_NONE</a>);</div>
<div class="line"><span class="lineno"> 2739</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>);</div>
<div class="line"><span class="lineno"> 2740</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a86bfc5644ebafe704834da6ecb5a0ac8">TARGET_DEST_DYNOBJ_NONE</a>);</div>
<div class="line"><span class="lineno"> 2741</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 2742</span>    });</div>
<div class="line"><span class="lineno"> 2743</span> </div>
<div class="line"><span class="lineno"> 2744</span>    <span class="comment">// Hoarfrost</span></div>
<div class="line"><span class="lineno"> 2745</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69246, 69245, 69645 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2746</span>    {</div>
<div class="line"><span class="lineno"> 2747</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 2748</span>    });</div>
<div class="line"><span class="lineno"> 2749</span> </div>
<div class="line"><span class="lineno"> 2750</span>    <span class="comment">// Devour Humanoid</span></div>
<div class="line"><span class="lineno"> 2751</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69503 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2752</span>    {</div>
<div class="line"><span class="lineno"> 2753</span>        spellInfo-&gt;ChannelInterruptFlags |= 0;</div>
<div class="line"><span class="lineno"> 2754</span>        spellInfo-&gt;AuraInterruptFlags = <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a79d9517e2981beafd03e4ee2ccbb1c35">AURA_INTERRUPT_FLAG_MOVE</a> | <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a7ff7b6e5eb8b89e335cbed2efcc61ec3">AURA_INTERRUPT_FLAG_TURNING</a>;</div>
<div class="line"><span class="lineno"> 2755</span>    });</div>
<div class="line"><span class="lineno"> 2756</span> </div>
<div class="line"><span class="lineno"> 2757</span>    <span class="comment">// Falric: Defiling Horror</span></div>
<div class="line"><span class="lineno"> 2758</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72435, 72452 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2759</span>    {</div>
<div class="line"><span class="lineno"> 2760</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>);</div>
<div class="line"><span class="lineno"> 2761</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>);</div>
<div class="line"><span class="lineno"> 2762</span>    });</div>
<div class="line"><span class="lineno"> 2763</span> </div>
<div class="line"><span class="lineno"> 2764</span>    <span class="comment">// Frostsworn General - Throw Shield</span></div>
<div class="line"><span class="lineno"> 2765</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69222, 73076 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2766</span>    {</div>
<div class="line"><span class="lineno"> 2767</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 2768</span>    });</div>
<div class="line"><span class="lineno"> 2769</span> </div>
<div class="line"><span class="lineno"> 2770</span>    <span class="comment">// Halls of Reflection Clone</span></div>
<div class="line"><span class="lineno"> 2771</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69828 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2772</span>    {</div>
<div class="line"><span class="lineno"> 2773</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2774</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2775</span>    });</div>
<div class="line"><span class="lineno"> 2776</span> </div>
<div class="line"><span class="lineno"> 2777</span>    <span class="comment">// Summon Ice Wall</span></div>
<div class="line"><span class="lineno"> 2778</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69768 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2779</span>    {</div>
<div class="line"><span class="lineno"> 2780</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 2781</span>        spellInfo-&gt;AttributesEx5 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a376aa62261a98289589839b821786adaa9e87c441d0ab6017a669f1d3a3081411">SPELL_ATTR5_ALLOW_ACTION_DURING_CHANNEL</a>;</div>
<div class="line"><span class="lineno"> 2782</span>    });</div>
<div class="line"><span class="lineno"> 2783</span> </div>
<div class="line"><span class="lineno"> 2784</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69767 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2785</span>    {</div>
<div class="line"><span class="lineno"> 2786</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a036a2b93df9713482bdbf62afd6d07cd">TARGET_DEST_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 2787</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 2788</span>    });</div>
<div class="line"><span class="lineno"> 2789</span> </div>
<div class="line"><span class="lineno"> 2790</span>    <span class="comment">// Essence of the Captured</span></div>
<div class="line"><span class="lineno"> 2791</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 73035, 70719 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2792</span>    {</div>
<div class="line"><span class="lineno"> 2793</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(13);</div>
<div class="line"><span class="lineno"> 2794</span>    });</div>
<div class="line"><span class="lineno"> 2795</span> </div>
<div class="line"><span class="lineno"> 2796</span>    <span class="comment">// Achievement Check</span></div>
<div class="line"><span class="lineno"> 2797</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72830 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2798</span>    {</div>
<div class="line"><span class="lineno"> 2799</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>);</div>
<div class="line"><span class="lineno"> 2800</span>    });</div>
<div class="line"><span class="lineno"> 2801</span> </div>
<div class="line"><span class="lineno"> 2802</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2803</span>        70781,  <span class="comment">// Light&#39;s Hammer Teleport</span></div>
<div class="line"><span class="lineno"> 2804</span>        70856,  <span class="comment">// Oratory of the Damned Teleport</span></div>
<div class="line"><span class="lineno"> 2805</span>        70857,  <span class="comment">// Rampart of Skulls Teleport</span></div>
<div class="line"><span class="lineno"> 2806</span>        70858,  <span class="comment">// Deathbringer&#39;s Rise Teleport</span></div>
<div class="line"><span class="lineno"> 2807</span>        70859,  <span class="comment">// Upper Spire Teleport</span></div>
<div class="line"><span class="lineno"> 2808</span>        70860,  <span class="comment">// Frozen Throne Teleport</span></div>
<div class="line"><span class="lineno"> 2809</span>        70861   <span class="comment">// Sindragosa&#39;s Lair Teleport</span></div>
<div class="line"><span class="lineno"> 2810</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2811</span>    {</div>
<div class="line"><span class="lineno"> 2812</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 2813</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2814</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a26506da78f6a6950f7ac66718b775817">TARGET_DEST_DB</a>); <span class="comment">// this target is for SPELL_EFFECT_TELEPORT_UNITS</span></div>
<div class="line"><span class="lineno"> 2815</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2816</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 2817</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2818</span>    });</div>
<div class="line"><span class="lineno"> 2819</span> </div>
<div class="line"><span class="lineno"> 2820</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2821</span>        70960,  <span class="comment">// Bone Flurry</span></div>
<div class="line"><span class="lineno"> 2822</span>        71258   <span class="comment">// Adrenaline Rush (Ymirjar Battle-Maiden)</span></div>
<div class="line"><span class="lineno"> 2823</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2824</span>    {</div>
<div class="line"><span class="lineno"> 2825</span>        spellInfo-&gt;AttributesEx &amp;= ~SPELL_ATTR1_IS_SELF_CHANNELED;</div>
<div class="line"><span class="lineno"> 2826</span>    });</div>
<div class="line"><span class="lineno"> 2827</span> </div>
<div class="line"><span class="lineno"> 2828</span>    <span class="comment">// Saber Lash (Lord Marrowgar)</span></div>
<div class="line"><span class="lineno"> 2829</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69055, 70814 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2830</span>    {</div>
<div class="line"><span class="lineno"> 2831</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a74fa9db552286d6be06aa972e3ba6e72">EFFECT_RADIUS_5_YARDS</a>); <span class="comment">// 5yd</span></div>
<div class="line"><span class="lineno"> 2832</span>    });</div>
<div class="line"><span class="lineno"> 2833</span> </div>
<div class="line"><span class="lineno"> 2834</span>    <span class="comment">// Impaled (Lord Marrowgar)</span></div>
<div class="line"><span class="lineno"> 2835</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69065 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2836</span>    {</div>
<div class="line"><span class="lineno"> 2837</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = 0;   <span class="comment">// remove stun so Dispersion can be used</span></div>
<div class="line"><span class="lineno"> 2838</span>    });</div>
<div class="line"><span class="lineno"> 2839</span> </div>
<div class="line"><span class="lineno"> 2840</span>    <span class="comment">// Cold Flame (Lord Marrowgar)</span></div>
<div class="line"><span class="lineno"> 2841</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72701, 72702, 72703, 72704 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2842</span>    {</div>
<div class="line"><span class="lineno"> 2843</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno"> 2844</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>);</div>
<div class="line"><span class="lineno"> 2845</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2846</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(9);   <span class="comment">// 30 secs instead of 12, need him for longer, but will stop his actions after 12 secs</span></div>
<div class="line"><span class="lineno"> 2847</span>    });</div>
<div class="line"><span class="lineno"> 2848</span> </div>
<div class="line"><span class="lineno"> 2849</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69138 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2850</span>    {</div>
<div class="line"><span class="lineno"> 2851</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2852</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>);</div>
<div class="line"><span class="lineno"> 2853</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(9);   <span class="comment">// 30 secs instead of 12, need him for longer, but will stop his actions after 12 secs</span></div>
<div class="line"><span class="lineno"> 2854</span>    });</div>
<div class="line"><span class="lineno"> 2855</span> </div>
<div class="line"><span class="lineno"> 2856</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69146, 70823, 70824, 70825 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2857</span>    {</div>
<div class="line"><span class="lineno"> 2858</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a84f16c69f55cca8b4fdde0c6778d9912">EFFECT_RADIUS_3_YARDS</a>); <span class="comment">// 3yd instead of 5yd</span></div>
<div class="line"><span class="lineno"> 2859</span>        spellInfo-&gt;AttributesEx4 &amp;= ~SPELL_ATTR4_NO_CAST_LOG;</div>
<div class="line"><span class="lineno"> 2860</span>    });</div>
<div class="line"><span class="lineno"> 2861</span> </div>
<div class="line"><span class="lineno"> 2862</span>    <span class="comment">// Dark Martyrdom (Lady Deathwhisper)</span></div>
<div class="line"><span class="lineno"> 2863</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70897 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2864</span>    {</div>
<div class="line"><span class="lineno"> 2865</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ad2cb623676f084a0370c1983084a29d8">SPELL_ATTR2_ALLOW_DEAD_TARGET</a>;</div>
<div class="line"><span class="lineno"> 2866</span>    });</div>
<div class="line"><span class="lineno"> 2867</span> </div>
<div class="line"><span class="lineno"> 2868</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2869</span>        69075,  <span class="comment">// Bone Storm (Lord Marrowgar)</span></div>
<div class="line"><span class="lineno"> 2870</span>        70834,  <span class="comment">// Bone Storm (Lord Marrowgar)</span></div>
<div class="line"><span class="lineno"> 2871</span>        70835,  <span class="comment">// Bone Storm (Lord Marrowgar)</span></div>
<div class="line"><span class="lineno"> 2872</span>        70836,  <span class="comment">// Bone Storm (Lord Marrowgar)</span></div>
<div class="line"><span class="lineno"> 2873</span>        72378,  <span class="comment">// Blood Nova (Deathbringer Saurfang)</span></div>
<div class="line"><span class="lineno"> 2874</span>        73058,  <span class="comment">// Blood Nova (Deathbringer Saurfang)</span></div>
<div class="line"><span class="lineno"> 2875</span>        72769,  <span class="comment">// Scent of Blood (Deathbringer Saurfang)</span></div>
<div class="line"><span class="lineno"> 2876</span>        72385,  <span class="comment">// Boiling Blood (Deathbringer Saurfang)</span></div>
<div class="line"><span class="lineno"> 2877</span>        72441,  <span class="comment">// Boiling Blood (Deathbringer Saurfang)</span></div>
<div class="line"><span class="lineno"> 2878</span>        72442,  <span class="comment">// Boiling Blood (Deathbringer Saurfang)</span></div>
<div class="line"><span class="lineno"> 2879</span>        72443,  <span class="comment">// Boiling Blood (Deathbringer Saurfang)</span></div>
<div class="line"><span class="lineno"> 2880</span>        71160,  <span class="comment">// Plague Stench (Stinky)</span></div>
<div class="line"><span class="lineno"> 2881</span>        71161,  <span class="comment">// Plague Stench (Stinky)</span></div>
<div class="line"><span class="lineno"> 2882</span>        71123,  <span class="comment">// Decimate (Stinky &amp; Precious)</span></div>
<div class="line"><span class="lineno"> 2883</span>        71464   <span class="comment">// Divine Surge (Sister Svalna)</span></div>
<div class="line"><span class="lineno"> 2884</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2885</span>    {</div>
<div class="line"><span class="lineno"> 2886</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>);   <span class="comment">// 100yd</span></div>
<div class="line"><span class="lineno"> 2887</span>    });</div>
<div class="line"><span class="lineno"> 2888</span> </div>
<div class="line"><span class="lineno"> 2889</span>    <span class="comment">// Shadow&#39;s Fate</span></div>
<div class="line"><span class="lineno"> 2890</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 71169 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2891</span>    {</div>
<div class="line"><span class="lineno"> 2892</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><span class="lineno"> 2893</span>    });</div>
<div class="line"><span class="lineno"> 2894</span> </div>
<div class="line"><span class="lineno"> 2895</span>    <span class="comment">// Lock Players and Tap Chest</span></div>
<div class="line"><span class="lineno"> 2896</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72347 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2897</span>    {</div>
<div class="line"><span class="lineno"> 2898</span>        spellInfo-&gt;AttributesEx3 &amp;= ~SPELL_ATTR3_SUPPRESS_TARGET_PROCS;</div>
<div class="line"><span class="lineno"> 2899</span>    });</div>
<div class="line"><span class="lineno"> 2900</span> </div>
<div class="line"><span class="lineno"> 2901</span>    <span class="comment">// Award Reputation - Boss Kill</span></div>
<div class="line"><span class="lineno"> 2902</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 73843, 73844, 73845, 73846 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2903</span>    {</div>
<div class="line"><span class="lineno"> 2904</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>);</div>
<div class="line"><span class="lineno"> 2905</span>    });</div>
<div class="line"><span class="lineno"> 2906</span> </div>
<div class="line"><span class="lineno"> 2907</span>    <span class="comment">// Death Plague (Rotting Frost Giant)</span></div>
<div class="line"><span class="lineno"> 2908</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72864 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2909</span>    {</div>
<div class="line"><span class="lineno"> 2910</span>        spellInfo-&gt;ExcludeTargetAuraSpell = 0;</div>
<div class="line"><span class="lineno"> 2911</span>    });</div>
<div class="line"><span class="lineno"> 2912</span> </div>
<div class="line"><span class="lineno"> 2913</span>    <span class="comment">// Gunship Battle, spell Below Zero</span></div>
<div class="line"><span class="lineno"> 2914</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69705 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2915</span>    {</div>
<div class="line"><span class="lineno"> 2916</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><span class="lineno"> 2917</span>    });</div>
<div class="line"><span class="lineno"> 2918</span> </div>
<div class="line"><span class="lineno"> 2919</span>    <span class="comment">// Resistant Skin (Deathbringer Saurfang adds)</span></div>
<div class="line"><span class="lineno"> 2920</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72723 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2921</span>    {</div>
<div class="line"><span class="lineno"> 2922</span>        <span class="comment">// this spell initially granted Shadow damage immunity, however it was removed but the data was left in client</span></div>
<div class="line"><span class="lineno"> 2923</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2924</span>    });</div>
<div class="line"><span class="lineno"> 2925</span> </div>
<div class="line"><span class="lineno"> 2926</span>    <span class="comment">// Mark of the Fallen Champion (Deathbringer Saurfang)</span></div>
<div class="line"><span class="lineno"> 2927</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72255, 72444, 72445, 72446 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2928</span>    {</div>
<div class="line"><span class="lineno"> 2929</span>        <span class="comment">// Patch 3.3.2 (2010-01-02): Deathbringer Saurfang will no longer gain blood power from Mark of the Fallen Champion.</span></div>
<div class="line"><span class="lineno"> 2930</span>        <span class="comment">// prevented in script, effect needed for Prayer of Mending</span></div>
<div class="line"><span class="lineno"> 2931</span>        spellInfo-&gt;AttributesEx3 &amp;= ~SPELL_ATTR3_SUPPRESS_CASTER_PROCS;</div>
<div class="line"><span class="lineno"> 2932</span>    });</div>
<div class="line"><span class="lineno"> 2933</span> </div>
<div class="line"><span class="lineno"> 2934</span>    <span class="comment">// Coldflame Jets (Traps after Saurfang)</span></div>
<div class="line"><span class="lineno"> 2935</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70460 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2936</span>    {</div>
<div class="line"><span class="lineno"> 2937</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(1); <span class="comment">// 10 seconds</span></div>
<div class="line"><span class="lineno"> 2938</span>    });</div>
<div class="line"><span class="lineno"> 2939</span> </div>
<div class="line"><span class="lineno"> 2940</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2941</span>        70461,  <span class="comment">// Coldflame Jets (Traps after Saurfang)</span></div>
<div class="line"><span class="lineno"> 2942</span>        71289   <span class="comment">// Dominate Mind (Lady Deathwhisper)</span></div>
<div class="line"><span class="lineno"> 2943</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2944</span>    {</div>
<div class="line"><span class="lineno"> 2945</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 2946</span>    });</div>
<div class="line"><span class="lineno"> 2947</span> </div>
<div class="line"><span class="lineno"> 2948</span>    <span class="comment">// Severed Essence (Val&#39;kyr Herald)</span></div>
<div class="line"><span class="lineno"> 2949</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 71906, 71942 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2950</span>    {</div>
<div class="line"><span class="lineno"> 2951</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 2952</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 2953</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 2954</span>    });</div>
<div class="line"><span class="lineno"> 2955</span> </div>
<div class="line"><span class="lineno"> 2956</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2957</span>        71159,  <span class="comment">// Awaken Plagued Zombies (Precious)</span></div>
<div class="line"><span class="lineno"> 2958</span>        71302   <span class="comment">// Awaken Ymirjar Fallen (Ymirjar Deathbringer)</span></div>
<div class="line"><span class="lineno"> 2959</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2960</span>    {</div>
<div class="line"><span class="lineno"> 2961</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(21);</div>
<div class="line"><span class="lineno"> 2962</span>    });</div>
<div class="line"><span class="lineno"> 2963</span> </div>
<div class="line"><span class="lineno"> 2964</span>    <span class="comment">// Blood Prince Council, Invocation of Blood</span></div>
<div class="line"><span class="lineno"> 2965</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70981, 70982, 70952 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2966</span>    {</div>
<div class="line"><span class="lineno"> 2967</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = 0; <span class="comment">// clear share health aura</span></div>
<div class="line"><span class="lineno"> 2968</span>    });</div>
<div class="line"><span class="lineno"> 2969</span> </div>
<div class="line"><span class="lineno"> 2970</span>    <span class="comment">// Ymirjar Frostbinder, Frozen Orb</span></div>
<div class="line"><span class="lineno"> 2971</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 71274 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2972</span>    {</div>
<div class="line"><span class="lineno"> 2973</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(6);</div>
<div class="line"><span class="lineno"> 2974</span>    });</div>
<div class="line"><span class="lineno"> 2975</span> </div>
<div class="line"><span class="lineno"> 2976</span>    <span class="comment">// Ooze Flood (Rotface)</span></div>
<div class="line"><span class="lineno"> 2977</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69783, 69797, 69799, 69802 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2978</span>    {</div>
<div class="line"><span class="lineno"> 2979</span>        spellInfo-&gt;AttributesEx |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076a4046bd467f3727369dcbc06e1d5f2b8f">SPELL_ATTR1_EXCLUDE_CASTER</a>;</div>
<div class="line"><span class="lineno"> 2980</span>    });</div>
<div class="line"><span class="lineno"> 2981</span> </div>
<div class="line"><span class="lineno"> 2982</span>    <span class="comment">// Volatile Ooze Beam Protection</span></div>
<div class="line"><span class="lineno"> 2983</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70530 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2984</span>    {</div>
<div class="line"><span class="lineno"> 2985</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>; <span class="comment">// blizzard typo, 65 instead of 6, aura itself is defined (dummy)</span></div>
<div class="line"><span class="lineno"> 2986</span>    });</div>
<div class="line"><span class="lineno"> 2987</span> </div>
<div class="line"><span class="lineno"> 2988</span>    <span class="comment">// Professor Putricide, Gaseous Bloat (Orange Ooze Channel)</span></div>
<div class="line"><span class="lineno"> 2989</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70672, 72455, 72832, 72833 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 2990</span>    {</div>
<div class="line"><span class="lineno"> 2991</span>        <span class="comment">// copied attributes from Green Ooze Channel</span></div>
<div class="line"><span class="lineno"> 2992</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780">SPELL_ATTR0_NO_IMMUNITIES</a>;</div>
<div class="line"><span class="lineno"> 2993</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><span class="lineno"> 2994</span>    });</div>
<div class="line"><span class="lineno"> 2995</span> </div>
<div class="line"><span class="lineno"> 2996</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 2997</span>        71412,  <span class="comment">// Green Ooze Summon (Professor Putricide)</span></div>
<div class="line"><span class="lineno"> 2998</span>        71415   <span class="comment">// Orange Ooze Summon (Professor Putricide)</span></div>
<div class="line"><span class="lineno"> 2999</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3000</span>    {</div>
<div class="line"><span class="lineno"> 3001</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 3002</span>    });</div>
<div class="line"><span class="lineno"> 3003</span> </div>
<div class="line"><span class="lineno"> 3004</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3005</span>        71621,  <span class="comment">// Create Concoction (Professor Putricide)</span></div>
<div class="line"><span class="lineno"> 3006</span>        72850,</div>
<div class="line"><span class="lineno"> 3007</span>        72851,</div>
<div class="line"><span class="lineno"> 3008</span>        72852,</div>
<div class="line"><span class="lineno"> 3009</span>        71893,  <span class="comment">// Guzzle Potions (Professor Putricide)</span></div>
<div class="line"><span class="lineno"> 3010</span>        73120,</div>
<div class="line"><span class="lineno"> 3011</span>        73121,</div>
<div class="line"><span class="lineno"> 3012</span>        73122</div>
<div class="line"><span class="lineno"> 3013</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3014</span>    {</div>
<div class="line"><span class="lineno"> 3015</span>        spellInfo-&gt;CastTimeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5c5f896be6bbbc33caa037de254cb917">sSpellCastTimesStore</a>.LookupEntry(15); <span class="comment">// 4 sec</span></div>
<div class="line"><span class="lineno"> 3016</span>    });</div>
<div class="line"><span class="lineno"> 3017</span> </div>
<div class="line"><span class="lineno"> 3018</span>    <span class="comment">// Mutated Plague (Professor Putricide)</span></div>
<div class="line"><span class="lineno"> 3019</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72454, 72464, 72506, 72507 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3020</span>    {</div>
<div class="line"><span class="lineno"> 3021</span>        spellInfo-&gt;AttributesEx4 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6ab1a8611660de2bc3a6ff4523b2d76376">SPELL_ATTR4_NO_CAST_LOG</a>;</div>
<div class="line"><span class="lineno"> 3022</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>); <span class="comment">// 50000yd</span></div>
<div class="line"><span class="lineno"> 3023</span>    });</div>
<div class="line"><span class="lineno"> 3024</span> </div>
<div class="line"><span class="lineno"> 3025</span>    <span class="comment">// Unbound Plague (Professor Putricide) (needs target selection script)</span></div>
<div class="line"><span class="lineno"> 3026</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70911, 72854, 72855, 72856 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3027</span>    {</div>
<div class="line"><span class="lineno"> 3028</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 3029</span>    });</div>
<div class="line"><span class="lineno"> 3030</span> </div>
<div class="line"><span class="lineno"> 3031</span>    <span class="comment">// Mutated Transformation (Professor Putricide)</span></div>
<div class="line"><span class="lineno"> 3032</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70402, 72511, 72512, 72513 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3033</span>    {</div>
<div class="line"><span class="lineno"> 3034</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668a39664dba0d11d177e801877b9068bd8f">SPELL_ATTR2_CANT_CRIT</a>;</div>
<div class="line"><span class="lineno"> 3035</span>    });</div>
<div class="line"><span class="lineno"> 3036</span> </div>
<div class="line"><span class="lineno"> 3037</span>    <span class="comment">// Empowered Flare (Blood Prince Council)</span></div>
<div class="line"><span class="lineno"> 3038</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 71708, 72785, 72786, 72787 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3039</span>    {</div>
<div class="line"><span class="lineno"> 3040</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><span class="lineno"> 3041</span>    });</div>
<div class="line"><span class="lineno"> 3042</span> </div>
<div class="line"><span class="lineno"> 3043</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3044</span>        71518,  <span class="comment">// Unholy Infusion Quest Credit (Professor Putricide)</span></div>
<div class="line"><span class="lineno"> 3045</span>        72934,  <span class="comment">// Blood Infusion Quest Credit (Blood-Queen Lana&#39;thel)</span></div>
<div class="line"><span class="lineno"> 3046</span>        72289   <span class="comment">// Frost Infusion Quest Credit (Sindragosa)</span></div>
<div class="line"><span class="lineno"> 3047</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3048</span>    {</div>
<div class="line"><span class="lineno"> 3049</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>);   <span class="comment">// another missing radius</span></div>
<div class="line"><span class="lineno"> 3050</span>    });</div>
<div class="line"><span class="lineno"> 3051</span> </div>
<div class="line"><span class="lineno"> 3052</span>    <span class="comment">// Swarming Shadows</span></div>
<div class="line"><span class="lineno"> 3053</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 71266, 72890 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3054</span>    {</div>
<div class="line"><span class="lineno"> 3055</span>        spellInfo-&gt;AreaGroupId = 0; <span class="comment">// originally, these require area 4522, which is... outside of Icecrown Citadel</span></div>
<div class="line"><span class="lineno"> 3056</span>    });</div>
<div class="line"><span class="lineno"> 3057</span> </div>
<div class="line"><span class="lineno"> 3058</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3059</span>        71301,  <span class="comment">// Summon Dream Portal (Valithria Dreamwalker)</span></div>
<div class="line"><span class="lineno"> 3060</span>        71977   <span class="comment">// Summon Nightmare Portal (Valithria Dreamwalker)</span></div>
<div class="line"><span class="lineno"> 3061</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3062</span>    {</div>
<div class="line"><span class="lineno"> 3063</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>);</div>
<div class="line"><span class="lineno"> 3064</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 3065</span>    });</div>
<div class="line"><span class="lineno"> 3066</span> </div>
<div class="line"><span class="lineno"> 3067</span>    <span class="comment">// Column of Frost (visual marker)</span></div>
<div class="line"><span class="lineno"> 3068</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70715 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3069</span>    {</div>
<div class="line"><span class="lineno"> 3070</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(32); <span class="comment">// 6 seconds (missing)</span></div>
<div class="line"><span class="lineno"> 3071</span>    });</div>
<div class="line"><span class="lineno"> 3072</span> </div>
<div class="line"><span class="lineno"> 3073</span>    <span class="comment">// Mana Void (periodic aura)</span></div>
<div class="line"><span class="lineno"> 3074</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 71085 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3075</span>    {</div>
<div class="line"><span class="lineno"> 3076</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(9); <span class="comment">// 30 seconds (missing)</span></div>
<div class="line"><span class="lineno"> 3077</span>    });</div>
<div class="line"><span class="lineno"> 3078</span> </div>
<div class="line"><span class="lineno"> 3079</span>    <span class="comment">// Summon Suppressor (needs target selection script)</span></div>
<div class="line"><span class="lineno"> 3080</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70936 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3081</span>    {</div>
<div class="line"><span class="lineno"> 3082</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 3083</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 3084</span>    });</div>
<div class="line"><span class="lineno"> 3085</span> </div>
<div class="line"><span class="lineno"> 3086</span>    <span class="comment">// Corruption</span></div>
<div class="line"><span class="lineno"> 3087</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70602 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3088</span>    {</div>
<div class="line"><span class="lineno"> 3089</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><span class="lineno"> 3090</span>    });</div>
<div class="line"><span class="lineno"> 3091</span> </div>
<div class="line"><span class="lineno"> 3092</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3093</span>        72706,  <span class="comment">// Achievement Check (Valithria Dreamwalker)</span></div>
<div class="line"><span class="lineno"> 3094</span>        71357   <span class="comment">// Order Whelp</span></div>
<div class="line"><span class="lineno"> 3095</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3096</span>    {</div>
<div class="line"><span class="lineno"> 3097</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>);   <span class="comment">// 200yd</span></div>
<div class="line"><span class="lineno"> 3098</span>    });</div>
<div class="line"><span class="lineno"> 3099</span> </div>
<div class="line"><span class="lineno"> 3100</span>    <span class="comment">// Sindragosa&#39;s Fury</span></div>
<div class="line"><span class="lineno"> 3101</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70598 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3102</span>    {</div>
<div class="line"><span class="lineno"> 3103</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>);</div>
<div class="line"><span class="lineno"> 3104</span>    });</div>
<div class="line"><span class="lineno"> 3105</span> </div>
<div class="line"><span class="lineno"> 3106</span>    <span class="comment">// Tail Smash (Sindragosa)</span></div>
<div class="line"><span class="lineno"> 3107</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 71077 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3108</span>    {</div>
<div class="line"><span class="lineno"> 3109</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a6a231b500f22fb9e67a5a5ebdb38ce6c">TARGET_DEST_CASTER_BACK</a>);</div>
<div class="line"><span class="lineno"> 3110</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a423eed54c405c7e51816127214e8ea82">TARGET_UNIT_DEST_AREA_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 3111</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a6a231b500f22fb9e67a5a5ebdb38ce6c">TARGET_DEST_CASTER_BACK</a>);</div>
<div class="line"><span class="lineno"> 3112</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a423eed54c405c7e51816127214e8ea82">TARGET_UNIT_DEST_AREA_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 3113</span>    });</div>
<div class="line"><span class="lineno"> 3114</span> </div>
<div class="line"><span class="lineno"> 3115</span>    <span class="comment">// Frost Bomb</span></div>
<div class="line"><span class="lineno"> 3116</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69846 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3117</span>    {</div>
<div class="line"><span class="lineno"> 3118</span>        spellInfo-&gt;Speed = 0.0f;    <span class="comment">// This spell&#39;s summon happens instantly</span></div>
<div class="line"><span class="lineno"> 3119</span>    });</div>
<div class="line"><span class="lineno"> 3120</span> </div>
<div class="line"><span class="lineno"> 3121</span>    <span class="comment">// Mystic Buffet (Sindragosa)</span></div>
<div class="line"><span class="lineno"> 3122</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70127, 72528, 72529, 72530 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3123</span>    {</div>
<div class="line"><span class="lineno"> 3124</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0; <span class="comment">// remove obsolete spell effect with no targets</span></div>
<div class="line"><span class="lineno"> 3125</span>    });</div>
<div class="line"><span class="lineno"> 3126</span> </div>
<div class="line"><span class="lineno"> 3127</span>    <span class="comment">// Sindragosa, Frost Aura</span></div>
<div class="line"><span class="lineno"> 3128</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70084, 71050, 71051, 71052 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3129</span>    {</div>
<div class="line"><span class="lineno"> 3130</span>        spellInfo-&gt;Attributes &amp;= ~SPELL_ATTR0_NO_IMMUNITIES;</div>
<div class="line"><span class="lineno"> 3131</span>    });</div>
<div class="line"><span class="lineno"> 3132</span> </div>
<div class="line"><span class="lineno"> 3133</span>    <span class="comment">// Ice Lock</span></div>
<div class="line"><span class="lineno"> 3134</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 71614 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3135</span>    {</div>
<div class="line"><span class="lineno"> 3136</span>        spellInfo-&gt;Mechanic = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a8fe6a763d72d84ded23cec01c772f7ada77412c9a71759f2e8b7f3c629681be4d">MECHANIC_STUN</a>;</div>
<div class="line"><span class="lineno"> 3137</span>    });</div>
<div class="line"><span class="lineno"> 3138</span> </div>
<div class="line"><span class="lineno"> 3139</span>    <span class="comment">// Lich King, Infest</span></div>
<div class="line"><span class="lineno"> 3140</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70541, 73779, 73780, 73781 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3141</span>    {</div>
<div class="line"><span class="lineno"> 3142</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 3143</span>    });</div>
<div class="line"><span class="lineno"> 3144</span> </div>
<div class="line"><span class="lineno"> 3145</span>    <span class="comment">// Lich King, Necrotic Plague</span></div>
<div class="line"><span class="lineno"> 3146</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70337, 73912, 73913, 73914, 70338, 73785, 73786, 73787 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3147</span>    {</div>
<div class="line"><span class="lineno"> 3148</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><span class="lineno"> 3149</span>    });</div>
<div class="line"><span class="lineno"> 3150</span> </div>
<div class="line"><span class="lineno"> 3151</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3152</span>        69099,  <span class="comment">// Ice Pulse 10n</span></div>
<div class="line"><span class="lineno"> 3153</span>        73776,  <span class="comment">// Ice Pulse 25n</span></div>
<div class="line"><span class="lineno"> 3154</span>        73777,  <span class="comment">// Ice Pulse 10h</span></div>
<div class="line"><span class="lineno"> 3155</span>        73778   <span class="comment">// Ice Pulse 25h</span></div>
<div class="line"><span class="lineno"> 3156</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3157</span>    {</div>
<div class="line"><span class="lineno"> 3158</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668a39664dba0d11d177e801877b9068bd8f">SPELL_ATTR2_CANT_CRIT</a>;</div>
<div class="line"><span class="lineno"> 3159</span>        spellInfo-&gt;AttributesEx4 &amp;= ~SPELL_ATTR4_NO_CAST_LOG;</div>
<div class="line"><span class="lineno"> 3160</span>    });</div>
<div class="line"><span class="lineno"> 3161</span> </div>
<div class="line"><span class="lineno"> 3162</span>    <span class="comment">// Fury of Frostmourne</span></div>
<div class="line"><span class="lineno"> 3163</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72350 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3164</span>    {</div>
<div class="line"><span class="lineno"> 3165</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>); <span class="comment">// 50000yd</span></div>
<div class="line"><span class="lineno"> 3166</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>); <span class="comment">// 50000yd</span></div>
<div class="line"><span class="lineno"> 3167</span>    });</div>
<div class="line"><span class="lineno"> 3168</span> </div>
<div class="line"><span class="lineno"> 3169</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3170</span>        72351,  <span class="comment">// Fury of Frostmourne</span></div>
<div class="line"><span class="lineno"> 3171</span>        72431,  <span class="comment">// Jump (removes Fury of Frostmourne debuff)</span></div>
<div class="line"><span class="lineno"> 3172</span>        72429,  <span class="comment">// Mass Resurrection</span></div>
<div class="line"><span class="lineno"> 3173</span>        73159   <span class="comment">// Play Movie</span></div>
<div class="line"><span class="lineno"> 3174</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3175</span>    {</div>
<div class="line"><span class="lineno"> 3176</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>); <span class="comment">// 50000yd</span></div>
<div class="line"><span class="lineno"> 3177</span>    });</div>
<div class="line"><span class="lineno"> 3178</span> </div>
<div class="line"><span class="lineno"> 3179</span>    <span class="comment">// Raise Dead</span></div>
<div class="line"><span class="lineno"> 3180</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72376 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3181</span>    {</div>
<div class="line"><span class="lineno"> 3182</span>        spellInfo-&gt;MaxAffectedTargets = 4;</div>
<div class="line"><span class="lineno"> 3183</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>); <span class="comment">// 50000yd</span></div>
<div class="line"><span class="lineno"> 3184</span>    });</div>
<div class="line"><span class="lineno"> 3185</span> </div>
<div class="line"><span class="lineno"> 3186</span>    <span class="comment">// Jump</span></div>
<div class="line"><span class="lineno"> 3187</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 71809 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3188</span>    {</div>
<div class="line"><span class="lineno"> 3189</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(5); <span class="comment">// 40yd</span></div>
<div class="line"><span class="lineno"> 3190</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a>); <span class="comment">// 10yd</span></div>
<div class="line"><span class="lineno"> 3191</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValue = 190;</div>
<div class="line"><span class="lineno"> 3192</span>    });</div>
<div class="line"><span class="lineno"> 3193</span> </div>
<div class="line"><span class="lineno"> 3194</span>    <span class="comment">// Broken Frostmourne</span></div>
<div class="line"><span class="lineno"> 3195</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72405 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3196</span>    {</div>
<div class="line"><span class="lineno"> 3197</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>); <span class="comment">// 200yd</span></div>
<div class="line"><span class="lineno"> 3198</span>    });</div>
<div class="line"><span class="lineno"> 3199</span> </div>
<div class="line"><span class="lineno"> 3200</span>    <span class="comment">// Summon Shadow Trap</span></div>
<div class="line"><span class="lineno"> 3201</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 73540 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3202</span>    {</div>
<div class="line"><span class="lineno"> 3203</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(3); <span class="comment">// 60 seconds</span></div>
<div class="line"><span class="lineno"> 3204</span>    });</div>
<div class="line"><span class="lineno"> 3205</span> </div>
<div class="line"><span class="lineno"> 3206</span>    <span class="comment">// Shadow Trap (visual)</span></div>
<div class="line"><span class="lineno"> 3207</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 73530 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3208</span>    {</div>
<div class="line"><span class="lineno"> 3209</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(28); <span class="comment">// 5 seconds</span></div>
<div class="line"><span class="lineno"> 3210</span>    });</div>
<div class="line"><span class="lineno"> 3211</span> </div>
<div class="line"><span class="lineno"> 3212</span>    <span class="comment">// Shadow Trap</span></div>
<div class="line"><span class="lineno"> 3213</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 73529 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3214</span>    {</div>
<div class="line"><span class="lineno"> 3215</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a>); <span class="comment">// 10yd</span></div>
<div class="line"><span class="lineno"> 3216</span>    });</div>
<div class="line"><span class="lineno"> 3217</span> </div>
<div class="line"><span class="lineno"> 3218</span>    <span class="comment">// Shadow Trap (searcher)</span></div>
<div class="line"><span class="lineno"> 3219</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 74282 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3220</span>    {</div>
<div class="line"><span class="lineno"> 3221</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a84f16c69f55cca8b4fdde0c6778d9912">EFFECT_RADIUS_3_YARDS</a>); <span class="comment">// 3yd</span></div>
<div class="line"><span class="lineno"> 3222</span>    });</div>
<div class="line"><span class="lineno"> 3223</span> </div>
<div class="line"><span class="lineno"> 3224</span>    <span class="comment">// Raging Spirit Visual</span></div>
<div class="line"><span class="lineno"> 3225</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69198 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3226</span>    {</div>
<div class="line"><span class="lineno"> 3227</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(13); <span class="comment">// 50000yd</span></div>
<div class="line"><span class="lineno"> 3228</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 3229</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><span class="lineno"> 3230</span>    });</div>
<div class="line"><span class="lineno"> 3231</span> </div>
<div class="line"><span class="lineno"> 3232</span>    <span class="comment">// Defile</span></div>
<div class="line"><span class="lineno"> 3233</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72762 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3234</span>    {</div>
<div class="line"><span class="lineno"> 3235</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(559); <span class="comment">// 53 seconds</span></div>
<div class="line"><span class="lineno"> 3236</span>        spellInfo-&gt;ExcludeCasterAuraSpell = 0;</div>
<div class="line"><span class="lineno"> 3237</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780">SPELL_ATTR0_NO_IMMUNITIES</a>;</div>
<div class="line"><span class="lineno"> 3238</span>        spellInfo-&gt;AttributesEx6 |= (<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094a78992c0cb395380959dea6189150d8bb">SPELL_ATTR6_IGNORE_PHASE_SHIFT</a> | <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094a40a19713dcda0fee7572f01939a9a61d">SPELL_ATTR6_CAN_TARGET_UNTARGETABLE</a>);</div>
<div class="line"><span class="lineno"> 3239</span>    });</div>
<div class="line"><span class="lineno"> 3240</span> </div>
<div class="line"><span class="lineno"> 3241</span>    <span class="comment">// Defile</span></div>
<div class="line"><span class="lineno"> 3242</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72743 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3243</span>    {</div>
<div class="line"><span class="lineno"> 3244</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(22); <span class="comment">// 45 seconds</span></div>
<div class="line"><span class="lineno"> 3245</span>    });</div>
<div class="line"><span class="lineno"> 3246</span> </div>
<div class="line"><span class="lineno"> 3247</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72754, 73708, 73709, 73710 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3248</span>    {</div>
<div class="line"><span class="lineno"> 3249</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>); <span class="comment">// 200yd</span></div>
<div class="line"><span class="lineno"> 3250</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>); <span class="comment">// 200yd</span></div>
<div class="line"><span class="lineno"> 3251</span>    });</div>
<div class="line"><span class="lineno"> 3252</span> </div>
<div class="line"><span class="lineno"> 3253</span>    <span class="comment">// Val&#39;kyr Target Search</span></div>
<div class="line"><span class="lineno"> 3254</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69030 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3255</span>    {</div>
<div class="line"><span class="lineno"> 3256</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>); <span class="comment">// 200yd</span></div>
<div class="line"><span class="lineno"> 3257</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>); <span class="comment">// 200yd</span></div>
<div class="line"><span class="lineno"> 3258</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780">SPELL_ATTR0_NO_IMMUNITIES</a>;</div>
<div class="line"><span class="lineno"> 3259</span>    });</div>
<div class="line"><span class="lineno"> 3260</span> </div>
<div class="line"><span class="lineno"> 3261</span>    <span class="comment">// Harvest Souls</span></div>
<div class="line"><span class="lineno"> 3262</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 73654, 74295, 74296, 74297 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3263</span>    {</div>
<div class="line"><span class="lineno"> 3264</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>); <span class="comment">// 50000yd</span></div>
<div class="line"><span class="lineno"> 3265</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>); <span class="comment">// 50000yd</span></div>
<div class="line"><span class="lineno"> 3266</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>); <span class="comment">// 50000yd</span></div>
<div class="line"><span class="lineno"> 3267</span>    });</div>
<div class="line"><span class="lineno"> 3268</span> </div>
<div class="line"><span class="lineno"> 3269</span>    <span class="comment">// Restore Soul</span></div>
<div class="line"><span class="lineno"> 3270</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72595, 73650 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3271</span>    {</div>
<div class="line"><span class="lineno"> 3272</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>); <span class="comment">// 200yd</span></div>
<div class="line"><span class="lineno"> 3273</span>    });</div>
<div class="line"><span class="lineno"> 3274</span> </div>
<div class="line"><span class="lineno"> 3275</span>    <span class="comment">// Kill Frostmourne Players</span></div>
<div class="line"><span class="lineno"> 3276</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 75127 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3277</span>    {</div>
<div class="line"><span class="lineno"> 3278</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>); <span class="comment">// 50000yd</span></div>
<div class="line"><span class="lineno"> 3279</span>    });</div>
<div class="line"><span class="lineno"> 3280</span> </div>
<div class="line"><span class="lineno"> 3281</span>    <span class="comment">// Harvest Soul</span></div>
<div class="line"><span class="lineno"> 3282</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 73655 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3283</span>    {</div>
<div class="line"><span class="lineno"> 3284</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>;</div>
<div class="line"><span class="lineno"> 3285</span>    });</div>
<div class="line"><span class="lineno"> 3286</span> </div>
<div class="line"><span class="lineno"> 3287</span>    <span class="comment">// Destroy Soul</span></div>
<div class="line"><span class="lineno"> 3288</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 74086 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3289</span>    {</div>
<div class="line"><span class="lineno"> 3290</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>); <span class="comment">// 200yd</span></div>
<div class="line"><span class="lineno"> 3291</span>    });</div>
<div class="line"><span class="lineno"> 3292</span> </div>
<div class="line"><span class="lineno"> 3293</span>    <span class="comment">// Summon Spirit Bomb</span></div>
<div class="line"><span class="lineno"> 3294</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 74302, 74342 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3295</span>    {</div>
<div class="line"><span class="lineno"> 3296</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>); <span class="comment">// 200yd</span></div>
<div class="line"><span class="lineno"> 3297</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno"> 3298</span>    });</div>
<div class="line"><span class="lineno"> 3299</span> </div>
<div class="line"><span class="lineno"> 3300</span>    <span class="comment">// Summon Spirit Bomb</span></div>
<div class="line"><span class="lineno"> 3301</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 74341, 74343 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3302</span>    {</div>
<div class="line"><span class="lineno"> 3303</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a>); <span class="comment">// 200yd</span></div>
<div class="line"><span class="lineno"> 3304</span>        spellInfo-&gt;MaxAffectedTargets = 3;</div>
<div class="line"><span class="lineno"> 3305</span>    });</div>
<div class="line"><span class="lineno"> 3306</span> </div>
<div class="line"><span class="lineno"> 3307</span>    <span class="comment">// Summon Spirit Bomb</span></div>
<div class="line"><span class="lineno"> 3308</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 73579 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3309</span>    {</div>
<div class="line"><span class="lineno"> 3310</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a7127bc77ddfb8193b045d89e73b367ec">EFFECT_RADIUS_25_YARDS</a>); <span class="comment">// 25yd</span></div>
<div class="line"><span class="lineno"> 3311</span>    });</div>
<div class="line"><span class="lineno"> 3312</span> </div>
<div class="line"><span class="lineno"> 3313</span>    <span class="comment">// Trigger Vile Spirit (Inside, Heroic)</span></div>
<div class="line"><span class="lineno"> 3314</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 73582 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3315</span>    {</div>
<div class="line"><span class="lineno"> 3316</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>); <span class="comment">// 50000yd</span></div>
<div class="line"><span class="lineno"> 3317</span>    });</div>
<div class="line"><span class="lineno"> 3318</span> </div>
<div class="line"><span class="lineno"> 3319</span>    <span class="comment">// Scale Aura (used during Dominate Mind from Lady Deathwhisper)</span></div>
<div class="line"><span class="lineno"> 3320</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 73261 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3321</span>    {</div>
<div class="line"><span class="lineno"> 3322</span>        spellInfo-&gt;AuraInterruptFlags |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011addd23de47de1322a4cc921e361bc6dd8">AURA_INTERRUPT_FLAG_CHANGE_MAP</a>;</div>
<div class="line"><span class="lineno"> 3323</span>    });</div>
<div class="line"><span class="lineno"> 3324</span> </div>
<div class="line"><span class="lineno"> 3325</span>    <span class="comment">// Leap to a Random Location</span></div>
<div class="line"><span class="lineno"> 3326</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70485 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3327</span>    {</div>
<div class="line"><span class="lineno"> 3328</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(6); <span class="comment">// 100yd</span></div>
<div class="line"><span class="lineno"> 3329</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a>);</div>
<div class="line"><span class="lineno"> 3330</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValue = 100;</div>
<div class="line"><span class="lineno"> 3331</span>    });</div>
<div class="line"><span class="lineno"> 3332</span> </div>
<div class="line"><span class="lineno"> 3333</span>    <span class="comment">// Empowered Blood</span></div>
<div class="line"><span class="lineno"> 3334</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70227, 70232 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3335</span>    {</div>
<div class="line"><span class="lineno"> 3336</span>        spellInfo-&gt;AreaGroupId = 2452; <span class="comment">// Whole icc instead of Crimson Halls only, remove when area calculation is fixed</span></div>
<div class="line"><span class="lineno"> 3337</span>    });</div>
<div class="line"><span class="lineno"> 3338</span> </div>
<div class="line"><span class="lineno"> 3339</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 74509 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3340</span>    {</div>
<div class="line"><span class="lineno"> 3341</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a17e659065202f50148fd26019a3ed3a3">EFFECT_RADIUS_20_YARDS</a>); <span class="comment">// 20yd</span></div>
<div class="line"><span class="lineno"> 3342</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a17e659065202f50148fd26019a3ed3a3">EFFECT_RADIUS_20_YARDS</a>); <span class="comment">// 20yd</span></div>
<div class="line"><span class="lineno"> 3343</span>    });</div>
<div class="line"><span class="lineno"> 3344</span> </div>
<div class="line"><span class="lineno"> 3345</span>    <span class="comment">// Rallying Shout</span></div>
<div class="line"><span class="lineno"> 3346</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 75414 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3347</span>    {</div>
<div class="line"><span class="lineno"> 3348</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a17e659065202f50148fd26019a3ed3a3">EFFECT_RADIUS_20_YARDS</a>); <span class="comment">// 20yd</span></div>
<div class="line"><span class="lineno"> 3349</span>    });</div>
<div class="line"><span class="lineno"> 3350</span> </div>
<div class="line"><span class="lineno"> 3351</span>    <span class="comment">// Barrier Channel</span></div>
<div class="line"><span class="lineno"> 3352</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 76221 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3353</span>    {</div>
<div class="line"><span class="lineno"> 3354</span>        spellInfo-&gt;ChannelInterruptFlags &amp;= ~(<a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a7ff7b6e5eb8b89e335cbed2efcc61ec3">AURA_INTERRUPT_FLAG_TURNING</a> | <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a79d9517e2981beafd03e4ee2ccbb1c35">AURA_INTERRUPT_FLAG_MOVE</a>);</div>
<div class="line"><span class="lineno"> 3355</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aab0751c8895d224e37904a23bc625efa">TARGET_UNIT_NEARBY_ENTRY</a>);</div>
<div class="line"><span class="lineno"> 3356</span>    });</div>
<div class="line"><span class="lineno"> 3357</span> </div>
<div class="line"><span class="lineno"> 3358</span>    <span class="comment">// Intimidating Roar</span></div>
<div class="line"><span class="lineno"> 3359</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 74384 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3360</span>    {</div>
<div class="line"><span class="lineno"> 3361</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>); <span class="comment">// 100yd</span></div>
<div class="line"><span class="lineno"> 3362</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>); <span class="comment">// 100yd</span></div>
<div class="line"><span class="lineno"> 3363</span>    });</div>
<div class="line"><span class="lineno"> 3364</span> </div>
<div class="line"><span class="lineno"> 3365</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3366</span>        74562,  <span class="comment">// Fiery Combustion</span></div>
<div class="line"><span class="lineno"> 3367</span>        74792   <span class="comment">// Soul Consumption</span></div>
<div class="line"><span class="lineno"> 3368</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3369</span>    {</div>
<div class="line"><span class="lineno"> 3370</span>        spellInfo-&gt;AttributesEx |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076aff8f5208b6bab753ec0cb8d8ccff67eb">SPELL_ATTR1_NO_REDIRECTION</a>;</div>
<div class="line"><span class="lineno"> 3371</span>    });</div>
<div class="line"><span class="lineno"> 3372</span> </div>
<div class="line"><span class="lineno"> 3373</span>    <span class="comment">// Combustion</span></div>
<div class="line"><span class="lineno"> 3374</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 75883, 75884 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3375</span>    {</div>
<div class="line"><span class="lineno"> 3376</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aea8bace1873cfb2ca3347ffb4b2b2cfd">EFFECT_RADIUS_6_YARDS</a>); <span class="comment">// 6yd</span></div>
<div class="line"><span class="lineno"> 3377</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aea8bace1873cfb2ca3347ffb4b2b2cfd">EFFECT_RADIUS_6_YARDS</a>); <span class="comment">// 6yd</span></div>
<div class="line"><span class="lineno"> 3378</span>    });</div>
<div class="line"><span class="lineno"> 3379</span> </div>
<div class="line"><span class="lineno"> 3380</span>    <span class="comment">// Consumption</span></div>
<div class="line"><span class="lineno"> 3381</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 75875, 75876 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3382</span>    {</div>
<div class="line"><span class="lineno"> 3383</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aea8bace1873cfb2ca3347ffb4b2b2cfd">EFFECT_RADIUS_6_YARDS</a>); <span class="comment">// 6yd</span></div>
<div class="line"><span class="lineno"> 3384</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aea8bace1873cfb2ca3347ffb4b2b2cfd">EFFECT_RADIUS_6_YARDS</a>); <span class="comment">// 6yd</span></div>
<div class="line"><span class="lineno"> 3385</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Mechanic = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a8fe6a763d72d84ded23cec01c772f7ada1453d37a26c481492f102112f5067647">MECHANIC_NONE</a>;</div>
<div class="line"><span class="lineno"> 3386</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Mechanic = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a8fe6a763d72d84ded23cec01c772f7adac33e72cd9c395583cd6db721014056b5">MECHANIC_SNARE</a>;</div>
<div class="line"><span class="lineno"> 3387</span>    });</div>
<div class="line"><span class="lineno"> 3388</span> </div>
<div class="line"><span class="lineno"> 3389</span>    <span class="comment">// Soul Consumption</span></div>
<div class="line"><span class="lineno"> 3390</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 74799 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3391</span>    {</div>
<div class="line"><span class="lineno"> 3392</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6abd0f41dc6ba7c2ee3eb838d726f8136d">EFFECT_RADIUS_12_YARDS</a>); <span class="comment">// 12yd</span></div>
<div class="line"><span class="lineno"> 3393</span>    });</div>
<div class="line"><span class="lineno"> 3394</span> </div>
<div class="line"><span class="lineno"> 3395</span>    <span class="comment">// Twilight Cutter</span></div>
<div class="line"><span class="lineno"> 3396</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 74769, 77844, 77845, 77846 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3397</span>    {</div>
<div class="line"><span class="lineno"> 3398</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>); <span class="comment">// 100yd</span></div>
<div class="line"><span class="lineno"> 3399</span>    });</div>
<div class="line"><span class="lineno"> 3400</span> </div>
<div class="line"><span class="lineno"> 3401</span>    <span class="comment">// Twilight Mending</span></div>
<div class="line"><span class="lineno"> 3402</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 75509 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3403</span>    {</div>
<div class="line"><span class="lineno"> 3404</span>        spellInfo-&gt;AttributesEx6 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094a78992c0cb395380959dea6189150d8bb">SPELL_ATTR6_IGNORE_PHASE_SHIFT</a>;</div>
<div class="line"><span class="lineno"> 3405</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 3406</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>); <span class="comment">// 100yd</span></div>
<div class="line"><span class="lineno"> 3407</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a>); <span class="comment">// 100yd</span></div>
<div class="line"><span class="lineno"> 3408</span>    });</div>
<div class="line"><span class="lineno"> 3409</span> </div>
<div class="line"><span class="lineno"> 3410</span>    <span class="comment">// Meteor Strike</span></div>
<div class="line"><span class="lineno"> 3411</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 74637 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3412</span>    {</div>
<div class="line"><span class="lineno"> 3413</span>        spellInfo-&gt;Speed = 0;</div>
<div class="line"><span class="lineno"> 3414</span>    });</div>
<div class="line"><span class="lineno"> 3415</span> </div>
<div class="line"><span class="lineno"> 3416</span>    <span class="comment">//Blazing Aura</span></div>
<div class="line"><span class="lineno"> 3417</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 75885, 75886 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3418</span>    {</div>
<div class="line"><span class="lineno"> 3419</span>        spellInfo-&gt;AttributesEx4 &amp;= ~SPELL_ATTR4_NO_CAST_LOG;</div>
<div class="line"><span class="lineno"> 3420</span>    });</div>
<div class="line"><span class="lineno"> 3421</span> </div>
<div class="line"><span class="lineno"> 3422</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3423</span>        75952,  <span class="comment">//Meteor Strike</span></div>
<div class="line"><span class="lineno"> 3424</span>        74629   <span class="comment">//Combustion Periodic</span></div>
<div class="line"><span class="lineno"> 3425</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3426</span>    {</div>
<div class="line"><span class="lineno"> 3427</span>        spellInfo-&gt;AttributesEx4 &amp;= ~SPELL_ATTR4_NO_CAST_LOG;</div>
<div class="line"><span class="lineno"> 3428</span>    });</div>
<div class="line"><span class="lineno"> 3429</span> </div>
<div class="line"><span class="lineno"> 3430</span>    <span class="comment">// Going Bearback</span></div>
<div class="line"><span class="lineno"> 3431</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 54897 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3432</span>    {</div>
<div class="line"><span class="lineno"> 3433</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a>;</div>
<div class="line"><span class="lineno"> 3434</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].RadiusEntry = spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry;</div>
<div class="line"><span class="lineno"> 3435</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a934668876768a96fe7ef286b00c4ed4d">TARGET_UNIT_DEST_AREA_ENTRY</a>);</div>
<div class="line"><span class="lineno"> 3436</span>    });</div>
<div class="line"><span class="lineno"> 3437</span> </div>
<div class="line"><span class="lineno"> 3438</span>    <span class="comment">// Still At It</span></div>
<div class="line"><span class="lineno"> 3439</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 51931, 51932, 51933 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3440</span>    {</div>
<div class="line"><span class="lineno"> 3441</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(38);</div>
<div class="line"><span class="lineno"> 3442</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 3443</span>    });</div>
<div class="line"><span class="lineno"> 3444</span> </div>
<div class="line"><span class="lineno"> 3445</span>    <span class="comment">// Rallying the Troops</span></div>
<div class="line"><span class="lineno"> 3446</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 47394 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3447</span>    {</div>
<div class="line"><span class="lineno"> 3448</span>        spellInfo-&gt;ExcludeTargetAuraSpell = 47394;</div>
<div class="line"><span class="lineno"> 3449</span>    });</div>
<div class="line"><span class="lineno"> 3450</span> </div>
<div class="line"><span class="lineno"> 3451</span>    <span class="comment">// A Tangled Skein</span></div>
<div class="line"><span class="lineno"> 3452</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 51165, 51173 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3453</span>    {</div>
<div class="line"><span class="lineno"> 3454</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno"> 3455</span>    });</div>
<div class="line"><span class="lineno"> 3456</span> </div>
<div class="line"><span class="lineno"> 3457</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3458</span>        69563,  <span class="comment">// A Cloudlet of Classy Cologne</span></div>
<div class="line"><span class="lineno"> 3459</span>        69445,  <span class="comment">// A Perfect Puff of Perfume</span></div>
<div class="line"><span class="lineno"> 3460</span>        69489   <span class="comment">// Bonbon Blitz</span></div>
<div class="line"><span class="lineno"> 3461</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3462</span>    {</div>
<div class="line"><span class="lineno"> 3463</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno"> 3464</span>    });</div>
<div class="line"><span class="lineno"> 3465</span> </div>
<div class="line"><span class="lineno"> 3466</span>    <span class="comment">// Control</span></div>
<div class="line"><span class="lineno"> 3467</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 30790 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3468</span>    {</div>
<div class="line"><span class="lineno"> 3469</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].MiscValue = 0;</div>
<div class="line"><span class="lineno"> 3470</span>    });</div>
<div class="line"><span class="lineno"> 3471</span> </div>
<div class="line"><span class="lineno"> 3472</span>    <span class="comment">// Reclusive Runemaster</span></div>
<div class="line"><span class="lineno"> 3473</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 48028 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3474</span>    {</div>
<div class="line"><span class="lineno"> 3475</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>);</div>
<div class="line"><span class="lineno"> 3476</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7b8c7cf5819db17b9ed16dfbb93addb4">TARGET_UNIT_SRC_AREA_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 3477</span>    });</div>
<div class="line"><span class="lineno"> 3478</span> </div>
<div class="line"><span class="lineno"> 3479</span>    <span class="comment">// Mastery of</span></div>
<div class="line"><span class="lineno"> 3480</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 65147 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3481</span>    {</div>
<div class="line"><span class="lineno"> 3482</span>        spellInfo-&gt;CategoryEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a4e06f28a8354b7362ee3b55fd130e0fe">sSpellCategoryStore</a>.LookupEntry(1244);</div>
<div class="line"><span class="lineno"> 3483</span>        spellInfo-&gt;CategoryRecoveryTime = 1500;</div>
<div class="line"><span class="lineno"> 3484</span>    });</div>
<div class="line"><span class="lineno"> 3485</span> </div>
<div class="line"><span class="lineno"> 3486</span>    <span class="comment">// Weakness to Lightning</span></div>
<div class="line"><span class="lineno"> 3487</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 46432 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3488</span>    {</div>
<div class="line"><span class="lineno"> 3489</span>        spellInfo-&gt;AttributesEx3 &amp;= ~SPELL_ATTR3_ALLOW_AURA_WHILE_DEAD;</div>
<div class="line"><span class="lineno"> 3490</span>    });</div>
<div class="line"><span class="lineno"> 3491</span> </div>
<div class="line"><span class="lineno"> 3492</span>    <span class="comment">// Wrangle Some Aether Rays!</span></div>
<div class="line"><span class="lineno"> 3493</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 40856 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3494</span>    {</div>
<div class="line"><span class="lineno"> 3495</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(27); <span class="comment">// 3000ms</span></div>
<div class="line"><span class="lineno"> 3496</span>    });</div>
<div class="line"><span class="lineno"> 3497</span> </div>
<div class="line"><span class="lineno"> 3498</span>    <span class="comment">// The Black Knight&#39;s Orders</span></div>
<div class="line"><span class="lineno"> 3499</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 63163 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3500</span>    {</div>
<div class="line"><span class="lineno"> 3501</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints = 52390;</div>
<div class="line"><span class="lineno"> 3502</span>    });</div>
<div class="line"><span class="lineno"> 3503</span> </div>
<div class="line"><span class="lineno"> 3504</span>    <span class="comment">// The Warp Rifts</span></div>
<div class="line"><span class="lineno"> 3505</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 34888 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3506</span>    {</div>
<div class="line"><span class="lineno"> 3507</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(5); <span class="comment">// 300 secs</span></div>
<div class="line"><span class="lineno"> 3508</span>    });</div>
<div class="line"><span class="lineno"> 3509</span> </div>
<div class="line"><span class="lineno"> 3510</span>    <span class="comment">// The Smallest Creatures</span></div>
<div class="line"><span class="lineno"> 3511</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 38544 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3512</span>    {</div>
<div class="line"><span class="lineno"> 3513</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValueB = 427;</div>
<div class="line"><span class="lineno"> 3514</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(1);</div>
<div class="line"><span class="lineno"> 3515</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 3516</span>    });</div>
<div class="line"><span class="lineno"> 3517</span> </div>
<div class="line"><span class="lineno"> 3518</span>    <span class="comment">// Ridding the red rocket</span></div>
<div class="line"><span class="lineno"> 3519</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 49177 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3520</span>    {</div>
<div class="line"><span class="lineno"> 3521</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints = 1; <span class="comment">// corrects seat id (points - 1 = seatId)</span></div>
<div class="line"><span class="lineno"> 3522</span>    });</div>
<div class="line"><span class="lineno"> 3523</span> </div>
<div class="line"><span class="lineno"> 3524</span>    <span class="comment">// Jormungar Strike</span></div>
<div class="line"><span class="lineno"> 3525</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 56513 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3526</span>    {</div>
<div class="line"><span class="lineno"> 3527</span>        spellInfo-&gt;RecoveryTime = 2000;</div>
<div class="line"><span class="lineno"> 3528</span>    });</div>
<div class="line"><span class="lineno"> 3529</span> </div>
<div class="line"><span class="lineno"> 3530</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3531</span>        37851, <span class="comment">// Tag Greater Felfire Diemetradon</span></div>
<div class="line"><span class="lineno"> 3532</span>        37918  <span class="comment">// Arcano-pince</span></div>
<div class="line"><span class="lineno"> 3533</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3534</span>    {</div>
<div class="line"><span class="lineno"> 3535</span>        spellInfo-&gt;RecoveryTime = 3000;</div>
<div class="line"><span class="lineno"> 3536</span>    });</div>
<div class="line"><span class="lineno"> 3537</span> </div>
<div class="line"><span class="lineno"> 3538</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3539</span>        54997, <span class="comment">// Cast Net (tooltip says 10s but sniffs say 6s)</span></div>
<div class="line"><span class="lineno"> 3540</span>        56524  <span class="comment">// Acid Breath</span></div>
<div class="line"><span class="lineno"> 3541</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3542</span>    {</div>
<div class="line"><span class="lineno"> 3543</span>        spellInfo-&gt;RecoveryTime = 6000;</div>
<div class="line"><span class="lineno"> 3544</span>    });</div>
<div class="line"><span class="lineno"> 3545</span> </div>
<div class="line"><span class="lineno"> 3546</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3547</span>        47911, <span class="comment">// EMP</span></div>
<div class="line"><span class="lineno"> 3548</span>        48620, <span class="comment">// Wing Buffet</span></div>
<div class="line"><span class="lineno"> 3549</span>        51752  <span class="comment">// Stampy&#39;s Stompy-Stomp</span></div>
<div class="line"><span class="lineno"> 3550</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3551</span>    {</div>
<div class="line"><span class="lineno"> 3552</span>        spellInfo-&gt;RecoveryTime = 10000;</div>
<div class="line"><span class="lineno"> 3553</span>    });</div>
<div class="line"><span class="lineno"> 3554</span> </div>
<div class="line"><span class="lineno"> 3555</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3556</span>        37727, <span class="comment">// Touch of Darkness</span></div>
<div class="line"><span class="lineno"> 3557</span>        54996  <span class="comment">// Ice Slick (tooltip says 20s but sniffs say 12s)</span></div>
<div class="line"><span class="lineno"> 3558</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3559</span>    {</div>
<div class="line"><span class="lineno"> 3560</span>        spellInfo-&gt;RecoveryTime = 12000;</div>
<div class="line"><span class="lineno"> 3561</span>    });</div>
<div class="line"><span class="lineno"> 3562</span> </div>
<div class="line"><span class="lineno"> 3563</span>    <span class="comment">// Signal Helmet to Attack</span></div>
<div class="line"><span class="lineno"> 3564</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 51748 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3565</span>    {</div>
<div class="line"><span class="lineno"> 3566</span>        spellInfo-&gt;RecoveryTime = 15000;</div>
<div class="line"><span class="lineno"> 3567</span>    });</div>
<div class="line"><span class="lineno"> 3568</span> </div>
<div class="line"><span class="lineno"> 3569</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3570</span>        51756, <span class="comment">// Charge</span></div>
<div class="line"><span class="lineno"> 3571</span>        37919, <span class="comment">//Arcano-dismantle</span></div>
<div class="line"><span class="lineno"> 3572</span>        37917  <span class="comment">//Arcano-Cloak</span></div>
<div class="line"><span class="lineno"> 3573</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3574</span>    {</div>
<div class="line"><span class="lineno"> 3575</span>        spellInfo-&gt;RecoveryTime = 20000;</div>
<div class="line"><span class="lineno"> 3576</span>    });</div>
<div class="line"><span class="lineno"> 3577</span> </div>
<div class="line"><span class="lineno"> 3578</span>    <span class="comment">// Kaw the Mammoth Destroyer</span></div>
<div class="line"><span class="lineno"> 3579</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 46260 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3580</span>    {</div>
<div class="line"><span class="lineno"> 3581</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 3582</span>    });</div>
<div class="line"><span class="lineno"> 3583</span> </div>
<div class="line"><span class="lineno"> 3584</span>    <span class="comment">// That&#39;s Abominable</span></div>
<div class="line"><span class="lineno"> 3585</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 59565 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3586</span>    {</div>
<div class="line"><span class="lineno"> 3587</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValueB = 1721; <span class="comment">// controlable guardian</span></div>
<div class="line"><span class="lineno"> 3588</span>    });</div>
<div class="line"><span class="lineno"> 3589</span> </div>
<div class="line"><span class="lineno"> 3590</span>    <span class="comment">// Investigate the Blue Recluse (1920)</span></div>
<div class="line"><span class="lineno"> 3591</span>    <span class="comment">// Investigate the Alchemist Shop (1960)</span></div>
<div class="line"><span class="lineno"> 3592</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 9095 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3593</span>    {</div>
<div class="line"><span class="lineno"> 3594</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>;</div>
<div class="line"><span class="lineno"> 3595</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a>); <span class="comment">// 10yd</span></div>
<div class="line"><span class="lineno"> 3596</span>    });</div>
<div class="line"><span class="lineno"> 3597</span> </div>
<div class="line"><span class="lineno"> 3598</span>    <span class="comment">// Gauging the Resonant Frequency (10594)</span></div>
<div class="line"><span class="lineno"> 3599</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 37390 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3600</span>    {</div>
<div class="line"><span class="lineno"> 3601</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValueB = 181;</div>
<div class="line"><span class="lineno"> 3602</span>    });</div>
<div class="line"><span class="lineno"> 3603</span> </div>
<div class="line"><span class="lineno"> 3604</span>    <span class="comment">// Where in the World is Hemet Nesingwary? (12521)</span></div>
<div class="line"><span class="lineno"> 3605</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 50860 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3606</span>    {</div>
<div class="line"><span class="lineno"> 3607</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints = 50860;</div>
<div class="line"><span class="lineno"> 3608</span>    });</div>
<div class="line"><span class="lineno"> 3609</span> </div>
<div class="line"><span class="lineno"> 3610</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 50861 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3611</span>    {</div>
<div class="line"><span class="lineno"> 3612</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints = 0;</div>
<div class="line"><span class="lineno"> 3613</span>    });</div>
<div class="line"><span class="lineno"> 3614</span> </div>
<div class="line"><span class="lineno"> 3615</span>    <span class="comment">// Riding Jokkum</span></div>
<div class="line"><span class="lineno"> 3616</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 56606 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3617</span>    {</div>
<div class="line"><span class="lineno"> 3618</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints = 1;</div>
<div class="line"><span class="lineno"> 3619</span>    });</div>
<div class="line"><span class="lineno"> 3620</span> </div>
<div class="line"><span class="lineno"> 3621</span>    <span class="comment">// Blightbeasts be Damned! (12072)</span></div>
<div class="line"><span class="lineno"> 3622</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 47424 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3623</span>    {</div>
<div class="line"><span class="lineno"> 3624</span>        spellInfo-&gt;AuraInterruptFlags &amp;= ~AURA_INTERRUPT_FLAG_NOT_ABOVEWATER;</div>
<div class="line"><span class="lineno"> 3625</span>    });</div>
<div class="line"><span class="lineno"> 3626</span> </div>
<div class="line"><span class="lineno"> 3627</span>    <span class="comment">// Dark Horizon (12664), Reunited (12663)</span></div>
<div class="line"><span class="lineno"> 3628</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 52190 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3629</span>    {</div>
<div class="line"><span class="lineno"> 3630</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints = 52391 - 1;</div>
<div class="line"><span class="lineno"> 3631</span>    });</div>
<div class="line"><span class="lineno"> 3632</span> </div>
<div class="line"><span class="lineno"> 3633</span>    <span class="comment">// The Sum is Greater than the Parts (13043) - Chained Grip</span></div>
<div class="line"><span class="lineno"> 3634</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 60540 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3635</span>    {</div>
<div class="line"><span class="lineno"> 3636</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValue = 300;</div>
<div class="line"><span class="lineno"> 3637</span>    });</div>
<div class="line"><span class="lineno"> 3638</span> </div>
<div class="line"><span class="lineno"> 3639</span>    <span class="comment">// Not a Bug (13342)</span></div>
<div class="line"><span class="lineno"> 3640</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 60531 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3641</span>    {</div>
<div class="line"><span class="lineno"> 3642</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ad2cb623676f084a0370c1983084a29d8">SPELL_ATTR2_ALLOW_DEAD_TARGET</a>;</div>
<div class="line"><span class="lineno"> 3643</span>    });</div>
<div class="line"><span class="lineno"> 3644</span> </div>
<div class="line"><span class="lineno"> 3645</span>    <span class="comment">// Frankly,  It Makes No Sense... (10672)</span></div>
<div class="line"><span class="lineno"> 3646</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 37851 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3647</span>    {</div>
<div class="line"><span class="lineno"> 3648</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno"> 3649</span>    });</div>
<div class="line"><span class="lineno"> 3650</span> </div>
<div class="line"><span class="lineno"> 3651</span>    <span class="comment">// Honor Challenge (12939)</span></div>
<div class="line"><span class="lineno"> 3652</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 21855 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3653</span>    {</div>
<div class="line"><span class="lineno"> 3654</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno"> 3655</span>    });</div>
<div class="line"><span class="lineno"> 3656</span> </div>
<div class="line"><span class="lineno"> 3657</span>    <span class="comment">// Convocation at Zol&#39;Heb (12730)</span></div>
<div class="line"><span class="lineno"> 3658</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 52956 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3659</span>    {</div>
<div class="line"><span class="lineno"> 3660</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a934668876768a96fe7ef286b00c4ed4d">TARGET_UNIT_DEST_AREA_ENTRY</a>);</div>
<div class="line"><span class="lineno"> 3661</span>    });</div>
<div class="line"><span class="lineno"> 3662</span> </div>
<div class="line"><span class="lineno"> 3663</span>    <span class="comment">// Mangletooth</span></div>
<div class="line"><span class="lineno"> 3664</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3665</span>        7764,   <span class="comment">// Wisdom of Agamaggan</span></div>
<div class="line"><span class="lineno"> 3666</span>        10767,  <span class="comment">// Rising Spirit</span></div>
<div class="line"><span class="lineno"> 3667</span>        16610,  <span class="comment">// Razorhide</span></div>
<div class="line"><span class="lineno"> 3668</span>        16612,  <span class="comment">// Agamaggan&#39;s Strength</span></div>
<div class="line"><span class="lineno"> 3669</span>        16618,  <span class="comment">// Spirit of the Wind</span></div>
<div class="line"><span class="lineno"> 3670</span>        17013   <span class="comment">// Agamaggan&#39;s Agility</span></div>
<div class="line"><span class="lineno"> 3671</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3672</span> </div>
<div class="line"><span class="lineno"> 3673</span>    {</div>
<div class="line"><span class="lineno"> 3674</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 3675</span>        spellInfo-&gt;AttributesEx5 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a376aa62261a98289589839b821786adaab0527496eccfcafc34a8a49f74d9afbd">SPELL_ATTR5_ALWAYS_AOE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 3676</span>    });</div>
<div class="line"><span class="lineno"> 3677</span> </div>
<div class="line"><span class="lineno"> 3678</span>    <span class="comment">//Crushing the Crown</span></div>
<div class="line"><span class="lineno"> 3679</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 71024 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3680</span>    {</div>
<div class="line"><span class="lineno"> 3681</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a86bfc5644ebafe704834da6ecb5a0ac8">TARGET_DEST_DYNOBJ_NONE</a>);</div>
<div class="line"><span class="lineno"> 3682</span>    });</div>
<div class="line"><span class="lineno"> 3683</span> </div>
<div class="line"><span class="lineno"> 3684</span>    <span class="comment">// Battle for the Undercity</span></div>
<div class="line"><span class="lineno"> 3685</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3686</span>        59892   <span class="comment">// Cyclone fall</span></div>
<div class="line"><span class="lineno"> 3687</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3688</span>    {</div>
<div class="line"><span class="lineno"> 3689</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a140c94210262d911b2db681aba463d19">SPELL_EFFECT_APPLY_AREA_AURA_FRIEND</a>;</div>
<div class="line"><span class="lineno"> 3690</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a>); <span class="comment">// 10yd</span></div>
<div class="line"><span class="lineno"> 3691</span>        spellInfo-&gt;AttributesEx &amp;= ~SPELL_ATTR0_NO_AURA_CANCEL;</div>
<div class="line"><span class="lineno"> 3692</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81afd31a3efb01e11ee685cd0cac502b9ac">SPELL_ATTR3_ONLY_ON_PLAYER</a>;</div>
<div class="line"><span class="lineno"> 3693</span>    });</div>
<div class="line"><span class="lineno"> 3694</span> </div>
<div class="line"><span class="lineno"> 3695</span>    <span class="comment">// enchant Lightweave Embroidery</span></div>
<div class="line"><span class="lineno"> 3696</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 55637 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3697</span>    {</div>
<div class="line"><span class="lineno"> 3698</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].MiscValue = 126;</div>
<div class="line"><span class="lineno"> 3699</span>    });</div>
<div class="line"><span class="lineno"> 3700</span> </div>
<div class="line"><span class="lineno"> 3701</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3702</span>        47977, <span class="comment">// Magic Broom</span></div>
<div class="line"><span class="lineno"> 3703</span>        65917  <span class="comment">// Magic Rooster</span></div>
<div class="line"><span class="lineno"> 3704</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3705</span>    {</div>
<div class="line"><span class="lineno"> 3706</span>        <span class="comment">// First two effects apply auras, which shouldn&#39;t be there</span></div>
<div class="line"><span class="lineno"> 3707</span>        <span class="comment">// due to NO_TARGET applying aura on current caster (core bug)</span></div>
<div class="line"><span class="lineno"> 3708</span>        <span class="comment">// Just wipe effect data, to mimic blizz-behavior</span></div>
<div class="line"><span class="lineno"> 3709</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 3710</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 3711</span>    });</div>
<div class="line"><span class="lineno"> 3712</span> </div>
<div class="line"><span class="lineno"> 3713</span>    <span class="comment">// Titanium Seal of Dalaran, Toss your luck</span></div>
<div class="line"><span class="lineno"> 3714</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 60476 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3715</span>    {</div>
<div class="line"><span class="lineno"> 3716</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno"> 3717</span>    });</div>
<div class="line"><span class="lineno"> 3718</span> </div>
<div class="line"><span class="lineno"> 3719</span>    <span class="comment">// Mind Amplification Dish, change charm aura</span></div>
<div class="line"><span class="lineno"> 3720</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 26740 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3721</span>    {</div>
<div class="line"><span class="lineno"> 3722</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a7b5d0b48f9a7e84bf7a896602e8c66b9">SPELL_AURA_MOD_CHARM</a>;</div>
<div class="line"><span class="lineno"> 3723</span>    });</div>
<div class="line"><span class="lineno"> 3724</span> </div>
<div class="line"><span class="lineno"> 3725</span>    <span class="comment">// Persistent Shield</span></div>
<div class="line"><span class="lineno"> 3726</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 26467 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3727</span>    {</div>
<div class="line"><span class="lineno"> 3728</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a651bba5033934ceb87de2329c845808a">SPELL_AURA_PROC_TRIGGER_SPELL_WITH_VALUE</a>;</div>
<div class="line"><span class="lineno"> 3729</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TriggerSpell = 26470;</div>
<div class="line"><span class="lineno"> 3730</span>    });</div>
<div class="line"><span class="lineno"> 3731</span> </div>
<div class="line"><span class="lineno"> 3732</span>    <span class="comment">// Deadly Swiftness</span></div>
<div class="line"><span class="lineno"> 3733</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 31255 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3734</span>    {</div>
<div class="line"><span class="lineno"> 3735</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TriggerSpell = 22588;</div>
<div class="line"><span class="lineno"> 3736</span>    });</div>
<div class="line"><span class="lineno"> 3737</span> </div>
<div class="line"><span class="lineno"> 3738</span>    <span class="comment">// Black Magic enchant</span></div>
<div class="line"><span class="lineno"> 3739</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 59630 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3740</span>    {</div>
<div class="line"><span class="lineno"> 3741</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada407e023ed336f3c64aa20f11dd49f6bd">SPELL_ATTR0_PASSIVE</a>;</div>
<div class="line"><span class="lineno"> 3742</span>    });</div>
<div class="line"><span class="lineno"> 3743</span> </div>
<div class="line"><span class="lineno"> 3744</span>    <span class="comment">// Precious&#39;s Ribbon</span></div>
<div class="line"><span class="lineno"> 3745</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72968 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3746</span>    {</div>
<div class="line"><span class="lineno"> 3747</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0a71d4cc2660db4702163d932a53841c">SPELL_ATTR3_ALLOW_AURA_WHILE_DEAD</a>;</div>
<div class="line"><span class="lineno"> 3748</span>    });</div>
<div class="line"><span class="lineno"> 3749</span> </div>
<div class="line"><span class="lineno"> 3750</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3751</span>        71646,  <span class="comment">// Item - Bauble of True Blood 10m</span></div>
<div class="line"><span class="lineno"> 3752</span>        71607,  <span class="comment">// Item - Bauble of True Blood 25m</span></div>
<div class="line"><span class="lineno"> 3753</span>        71610,  <span class="comment">// Item - Althor&#39;s Abacus trigger 10m</span></div>
<div class="line"><span class="lineno"> 3754</span>        71641   <span class="comment">// Item - Althor&#39;s Abacus trigger 25m</span></div>
<div class="line"><span class="lineno"> 3755</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3756</span>    {</div>
<div class="line"><span class="lineno"> 3757</span>        spellInfo-&gt;DmgClass = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a>;</div>
<div class="line"><span class="lineno"> 3758</span>        spellInfo-&gt;SpellLevel = 0;</div>
<div class="line"><span class="lineno"> 3759</span>    });</div>
<div class="line"><span class="lineno"> 3760</span> </div>
<div class="line"><span class="lineno"> 3761</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3762</span>        6789,  <span class="comment">// Warlock - Death Coil (Rank 1)</span></div>
<div class="line"><span class="lineno"> 3763</span>        17925, <span class="comment">// Warlock - Death Coil (Rank 2)</span></div>
<div class="line"><span class="lineno"> 3764</span>        17926, <span class="comment">// Warlock - Death Coil (Rank 3)</span></div>
<div class="line"><span class="lineno"> 3765</span>        27223, <span class="comment">// Warlock - Death Coil (Rank 4)</span></div>
<div class="line"><span class="lineno"> 3766</span>        47859, <span class="comment">// Warlock - Death Coil (Rank 5)</span></div>
<div class="line"><span class="lineno"> 3767</span>        71838, <span class="comment">// Drain Life - Bryntroll Normal</span></div>
<div class="line"><span class="lineno"> 3768</span>        71839  <span class="comment">// Drain Life - Bryntroll Heroic</span></div>
<div class="line"><span class="lineno"> 3769</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3770</span>    {</div>
<div class="line"><span class="lineno"> 3771</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668a39664dba0d11d177e801877b9068bd8f">SPELL_ATTR2_CANT_CRIT</a>;</div>
<div class="line"><span class="lineno"> 3772</span>    });</div>
<div class="line"><span class="lineno"> 3773</span> </div>
<div class="line"><span class="lineno"> 3774</span>    <span class="comment">// Alchemist&#39;s Stone</span></div>
<div class="line"><span class="lineno"> 3775</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 17619 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3776</span>    {</div>
<div class="line"><span class="lineno"> 3777</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0a71d4cc2660db4702163d932a53841c">SPELL_ATTR3_ALLOW_AURA_WHILE_DEAD</a>;</div>
<div class="line"><span class="lineno"> 3778</span>    });</div>
<div class="line"><span class="lineno"> 3779</span> </div>
<div class="line"><span class="lineno"> 3780</span>    <span class="comment">// Stormchops</span></div>
<div class="line"><span class="lineno"> 3781</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 43730 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3782</span>    {</div>
<div class="line"><span class="lineno"> 3783</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(1);</div>
<div class="line"><span class="lineno"> 3784</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 3785</span>    });</div>
<div class="line"><span class="lineno"> 3786</span> </div>
<div class="line"><span class="lineno"> 3787</span>    <span class="comment">// Savory Deviate Delight (transformations), allow to mount while transformed</span></div>
<div class="line"><span class="lineno"> 3788</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 8219, 8220, 8221, 8222 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3789</span>    {</div>
<div class="line"><span class="lineno"> 3790</span>        spellInfo-&gt;Attributes &amp;= ~SPELL_ATTR0_NO_IMMUNITIES;</div>
<div class="line"><span class="lineno"> 3791</span>    });</div>
<div class="line"><span class="lineno"> 3792</span> </div>
<div class="line"><span class="lineno"> 3793</span>    <span class="comment">// Clamlette Magnifique</span></div>
<div class="line"><span class="lineno"> 3794</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 72623 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3795</span>    {</div>
<div class="line"><span class="lineno"> 3796</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints = spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].BasePoints;</div>
<div class="line"><span class="lineno"> 3797</span>    });</div>
<div class="line"><span class="lineno"> 3798</span> </div>
<div class="line"><span class="lineno"> 3799</span>    <span class="comment">// Compact Harvest Reaper</span></div>
<div class="line"><span class="lineno"> 3800</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 4078 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3801</span>    {</div>
<div class="line"><span class="lineno"> 3802</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(6); <span class="comment">// 10 minutes</span></div>
<div class="line"><span class="lineno"> 3803</span>    });</div>
<div class="line"><span class="lineno"> 3804</span> </div>
<div class="line"><span class="lineno"> 3805</span>    <span class="comment">// Dragon Kite, Tuskarr Kite - Kite String</span></div>
<div class="line"><span class="lineno"> 3806</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 45192 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3807</span>    {</div>
<div class="line"><span class="lineno"> 3808</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(6); <span class="comment">// 100yd</span></div>
<div class="line"><span class="lineno"> 3809</span>    });</div>
<div class="line"><span class="lineno"> 3810</span> </div>
<div class="line"><span class="lineno"> 3811</span>    <span class="comment">// Frigid Frostling, Infrigidate</span></div>
<div class="line"><span class="lineno"> 3812</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 74960 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3813</span>    {</div>
<div class="line"><span class="lineno"> 3814</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a17e659065202f50148fd26019a3ed3a3">EFFECT_RADIUS_20_YARDS</a>); <span class="comment">// 20yd</span></div>
<div class="line"><span class="lineno"> 3815</span>    });</div>
<div class="line"><span class="lineno"> 3816</span> </div>
<div class="line"><span class="lineno"> 3817</span>    <span class="comment">// Apple Trap</span></div>
<div class="line"><span class="lineno"> 3818</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 43450 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3819</span>    {</div>
<div class="line"><span class="lineno"> 3820</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7b8c7cf5819db17b9ed16dfbb93addb4">TARGET_UNIT_SRC_AREA_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 3821</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno"> 3822</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a>;</div>
<div class="line"><span class="lineno"> 3823</span>    });</div>
<div class="line"><span class="lineno"> 3824</span> </div>
<div class="line"><span class="lineno"> 3825</span>    <span class="comment">// Dark Iron Attack - spawn mole machine</span></div>
<div class="line"><span class="lineno"> 3826</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 43563 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3827</span>    {</div>
<div class="line"><span class="lineno"> 3828</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0; <span class="comment">// summon GO&#39;s manually</span></div>
<div class="line"><span class="lineno"> 3829</span>    });</div>
<div class="line"><span class="lineno"> 3830</span> </div>
<div class="line"><span class="lineno"> 3831</span>    <span class="comment">// Throw Mug visual</span></div>
<div class="line"><span class="lineno"> 3832</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 42300 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3833</span>    {</div>
<div class="line"><span class="lineno"> 3834</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 3835</span>    });</div>
<div class="line"><span class="lineno"> 3836</span> </div>
<div class="line"><span class="lineno"> 3837</span>    <span class="comment">// Dark Iron knockback Aura</span></div>
<div class="line"><span class="lineno"> 3838</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 42299 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3839</span>    {</div>
<div class="line"><span class="lineno"> 3840</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>;</div>
<div class="line"><span class="lineno"> 3841</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValue = 100;</div>
<div class="line"><span class="lineno"> 3842</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints = 79;</div>
<div class="line"><span class="lineno"> 3843</span>    });</div>
<div class="line"><span class="lineno"> 3844</span> </div>
<div class="line"><span class="lineno"> 3845</span>    <span class="comment">// Chug and Chuck!</span></div>
<div class="line"><span class="lineno"> 3846</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 42436 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3847</span>    {</div>
<div class="line"><span class="lineno"> 3848</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a>);</div>
<div class="line"><span class="lineno"> 3849</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a>);</div>
<div class="line"><span class="lineno"> 3850</span>        spellInfo-&gt;MaxAffectedTargets = 0;</div>
<div class="line"><span class="lineno"> 3851</span>        spellInfo-&gt;ExcludeCasterAuraSpell = 42299;</div>
<div class="line"><span class="lineno"> 3852</span>    });</div>
<div class="line"><span class="lineno"> 3853</span> </div>
<div class="line"><span class="lineno"> 3854</span>    <span class="comment">// Brewfest quests</span></div>
<div class="line"><span class="lineno"> 3855</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 47134, 51798 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3856</span>    {</div>
<div class="line"><span class="lineno"> 3857</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 3858</span>    });</div>
<div class="line"><span class="lineno"> 3859</span> </div>
<div class="line"><span class="lineno"> 3860</span>    <span class="comment">// The Heart of The Storms (12998)</span></div>
<div class="line"><span class="lineno"> 3861</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 43528 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3862</span>    {</div>
<div class="line"><span class="lineno"> 3863</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(18);</div>
<div class="line"><span class="lineno"> 3864</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(25);</div>
<div class="line"><span class="lineno"> 3865</span>    });</div>
<div class="line"><span class="lineno"> 3866</span> </div>
<div class="line"><span class="lineno"> 3867</span>    <span class="comment">// Water splash</span></div>
<div class="line"><span class="lineno"> 3868</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 42348 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3869</span>    {</div>
<div class="line"><span class="lineno"> 3870</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 3871</span>    });</div>
<div class="line"><span class="lineno"> 3872</span> </div>
<div class="line"><span class="lineno"> 3873</span>    <span class="comment">// Summon Lantersn</span></div>
<div class="line"><span class="lineno"> 3874</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 44255, 44231 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3875</span>    {</div>
<div class="line"><span class="lineno"> 3876</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a>);</div>
<div class="line"><span class="lineno"> 3877</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 3878</span>    });</div>
<div class="line"><span class="lineno"> 3879</span> </div>
<div class="line"><span class="lineno"> 3880</span>    <span class="comment">// Throw Head Back</span></div>
<div class="line"><span class="lineno"> 3881</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 42401 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3882</span>    {</div>
<div class="line"><span class="lineno"> 3883</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aab0751c8895d224e37904a23bc625efa">TARGET_UNIT_NEARBY_ENTRY</a>);</div>
<div class="line"><span class="lineno"> 3884</span>    });</div>
<div class="line"><span class="lineno"> 3885</span> </div>
<div class="line"><span class="lineno"> 3886</span>    <span class="comment">// Food</span></div>
<div class="line"><span class="lineno"> 3887</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 65418 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3888</span>    {</div>
<div class="line"><span class="lineno"> 3889</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TriggerSpell = 65410;</div>
<div class="line"><span class="lineno"> 3890</span>    });</div>
<div class="line"><span class="lineno"> 3891</span> </div>
<div class="line"><span class="lineno"> 3892</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 65422 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3893</span>    {</div>
<div class="line"><span class="lineno"> 3894</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TriggerSpell = 65414;</div>
<div class="line"><span class="lineno"> 3895</span>    });</div>
<div class="line"><span class="lineno"> 3896</span> </div>
<div class="line"><span class="lineno"> 3897</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 65419 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3898</span>    {</div>
<div class="line"><span class="lineno"> 3899</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TriggerSpell = 65416;</div>
<div class="line"><span class="lineno"> 3900</span>    });</div>
<div class="line"><span class="lineno"> 3901</span> </div>
<div class="line"><span class="lineno"> 3902</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 65420 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3903</span>    {</div>
<div class="line"><span class="lineno"> 3904</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TriggerSpell = 65412;</div>
<div class="line"><span class="lineno"> 3905</span>    });</div>
<div class="line"><span class="lineno"> 3906</span> </div>
<div class="line"><span class="lineno"> 3907</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 65421 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3908</span>    {</div>
<div class="line"><span class="lineno"> 3909</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TriggerSpell = 65415;</div>
<div class="line"><span class="lineno"> 3910</span>    });</div>
<div class="line"><span class="lineno"> 3911</span> </div>
<div class="line"><span class="lineno"> 3912</span>    <span class="comment">// Stamp Out Bonfire</span></div>
<div class="line"><span class="lineno"> 3913</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 45437 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3914</span>    {</div>
<div class="line"><span class="lineno"> 3915</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a>;</div>
<div class="line"><span class="lineno"> 3916</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aab0751c8895d224e37904a23bc625efa">TARGET_UNIT_NEARBY_ENTRY</a>);</div>
<div class="line"><span class="lineno"> 3917</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 3918</span>    });</div>
<div class="line"><span class="lineno"> 3919</span> </div>
<div class="line"><span class="lineno"> 3920</span>    <span class="comment">// Light Bonfire (DND)</span></div>
<div class="line"><span class="lineno"> 3921</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 29831 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3922</span>    {</div>
<div class="line"><span class="lineno"> 3923</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 3924</span>    });</div>
<div class="line"><span class="lineno"> 3925</span> </div>
<div class="line"><span class="lineno"> 3926</span>    <span class="comment">// Infernal</span></div>
<div class="line"><span class="lineno"> 3927</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 33240 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3928</span>    {</div>
<div class="line"><span class="lineno"> 3929</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 3930</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 3931</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 3932</span>    });</div>
<div class="line"><span class="lineno"> 3933</span> </div>
<div class="line"><span class="lineno"> 3934</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 3935</span>        47476,  <span class="comment">// Deathknight - Strangulate</span></div>
<div class="line"><span class="lineno"> 3936</span>        15487,  <span class="comment">// Priest - Silence</span></div>
<div class="line"><span class="lineno"> 3937</span>        5211,   <span class="comment">// Druid - Bash  - R1</span></div>
<div class="line"><span class="lineno"> 3938</span>        6798,   <span class="comment">// Druid - Bash  - R2</span></div>
<div class="line"><span class="lineno"> 3939</span>        8983    <span class="comment">// Druid - Bash  - R3</span></div>
<div class="line"><span class="lineno"> 3940</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3941</span>    {</div>
<div class="line"><span class="lineno"> 3942</span>        spellInfo-&gt;AttributesEx7 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a25ff5d34ce79433dfc852484cef1d47da1af4b997048db75a09fe4b1593b4d154">SPELL_ATTR7_CAN_CAUSE_INTERRUPT</a>;</div>
<div class="line"><span class="lineno"> 3943</span>    });</div>
<div class="line"><span class="lineno"> 3944</span> </div>
<div class="line"><span class="lineno"> 3945</span>    <span class="comment">// Shadowmeld</span></div>
<div class="line"><span class="lineno"> 3946</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 58984 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3947</span>    {</div>
<div class="line"><span class="lineno"> 3948</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81afd31a3efb01e11ee685cd0cac502b9ac">SPELL_ATTR3_ONLY_ON_PLAYER</a>;</div>
<div class="line"><span class="lineno"> 3949</span>    });</div>
<div class="line"><span class="lineno"> 3950</span> </div>
<div class="line"><span class="lineno"> 3951</span>    <span class="comment">// Flare activation speed</span></div>
<div class="line"><span class="lineno"> 3952</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 1543 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3953</span>    {</div>
<div class="line"><span class="lineno"> 3954</span>        spellInfo-&gt;Speed = 0.0f;</div>
<div class="line"><span class="lineno"> 3955</span>    });</div>
<div class="line"><span class="lineno"> 3956</span> </div>
<div class="line"><span class="lineno"> 3957</span>    <span class="comment">// Light&#39;s Beacon</span></div>
<div class="line"><span class="lineno"> 3958</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 53651 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3959</span>    {</div>
<div class="line"><span class="lineno"> 3960</span>        spellInfo-&gt;AttributesEx |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076a02166cd30d63804b4175bdfe29ffd068">SPELL_ATTR1_NO_THREAT</a>;</div>
<div class="line"><span class="lineno"> 3961</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 3962</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><span class="lineno"> 3963</span>    });</div>
<div class="line"><span class="lineno"> 3964</span> </div>
<div class="line"><span class="lineno"> 3965</span>    <span class="comment">// Shadow Hunter Vosh&#39;gajin - Hex</span></div>
<div class="line"><span class="lineno"> 3966</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 16097 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3967</span>    {</div>
<div class="line"><span class="lineno"> 3968</span>        spellInfo-&gt;CastTimeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5c5f896be6bbbc33caa037de254cb917">sSpellCastTimesStore</a>.LookupEntry(16);</div>
<div class="line"><span class="lineno"> 3969</span>    });</div>
<div class="line"><span class="lineno"> 3970</span> </div>
<div class="line"><span class="lineno"> 3971</span>    <span class="comment">// Sacred Cleansing</span></div>
<div class="line"><span class="lineno"> 3972</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 53659 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3973</span>    {</div>
<div class="line"><span class="lineno"> 3974</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(5); <span class="comment">// 40yd</span></div>
<div class="line"><span class="lineno"> 3975</span>    });</div>
<div class="line"><span class="lineno"> 3976</span> </div>
<div class="line"><span class="lineno"> 3977</span>    <span class="comment">// Silithyst</span></div>
<div class="line"><span class="lineno"> 3978</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 29519 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3979</span>    {</div>
<div class="line"><span class="lineno"> 3980</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ab3987db9e154ae9a2086efb43e5af610">SPELL_AURA_MOD_DECREASE_SPEED</a>;</div>
<div class="line"><span class="lineno"> 3981</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints = -25;</div>
<div class="line"><span class="lineno"> 3982</span>    });</div>
<div class="line"><span class="lineno"> 3983</span> </div>
<div class="line"><span class="lineno"> 3984</span>    <span class="comment">// Focused Eyebeam Summon Trigger</span></div>
<div class="line"><span class="lineno"> 3985</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 63342 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3986</span>    {</div>
<div class="line"><span class="lineno"> 3987</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno"> 3988</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 3989</span>    });</div>
<div class="line"><span class="lineno"> 3990</span> </div>
<div class="line"><span class="lineno"> 3991</span>    <span class="comment">// Eye of Kilrogg Passive (DND)</span></div>
<div class="line"><span class="lineno"> 3992</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 2585 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3993</span>    {</div>
<div class="line"><span class="lineno"> 3994</span>        spellInfo-&gt;AuraInterruptFlags |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a79d42b7d97460b52fe46d9bc3c288a15">AURA_INTERRUPT_FLAG_HITBYSPELL</a> | <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a043102900f6d0a56c4ba2aaf151fa41a">AURA_INTERRUPT_FLAG_TAKE_DAMAGE</a>;</div>
<div class="line"><span class="lineno"> 3995</span>    });</div>
<div class="line"><span class="lineno"> 3996</span> </div>
<div class="line"><span class="lineno"> 3997</span>    <span class="comment">// Nefarius Corruption</span></div>
<div class="line"><span class="lineno"> 3998</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 23642 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 3999</span>    {</div>
<div class="line"><span class="lineno"> 4000</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno"> 4001</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 4002</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>();</div>
<div class="line"><span class="lineno"> 4003</span>    });</div>
<div class="line"><span class="lineno"> 4004</span> </div>
<div class="line"><span class="lineno"> 4005</span>    <span class="comment">// Conflagration, Horseman&#39;s Cleave</span></div>
<div class="line"><span class="lineno"> 4006</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 42380, 42587 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4007</span>    {</div>
<div class="line"><span class="lineno"> 4008</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><span class="lineno"> 4009</span>    });</div>
<div class="line"><span class="lineno"> 4010</span> </div>
<div class="line"><span class="lineno"> 4011</span>    <span class="comment">// Serverside - Summon Arcane Disruptor</span></div>
<div class="line"><span class="lineno"> 4012</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 49591 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4013</span>    {</div>
<div class="line"><span class="lineno"> 4014</span>        spellInfo-&gt;ProcChance = 101;</div>
<div class="line"><span class="lineno"> 4015</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 24;</div>
<div class="line"><span class="lineno"> 4016</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(25);</div>
<div class="line"><span class="lineno"> 4017</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].ItemType = 37888;</div>
<div class="line"><span class="lineno"> 4018</span>    });</div>
<div class="line"><span class="lineno"> 4019</span> </div>
<div class="line"><span class="lineno"> 4020</span>    <span class="comment">// Serverside - Create Rocket Pack</span></div>
<div class="line"><span class="lineno"> 4021</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 70055 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4022</span>    {</div>
<div class="line"><span class="lineno"> 4023</span>        spellInfo-&gt;ProcChance = 101;</div>
<div class="line"><span class="lineno"> 4024</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 24;</div>
<div class="line"><span class="lineno"> 4025</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(25);</div>
<div class="line"><span class="lineno"> 4026</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].ItemType = 49278;</div>
<div class="line"><span class="lineno"> 4027</span>    });</div>
<div class="line"><span class="lineno"> 4028</span> </div>
<div class="line"><span class="lineno"> 4029</span>    <span class="comment">// Ashenvale Outrunner Sneak</span></div>
<div class="line"><span class="lineno"> 4030</span>    <span class="comment">// Stealth</span></div>
<div class="line"><span class="lineno"> 4031</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 20540, 32199 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4032</span>    {</div>
<div class="line"><span class="lineno"> 4033</span>        spellInfo-&gt;AuraInterruptFlags |= (<a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a9981d97f2b5d8a186a68b0199a8f1f37">AURA_INTERRUPT_FLAG_MELEE_ATTACK</a> | <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a38784f17276304852dbc8f4e22b285d2">AURA_INTERRUPT_FLAG_CAST</a>);</div>
<div class="line"><span class="lineno"> 4034</span>    });</div>
<div class="line"><span class="lineno"> 4035</span> </div>
<div class="line"><span class="lineno"> 4036</span>     <span class="comment">// Arcane Bolt</span></div>
<div class="line"><span class="lineno"> 4037</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 15979 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4038</span>    {</div>
<div class="line"><span class="lineno"> 4039</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(3); <span class="comment">// 20y</span></div>
<div class="line"><span class="lineno"> 4040</span>    });</div>
<div class="line"><span class="lineno"> 4041</span> </div>
<div class="line"><span class="lineno"> 4042</span>    <span class="comment">// Mortal Shots</span></div>
<div class="line"><span class="lineno"> 4043</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 19485, 19487, 19488, 19489, 19490 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4044</span>    {</div>
<div class="line"><span class="lineno"> 4045</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].SpellClassMask[0] |= 0x00004000;</div>
<div class="line"><span class="lineno"> 4046</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 4047</span>    });</div>
<div class="line"><span class="lineno"> 4048</span> </div>
<div class="line"><span class="lineno"> 4049</span>    <span class="comment">// Item - Death Knight T9 Melee 4P Bonus</span></div>
<div class="line"><span class="lineno"> 4050</span>    <span class="comment">// Item - Hunter T9 2P Bonus</span></div>
<div class="line"><span class="lineno"> 4051</span>    <span class="comment">// Item - Paladin T9 Retribution 2P Bonus (Righteous Vengeance)</span></div>
<div class="line"><span class="lineno"> 4052</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 67118, 67150, 67188 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4053</span>    {</div>
<div class="line"><span class="lineno"> 4054</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 4055</span>    });</div>
<div class="line"><span class="lineno"> 4056</span> </div>
<div class="line"><span class="lineno"> 4057</span>    <span class="comment">// Green Beam</span></div>
<div class="line"><span class="lineno"> 4058</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({31628, 31630, 31631}, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4059</span>    {</div>
<div class="line"><span class="lineno"> 4060</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 4061</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno"> 4062</span>    });</div>
<div class="line"><span class="lineno"> 4063</span> </div>
<div class="line"><span class="lineno"> 4064</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 4065</span>        20271, 57774,  <span class="comment">// Judgement of Light</span></div>
<div class="line"><span class="lineno"> 4066</span>        20425,         <span class="comment">// Judgement of Command</span></div>
<div class="line"><span class="lineno"> 4067</span>        32220,         <span class="comment">// Judgement of Blood</span></div>
<div class="line"><span class="lineno"> 4068</span>        53407,         <span class="comment">// Judgement of Justice</span></div>
<div class="line"><span class="lineno"> 4069</span>        53408,         <span class="comment">// Judgement of Wisdom</span></div>
<div class="line"><span class="lineno"> 4070</span>        53725          <span class="comment">// Judgement of the Martyr</span></div>
<div class="line"><span class="lineno"> 4071</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4072</span>    {</div>
<div class="line"><span class="lineno"> 4073</span>        spellInfo-&gt;AttributesEx3 &amp;= ~SPELL_ATTR3_SUPPRESS_TARGET_PROCS;</div>
<div class="line"><span class="lineno"> 4074</span>    });</div>
<div class="line"><span class="lineno"> 4075</span> </div>
<div class="line"><span class="lineno"> 4076</span>     <span class="comment">// Chaos Bolt Passive</span></div>
<div class="line"><span class="lineno"> 4077</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 58284 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4078</span>    {</div>
<div class="line"><span class="lineno"> 4079</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><span class="lineno"> 4080</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ada12d140bdacb9205248cfde2265cf33">SPELL_AURA_MOD_ABILITY_IGNORE_TARGET_RESIST</a>;</div>
<div class="line"><span class="lineno"> 4081</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].BasePoints = 100;</div>
<div class="line"><span class="lineno"> 4082</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno"> 4083</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].MiscValue = 127;</div>
<div class="line"><span class="lineno"> 4084</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].SpellClassMask[1] = 0x00020000;</div>
<div class="line"><span class="lineno"> 4085</span>    });</div>
<div class="line"><span class="lineno"> 4086</span> </div>
<div class="line"><span class="lineno"> 4087</span>    <span class="comment">// Nefarian: Shadowbolt, Shadow Command</span></div>
<div class="line"><span class="lineno"> 4088</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 22667, 22677 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4089</span>    {</div>
<div class="line"><span class="lineno"> 4090</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(152); <span class="comment">// 150 yards</span></div>
<div class="line"><span class="lineno"> 4091</span>    });</div>
<div class="line"><span class="lineno"> 4092</span> </div>
<div class="line"><span class="lineno"> 4093</span>    <span class="comment">// Manastorm</span></div>
<div class="line"><span class="lineno"> 4094</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 21097 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4095</span>    {</div>
<div class="line"><span class="lineno"> 4096</span>        spellInfo-&gt;InterruptFlags &amp;= ~SPELL_INTERRUPT_FLAG_INTERRUPT;</div>
<div class="line"><span class="lineno"> 4097</span>    });</div>
<div class="line"><span class="lineno"> 4098</span> </div>
<div class="line"><span class="lineno"> 4099</span>    <span class="comment">// Arcane Vacuum</span></div>
<div class="line"><span class="lineno"> 4100</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 21147 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4101</span>    {</div>
<div class="line"><span class="lineno"> 4102</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(4); <span class="comment">// 30 yards</span></div>
<div class="line"><span class="lineno"> 4103</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81afd31a3efb01e11ee685cd0cac502b9ac">SPELL_ATTR3_ONLY_ON_PLAYER</a>;</div>
<div class="line"><span class="lineno"> 4104</span>    });</div>
<div class="line"><span class="lineno"> 4105</span> </div>
<div class="line"><span class="lineno"> 4106</span>    <span class="comment">// Reflection</span></div>
<div class="line"><span class="lineno"> 4107</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 22067 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4108</span>    {</div>
<div class="line"><span class="lineno"> 4109</span>        spellInfo-&gt;Dispel = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#ada2b5e66b650d7a63f70c06a746070d1a71382806b5f961e5a04f6d06a97a1195">DISPEL_NONE</a>;</div>
<div class="line"><span class="lineno"> 4110</span>    });</div>
<div class="line"><span class="lineno"> 4111</span> </div>
<div class="line"><span class="lineno"> 4112</span>    <span class="comment">// Focused Assault</span></div>
<div class="line"><span class="lineno"> 4113</span>    <span class="comment">// Brutal Assault</span></div>
<div class="line"><span class="lineno"> 4114</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 46392, 46393 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4115</span>    {</div>
<div class="line"><span class="lineno"> 4116</span>        spellInfo-&gt;AuraInterruptFlags |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011addd23de47de1322a4cc921e361bc6dd8">AURA_INTERRUPT_FLAG_CHANGE_MAP</a>;</div>
<div class="line"><span class="lineno"> 4117</span>    });</div>
<div class="line"><span class="lineno"> 4118</span> </div>
<div class="line"><span class="lineno"> 4119</span>    <span class="comment">// Improved Blessing Protection (Nefarian Class Call)</span></div>
<div class="line"><span class="lineno"> 4120</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 23415 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4121</span>    {</div>
<div class="line"><span class="lineno"> 4122</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a85d8f0e6d574cf640ec0c42b54e2ad3c">TARGET_DEST_TARGET_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 4123</span>    });</div>
<div class="line"><span class="lineno"> 4124</span> </div>
<div class="line"><span class="lineno"> 4125</span>    <span class="comment">// Bestial Wrath</span></div>
<div class="line"><span class="lineno"> 4126</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 19574 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4127</span>    {</div>
<div class="line"><span class="lineno"> 4128</span>        spellInfo-&gt;AttributesEx4 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6a13dd5f15a64e3041bbb807d1e6cd6a6c">SPELL_ATTR4_AURA_EXPIRES_OFFLINE</a>;</div>
<div class="line"><span class="lineno"> 4129</span>    });</div>
<div class="line"><span class="lineno"> 4130</span> </div>
<div class="line"><span class="lineno"> 4131</span>    <span class="comment">// Shadowflame</span></div>
<div class="line"><span class="lineno"> 4132</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 22539 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4133</span>    {</div>
<div class="line"><span class="lineno"> 4134</span>        spellInfo-&gt;InterruptFlags &amp;= ~SPELL_INTERRUPT_FLAG_INTERRUPT;</div>
<div class="line"><span class="lineno"> 4135</span>    });</div>
<div class="line"><span class="lineno"> 4136</span> </div>
<div class="line"><span class="lineno"> 4137</span>    <span class="comment">// PX-238 Winter Wondervolt</span></div>
<div class="line"><span class="lineno"> 4138</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 26157, 26272, 26273, 26274 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4139</span>    {</div>
<div class="line"><span class="lineno"> 4140</span>        spellInfo-&gt;Mechanic = 0;</div>
<div class="line"><span class="lineno"> 4141</span>    });</div>
<div class="line"><span class="lineno"> 4142</span> </div>
<div class="line"><span class="lineno"> 4143</span>    <span class="comment">// Calm Dragonkin</span></div>
<div class="line"><span class="lineno"> 4144</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 19872 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4145</span>    {</div>
<div class="line"><span class="lineno"> 4146</span>        spellInfo-&gt;AttributesEx |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076a4046bd467f3727369dcbc06e1d5f2b8f">SPELL_ATTR1_EXCLUDE_CASTER</a>;</div>
<div class="line"><span class="lineno"> 4147</span>    });</div>
<div class="line"><span class="lineno"> 4148</span> </div>
<div class="line"><span class="lineno"> 4149</span>    <span class="comment">// Cosmetic - Lightning Beam Channel</span></div>
<div class="line"><span class="lineno"> 4150</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 45537 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4151</span>    {</div>
<div class="line"><span class="lineno"> 4152</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4153</span>    });</div>
<div class="line"><span class="lineno"> 4154</span> </div>
<div class="line"><span class="lineno"> 4155</span>    <span class="comment">// Burning Adrenaline</span></div>
<div class="line"><span class="lineno"> 4156</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 23478 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4157</span>    {</div>
<div class="line"><span class="lineno"> 4158</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].BasePoints = 4374;</div>
<div class="line"><span class="lineno"> 4159</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].DieSides = 1250;</div>
<div class="line"><span class="lineno"> 4160</span>    });</div>
<div class="line"><span class="lineno"> 4161</span> </div>
<div class="line"><span class="lineno"> 4162</span>    <span class="comment">// Explosion - Razorgore</span></div>
<div class="line"><span class="lineno"> 4163</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 20038 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4164</span>    {</div>
<div class="line"><span class="lineno"> 4165</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a>);</div>
<div class="line"><span class="lineno"> 4166</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780">SPELL_ATTR0_NO_IMMUNITIES</a>;</div>
<div class="line"><span class="lineno"> 4167</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4168</span>    });</div>
<div class="line"><span class="lineno"> 4169</span> </div>
<div class="line"><span class="lineno"> 4170</span>    <span class="comment">// Brood Power : Bronze</span></div>
<div class="line"><span class="lineno"> 4171</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 22311 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4172</span>    {</div>
<div class="line"><span class="lineno"> 4173</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81ac2d73c6356fd835178b899a41edc5a52">SPELL_ATTR3_SUPPRESS_CASTER_PROCS</a>;</div>
<div class="line"><span class="lineno"> 4174</span>    });</div>
<div class="line"><span class="lineno"> 4175</span> </div>
<div class="line"><span class="lineno"> 4176</span>    <span class="comment">// Rapture</span></div>
<div class="line"><span class="lineno"> 4177</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 63652, 63653, 63654, 63655 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4178</span>    {</div>
<div class="line"><span class="lineno"> 4179</span>        spellInfo-&gt;AttributesEx |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076a02166cd30d63804b4175bdfe29ffd068">SPELL_ATTR1_NO_THREAT</a>;</div>
<div class="line"><span class="lineno"> 4180</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4181</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno"> 4182</span>    });</div>
<div class="line"><span class="lineno"> 4183</span> </div>
<div class="line"><span class="lineno"> 4184</span>    <span class="comment">// Everlasting Affliction</span></div>
<div class="line"><span class="lineno"> 4185</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 47422 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4186</span>    {</div>
<div class="line"><span class="lineno"> 4187</span>        spellInfo-&gt;SchoolMask = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aff6913cfd69489c107a071be9ec2ec8fa489ca32f412d460b8ae8f58a1aa8cf3d">SPELL_SCHOOL_MASK_SHADOW</a>;</div>
<div class="line"><span class="lineno"> 4188</span>    });</div>
<div class="line"><span class="lineno"> 4189</span> </div>
<div class="line"><span class="lineno"> 4190</span>    <span class="comment">// Flametongue Weapon (Passive) (Rank 6)</span></div>
<div class="line"><span class="lineno"> 4191</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 16312 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4192</span>    {</div>
<div class="line"><span class="lineno"> 4193</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada407e023ed336f3c64aa20f11dd49f6bd">SPELL_ATTR0_PASSIVE</a>;</div>
<div class="line"><span class="lineno"> 4194</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(21);</div>
<div class="line"><span class="lineno"> 4195</span>    });</div>
<div class="line"><span class="lineno"> 4196</span> </div>
<div class="line"><span class="lineno"> 4197</span>    <span class="comment">// Mana Tide Totem</span></div>
<div class="line"><span class="lineno"> 4198</span>    <span class="comment">// Cleansing Totem Effect</span></div>
<div class="line"><span class="lineno"> 4199</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 39609, 52025 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4200</span>    {</div>
<div class="line"><span class="lineno"> 4201</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(5); <span class="comment">// 40yd</span></div>
<div class="line"><span class="lineno"> 4202</span>    });</div>
<div class="line"><span class="lineno"> 4203</span> </div>
<div class="line"><span class="lineno"> 4204</span>    <span class="comment">// Increased Totem Radius</span></div>
<div class="line"><span class="lineno"> 4205</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 21895 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4206</span>    {</div>
<div class="line"><span class="lineno"> 4207</span>        spellInfo-&gt;Effects[0].SpellClassMask = <a class="code hl_class" href="../../dd/d66/a05534.html">flag96</a>(0x0603E000, 0x00200100);</div>
<div class="line"><span class="lineno"> 4208</span>    });</div>
<div class="line"><span class="lineno"> 4209</span> </div>
<div class="line"><span class="lineno"> 4210</span>    <span class="comment">// Jokkum Summon</span></div>
<div class="line"><span class="lineno"> 4211</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 56541 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4212</span>    {</div>
<div class="line"><span class="lineno"> 4213</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValueB = 844;</div>
<div class="line"><span class="lineno"> 4214</span>    });</div>
<div class="line"><span class="lineno"> 4215</span> </div>
<div class="line"><span class="lineno"> 4216</span>    <span class="comment">// Hakkar Cause Insanity</span></div>
<div class="line"><span class="lineno"> 4217</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 24327 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4218</span>    {</div>
<div class="line"><span class="lineno"> 4219</span>        spellInfo-&gt;Dispel = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#ada2b5e66b650d7a63f70c06a746070d1a71382806b5f961e5a04f6d06a97a1195">DISPEL_NONE</a>;</div>
<div class="line"><span class="lineno"> 4220</span>    });</div>
<div class="line"><span class="lineno"> 4221</span> </div>
<div class="line"><span class="lineno"> 4222</span>    <span class="comment">// Summon Nightmare Illusions</span></div>
<div class="line"><span class="lineno"> 4223</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 24681, 24728, 24729 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4224</span>    {</div>
<div class="line"><span class="lineno"> 4225</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValueB = 64;</div>
<div class="line"><span class="lineno"> 4226</span>    });</div>
<div class="line"><span class="lineno"> 4227</span> </div>
<div class="line"><span class="lineno"> 4228</span>    <span class="comment">// Blood Siphon</span></div>
<div class="line"><span class="lineno"> 4229</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 24322, 24323 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4230</span>    {</div>
<div class="line"><span class="lineno"> 4231</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799afdf00dd634aaa25017ad329f58bd6cfd">SPELL_AURA_MOD_STUN</a>;</div>
<div class="line"><span class="lineno"> 4232</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 4233</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada74e8efc0492288577083b1cc470e48c4">SPELL_ATTR0_NO_AURA_CANCEL</a>;</div>
<div class="line"><span class="lineno"> 4234</span>        spellInfo-&gt;AttributesEx5 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a376aa62261a98289589839b821786adaa9e87c441d0ab6017a669f1d3a3081411">SPELL_ATTR5_ALLOW_ACTION_DURING_CHANNEL</a>;</div>
<div class="line"><span class="lineno"> 4235</span>        spellInfo-&gt;ChannelInterruptFlags &amp;= ~AURA_INTERRUPT_FLAG_MOVE;</div>
<div class="line"><span class="lineno"> 4236</span>    });</div>
<div class="line"><span class="lineno"> 4237</span> </div>
<div class="line"><span class="lineno"> 4238</span>    <span class="comment">// Place Fake Fur</span></div>
<div class="line"><span class="lineno"> 4239</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 46085 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4240</span>    {</div>
<div class="line"><span class="lineno"> 4241</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValue = 8;</div>
<div class="line"><span class="lineno"> 4242</span>    });</div>
<div class="line"><span class="lineno"> 4243</span> </div>
<div class="line"><span class="lineno"> 4244</span>    <span class="comment">// Smash Mammoth Trap</span></div>
<div class="line"><span class="lineno"> 4245</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 46201 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4246</span>    {</div>
<div class="line"><span class="lineno"> 4247</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValue = 8;</div>
<div class="line"><span class="lineno"> 4248</span>    });</div>
<div class="line"><span class="lineno"> 4249</span> </div>
<div class="line"><span class="lineno"> 4250</span>    <span class="comment">// Elemental Mastery</span></div>
<div class="line"><span class="lineno"> 4251</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 16166 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4252</span>    {</div>
<div class="line"><span class="lineno"> 4253</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].SpellClassMask = <a class="code hl_class" href="../../dd/d66/a05534.html">flag96</a>(0x00000003, 0x00001000);</div>
<div class="line"><span class="lineno"> 4254</span>    });</div>
<div class="line"><span class="lineno"> 4255</span> </div>
<div class="line"><span class="lineno"> 4256</span>    <span class="comment">// Elemental Vulnerability</span></div>
<div class="line"><span class="lineno"> 4257</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 28772 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4258</span>    {</div>
<div class="line"><span class="lineno"> 4259</span>        spellInfo-&gt;Speed = 1;</div>
<div class="line"><span class="lineno"> 4260</span>    });</div>
<div class="line"><span class="lineno"> 4261</span> </div>
<div class="line"><span class="lineno"> 4262</span>    <span class="comment">// Find the Ancient Hero: Kill Credit</span></div>
<div class="line"><span class="lineno"> 4263</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 25729 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4264</span>    {</div>
<div class="line"><span class="lineno"> 4265</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152af0935a10aea290f03b614baa8ae18d13">TARGET_UNIT_SUMMONER</a>;</div>
<div class="line"><span class="lineno"> 4266</span>    });</div>
<div class="line"><span class="lineno"> 4267</span> </div>
<div class="line"><span class="lineno"> 4268</span>    <span class="comment">// Artorius Demonic Doom</span></div>
<div class="line"><span class="lineno"> 4269</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 23298 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4270</span>    {</div>
<div class="line"><span class="lineno"> 4271</span>        spellInfo-&gt;AttributesEx4 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6aa4f27b3ed6d7a0bcbc8db9f766ed39ae">SPELL_ATTR4_IGNORE_DAMAGE_TAKEN_MODIFIERS</a>;</div>
<div class="line"><span class="lineno"> 4272</span>        spellInfo-&gt;AttributesEx6 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094a653a9dadab0c249ed232ecda87dd833f">SPELL_ATTR6_IGNORE_CASTER_DAMAGE_MODIFIERS</a>;</div>
<div class="line"><span class="lineno"> 4273</span>    });</div>
<div class="line"><span class="lineno"> 4274</span> </div>
<div class="line"><span class="lineno"> 4275</span>    <span class="comment">// Lash</span></div>
<div class="line"><span class="lineno"> 4276</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 25852 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4277</span>    {</div>
<div class="line"><span class="lineno"> 4278</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 4279</span>    });</div>
<div class="line"><span class="lineno"> 4280</span> </div>
<div class="line"><span class="lineno"> 4281</span>    <span class="comment">// Explosion</span></div>
<div class="line"><span class="lineno"> 4282</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 5255 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4283</span>    {</div>
<div class="line"><span class="lineno"> 4284</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4285</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><span class="lineno"> 4286</span>    });</div>
<div class="line"><span class="lineno"> 4287</span> </div>
<div class="line"><span class="lineno"> 4288</span>    <span class="comment">// Death&#39;s Respite</span></div>
<div class="line"><span class="lineno"> 4289</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 67731, 68305 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4290</span>    {</div>
<div class="line"><span class="lineno"> 4291</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno"> 4292</span>    });</div>
<div class="line"><span class="lineno"> 4293</span> </div>
<div class="line"><span class="lineno"> 4294</span>    <span class="comment">// Wyvern Sting DoT</span></div>
<div class="line"><span class="lineno"> 4295</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 24131, 24134, 24135 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4296</span>    {</div>
<div class="line"><span class="lineno"> 4297</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a>);</div>
<div class="line"><span class="lineno"> 4298</span>    });</div>
<div class="line"><span class="lineno"> 4299</span> </div>
<div class="line"><span class="lineno"> 4300</span>     <span class="comment">// Feed Pet</span></div>
<div class="line"><span class="lineno"> 4301</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 1539, 51284 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4302</span>    {</div>
<div class="line"><span class="lineno"> 4303</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada1f3031f3c50d03bb71d7bdef2247f5da">SPELL_ATTR0_ALLOW_WHILE_SITTING</a>;</div>
<div class="line"><span class="lineno"> 4304</span>    });</div>
<div class="line"><span class="lineno"> 4305</span> </div>
<div class="line"><span class="lineno"> 4306</span>    <span class="comment">// Judgement (Paladin T2 8P Bonus)</span></div>
<div class="line"><span class="lineno"> 4307</span>    <span class="comment">// Battlegear of Eternal Justice</span></div>
<div class="line"><span class="lineno"> 4308</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 23591, 26135 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4309</span>    {</div>
<div class="line"><span class="lineno"> 4310</span>        spellInfo-&gt;ProcFlags = <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a7986f32b9f36b5a364fda01d94accb26">PROC_FLAG_DONE_SPELL_MELEE_DMG_CLASS</a>;</div>
<div class="line"><span class="lineno"> 4311</span>    });</div>
<div class="line"><span class="lineno"> 4312</span> </div>
<div class="line"><span class="lineno"> 4313</span>    <span class="comment">// Gift of Arthas</span></div>
<div class="line"><span class="lineno"> 4314</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 11371 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4315</span>    {</div>
<div class="line"><span class="lineno"> 4316</span>        spellInfo-&gt;SpellFamilyName = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba84336097f9e363a9b6a4d7d4839c1b54">SPELLFAMILY_POTION</a>;</div>
<div class="line"><span class="lineno"> 4317</span>    });</div>
<div class="line"><span class="lineno"> 4318</span> </div>
<div class="line"><span class="lineno"> 4319</span>    <span class="comment">// Refocus (Renataki&#39;s charm of beasts)</span></div>
<div class="line"><span class="lineno"> 4320</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 24531 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4321</span>    {</div>
<div class="line"><span class="lineno"> 4322</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno"> 4323</span>    });</div>
<div class="line"><span class="lineno"> 4324</span> </div>
<div class="line"><span class="lineno"> 4325</span>    <span class="comment">// Collect Rookery Egg</span></div>
<div class="line"><span class="lineno"> 4326</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 15958 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4327</span>    {</div>
<div class="line"><span class="lineno"> 4328</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = 0;</div>
<div class="line"><span class="lineno"> 4329</span>    });</div>
<div class="line"><span class="lineno"> 4330</span> </div>
<div class="line"><span class="lineno"> 4331</span>    <span class="comment">// WotLK Prologue Frozen Shade Visual, temp used to restore visual after Dispersion</span></div>
<div class="line"><span class="lineno"> 4332</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 53444 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4333</span>    {</div>
<div class="line"><span class="lineno"> 4334</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(27);</div>
<div class="line"><span class="lineno"> 4335</span>    });</div>
<div class="line"><span class="lineno"> 4336</span> </div>
<div class="line"><span class="lineno"> 4337</span>    <span class="comment">// Rental Racing Ram</span></div>
<div class="line"><span class="lineno"> 4338</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 43883 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4339</span>    {</div>
<div class="line"><span class="lineno"> 4340</span>        spellInfo-&gt;AuraInterruptFlags &amp;= ~AURA_INTERRUPT_FLAG_NOT_ABOVEWATER;</div>
<div class="line"><span class="lineno"> 4341</span>    });</div>
<div class="line"><span class="lineno"> 4342</span> </div>
<div class="line"><span class="lineno"> 4343</span>    <span class="comment">// Summon Worm</span></div>
<div class="line"><span class="lineno"> 4344</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 518, 25831, 25832 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4345</span>    {</div>
<div class="line"><span class="lineno"> 4346</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValueB = 64;</div>
<div class="line"><span class="lineno"> 4347</span>    });</div>
<div class="line"><span class="lineno"> 4348</span> </div>
<div class="line"><span class="lineno"> 4349</span>    <span class="comment">// Uppercut</span></div>
<div class="line"><span class="lineno"> 4350</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 26007 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4351</span>    {</div>
<div class="line"><span class="lineno"> 4352</span>            spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81ac2d73c6356fd835178b899a41edc5a52">SPELL_ATTR3_SUPPRESS_CASTER_PROCS</a>;</div>
<div class="line"><span class="lineno"> 4353</span>    });</div>
<div class="line"><span class="lineno"> 4354</span> </div>
<div class="line"><span class="lineno"> 4355</span>    <span class="comment">// Digestive Acid (Temporary)</span></div>
<div class="line"><span class="lineno"> 4356</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 26476 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4357</span>    {</div>
<div class="line"><span class="lineno"> 4358</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780">SPELL_ATTR0_NO_IMMUNITIES</a>;</div>
<div class="line"><span class="lineno"> 4359</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4360</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>;</div>
<div class="line"><span class="lineno"> 4361</span>    });</div>
<div class="line"><span class="lineno"> 4362</span> </div>
<div class="line"><span class="lineno"> 4363</span>    <span class="comment">// Drums of War/Battle/Speed/Restoration</span></div>
<div class="line"><span class="lineno"> 4364</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 35475, 35476, 35477, 35478 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4365</span>    {</div>
<div class="line"><span class="lineno"> 4366</span>        spellInfo-&gt;ExcludeTargetAuraSpell = 51120;</div>
<div class="line"><span class="lineno"> 4367</span>    });</div>
<div class="line"><span class="lineno"> 4368</span> </div>
<div class="line"><span class="lineno"> 4369</span>    <span class="comment">// Slap!</span></div>
<div class="line"><span class="lineno"> 4370</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 6754 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4371</span>    {</div>
<div class="line"><span class="lineno"> 4372</span>        spellInfo-&gt;AttributesEx |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076a02166cd30d63804b4175bdfe29ffd068">SPELL_ATTR1_NO_THREAT</a>;</div>
<div class="line"><span class="lineno"> 4373</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno"> 4374</span>    });</div>
<div class="line"><span class="lineno"> 4375</span> </div>
<div class="line"><span class="lineno"> 4376</span>    <span class="comment">// Summon Cauldron Stuff</span></div>
<div class="line"><span class="lineno"> 4377</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 36549 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4378</span>    {</div>
<div class="line"><span class="lineno"> 4379</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(28); <span class="comment">// 5 seconds</span></div>
<div class="line"><span class="lineno"> 4380</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aaff4bf7194055bf177ba701c46cdcadb">TARGET_DEST_CASTER</a>;</div>
<div class="line"><span class="lineno"> 4381</span>    });</div>
<div class="line"><span class="lineno"> 4382</span> </div>
<div class="line"><span class="lineno"> 4383</span>    <span class="comment">// Hunter&#39;s Mark</span></div>
<div class="line"><span class="lineno"> 4384</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 31615 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4385</span>    {</div>
<div class="line"><span class="lineno"> 4386</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> index = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>; index &lt;= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>; ++index)</div>
<div class="line"><span class="lineno"> 4387</span>        {</div>
<div class="line"><span class="lineno"> 4388</span>            spellInfo-&gt;Effects[index].TargetA = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a>;</div>
<div class="line"><span class="lineno"> 4389</span>            spellInfo-&gt;Effects[index].TargetB = 0;</div>
<div class="line"><span class="lineno"> 4390</span>        }</div>
<div class="line"><span class="lineno"> 4391</span>    });</div>
<div class="line"><span class="lineno"> 4392</span> </div>
<div class="line"><span class="lineno"> 4393</span>    <span class="comment">// Self Visual - Sleep Until Cancelled(DND)</span></div>
<div class="line"><span class="lineno"> 4394</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 6606, 14915, 16093 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4395</span>    {</div>
<div class="line"><span class="lineno"> 4396</span>        spellInfo-&gt;AuraInterruptFlags &amp;= ~AURA_INTERRUPT_FLAG_NOT_SEATED;</div>
<div class="line"><span class="lineno"> 4397</span>    });</div>
<div class="line"><span class="lineno"> 4398</span> </div>
<div class="line"><span class="lineno"> 4399</span>     <span class="comment">// Cleansing Totem, Healing Stream Totem, Mana Tide Totem</span></div>
<div class="line"><span class="lineno"> 4400</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 8171,52025, 52041, 52042, 52046, 52047, 52048, 52049, 52050, 58759, 58760, 58761, 39610, 39609 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4401</span>    {</div>
<div class="line"><span class="lineno"> 4402</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4403</span>    });</div>
<div class="line"><span class="lineno"> 4404</span>    <span class="comment">// Game In Session</span></div>
<div class="line"><span class="lineno"> 4405</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 39331 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4406</span>    {</div>
<div class="line"><span class="lineno"> 4407</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><span class="lineno"> 4408</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada74e8efc0492288577083b1cc470e48c4">SPELL_ATTR0_NO_AURA_CANCEL</a>;</div>
<div class="line"><span class="lineno"> 4409</span>        spellInfo-&gt;AuraInterruptFlags |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011addd23de47de1322a4cc921e361bc6dd8">AURA_INTERRUPT_FLAG_CHANGE_MAP</a>;</div>
<div class="line"><span class="lineno"> 4410</span>    });</div>
<div class="line"><span class="lineno"> 4411</span>    <span class="comment">// Death Ray Warning Visual, Death Ray Damage Visual</span></div>
<div class="line"><span class="lineno"> 4412</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 63882, 63886 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4413</span>    {</div>
<div class="line"><span class="lineno"> 4414</span>        spellInfo-&gt;AttributesEx5 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a376aa62261a98289589839b821786adaa9e87c441d0ab6017a669f1d3a3081411">SPELL_ATTR5_ALLOW_ACTION_DURING_CHANNEL</a>;</div>
<div class="line"><span class="lineno"> 4415</span>    });</div>
<div class="line"><span class="lineno"> 4416</span> </div>
<div class="line"><span class="lineno"> 4417</span>    <span class="comment">// Buffeting Winds of Susurrus</span></div>
<div class="line"><span class="lineno"> 4418</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 32474 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4419</span>    {</div>
<div class="line"><span class="lineno"> 4420</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(556); <span class="comment">// 28 seconds</span></div>
<div class="line"><span class="lineno"> 4421</span>    });</div>
<div class="line"><span class="lineno"> 4422</span> </div>
<div class="line"><span class="lineno"> 4423</span>    <span class="comment">// Quest - Healing Salve</span></div>
<div class="line"><span class="lineno"> 4424</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 29314 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4425</span>    {</div>
<div class="line"><span class="lineno"> 4426</span>        spellInfo-&gt;CastTimeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5c5f896be6bbbc33caa037de254cb917">sSpellCastTimesStore</a>.LookupEntry(1); <span class="comment">// 0s</span></div>
<div class="line"><span class="lineno"> 4427</span>    });</div>
<div class="line"><span class="lineno"> 4428</span> </div>
<div class="line"><span class="lineno"> 4429</span>    <span class="comment">// Seed of Corruption</span></div>
<div class="line"><span class="lineno"> 4430</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 27285, 47833, 47834 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4431</span>    {</div>
<div class="line"><span class="lineno"> 4432</span>        spellInfo-&gt;AttributesEx |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076ab9c968f9c7e43008cdc9f4ec298f83f6">SPELL_ATTR1_NO_REFLECTION</a>;</div>
<div class="line"><span class="lineno"> 4433</span>    });</div>
<div class="line"><span class="lineno"> 4434</span> </div>
<div class="line"><span class="lineno"> 4435</span>    <span class="comment">// Turn the Tables</span></div>
<div class="line"><span class="lineno"> 4436</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 51627, 51628, 51629 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4437</span>    {</div>
<div class="line"><span class="lineno"> 4438</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a>;</div>
<div class="line"><span class="lineno"> 4439</span>    });</div>
<div class="line"><span class="lineno"> 4440</span> </div>
<div class="line"><span class="lineno"> 4441</span>     <span class="comment">// Silence</span></div>
<div class="line"><span class="lineno"> 4442</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 18278 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4443</span>    {</div>
<div class="line"><span class="lineno"> 4444</span>        spellInfo-&gt;AttributesEx4 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6a712b2bc4c2287e224f870f3f670feb46">SPELL_ATTR4_NOT_IN_ARENA_OR_RATED_BATTLEGROUND</a>;</div>
<div class="line"><span class="lineno"> 4445</span>    });</div>
<div class="line"><span class="lineno"> 4446</span> </div>
<div class="line"><span class="lineno"> 4447</span>    <span class="comment">// Absorb Life</span></div>
<div class="line"><span class="lineno"> 4448</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 34239 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4449</span>    {</div>
<div class="line"><span class="lineno"> 4450</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].ValueMultiplier = 1;</div>
<div class="line"><span class="lineno"> 4451</span>    });</div>
<div class="line"><span class="lineno"> 4452</span> </div>
<div class="line"><span class="lineno"> 4453</span>    <span class="comment">// Summon a Warp Rift in Void Ridge</span></div>
<div class="line"><span class="lineno"> 4454</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 35036 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4455</span>    {</div>
<div class="line"><span class="lineno"> 4456</span>        spellInfo-&gt;CastTimeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5c5f896be6bbbc33caa037de254cb917">sSpellCastTimesStore</a>.LookupEntry(1); <span class="comment">// 0s</span></div>
<div class="line"><span class="lineno"> 4457</span>    });</div>
<div class="line"><span class="lineno"> 4458</span> </div>
<div class="line"><span class="lineno"> 4459</span>    <span class="comment">// Hit Rating (Dungeon T3 - 2P Bonus - Wastewalker, Doomplate)</span></div>
<div class="line"><span class="lineno"> 4460</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 37608, 37610 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4461</span>    {</div>
<div class="line"><span class="lineno"> 4462</span>        spellInfo-&gt;DurationEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>.LookupEntry(0);</div>
<div class="line"><span class="lineno"> 4463</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValue = 224;</div>
<div class="line"><span class="lineno"> 4464</span>    });</div>
<div class="line"><span class="lineno"> 4465</span> </div>
<div class="line"><span class="lineno"> 4466</span>    <span class="comment">// Target Fissures</span></div>
<div class="line"><span class="lineno"> 4467</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 30745 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4468</span>    {</div>
<div class="line"><span class="lineno"> 4469</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno"> 4470</span>    });</div>
<div class="line"><span class="lineno"> 4471</span> </div>
<div class="line"><span class="lineno"> 4472</span>    <span class="comment">// Acid Spit</span></div>
<div class="line"><span class="lineno"> 4473</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 34290 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4474</span>    {</div>
<div class="line"><span class="lineno"> 4475</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno"> 4476</span>    });</div>
<div class="line"><span class="lineno"> 4477</span> </div>
<div class="line"><span class="lineno"> 4478</span>    <span class="comment">// Mulgore Hatchling (periodic)</span></div>
<div class="line"><span class="lineno"> 4479</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 62586 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4480</span>    {</div>
<div class="line"><span class="lineno"> 4481</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TriggerSpell = 62585; <span class="comment">// Mulgore Hatchling (fear)</span></div>
<div class="line"><span class="lineno"> 4482</span>    });</div>
<div class="line"><span class="lineno"> 4483</span> </div>
<div class="line"><span class="lineno"> 4484</span>    <span class="comment">// Poultryized!</span></div>
<div class="line"><span class="lineno"> 4485</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 30504 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4486</span>    {</div>
<div class="line"><span class="lineno"> 4487</span>        spellInfo-&gt;AuraInterruptFlags |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a043102900f6d0a56c4ba2aaf151fa41a">AURA_INTERRUPT_FLAG_TAKE_DAMAGE</a>;</div>
<div class="line"><span class="lineno"> 4488</span>    });</div>
<div class="line"><span class="lineno"> 4489</span> </div>
<div class="line"><span class="lineno"> 4490</span>    <span class="comment">// Torment of the Worgen</span></div>
<div class="line"><span class="lineno"> 4491</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 30567 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4492</span>    {</div>
<div class="line"><span class="lineno"> 4493</span>        spellInfo-&gt;ProcChance = 3;</div>
<div class="line"><span class="lineno"> 4494</span>    });</div>
<div class="line"><span class="lineno"> 4495</span> </div>
<div class="line"><span class="lineno"> 4496</span>    <span class="comment">// Summon Water Elementals</span></div>
<div class="line"><span class="lineno"> 4497</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 29962, 37051, 37052, 37053 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4498</span>    {</div>
<div class="line"><span class="lineno"> 4499</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(13); <span class="comment">// 50000yd</span></div>
<div class="line"><span class="lineno"> 4500</span>    });</div>
<div class="line"><span class="lineno"> 4501</span> </div>
<div class="line"><span class="lineno"> 4502</span>    <span class="comment">// Instill Lord Valthalak&#39;s Spirit DND</span></div>
<div class="line"><span class="lineno"> 4503</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 27360 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4504</span>    {</div>
<div class="line"><span class="lineno"> 4505</span>        spellInfo-&gt;ChannelInterruptFlags |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a79d9517e2981beafd03e4ee2ccbb1c35">AURA_INTERRUPT_FLAG_MOVE</a>;</div>
<div class="line"><span class="lineno"> 4506</span>    });</div>
<div class="line"><span class="lineno"> 4507</span> </div>
<div class="line"><span class="lineno"> 4508</span>    <span class="comment">// Holiday - Midsummer, Ribbon Pole Periodic Visual</span></div>
<div class="line"><span class="lineno"> 4509</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 45406 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4510</span>    {</div>
<div class="line"><span class="lineno"> 4511</span>        spellInfo-&gt;AuraInterruptFlags |= ( <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011ae9348af99172fda1de7f0ace41e2151a">AURA_INTERRUPT_FLAG_MOUNT</a> | <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a38784f17276304852dbc8f4e22b285d2">AURA_INTERRUPT_FLAG_CAST</a> | <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a789c61302c38d1c0a1e12f36df6fa49b">AURA_INTERRUPT_FLAG_TALK</a> );</div>
<div class="line"><span class="lineno"> 4512</span>    });</div>
<div class="line"><span class="lineno"> 4513</span> </div>
<div class="line"><span class="lineno"> 4514</span>    <span class="comment">// Improved Mind Flay and Smite</span></div>
<div class="line"><span class="lineno"> 4515</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 37571 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4516</span>    {</div>
<div class="line"><span class="lineno"> 4517</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].SpellClassMask[0] = 8388736;</div>
<div class="line"><span class="lineno"> 4518</span>    });</div>
<div class="line"><span class="lineno"> 4519</span> </div>
<div class="line"><span class="lineno"> 4520</span>    <span class="comment">// Improved Corruption and Immolate (Updated)</span></div>
<div class="line"><span class="lineno"> 4521</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 61992 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4522</span>    {</div>
<div class="line"><span class="lineno"> 4523</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><span class="lineno"> 4524</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a2c530c4b7d2f3b77f65f62395bda9c4a">SPELL_AURA_ADD_PCT_MODIFIER</a>;</div>
<div class="line"><span class="lineno"> 4525</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno"> 4526</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].BasePoints = 4;</div>
<div class="line"><span class="lineno"> 4527</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].DieSides = 1;</div>
<div class="line"><span class="lineno"> 4528</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].MiscValue = 22;</div>
<div class="line"><span class="lineno"> 4529</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].SpellClassMask[0] = 6;</div>
<div class="line"><span class="lineno"> 4530</span>    });</div>
<div class="line"><span class="lineno"> 4531</span> </div>
<div class="line"><span class="lineno"> 4532</span>    <span class="comment">// 46747 Fling torch</span></div>
<div class="line"><span class="lineno"> 4533</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 46747 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4534</span>    {</div>
<div class="line"><span class="lineno"> 4535</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aaff4bf7194055bf177ba701c46cdcadb">TARGET_DEST_CASTER</a>);</div>
<div class="line"><span class="lineno"> 4536</span>    });</div>
<div class="line"><span class="lineno"> 4537</span> </div>
<div class="line"><span class="lineno"> 4538</span>    <span class="comment">// Chains of Naberius</span></div>
<div class="line"><span class="lineno"> 4539</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 36146 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4540</span>    {</div>
<div class="line"><span class="lineno"> 4541</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno"> 4542</span>    });</div>
<div class="line"><span class="lineno"> 4543</span> </div>
<div class="line"><span class="lineno"> 4544</span>    <span class="comment">// Force of Neltharaku</span></div>
<div class="line"><span class="lineno"> 4545</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 38762 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4546</span>    {</div>
<div class="line"><span class="lineno"> 4547</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a>);</div>
<div class="line"><span class="lineno"> 4548</span>    });</div>
<div class="line"><span class="lineno"> 4549</span> </div>
<div class="line"><span class="lineno"> 4550</span>    <span class="comment">// Spotlight</span></div>
<div class="line"><span class="lineno"> 4551</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 29683, 32214 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4552</span>    {</div>
<div class="line"><span class="lineno"> 4553</span>        spellInfo-&gt;AttributesEx5 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a376aa62261a98289589839b821786adaa54ee0547b3e23ed80b12bf5a04573360">SPELL_ATTR5_DO_NOT_DISPLAY_DURATION</a>;</div>
<div class="line"><span class="lineno"> 4554</span>    });</div>
<div class="line"><span class="lineno"> 4555</span> </div>
<div class="line"><span class="lineno"> 4556</span>    <span class="comment">// Haunted</span></div>
<div class="line"><span class="lineno"> 4557</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 53768 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4558</span>    {</div>
<div class="line"><span class="lineno"> 4559</span>        spellInfo-&gt;Attributes |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada74e8efc0492288577083b1cc470e48c4">SPELL_ATTR0_NO_AURA_CANCEL</a>;</div>
<div class="line"><span class="lineno"> 4560</span>    });</div>
<div class="line"><span class="lineno"> 4561</span> </div>
<div class="line"><span class="lineno"> 4562</span>    <span class="comment">// Tidal Wave</span></div>
<div class="line"><span class="lineno"> 4563</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 37730 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4564</span>    {</div>
<div class="line"><span class="lineno"> 4565</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4566</span>    });</div>
<div class="line"><span class="lineno"> 4567</span> </div>
<div class="line"><span class="lineno"> 4568</span>    <span class="comment">// Commanding Shout</span></div>
<div class="line"><span class="lineno"> 4569</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 469, 47439, 47440 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4570</span>    {</div>
<div class="line"><span class="lineno"> 4571</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4572</span>    });</div>
<div class="line"><span class="lineno"> 4573</span> </div>
<div class="line"><span class="lineno"> 4574</span>    <span class="comment">// Battle Shout</span></div>
<div class="line"><span class="lineno"> 4575</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 2048, 5242, 6192, 6673, 11549, 11550, 11551, 25289, 47436 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4576</span>    {</div>
<div class="line"><span class="lineno"> 4577</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4578</span>    });</div>
<div class="line"><span class="lineno"> 4579</span> </div>
<div class="line"><span class="lineno"> 4580</span>    <span class="comment">// Plague Effect</span></div>
<div class="line"><span class="lineno"> 4581</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 19594, 26557 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4582</span>    {</div>
<div class="line"><span class="lineno"> 4583</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4584</span>    });</div>
<div class="line"><span class="lineno"> 4585</span> </div>
<div class="line"><span class="lineno"> 4586</span>    <span class="comment">// Prayer of Fortitude</span></div>
<div class="line"><span class="lineno"> 4587</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 21562, 21564, 25392, 48162 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4588</span>    {</div>
<div class="line"><span class="lineno"> 4589</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4590</span>    });</div>
<div class="line"><span class="lineno"> 4591</span> </div>
<div class="line"><span class="lineno"> 4592</span>    <span class="comment">// Gift of the Wild</span></div>
<div class="line"><span class="lineno"> 4593</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 21849, 21850, 26991, 48470, 69381 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4594</span>    {</div>
<div class="line"><span class="lineno"> 4595</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4596</span>    });</div>
<div class="line"><span class="lineno"> 4597</span> </div>
<div class="line"><span class="lineno"> 4598</span>    <span class="comment">// Arcane Brilliance</span></div>
<div class="line"><span class="lineno"> 4599</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 23028, 27127, 43002 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4600</span>    {</div>
<div class="line"><span class="lineno"> 4601</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4602</span>    });</div>
<div class="line"><span class="lineno"> 4603</span> </div>
<div class="line"><span class="lineno"> 4604</span>    <span class="comment">// Prayer of Spirit</span></div>
<div class="line"><span class="lineno"> 4605</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 27681, 32999, 48074 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4606</span>    {</div>
<div class="line"><span class="lineno"> 4607</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4608</span>    });</div>
<div class="line"><span class="lineno"> 4609</span> </div>
<div class="line"><span class="lineno"> 4610</span>    <span class="comment">// Prayer of Shadow Protection</span></div>
<div class="line"><span class="lineno"> 4611</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 27683, 39374, 48170 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4612</span>    {</div>
<div class="line"><span class="lineno"> 4613</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4614</span>    });</div>
<div class="line"><span class="lineno"> 4615</span> </div>
<div class="line"><span class="lineno"> 4616</span>    <span class="comment">// Nagrand Fort Buff Reward Raid</span></div>
<div class="line"><span class="lineno"> 4617</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 33006 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4618</span>    {</div>
<div class="line"><span class="lineno"> 4619</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4620</span>    });</div>
<div class="line"><span class="lineno"> 4621</span> </div>
<div class="line"><span class="lineno"> 4622</span>    <span class="comment">// Ancestral Awakening</span></div>
<div class="line"><span class="lineno"> 4623</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 52759 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4624</span>    {</div>
<div class="line"><span class="lineno"> 4625</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4626</span>    });</div>
<div class="line"><span class="lineno"> 4627</span> </div>
<div class="line"><span class="lineno"> 4628</span>    <span class="comment">// Turn the Tables</span></div>
<div class="line"><span class="lineno"> 4629</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 52910, 52914, 52915 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4630</span>    {</div>
<div class="line"><span class="lineno"> 4631</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4632</span>    });</div>
<div class="line"><span class="lineno"> 4633</span> </div>
<div class="line"><span class="lineno"> 4634</span>    <span class="comment">// Judgements of the Wise</span></div>
<div class="line"><span class="lineno"> 4635</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 54180 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4636</span>    {</div>
<div class="line"><span class="lineno"> 4637</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4638</span>    });</div>
<div class="line"><span class="lineno"> 4639</span> </div>
<div class="line"><span class="lineno"> 4640</span>    <span class="comment">// Replenishment</span></div>
<div class="line"><span class="lineno"> 4641</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 57669 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4642</span>    {</div>
<div class="line"><span class="lineno"> 4643</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4644</span>    });</div>
<div class="line"><span class="lineno"> 4645</span> </div>
<div class="line"><span class="lineno"> 4646</span>    <span class="comment">// Dalaran Brilliance</span></div>
<div class="line"><span class="lineno"> 4647</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 61316 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4648</span>    {</div>
<div class="line"><span class="lineno"> 4649</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4650</span>    });</div>
<div class="line"><span class="lineno"> 4651</span> </div>
<div class="line"><span class="lineno"> 4652</span>    <span class="comment">// [DND] Dalaran Brilliance</span></div>
<div class="line"><span class="lineno"> 4653</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 61332 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4654</span>    {</div>
<div class="line"><span class="lineno"> 4655</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4656</span>    });</div>
<div class="line"><span class="lineno"> 4657</span> </div>
<div class="line"><span class="lineno"> 4658</span>    <span class="comment">// Infinite Replenishment + Wisdom</span></div>
<div class="line"><span class="lineno"> 4659</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 61782 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4660</span>    {</div>
<div class="line"><span class="lineno"> 4661</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4662</span>    });</div>
<div class="line"><span class="lineno"> 4663</span> </div>
<div class="line"><span class="lineno"> 4664</span>    <span class="comment">// Renewed Hope</span></div>
<div class="line"><span class="lineno"> 4665</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 63944 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4666</span>    {</div>
<div class="line"><span class="lineno"> 4667</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4668</span>    });</div>
<div class="line"><span class="lineno"> 4669</span> </div>
<div class="line"><span class="lineno"> 4670</span>    <span class="comment">// Fortitude</span></div>
<div class="line"><span class="lineno"> 4671</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69377 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4672</span>    {</div>
<div class="line"><span class="lineno"> 4673</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4674</span>    });</div>
<div class="line"><span class="lineno"> 4675</span> </div>
<div class="line"><span class="lineno"> 4676</span>    <span class="comment">// Blessing of Forgotten Kings</span></div>
<div class="line"><span class="lineno"> 4677</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69378 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4678</span>    {</div>
<div class="line"><span class="lineno"> 4679</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4680</span>    });</div>
<div class="line"><span class="lineno"> 4681</span> </div>
<div class="line"><span class="lineno"> 4682</span>    <span class="comment">// Lucky Charm</span></div>
<div class="line"><span class="lineno"> 4683</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69511 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4684</span>    {</div>
<div class="line"><span class="lineno"> 4685</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4686</span>    });</div>
<div class="line"><span class="lineno"> 4687</span> </div>
<div class="line"><span class="lineno"> 4688</span>    <span class="comment">// Shiny Shard of the Scale Heal Targeter</span></div>
<div class="line"><span class="lineno"> 4689</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69749 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4690</span>    {</div>
<div class="line"><span class="lineno"> 4691</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4692</span>    });</div>
<div class="line"><span class="lineno"> 4693</span> </div>
<div class="line"><span class="lineno"> 4694</span>    <span class="comment">// Purified Shard of the Scale Heal Targeter</span></div>
<div class="line"><span class="lineno"> 4695</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69754 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4696</span>    {</div>
<div class="line"><span class="lineno"> 4697</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4698</span>    });</div>
<div class="line"><span class="lineno"> 4699</span> </div>
<div class="line"><span class="lineno"> 4700</span>    <span class="comment">// Brilliance</span></div>
<div class="line"><span class="lineno"> 4701</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 69994 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4702</span>    {</div>
<div class="line"><span class="lineno"> 4703</span>        spellInfo-&gt;AttributesEx2 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>;</div>
<div class="line"><span class="lineno"> 4704</span>    });</div>
<div class="line"><span class="lineno"> 4705</span> </div>
<div class="line"><span class="lineno"> 4706</span>    <span class="comment">// Domination</span></div>
<div class="line"><span class="lineno"> 4707</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 37135 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4708</span>    {</div>
<div class="line"><span class="lineno"> 4709</span>        spellInfo-&gt;MaxAffectedTargets = 5;</div>
<div class="line"><span class="lineno"> 4710</span>    });</div>
<div class="line"><span class="lineno"> 4711</span> </div>
<div class="line"><span class="lineno"> 4712</span>    <span class="comment">// Presence Of Mind</span></div>
<div class="line"><span class="lineno"> 4713</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 12043 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4714</span>    {</div>
<div class="line"><span class="lineno"> 4715</span>        <span class="comment">// It should not share cooldown mods with category[1151] spells (Arcane Power [12042], Decimate [47271])</span></div>
<div class="line"><span class="lineno"> 4716</span>        spellInfo-&gt;AttributesEx6 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094ac83bf4647c4ce691b6e207712e286c98">SPELL_ATTR6_NO_CATEGORY_COOLDOWN_MODS</a>;</div>
<div class="line"><span class="lineno"> 4717</span>    });</div>
<div class="line"><span class="lineno"> 4718</span> </div>
<div class="line"><span class="lineno"> 4719</span>    <span class="comment">// Eye of Grillok</span></div>
<div class="line"><span class="lineno"> 4720</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 38495 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4721</span>    {</div>
<div class="line"><span class="lineno"> 4722</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TriggerSpell = 38530; <span class="comment">// Quest Credit for Eye of Grillok</span></div>
<div class="line"><span class="lineno"> 4723</span>    });</div>
<div class="line"><span class="lineno"> 4724</span> </div>
<div class="line"><span class="lineno"> 4725</span>    <span class="comment">// Greater Fireball</span></div>
<div class="line"><span class="lineno"> 4726</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 33051 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4727</span>    {</div>
<div class="line"><span class="lineno"> 4728</span>        spellInfo-&gt;AttributesEx4 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6ab1a8611660de2bc3a6ff4523b2d76376">SPELL_ATTR4_NO_CAST_LOG</a>;</div>
<div class="line"><span class="lineno"> 4729</span>    });</div>
<div class="line"><span class="lineno"> 4730</span> </div>
<div class="line"><span class="lineno"> 4731</span>    <span class="comment">// Gor&#39;drek&#39;s Ointment</span></div>
<div class="line"><span class="lineno"> 4732</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 32578 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4733</span>    {</div>
<div class="line"><span class="lineno"> 4734</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81ac2d73c6356fd835178b899a41edc5a52">SPELL_ATTR3_SUPPRESS_CASTER_PROCS</a>;</div>
<div class="line"><span class="lineno"> 4735</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>;</div>
<div class="line"><span class="lineno"> 4736</span>    });</div>
<div class="line"><span class="lineno"> 4737</span> </div>
<div class="line"><span class="lineno"> 4738</span>    <span class="comment">// Shadow Grasp</span></div>
<div class="line"><span class="lineno"> 4739</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 30410 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4740</span>    {</div>
<div class="line"><span class="lineno"> 4741</span>        spellInfo-&gt;AttributesEx6 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094a2ef2dfeb52e6b32d42ae31508834de20">SPELL_ATTR6_NO_PUSHBACK</a>;</div>
<div class="line"><span class="lineno"> 4742</span>    });</div>
<div class="line"><span class="lineno"> 4743</span> </div>
<div class="line"><span class="lineno"> 4744</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 4745</span>        471, <span class="comment">// Palamino</span></div>
<div class="line"><span class="lineno"> 4746</span>        8980, <span class="comment">// Skeletal Horse</span></div>
<div class="line"><span class="lineno"> 4747</span>        10788, <span class="comment">// Leopard</span></div>
<div class="line"><span class="lineno"> 4748</span>        10790, <span class="comment">// Tiger</span></div>
<div class="line"><span class="lineno"> 4749</span>        10792, <span class="comment">// Spotted Panther</span></div>
<div class="line"><span class="lineno"> 4750</span>        60136, <span class="comment">// Grand Caravan Mammoth</span></div>
<div class="line"><span class="lineno"> 4751</span>        60140 <span class="comment">// Grand Caravan Mammoth</span></div>
<div class="line"><span class="lineno"> 4752</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4753</span>    {</div>
<div class="line"><span class="lineno"> 4754</span>        spellInfo-&gt;AuraInterruptFlags &amp;= ~AURA_INTERRUPT_FLAG_NOT_ABOVEWATER;</div>
<div class="line"><span class="lineno"> 4755</span>    });</div>
<div class="line"><span class="lineno"> 4756</span> </div>
<div class="line"><span class="lineno"> 4757</span>    <span class="comment">// Molten Punch</span></div>
<div class="line"><span class="lineno"> 4758</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 40126 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4759</span>    {</div>
<div class="line"><span class="lineno"> 4760</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aaff4bf7194055bf177ba701c46cdcadb">TARGET_DEST_CASTER</a>);</div>
<div class="line"><span class="lineno"> 4761</span>    });</div>
<div class="line"><span class="lineno"> 4762</span> </div>
<div class="line"><span class="lineno"> 4763</span>    <span class="comment">// Wing Buffet</span></div>
<div class="line"><span class="lineno"> 4764</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 37319 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4765</span>    {</div>
<div class="line"><span class="lineno"> 4766</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ae0f51d0ae1165615ce2245dfcc2306b9">TARGET_UNIT_CONE_ENEMY_24</a>);</div>
<div class="line"><span class="lineno"> 4767</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetB = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(0);</div>
<div class="line"><span class="lineno"> 4768</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a17e659065202f50148fd26019a3ed3a3">EFFECT_RADIUS_20_YARDS</a>);</div>
<div class="line"><span class="lineno"> 4769</span>    });</div>
<div class="line"><span class="lineno"> 4770</span> </div>
<div class="line"><span class="lineno"> 4771</span>    <span class="comment">// Flame Wave</span></div>
<div class="line"><span class="lineno"> 4772</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 33800 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4773</span>    {</div>
<div class="line"><span class="lineno"> 4774</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Effect = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>;</div>
<div class="line"><span class="lineno"> 4775</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].ApplyAuraName = <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799af51e1877e096bbfd69505e5ab4fc69ad">SPELL_AURA_PERIODIC_TRIGGER_SPELL</a>;</div>
<div class="line"><span class="lineno"> 4776</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>].Amplitude = 500;</div>
<div class="line"><span class="lineno"> 4777</span>    });</div>
<div class="line"><span class="lineno"> 4778</span> </div>
<div class="line"><span class="lineno"> 4779</span>    <span class="comment">// Chromatic Resistance Aura</span></div>
<div class="line"><span class="lineno"> 4780</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 41453 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4781</span>    {</div>
<div class="line"><span class="lineno"> 4782</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValue = 124;</div>
<div class="line"><span class="lineno"> 4783</span>    });</div>
<div class="line"><span class="lineno"> 4784</span> </div>
<div class="line"><span class="lineno"> 4785</span>    <span class="comment">// Power of the Guardian</span></div>
<div class="line"><span class="lineno"> 4786</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 28142, 28143, 28144, 28145 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4787</span>    {</div>
<div class="line"><span class="lineno"> 4788</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0a71d4cc2660db4702163d932a53841c">SPELL_ATTR3_ALLOW_AURA_WHILE_DEAD</a>;</div>
<div class="line"><span class="lineno"> 4789</span>    });</div>
<div class="line"><span class="lineno"> 4790</span> </div>
<div class="line"><span class="lineno"> 4791</span>    <span class="comment">// Warrior stances passives</span></div>
<div class="line"><span class="lineno"> 4792</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 4793</span>        2457, <span class="comment">// Battle Stance</span></div>
<div class="line"><span class="lineno"> 4794</span>        2458, <span class="comment">// Berserker Stance</span></div>
<div class="line"><span class="lineno"> 4795</span>        7376  <span class="comment">// Defensive Stance Passive</span></div>
<div class="line"><span class="lineno"> 4796</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4797</span>    {</div>
<div class="line"><span class="lineno"> 4798</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81ac2d73c6356fd835178b899a41edc5a52">SPELL_ATTR3_SUPPRESS_CASTER_PROCS</a>;</div>
<div class="line"><span class="lineno"> 4799</span>    });</div>
<div class="line"><span class="lineno"> 4800</span> </div>
<div class="line"><span class="lineno"> 4801</span>    <span class="comment">// Conjure Refreshment Table (Rank 1, Rank 2)</span></div>
<div class="line"><span class="lineno"> 4802</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 43985, 58661 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4803</span>    {</div>
<div class="line"><span class="lineno"> 4804</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a1bf6510b0a7e4fa2cd245523d73196c5">TARGET_DEST_CASTER_FRONT</a>);</div>
<div class="line"><span class="lineno"> 4805</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a74fa9db552286d6be06aa972e3ba6e72">EFFECT_RADIUS_5_YARDS</a>);</div>
<div class="line"><span class="lineno"> 4806</span>    });</div>
<div class="line"><span class="lineno"> 4807</span> </div>
<div class="line"><span class="lineno"> 4808</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({</div>
<div class="line"><span class="lineno"> 4809</span>        698, <span class="comment">// Ritual of Summoning (portal for clicking)</span></div>
<div class="line"><span class="lineno"> 4810</span>        61993 <span class="comment">// Ritual of Summoning (summons the closet)</span></div>
<div class="line"><span class="lineno"> 4811</span>        }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4812</span>    {</div>
<div class="line"><span class="lineno"> 4813</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].RadiusEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>.LookupEntry(<a class="code hl_enumvalue" href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a84f16c69f55cca8b4fdde0c6778d9912">EFFECT_RADIUS_3_YARDS</a>);</div>
<div class="line"><span class="lineno"> 4814</span>    });</div>
<div class="line"><span class="lineno"> 4815</span> </div>
<div class="line"><span class="lineno"> 4816</span>    <span class="comment">// Paralyze</span></div>
<div class="line"><span class="lineno"> 4817</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 41083 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4818</span>    {</div>
<div class="line"><span class="lineno"> 4819</span>        spellInfo-&gt;AttributesEx5 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a376aa62261a98289589839b821786adaa9e87c441d0ab6017a669f1d3a3081411">SPELL_ATTR5_ALLOW_ACTION_DURING_CHANNEL</a>;</div>
<div class="line"><span class="lineno"> 4820</span>    });</div>
<div class="line"><span class="lineno"> 4821</span> </div>
<div class="line"><span class="lineno"> 4822</span>    <span class="comment">// Fatal Attraction</span></div>
<div class="line"><span class="lineno"> 4823</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 40870 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4824</span>    {</div>
<div class="line"><span class="lineno"> 4825</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno"> 4826</span>    });</div>
<div class="line"><span class="lineno"> 4827</span> </div>
<div class="line"><span class="lineno"> 4828</span>    <span class="comment">// Removing Dragonflayer Harpoon</span></div>
<div class="line"><span class="lineno"> 4829</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 42968 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4830</span>    {</div>
<div class="line"><span class="lineno"> 4831</span>        spellInfo-&gt;MaxAffectedTargets = 1;</div>
<div class="line"><span class="lineno"> 4832</span>        spellInfo-&gt;RangeEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>.LookupEntry(7);</div>
<div class="line"><span class="lineno"> 4833</span>    });</div>
<div class="line"><span class="lineno"> 4834</span> </div>
<div class="line"><span class="lineno"> 4835</span>    <span class="comment">// Siphon Life (heal)</span></div>
<div class="line"><span class="lineno"> 4836</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 63106 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4837</span>    {</div>
<div class="line"><span class="lineno"> 4838</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81ac2d73c6356fd835178b899a41edc5a52">SPELL_ATTR3_SUPPRESS_CASTER_PROCS</a>;</div>
<div class="line"><span class="lineno"> 4839</span>    });</div>
<div class="line"><span class="lineno"> 4840</span> </div>
<div class="line"><span class="lineno"> 4841</span>    <span class="comment">// Fury</span></div>
<div class="line"><span class="lineno"> 4842</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 40601 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4843</span>    {</div>
<div class="line"><span class="lineno"> 4844</span>        spellInfo-&gt;AttributesEx3 |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81ac2d73c6356fd835178b899a41edc5a52">SPELL_ATTR3_SUPPRESS_CASTER_PROCS</a>;</div>
<div class="line"><span class="lineno"> 4845</span>    });</div>
<div class="line"><span class="lineno"> 4846</span> </div>
<div class="line"><span class="lineno"> 4847</span>    <span class="comment">// Claw Rage</span></div>
<div class="line"><span class="lineno"> 4848</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 43149 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4849</span>    {</div>
<div class="line"><span class="lineno"> 4850</span>        spellInfo-&gt;Effects[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].TriggerSpell = 0;</div>
<div class="line"><span class="lineno"> 4851</span>    });</div>
<div class="line"><span class="lineno"> 4852</span> </div>
<div class="line"><span class="lineno"> 4853</span>    <span class="comment">// Black Qiraji Battle Tank</span></div>
<div class="line"><span class="lineno"> 4854</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 26655, 26656 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4855</span>    {</div>
<div class="line"><span class="lineno"> 4856</span>        spellInfo-&gt;AuraInterruptFlags &amp;= ~(<a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011addd23de47de1322a4cc921e361bc6dd8">AURA_INTERRUPT_FLAG_CHANGE_MAP</a> | <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a2146003ec5334652b56eb3c521d549ad">AURA_INTERRUPT_FLAG_TELEPORTED</a>);</div>
<div class="line"><span class="lineno"> 4857</span>    });</div>
<div class="line"><span class="lineno"> 4858</span> </div>
<div class="line"><span class="lineno"> 4859</span>    <span class="comment">// Summon Cyclone</span></div>
<div class="line"><span class="lineno"> 4860</span>    <a class="code hl_function" href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a>({ 43112 }, [](<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo)</div>
<div class="line"><span class="lineno"> 4861</span>    {</div>
<div class="line"><span class="lineno"> 4862</span>        spellInfo-&gt;RequiresSpellFocus = 0;</div>
<div class="line"><span class="lineno"> 4863</span>    });</div>
<div class="line"><span class="lineno"> 4864</span> </div>
<div class="line"><span class="lineno"> 4865</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_function" href="../../d4/d62/a10962.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>(); ++i)</div>
<div class="line"><span class="lineno"> 4866</span>    {</div>
<div class="line"><span class="lineno"> 4867</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo = <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[i];</div>
<div class="line"><span class="lineno"> 4868</span>        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 4869</span>        {</div>
<div class="line"><span class="lineno"> 4870</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 4871</span>        }</div>
<div class="line"><span class="lineno"> 4872</span> </div>
<div class="line"><span class="lineno"> 4873</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++j)</div>
<div class="line"><span class="lineno"> 4874</span>        {</div>
<div class="line"><span class="lineno"> 4875</span>            <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].Effect)</div>
<div class="line"><span class="lineno"> 4876</span>            {</div>
<div class="line"><span class="lineno"> 4877</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ab9f95780d14ce3a3d80b05f6955a5814">SPELL_EFFECT_CHARGE</a>:</div>
<div class="line"><span class="lineno"> 4878</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ac9e93e2be484a200e2198e609ca8224e">SPELL_EFFECT_CHARGE_DEST</a>:</div>
<div class="line"><span class="lineno"> 4879</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97adca1c3aa0e67875dd6c075066aafe6b9">SPELL_EFFECT_JUMP</a>:</div>
<div class="line"><span class="lineno"> 4880</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a6b546cbd034b7414776e260f8431789b">SPELL_EFFECT_JUMP_DEST</a>:</div>
<div class="line"><span class="lineno"> 4881</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97aa47feeee8d69d2aba0e176f2573c095d">SPELL_EFFECT_LEAP_BACK</a>:</div>
<div class="line"><span class="lineno"> 4882</span>                    <span class="keywordflow">if</span> (!spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a6a56e323b5359f6fc3d766b71efaf901">Speed</a> &amp;&amp; !spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#af6ec577353f7d3cc59badd7d332153b0">SpellFamilyName</a>)</div>
<div class="line"><span class="lineno"> 4883</span>                    {</div>
<div class="line"><span class="lineno"> 4884</span>                        spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a6a56e323b5359f6fc3d766b71efaf901">Speed</a> = <a class="code hl_define" href="../../d2/df3/a03890.html#a6386d0a4b64b17a25a60627bb55b360c">SPEED_CHARGE</a>;</div>
<div class="line"><span class="lineno"> 4885</span>                    }</div>
<div class="line"><span class="lineno"> 4886</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4887</span>            }</div>
<div class="line"><span class="lineno"> 4888</span> </div>
<div class="line"><span class="lineno"> 4889</span>            <span class="comment">// Xinef: i hope this will fix the problem with not working resurrection</span></div>
<div class="line"><span class="lineno"> 4890</span>            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].Effect == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a1ab15c363eaea4e2bc8d7f8fc0c564cf">SPELL_EFFECT_SELF_RESURRECT</a>)</div>
<div class="line"><span class="lineno"> 4891</span>            {</div>
<div class="line"><span class="lineno"> 4892</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].TargetA = <a class="code hl_class" href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a>);</div>
<div class="line"><span class="lineno"> 4893</span>            }</div>
<div class="line"><span class="lineno"> 4894</span>        }</div>
<div class="line"><span class="lineno"> 4895</span> </div>
<div class="line"><span class="lineno"> 4896</span>        <span class="comment">// Fix range for trajectory triggered spell</span></div>
<div class="line"><span class="lineno"> 4897</span>        <span class="keywordflow">for</span> (<a class="code hl_class" href="../../d2/db6/a10898.html">SpellEffectInfo</a> <span class="keyword">const</span>&amp; spellEffectInfo : spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#af05b9a35af00a3ef21f9a0f38f92dd43">GetEffects</a>())</div>
<div class="line"><span class="lineno"> 4898</span>        {</div>
<div class="line"><span class="lineno"> 4899</span>            <span class="keywordflow">if</span> (spellEffectInfo.IsEffect() &amp;&amp; (spellEffectInfo.TargetA.GetTarget() == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a9125b12d356a5389b0e8071ea5854423">TARGET_DEST_TRAJ</a> || spellEffectInfo.TargetB.GetTarget() == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a9125b12d356a5389b0e8071ea5854423">TARGET_DEST_TRAJ</a>))</div>
<div class="line"><span class="lineno"> 4900</span>            {</div>
<div class="line"><span class="lineno"> 4901</span>                <span class="comment">// Get triggered spell if any</span></div>
<div class="line"><span class="lineno"> 4902</span>                <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfoTrigger = <span class="keyword">const_cast&lt;</span><a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>*<span class="keyword">&gt;</span>(<a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(spellEffectInfo.TriggerSpell)))</div>
<div class="line"><span class="lineno"> 4903</span>                {</div>
<div class="line"><span class="lineno"> 4904</span>                    <span class="keywordtype">float</span> maxRangeMain = spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a4afa7469294880951d516fb010a75b74">RangeEntry</a> ? spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a4afa7469294880951d516fb010a75b74">RangeEntry</a>-&gt;<a class="code hl_variable" href="../../dd/db5/a27946.html#a9691134e5cb1e15e3c93ea05a653975d">RangeMax</a>[0] : 0.0f;</div>
<div class="line"><span class="lineno"> 4905</span>                    <span class="keywordtype">float</span> maxRangeTrigger = spellInfoTrigger-&gt;RangeEntry ? spellInfoTrigger-&gt;RangeEntry-&gt;RangeMax[0] : 0.0f;</div>
<div class="line"><span class="lineno"> 4906</span> </div>
<div class="line"><span class="lineno"> 4907</span>                    <span class="comment">// check if triggered spell has enough max range to cover trajectory</span></div>
<div class="line"><span class="lineno"> 4908</span>                    <span class="keywordflow">if</span> (maxRangeTrigger &lt; maxRangeMain)</div>
<div class="line"><span class="lineno"> 4909</span>                        spellInfoTrigger-&gt;RangeEntry = spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a4afa7469294880951d516fb010a75b74">RangeEntry</a>;</div>
<div class="line"><span class="lineno"> 4910</span>                }</div>
<div class="line"><span class="lineno"> 4911</span>            }</div>
<div class="line"><span class="lineno"> 4912</span>        }</div>
<div class="line"><span class="lineno"> 4913</span> </div>
<div class="line"><span class="lineno"> 4914</span>        <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a697cde921a1d1d51f7f02b0099ed5e01">ActiveIconID</a> == 2158)  <span class="comment">// flight</span></div>
<div class="line"><span class="lineno"> 4915</span>        {</div>
<div class="line"><span class="lineno"> 4916</span>            spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a9ab37b7b7987ad85cc0bbaad45f2b905">Attributes</a> |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada407e023ed336f3c64aa20f11dd49f6bd">SPELL_ATTR0_PASSIVE</a>;</div>
<div class="line"><span class="lineno"> 4917</span>        }</div>
<div class="line"><span class="lineno"> 4918</span> </div>
<div class="line"><span class="lineno"> 4919</span>        <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#af6ec577353f7d3cc59badd7d332153b0">SpellFamilyName</a>)</div>
<div class="line"><span class="lineno"> 4920</span>        {</div>
<div class="line"><span class="lineno"> 4921</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba573f9ad8924e7632156291378448e742">SPELLFAMILY_PALADIN</a>:</div>
<div class="line"><span class="lineno"> 4922</span>                <span class="comment">// Seals of the Pure should affect Seal of Righteousness</span></div>
<div class="line"><span class="lineno"> 4923</span>                <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#ac1a82f9330481616b4b87ed9eff0f785">SpellIconID</a> == 25 &amp;&amp; (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a9ab37b7b7987ad85cc0bbaad45f2b905">Attributes</a> &amp; <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada407e023ed336f3c64aa20f11dd49f6bd">SPELL_ATTR0_PASSIVE</a>))</div>
<div class="line"><span class="lineno"> 4924</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].SpellClassMask[1] |= 0x20000000;</div>
<div class="line"><span class="lineno"> 4925</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4926</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1badc34b27f2cd523716d80c51d4e1d6f02">SPELLFAMILY_DEATHKNIGHT</a>:</div>
<div class="line"><span class="lineno"> 4927</span>                <span class="comment">// Icy Touch - extend FamilyFlags (unused value) for Sigil of the Frozen Conscience to use</span></div>
<div class="line"><span class="lineno"> 4928</span>                <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#ac1a82f9330481616b4b87ed9eff0f785">SpellIconID</a> == 2721 &amp;&amp; spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x2)</div>
<div class="line"><span class="lineno"> 4929</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] |= 0x40;</div>
<div class="line"><span class="lineno"> 4930</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4931</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba66df9b34a3b922a8242d3dfb74494026">SPELLFAMILY_HUNTER</a>:</div>
<div class="line"><span class="lineno"> 4932</span>                <span class="comment">// Aimed Shot not affected by category cooldown modifiers</span></div>
<div class="line"><span class="lineno"> 4933</span>                <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x00020000)</div>
<div class="line"><span class="lineno"> 4934</span>                {</div>
<div class="line"><span class="lineno"> 4935</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aae8dfafe06e0dd85eb98212daec448f7">AttributesEx6</a> |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094ac83bf4647c4ce691b6e207712e286c98">SPELL_ATTR6_NO_CATEGORY_COOLDOWN_MODS</a>;</div>
<div class="line"><span class="lineno"> 4936</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a354b312d22f0591378e7b031a2ccd887">RecoveryTime</a> = 10 * <a class="code hl_variable" href="../../d4/d51/a00017.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>;</div>
<div class="line"><span class="lineno"> 4937</span>                }</div>
<div class="line"><span class="lineno"> 4938</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4939</span>        }</div>
<div class="line"><span class="lineno"> 4940</span> </div>
<div class="line"><span class="lineno"> 4941</span>        <span class="comment">// Recklessness/Shield Wall/Retaliation</span></div>
<div class="line"><span class="lineno"> 4942</span>        <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa514878adc99503658ff251f089d64bf">CategoryEntry</a> == <a class="code hl_variable" href="../../d7/da2/a03704.html#a4e06f28a8354b7362ee3b55fd130e0fe">sSpellCategoryStore</a>.LookupEntry(132) &amp;&amp; spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#af6ec577353f7d3cc59badd7d332153b0">SpellFamilyName</a> == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba52acbcf14a96b5ed01b8a43052a26a11">SPELLFAMILY_WARRIOR</a>)</div>
<div class="line"><span class="lineno"> 4943</span>        {</div>
<div class="line"><span class="lineno"> 4944</span>            spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aae8dfafe06e0dd85eb98212daec448f7">AttributesEx6</a> |= <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094ac83bf4647c4ce691b6e207712e286c98">SPELL_ATTR6_NO_CATEGORY_COOLDOWN_MODS</a>;</div>
<div class="line"><span class="lineno"> 4945</span>        }</div>
<div class="line"><span class="lineno"> 4946</span>    }</div>
<div class="line"><span class="lineno"> 4947</span> </div>
<div class="line"><span class="lineno"> 4948</span>    <span class="comment">// Xinef: The Veiled Sea area in outlands (Draenei zone), client blocks casting flying mounts</span></div>
<div class="line"><span class="lineno"> 4949</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_variable" href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>.GetNumRows(); ++i)</div>
<div class="line"><span class="lineno"> 4950</span>        <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d5/d00/a27610.html">AreaTableEntry</a>* areaEntry = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d5/d00/a27610.html">AreaTableEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>.LookupEntry(i)))</div>
<div class="line"><span class="lineno"> 4951</span>        {</div>
<div class="line"><span class="lineno"> 4952</span>            <span class="keywordflow">if</span> (areaEntry-&gt;ID == 3479)</div>
<div class="line"><span class="lineno"> 4953</span>                areaEntry-&gt;flags |= <a class="code hl_enumvalue" href="../../dc/d80/a02756.html#ab8e24c5cd27834059bb62c245412fe72afabf36ba773b9f7fbe87f43bcd173128">AREA_FLAG_NO_FLY_ZONE</a>;</div>
<div class="line"><span class="lineno"> 4954</span>            <span class="comment">// Xinef: Dun Morogh, Kharanos tavern, missing resting flag</span></div>
<div class="line"><span class="lineno"> 4955</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (areaEntry-&gt;ID == 2102)</div>
<div class="line"><span class="lineno"> 4956</span>                areaEntry-&gt;flags |= <a class="code hl_enumvalue" href="../../dc/d80/a02756.html#ab8e24c5cd27834059bb62c245412fe72a23fb0fc9da18f714bdfa8400f314bbcd">AREA_FLAG_REST_ZONE_ALLIANCE</a>;</div>
<div class="line"><span class="lineno"> 4957</span>        }</div>
<div class="line"><span class="lineno"> 4958</span> </div>
<div class="line"><span class="lineno"> 4959</span>    <span class="comment">// Xinef: fix for something?</span></div>
<div class="line"><span class="lineno"> 4960</span>    <a class="code hl_struct" href="../../d3/d91/a27978.html">SummonPropertiesEntry</a>* properties = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d3/d91/a27978.html">SummonPropertiesEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a2c376fed2083a632a4d59389d8dc2dda">sSummonPropertiesStore</a>.LookupEntry(121));</div>
<div class="line"><span class="lineno"> 4961</span>    properties-&gt;<a class="code hl_variable" href="../../d3/d91/a27978.html#aa1cbad19aaa973e21fdbd74cec5119f6">Type</a> = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a839e74faedbcc472cd6a757aab737113a63b874f968b32c4ddd8f22c82f24cb77">SUMMON_TYPE_TOTEM</a>;</div>
<div class="line"><span class="lineno"> 4962</span>    properties = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d3/d91/a27978.html">SummonPropertiesEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a2c376fed2083a632a4d59389d8dc2dda">sSummonPropertiesStore</a>.LookupEntry(647)); <span class="comment">// 52893</span></div>
<div class="line"><span class="lineno"> 4963</span>    properties-&gt;<a class="code hl_variable" href="../../d3/d91/a27978.html#aa1cbad19aaa973e21fdbd74cec5119f6">Type</a> = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a839e74faedbcc472cd6a757aab737113a63b874f968b32c4ddd8f22c82f24cb77">SUMMON_TYPE_TOTEM</a>;</div>
<div class="line"><span class="lineno"> 4964</span>    <span class="keywordflow">if</span> ((properties = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d3/d91/a27978.html">SummonPropertiesEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a2c376fed2083a632a4d59389d8dc2dda">sSummonPropertiesStore</a>.LookupEntry(628)))) <span class="comment">// Hungry Plaguehound</span></div>
<div class="line"><span class="lineno"> 4965</span>    {</div>
<div class="line"><span class="lineno"> 4966</span>        properties-&gt;<a class="code hl_variable" href="../../d3/d91/a27978.html#acd933f251a1faa1f705420307136681d">Category</a> = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aec2f46e883369a535607f981c323c094a7e4ba700ac08e92a5bd292b5c3507c0e">SUMMON_CATEGORY_PET</a>;</div>
<div class="line"><span class="lineno"> 4967</span>        properties-&gt;<a class="code hl_variable" href="../../d3/d91/a27978.html#aa1cbad19aaa973e21fdbd74cec5119f6">Type</a> = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a839e74faedbcc472cd6a757aab737113a5ecdc307f5433058af97e64b5375411e">SUMMON_TYPE_PET</a>;</div>
<div class="line"><span class="lineno"> 4968</span>    }</div>
<div class="line"><span class="lineno"> 4969</span> </div>
<div class="line"><span class="lineno"> 4970</span>    <span class="comment">// Correct Pet Size</span></div>
<div class="line"><span class="lineno"> 4971</span>    <a class="code hl_struct" href="../../d1/dcb/a27666.html">CreatureDisplayInfoEntry</a>* displayEntry = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d1/dcb/a27666.html">CreatureDisplayInfoEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a5bc78bd7e237f74c7558459e7783aaec">sCreatureDisplayInfoStore</a>.LookupEntry(17028)); <span class="comment">// Kurken</span></div>
<div class="line"><span class="lineno"> 4972</span>    displayEntry-&gt;<a class="code hl_variable" href="../../d1/dcb/a27666.html#ae15b89669bf5d711cc57c21d8c8be0dd">scale</a> = 2.5f;</div>
<div class="line"><span class="lineno"> 4973</span> </div>
<div class="line"><span class="lineno"> 4974</span>    <span class="comment">// Oracles and Frenzyheart faction</span></div>
<div class="line"><span class="lineno"> 4975</span>    <a class="code hl_struct" href="../../de/dcb/a27718.html">FactionEntry</a>* factionEntry = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../de/dcb/a27718.html">FactionEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a0fff35395ba871f73cf11434790780d7">sFactionStore</a>.LookupEntry(1104));</div>
<div class="line"><span class="lineno"> 4976</span>    factionEntry-&gt;<a class="code hl_variable" href="../../de/dcb/a27718.html#ae23a3c94554b2043928d6e1ea748e709">ReputationFlags</a>[0] = 0;</div>
<div class="line"><span class="lineno"> 4977</span>    factionEntry = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../de/dcb/a27718.html">FactionEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a0fff35395ba871f73cf11434790780d7">sFactionStore</a>.LookupEntry(1105));</div>
<div class="line"><span class="lineno"> 4978</span>    factionEntry-&gt;<a class="code hl_variable" href="../../de/dcb/a27718.html#ae23a3c94554b2043928d6e1ea748e709">ReputationFlags</a>[0] = 0;</div>
<div class="line"><span class="lineno"> 4979</span> </div>
<div class="line"><span class="lineno"> 4980</span>    <span class="comment">// Various factions, added 14, 16 to hostile mask</span></div>
<div class="line"><span class="lineno"> 4981</span>    <a class="code hl_struct" href="../../d2/d76/a27722.html">FactionTemplateEntry</a>* factionTemplateEntry = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d2/d76/a27722.html">FactionTemplateEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#ab92b42f7bf8dc60a8d0d92aa9b1ca5a1">sFactionTemplateStore</a>.LookupEntry(1978)); <span class="comment">// Warsong Offensive</span></div>
<div class="line"><span class="lineno"> 4982</span>    factionTemplateEntry-&gt;<a class="code hl_variable" href="../../d2/d76/a27722.html#ab395ab86c3e553ea4a9b1ae901c6e7cb">hostileMask</a> |= 8;</div>
<div class="line"><span class="lineno"> 4983</span>    factionTemplateEntry = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d2/d76/a27722.html">FactionTemplateEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#ab92b42f7bf8dc60a8d0d92aa9b1ca5a1">sFactionTemplateStore</a>.LookupEntry(1921)); <span class="comment">// The Taunka</span></div>
<div class="line"><span class="lineno"> 4984</span>    factionTemplateEntry-&gt;<a class="code hl_variable" href="../../d2/d76/a27722.html#ab395ab86c3e553ea4a9b1ae901c6e7cb">hostileMask</a> |= 8;</div>
<div class="line"><span class="lineno"> 4985</span> </div>
<div class="line"><span class="lineno"> 4986</span>    <span class="comment">// Remove 1 from guards friendly mask, making able to attack players</span></div>
<div class="line"><span class="lineno"> 4987</span>    factionTemplateEntry = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d2/d76/a27722.html">FactionTemplateEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#ab92b42f7bf8dc60a8d0d92aa9b1ca5a1">sFactionTemplateStore</a>.LookupEntry(1857)); <span class="comment">// Area 52 Bruiser</span></div>
<div class="line"><span class="lineno"> 4988</span>    factionTemplateEntry-&gt;<a class="code hl_variable" href="../../d2/d76/a27722.html#a6842badfb5e7e0ad3a26d250426c64b6">friendlyMask</a> &amp;= ~1;</div>
<div class="line"><span class="lineno"> 4989</span>    factionTemplateEntry = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d2/d76/a27722.html">FactionTemplateEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#ab92b42f7bf8dc60a8d0d92aa9b1ca5a1">sFactionTemplateStore</a>.LookupEntry(1806)); <span class="comment">// Netherstorm Agent</span></div>
<div class="line"><span class="lineno"> 4990</span>    factionTemplateEntry-&gt;<a class="code hl_variable" href="../../d2/d76/a27722.html#a6842badfb5e7e0ad3a26d250426c64b6">friendlyMask</a> &amp;= ~1;</div>
<div class="line"><span class="lineno"> 4991</span>    factionTemplateEntry = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d2/d76/a27722.html">FactionTemplateEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#ab92b42f7bf8dc60a8d0d92aa9b1ca5a1">sFactionTemplateStore</a>.LookupEntry(1812)); <span class="comment">// K3 Bruiser</span></div>
<div class="line"><span class="lineno"> 4992</span>    factionTemplateEntry-&gt;<a class="code hl_variable" href="../../d2/d76/a27722.html#a6842badfb5e7e0ad3a26d250426c64b6">friendlyMask</a> &amp;= ~1;</div>
<div class="line"><span class="lineno"> 4993</span> </div>
<div class="line"><span class="lineno"> 4994</span>    <span class="comment">// Remove vehicles attr, making accessories selectable</span></div>
<div class="line"><span class="lineno"> 4995</span>    <a class="code hl_struct" href="../../d5/d01/a28022.html">VehicleSeatEntry</a>* vse = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d5/d01/a28022.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a0bfa073eefdc51af1ba9d23803ecb6bf">sVehicleSeatStore</a>.LookupEntry(4689)); <span class="comment">// Siege Engine, Accessory</span></div>
<div class="line"><span class="lineno"> 4996</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#afe02aa891cad80dff89156d138bad691">m_flags</a> &amp;= ~VEHICLE_SEAT_FLAG_PASSENGER_NOT_SELECTABLE;</div>
<div class="line"><span class="lineno"> 4997</span>    vse = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d5/d01/a28022.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a0bfa073eefdc51af1ba9d23803ecb6bf">sVehicleSeatStore</a>.LookupEntry(4692)); <span class="comment">// Siege Engine, Accessory</span></div>
<div class="line"><span class="lineno"> 4998</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#afe02aa891cad80dff89156d138bad691">m_flags</a> &amp;= ~VEHICLE_SEAT_FLAG_PASSENGER_NOT_SELECTABLE;</div>
<div class="line"><span class="lineno"> 4999</span>    vse = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d5/d01/a28022.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a0bfa073eefdc51af1ba9d23803ecb6bf">sVehicleSeatStore</a>.LookupEntry(4693)); <span class="comment">// Siege Engine, Accessory</span></div>
<div class="line"><span class="lineno"> 5000</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#afe02aa891cad80dff89156d138bad691">m_flags</a> &amp;= ~VEHICLE_SEAT_FLAG_PASSENGER_NOT_SELECTABLE;</div>
<div class="line"><span class="lineno"> 5001</span> </div>
<div class="line"><span class="lineno"> 5002</span>    <span class="comment">// pussywizard: fix z offset for some vehicles:</span></div>
<div class="line"><span class="lineno"> 5003</span>    vse = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d5/d01/a28022.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a0bfa073eefdc51af1ba9d23803ecb6bf">sVehicleSeatStore</a>.LookupEntry(6206)); <span class="comment">// Marrowgar - Bone Spike</span></div>
<div class="line"><span class="lineno"> 5004</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#adafa935d13af1effc9af02dc5bd3a774">m_attachmentOffsetZ</a> = 4.0f;</div>
<div class="line"><span class="lineno"> 5005</span>    vse = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d5/d01/a28022.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a0bfa073eefdc51af1ba9d23803ecb6bf">sVehicleSeatStore</a>.LookupEntry(3806)); <span class="comment">// Mimiron - seat on VX-001 for ACU during last phase</span></div>
<div class="line"><span class="lineno"> 5006</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#adafa935d13af1effc9af02dc5bd3a774">m_attachmentOffsetZ</a> = 15.0f;</div>
<div class="line"><span class="lineno"> 5007</span>    vse = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d5/d01/a28022.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a0bfa073eefdc51af1ba9d23803ecb6bf">sVehicleSeatStore</a>.LookupEntry(3566)); <span class="comment">// Mimiron - Working seat</span></div>
<div class="line"><span class="lineno"> 5008</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#a36d6a9668d3405ba7a226d8ed0281fe9">m_attachmentOffsetX</a> = -3.5f;</div>
<div class="line"><span class="lineno"> 5009</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#a89803d79045aac9e38d46b2c1793665b">m_attachmentOffsetY</a> = 0.0f;</div>
<div class="line"><span class="lineno"> 5010</span>    vse = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d5/d01/a28022.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a0bfa073eefdc51af1ba9d23803ecb6bf">sVehicleSeatStore</a>.LookupEntry(3567)); <span class="comment">// Mimiron - Working seat</span></div>
<div class="line"><span class="lineno"> 5011</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#a36d6a9668d3405ba7a226d8ed0281fe9">m_attachmentOffsetX</a> = 2.3f;</div>
<div class="line"><span class="lineno"> 5012</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#a89803d79045aac9e38d46b2c1793665b">m_attachmentOffsetY</a> = -2.3f;</div>
<div class="line"><span class="lineno"> 5013</span> </div>
<div class="line"><span class="lineno"> 5014</span>    <span class="comment">// Pilgrim&#39;s Bounty offsets</span></div>
<div class="line"><span class="lineno"> 5015</span>    vse = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d5/d01/a28022.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a0bfa073eefdc51af1ba9d23803ecb6bf">sVehicleSeatStore</a>.LookupEntry(2841));</div>
<div class="line"><span class="lineno"> 5016</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#a36d6a9668d3405ba7a226d8ed0281fe9">m_attachmentOffsetX</a> += 1.65f;</div>
<div class="line"><span class="lineno"> 5017</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#a89803d79045aac9e38d46b2c1793665b">m_attachmentOffsetY</a> += 0.75f;</div>
<div class="line"><span class="lineno"> 5018</span>    vse = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d5/d01/a28022.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a0bfa073eefdc51af1ba9d23803ecb6bf">sVehicleSeatStore</a>.LookupEntry(2842));</div>
<div class="line"><span class="lineno"> 5019</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#a36d6a9668d3405ba7a226d8ed0281fe9">m_attachmentOffsetX</a> += 1.6f;</div>
<div class="line"><span class="lineno"> 5020</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#a89803d79045aac9e38d46b2c1793665b">m_attachmentOffsetY</a> += -1.0f;</div>
<div class="line"><span class="lineno"> 5021</span>    vse = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d5/d01/a28022.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a0bfa073eefdc51af1ba9d23803ecb6bf">sVehicleSeatStore</a>.LookupEntry(2843));</div>
<div class="line"><span class="lineno"> 5022</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#a36d6a9668d3405ba7a226d8ed0281fe9">m_attachmentOffsetX</a> += -1.2f;</div>
<div class="line"><span class="lineno"> 5023</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#a89803d79045aac9e38d46b2c1793665b">m_attachmentOffsetY</a> += 0.2f;</div>
<div class="line"><span class="lineno"> 5024</span>    vse = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d5/d01/a28022.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a0bfa073eefdc51af1ba9d23803ecb6bf">sVehicleSeatStore</a>.LookupEntry(2844));</div>
<div class="line"><span class="lineno"> 5025</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#a36d6a9668d3405ba7a226d8ed0281fe9">m_attachmentOffsetX</a> += -0.1f;</div>
<div class="line"><span class="lineno"> 5026</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#a89803d79045aac9e38d46b2c1793665b">m_attachmentOffsetY</a> += -1.6f;</div>
<div class="line"><span class="lineno"> 5027</span>    vse = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d5/d01/a28022.html">VehicleSeatEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a0bfa073eefdc51af1ba9d23803ecb6bf">sVehicleSeatStore</a>.LookupEntry(2845));</div>
<div class="line"><span class="lineno"> 5028</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#a36d6a9668d3405ba7a226d8ed0281fe9">m_attachmentOffsetX</a> += 0.0f;</div>
<div class="line"><span class="lineno"> 5029</span>    vse-&gt;<a class="code hl_variable" href="../../d5/d01/a28022.html#a89803d79045aac9e38d46b2c1793665b">m_attachmentOffsetY</a> += 1.6f;</div>
<div class="line"><span class="lineno"> 5030</span> </div>
<div class="line"><span class="lineno"> 5031</span>    <span class="comment">// Once Bitten, Twice Shy (10 player) - Icecrown Citadel</span></div>
<div class="line"><span class="lineno"> 5032</span>    <a class="code hl_struct" href="../../d1/d27/a27342.html">AchievementEntry</a>* achievement = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d1/d27/a27342.html">AchievementEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a91e667648c436939ee79c55a276fc0bf">sAchievementStore</a>.LookupEntry(4539));</div>
<div class="line"><span class="lineno"> 5033</span>    achievement-&gt;<a class="code hl_variable" href="../../d1/d27/a27342.html#ab3d41381808c8bdc163554f7c46f6bc6">mapID</a> = 631;    <span class="comment">// Correct map requirement (currently has Ulduar)</span></div>
<div class="line"><span class="lineno"> 5034</span> </div>
<div class="line"><span class="lineno"> 5035</span>    <span class="comment">// Ring of Valor starting Locations</span></div>
<div class="line"><span class="lineno"> 5036</span>    <a class="code hl_struct" href="../../d0/df8/a09638.html">GraveyardStruct</a> <span class="keyword">const</span>* entry = <a class="code hl_define" href="../../d0/d9f/a03152.html#ac68c2a63982a6142e1931450d7b6115c">sGraveyard</a>-&gt;GetGraveyard(1364);</div>
<div class="line"><span class="lineno"> 5037</span>    <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d0/df8/a09638.html">GraveyardStruct</a>*<span class="keyword">&gt;</span>(entry)-&gt;z += 6.0f;</div>
<div class="line"><span class="lineno"> 5038</span>    entry = <a class="code hl_define" href="../../d0/d9f/a03152.html#ac68c2a63982a6142e1931450d7b6115c">sGraveyard</a>-&gt;GetGraveyard(1365);</div>
<div class="line"><span class="lineno"> 5039</span>    <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d0/df8/a09638.html">GraveyardStruct</a>*<span class="keyword">&gt;</span>(entry)-&gt;z += 6.0f;</div>
<div class="line"><span class="lineno"> 5040</span> </div>
<div class="line"><span class="lineno"> 5041</span>    <a class="code hl_struct" href="../../d6/d9a/a27838.html">LockEntry</a>* key = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="../../d6/d9a/a27838.html">LockEntry</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d7/da2/a03704.html#a4702d03a245a571da652d6c354d94cff">sLockStore</a>.LookupEntry(36)); <span class="comment">// 3366 Opening, allows to open without proper key</span></div>
<div class="line"><span class="lineno"> 5042</span>    key-&gt;<a class="code hl_variable" href="../../d6/d9a/a27838.html#a39b0b548efd795c162926bddcdd301b5">Type</a>[2] = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a7bd0d3f34feccd7870d260f3b1d4aad4a35b234d6a0e43f5ca515b89212bcae4c">LOCK_KEY_NONE</a>;</div>
<div class="line"><span class="lineno"> 5043</span> </div>
<div class="line"><span class="lineno"> 5044</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loading spell dbc data corrections  in {} ms&quot;</span>, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 5045</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 5046</span>}</div>
<div class="ttc" id="aa00017_html_a84190f79c8167211609f67284e066c58"><div class="ttname"><a href="../../d4/d51/a00017.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a></div><div class="ttdeci">constexpr auto IN_MILLISECONDS</div><div class="ttdef"><b>Definition:</b> Common.h:53</div></div>
<div class="ttc" id="aa02756_html_ab8e24c5cd27834059bb62c245412fe72a23fb0fc9da18f714bdfa8400f314bbcd"><div class="ttname"><a href="../../dc/d80/a02756.html#ab8e24c5cd27834059bb62c245412fe72a23fb0fc9da18f714bdfa8400f314bbcd">AREA_FLAG_REST_ZONE_ALLIANCE</a></div><div class="ttdeci">@ AREA_FLAG_REST_ZONE_ALLIANCE</div><div class="ttdef"><b>Definition:</b> DBCEnums.h:257</div></div>
<div class="ttc" id="aa02756_html_ab8e24c5cd27834059bb62c245412fe72afabf36ba773b9f7fbe87f43bcd173128"><div class="ttname"><a href="../../dc/d80/a02756.html#ab8e24c5cd27834059bb62c245412fe72afabf36ba773b9f7fbe87f43bcd173128">AREA_FLAG_NO_FLY_ZONE</a></div><div class="ttdeci">@ AREA_FLAG_NO_FLY_ZONE</div><div class="ttdef"><b>Definition:</b> DBCEnums.h:262</div></div>
<div class="ttc" id="aa02771_html_a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791"><div class="ttname"><a href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a></div><div class="ttdeci">@ EFFECT_1</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:32</div></div>
<div class="ttc" id="aa02771_html_a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d"><div class="ttname"><a href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a></div><div class="ttdeci">@ EFFECT_0</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:31</div></div>
<div class="ttc" id="aa02771_html_a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1"><div class="ttname"><a href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a></div><div class="ttdeci">@ EFFECT_2</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:33</div></div>
<div class="ttc" id="aa02771_html_a17e15fab4b89f4840e745f31ca76a414ab3e4f73d6494c917b99431bae75a4d5f"><div class="ttname"><a href="../../d0/dbd/a02771.html#a17e15fab4b89f4840e745f31ca76a414ab3e4f73d6494c917b99431bae75a4d5f">POWER_MANA</a></div><div class="ttdeci">@ POWER_MANA</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:269</div></div>
<div class="ttc" id="aa02771_html_a25ff5d34ce79433dfc852484cef1d47da091bca55495699f6a6688c307e2cbf4d"><div class="ttname"><a href="../../d0/dbd/a02771.html#a25ff5d34ce79433dfc852484cef1d47da091bca55495699f6a6688c307e2cbf4d">SPELL_ATTR7_DONT_CAUSE_SPELL_PUSHBACK</a></div><div class="ttdeci">@ SPELL_ATTR7_DONT_CAUSE_SPELL_PUSHBACK</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:647</div></div>
<div class="ttc" id="aa02771_html_a25ff5d34ce79433dfc852484cef1d47da1af4b997048db75a09fe4b1593b4d154"><div class="ttname"><a href="../../d0/dbd/a02771.html#a25ff5d34ce79433dfc852484cef1d47da1af4b997048db75a09fe4b1593b4d154">SPELL_ATTR7_CAN_CAUSE_INTERRUPT</a></div><div class="ttdeci">@ SPELL_ATTR7_CAN_CAUSE_INTERRUPT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:652</div></div>
<div class="ttc" id="aa02771_html_a25ff5d34ce79433dfc852484cef1d47dae4d6434b5dceff532ff803a94f7b57c3"><div class="ttname"><a href="../../d0/dbd/a02771.html#a25ff5d34ce79433dfc852484cef1d47dae4d6434b5dceff532ff803a94f7b57c3">SPELL_ATTR7_DISABLE_AURA_WHILE_DEAD</a></div><div class="ttdeci">@ SPELL_ATTR7_DISABLE_AURA_WHILE_DEAD</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:643</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a></div><div class="ttdeci">@ SPELL_EFFECT_DUMMY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:781</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a078f855df3793531cf8efdef80967cba"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a078f855df3793531cf8efdef80967cba">SPELL_EFFECT_SCRIPT_EFFECT</a></div><div class="ttdeci">@ SPELL_EFFECT_SCRIPT_EFFECT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:855</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a0a43a6be2a57b573021530d45a1e367e"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a0a43a6be2a57b573021530d45a1e367e">SPELL_EFFECT_POWER_BURN</a></div><div class="ttdeci">@ SPELL_EFFECT_POWER_BURN</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:840</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a140c94210262d911b2db681aba463d19"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a140c94210262d911b2db681aba463d19">SPELL_EFFECT_APPLY_AREA_AURA_FRIEND</a></div><div class="ttdeci">@ SPELL_EFFECT_APPLY_AREA_AURA_FRIEND</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:906</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a15015f3acf3dd811f2776d67f1991b50"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a15015f3acf3dd811f2776d67f1991b50">SPELL_EFFECT_TRIGGER_SPELL_WITH_VALUE</a></div><div class="ttdeci">@ SPELL_EFFECT_TRIGGER_SPELL_WITH_VALUE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:920</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a1ab15c363eaea4e2bc8d7f8fc0c564cf"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a1ab15c363eaea4e2bc8d7f8fc0c564cf">SPELL_EFFECT_SELF_RESURRECT</a></div><div class="ttdeci">@ SPELL_EFFECT_SELF_RESURRECT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:872</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a3303d1b9499775f687785269eaaaff1b"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a3303d1b9499775f687785269eaaaff1b">SPELL_EFFECT_TRIGGER_MISSILE</a></div><div class="ttdeci">@ SPELL_EFFECT_TRIGGER_MISSILE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:810</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a6b546cbd034b7414776e260f8431789b"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a6b546cbd034b7414776e260f8431789b">SPELL_EFFECT_JUMP_DEST</a></div><div class="ttdeci">@ SPELL_EFFECT_JUMP_DEST</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:820</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a9283537d0780f127fb78eeafc72365e5"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a9283537d0780f127fb78eeafc72365e5">SPELL_EFFECT_MODIFY_THREAT_PERCENT</a></div><div class="ttdeci">@ SPELL_EFFECT_MODIFY_THREAT_PERCENT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:903</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97aa47feeee8d69d2aba0e176f2573c095d"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97aa47feeee8d69d2aba0e176f2573c095d">SPELL_EFFECT_LEAP_BACK</a></div><div class="ttdeci">@ SPELL_EFFECT_LEAP_BACK</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:916</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97ab9f95780d14ce3a3d80b05f6955a5814"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ab9f95780d14ce3a3d80b05f6955a5814">SPELL_EFFECT_CHARGE</a></div><div class="ttdeci">@ SPELL_EFFECT_CHARGE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:874</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97ac9e93e2be484a200e2198e609ca8224e"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ac9e93e2be484a200e2198e609ca8224e">SPELL_EFFECT_CHARGE_DEST</a></div><div class="ttdeci">@ SPELL_EFFECT_CHARGE_DEST</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:927</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97adca1c3aa0e67875dd6c075066aafe6b9"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97adca1c3aa0e67875dd6c075066aafe6b9">SPELL_EFFECT_JUMP</a></div><div class="ttdeci">@ SPELL_EFFECT_JUMP</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:819</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a></div><div class="ttdeci">@ SPELL_EFFECT_APPLY_AURA</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:784</div></div>
<div class="ttc" id="aa02771_html_a3194644c6ed7acd85ec8eb1b98821b8eab3aa650b1b206f5968ed28e76fe83c18"><div class="ttname"><a href="../../d0/dbd/a02771.html#a3194644c6ed7acd85ec8eb1b98821b8eab3aa650b1b206f5968ed28e76fe83c18">SPELL_PREVENTION_TYPE_NONE</a></div><div class="ttdeci">@ SPELL_PREVENTION_TYPE_NONE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1553</div></div>
<div class="ttc" id="aa02771_html_a376aa62261a98289589839b821786adaa1e5646f92d527da8a1a98bb0f14f3b86"><div class="ttname"><a href="../../d0/dbd/a02771.html#a376aa62261a98289589839b821786adaa1e5646f92d527da8a1a98bb0f14f3b86">SPELL_ATTR5_EXTRA_INITIAL_PERIOD</a></div><div class="ttdeci">@ SPELL_ATTR5_EXTRA_INITIAL_PERIOD</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:576</div></div>
<div class="ttc" id="aa02771_html_a376aa62261a98289589839b821786adaa38355c8ac37633a451b6ea0cad0389b6"><div class="ttname"><a href="../../d0/dbd/a02771.html#a376aa62261a98289589839b821786adaa38355c8ac37633a451b6ea0cad0389b6">SPELL_ATTR5_ALLOW_WHILE_STUNNED</a></div><div class="ttdeci">@ SPELL_ATTR5_ALLOW_WHILE_STUNNED</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:570</div></div>
<div class="ttc" id="aa02771_html_a376aa62261a98289589839b821786adaa54ee0547b3e23ed80b12bf5a04573360"><div class="ttname"><a href="../../d0/dbd/a02771.html#a376aa62261a98289589839b821786adaa54ee0547b3e23ed80b12bf5a04573360">SPELL_ATTR5_DO_NOT_DISPLAY_DURATION</a></div><div class="ttdeci">@ SPELL_ATTR5_DO_NOT_DISPLAY_DURATION</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:577</div></div>
<div class="ttc" id="aa02771_html_a376aa62261a98289589839b821786adaa9e87c441d0ab6017a669f1d3a3081411"><div class="ttname"><a href="../../d0/dbd/a02771.html#a376aa62261a98289589839b821786adaa9e87c441d0ab6017a669f1d3a3081411">SPELL_ATTR5_ALLOW_ACTION_DURING_CHANNEL</a></div><div class="ttdeci">@ SPELL_ATTR5_ALLOW_ACTION_DURING_CHANNEL</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:567</div></div>
<div class="ttc" id="aa02771_html_a376aa62261a98289589839b821786adaab0527496eccfcafc34a8a49f74d9afbd"><div class="ttname"><a href="../../d0/dbd/a02771.html#a376aa62261a98289589839b821786adaab0527496eccfcafc34a8a49f74d9afbd">SPELL_ATTR5_ALWAYS_AOE_LINE_OF_SIGHT</a></div><div class="ttdeci">@ SPELL_ATTR5_ALWAYS_AOE_LINE_OF_SIGHT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:593</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a036a2b93df9713482bdbf62afd6d07cd"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a036a2b93df9713482bdbf62afd6d07cd">TARGET_DEST_TARGET_ANY</a></div><div class="ttdeci">@ TARGET_DEST_TARGET_ANY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1467</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a0b51bc473102ffda4749bf8515131ee2"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a0b51bc473102ffda4749bf8515131ee2">TARGET_UNIT_CONE_ENTRY</a></div><div class="ttdeci">@ TARGET_UNIT_CONE_ENTRY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1464</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a1bf6510b0a7e4fa2cd245523d73196c5"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a1bf6510b0a7e4fa2cd245523d73196c5">TARGET_DEST_CASTER_FRONT</a></div><div class="ttdeci">@ TARGET_DEST_CASTER_FRONT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1451</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a26506da78f6a6950f7ac66718b775817"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a26506da78f6a6950f7ac66718b775817">TARGET_DEST_DB</a></div><div class="ttdeci">@ TARGET_DEST_DB</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1422</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a29d2b1998be41c09ef3ee459c9208117"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a29d2b1998be41c09ef3ee459c9208117">TARGET_UNIT_CASTER_AREA_PARTY</a></div><div class="ttdeci">@ TARGET_UNIT_CASTER_AREA_PARTY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1424</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a3f043071f052463518f0978322c782c6">TARGET_UNIT_SRC_AREA_ENTRY</a></div><div class="ttdeci">@ TARGET_UNIT_SRC_AREA_ENTRY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1416</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a423eed54c405c7e51816127214e8ea82"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a423eed54c405c7e51816127214e8ea82">TARGET_UNIT_DEST_AREA_ENEMY</a></div><div class="ttdeci">@ TARGET_UNIT_DEST_AREA_ENEMY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1421</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a5636479f4e747c35d6eab829ac5ba6c1"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a5636479f4e747c35d6eab829ac5ba6c1">TARGET_UNIT_SRC_AREA_ALLY</a></div><div class="ttdeci">@ TARGET_UNIT_SRC_AREA_ALLY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1434</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a626ebdc89eb6b2243936fb5f6a6edf98"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a626ebdc89eb6b2243936fb5f6a6edf98">TARGET_UNIT_TARGET_ALLY</a></div><div class="ttdeci">@ TARGET_UNIT_TARGET_ALLY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1425</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a6a231b500f22fb9e67a5a5ebdb38ce6c"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a6a231b500f22fb9e67a5a5ebdb38ce6c">TARGET_DEST_CASTER_BACK</a></div><div class="ttdeci">@ TARGET_DEST_CASTER_BACK</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1452</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a6a3ac6fe01ea9d30849ba6f822e08e35"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a6a3ac6fe01ea9d30849ba6f822e08e35">TARGET_UNIT_VEHICLE</a></div><div class="ttdeci">@ TARGET_UNIT_VEHICLE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1498</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a729f00adeb97c1bbe5cf6eb5e8d1c2cd">TARGET_UNIT_TARGET_ANY</a></div><div class="ttdeci">@ TARGET_UNIT_TARGET_ANY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1429</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7aa070a67eb4b287d3c2aeb1bc3ee706">TARGET_DEST_DEST</a></div><div class="ttdeci">@ TARGET_DEST_DEST</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1491</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a7b8c7cf5819db17b9ed16dfbb93addb4"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a7b8c7cf5819db17b9ed16dfbb93addb4">TARGET_UNIT_SRC_AREA_ENEMY</a></div><div class="ttdeci">@ TARGET_UNIT_SRC_AREA_ENEMY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1420</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a85d8f0e6d574cf640ec0c42b54e2ad3c"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a85d8f0e6d574cf640ec0c42b54e2ad3c">TARGET_DEST_TARGET_ENEMY</a></div><div class="ttdeci">@ TARGET_DEST_TARGET_ENEMY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1457</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a85f865aa0228f193158a34cbafe4d706"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a85f865aa0228f193158a34cbafe4d706">TARGET_UNIT_PET</a></div><div class="ttdeci">@ TARGET_UNIT_PET</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1414</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a86bfc5644ebafe704834da6ecb5a0ac8"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a86bfc5644ebafe704834da6ecb5a0ac8">TARGET_DEST_DYNOBJ_NONE</a></div><div class="ttdeci">@ TARGET_DEST_DYNOBJ_NONE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1492</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a8b2344cd954d6b4c61d99cd3ec1599f3">TARGET_UNIT_TARGET_ENEMY</a></div><div class="ttdeci">@ TARGET_UNIT_TARGET_ENEMY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1415</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a8c90320900b4114323d35111f290ff90"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a8c90320900b4114323d35111f290ff90">TARGET_UNIT_MASTER</a></div><div class="ttdeci">@ TARGET_UNIT_MASTER</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1431</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a9125b12d356a5389b0e8071ea5854423"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a9125b12d356a5389b0e8071ea5854423">TARGET_DEST_TRAJ</a></div><div class="ttdeci">@ TARGET_DEST_TRAJ</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1493</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a934668876768a96fe7ef286b00c4ed4d"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a934668876768a96fe7ef286b00c4ed4d">TARGET_UNIT_DEST_AREA_ENTRY</a></div><div class="ttdeci">@ TARGET_UNIT_DEST_AREA_ENTRY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1417</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152aab0751c8895d224e37904a23bc625efa"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aab0751c8895d224e37904a23bc625efa">TARGET_UNIT_NEARBY_ENTRY</a></div><div class="ttdeci">@ TARGET_UNIT_NEARBY_ENTRY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1442</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152aaff4bf7194055bf177ba701c46cdcadb"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aaff4bf7194055bf177ba701c46cdcadb">TARGET_DEST_CASTER</a></div><div class="ttdeci">@ TARGET_DEST_CASTER</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1423</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ab4bbd0b2345bb3f962fd1b40d034a770">TARGET_UNIT_CASTER</a></div><div class="ttdeci">@ TARGET_UNIT_CASTER</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1410</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152ae0f51d0ae1165615ce2245dfcc2306b9"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152ae0f51d0ae1165615ce2245dfcc2306b9">TARGET_UNIT_CONE_ENEMY_24</a></div><div class="ttdeci">@ TARGET_UNIT_CONE_ENEMY_24</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1428</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152aee8705374ad45df671cbba17e5614ca3">TARGET_SRC_CASTER</a></div><div class="ttdeci">@ TARGET_SRC_CASTER</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1426</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152af0935a10aea290f03b614baa8ae18d13"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152af0935a10aea290f03b614baa8ae18d13">TARGET_UNIT_SUMMONER</a></div><div class="ttdeci">@ TARGET_UNIT_SUMMONER</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1496</div></div>
<div class="ttc" id="aa02771_html_a583cc1b9a8909370e4d51a890d897668a39664dba0d11d177e801877b9068bd8f"><div class="ttname"><a href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668a39664dba0d11d177e801877b9068bd8f">SPELL_ATTR2_CANT_CRIT</a></div><div class="ttdeci">@ SPELL_ATTR2_CANT_CRIT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:485</div></div>
<div class="ttc" id="aa02771_html_a583cc1b9a8909370e4d51a890d897668ad2cb623676f084a0370c1983084a29d8"><div class="ttname"><a href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ad2cb623676f084a0370c1983084a29d8">SPELL_ATTR2_ALLOW_DEAD_TARGET</a></div><div class="ttdeci">@ SPELL_ATTR2_ALLOW_DEAD_TARGET</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:456</div></div>
<div class="ttc" id="aa02771_html_a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82"><div class="ttname"><a href="../../d0/dbd/a02771.html#a583cc1b9a8909370e4d51a890d897668ae6f285b2042f990335ebcc501c5f2c82">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a></div><div class="ttdeci">@ SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:458</div></div>
<div class="ttc" id="aa02771_html_a638f8f550e23b2e3180b481bb3f38076a02166cd30d63804b4175bdfe29ffd068"><div class="ttname"><a href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076a02166cd30d63804b4175bdfe29ffd068">SPELL_ATTR1_NO_THREAT</a></div><div class="ttdeci">@ SPELL_ATTR1_NO_THREAT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:429</div></div>
<div class="ttc" id="aa02771_html_a638f8f550e23b2e3180b481bb3f38076a4046bd467f3727369dcbc06e1d5f2b8f"><div class="ttname"><a href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076a4046bd467f3727369dcbc06e1d5f2b8f">SPELL_ATTR1_EXCLUDE_CASTER</a></div><div class="ttdeci">@ SPELL_ATTR1_EXCLUDE_CASTER</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:438</div></div>
<div class="ttc" id="aa02771_html_a638f8f550e23b2e3180b481bb3f38076a59ca425969878e61a40a8337878c1933"><div class="ttname"><a href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076a59ca425969878e61a40a8337878c1933">SPELL_ATTR1_ALLOW_WHILE_STEALTHED</a></div><div class="ttdeci">@ SPELL_ATTR1_ALLOW_WHILE_STEALTHED</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:424</div></div>
<div class="ttc" id="aa02771_html_a638f8f550e23b2e3180b481bb3f38076ab2ba4cd294111dc378e33055074250be"><div class="ttname"><a href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076ab2ba4cd294111dc378e33055074250be">SPELL_ATTR1_IMMUNITY_PURGES_EFFECT</a></div><div class="ttdeci">@ SPELL_ATTR1_IMMUNITY_PURGES_EFFECT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:434</div></div>
<div class="ttc" id="aa02771_html_a638f8f550e23b2e3180b481bb3f38076ab9c968f9c7e43008cdc9f4ec298f83f6"><div class="ttname"><a href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076ab9c968f9c7e43008cdc9f4ec298f83f6">SPELL_ATTR1_NO_REFLECTION</a></div><div class="ttdeci">@ SPELL_ATTR1_NO_REFLECTION</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:426</div></div>
<div class="ttc" id="aa02771_html_a638f8f550e23b2e3180b481bb3f38076aff8f5208b6bab753ec0cb8d8ccff67eb"><div class="ttname"><a href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076aff8f5208b6bab753ec0cb8d8ccff67eb">SPELL_ATTR1_NO_REDIRECTION</a></div><div class="ttdeci">@ SPELL_ATTR1_NO_REDIRECTION</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:422</div></div>
<div class="ttc" id="aa02771_html_a6f95d0d447e8085b1097ac9965af2a81a0a71d4cc2660db4702163d932a53841c"><div class="ttname"><a href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0a71d4cc2660db4702163d932a53841c">SPELL_ATTR3_ALLOW_AURA_WHILE_DEAD</a></div><div class="ttdeci">@ SPELL_ATTR3_ALLOW_AURA_WHILE_DEAD</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:513</div></div>
<div class="ttc" id="aa02771_html_a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53"><div class="ttname"><a href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a0e8c19956d9e103c1bcbf674a8363f53">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a></div><div class="ttdeci">@ SPELL_ATTR3_SUPPRESS_TARGET_PROCS</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:510</div></div>
<div class="ttc" id="aa02771_html_a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6"><div class="ttname"><a href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a></div><div class="ttdeci">@ SPELL_ATTR3_ALWAYS_HIT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:511</div></div>
<div class="ttc" id="aa02771_html_a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67"><div class="ttname"><a href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a47666e0aca649bbf39649d0214f4bc67">SPELL_ATTR3_DOT_STACKING_RULE</a></div><div class="ttdeci">@ SPELL_ATTR3_DOT_STACKING_RULE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:500</div></div>
<div class="ttc" id="aa02771_html_a6f95d0d447e8085b1097ac9965af2a81a7dfc84e5ab0a21d82a815fa84f49b33f"><div class="ttname"><a href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a7dfc84e5ab0a21d82a815fa84f49b33f">SPELL_ATTR3_CAN_PROC_FROM_PROCS</a></div><div class="ttdeci">@ SPELL_ATTR3_CAN_PROC_FROM_PROCS</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:519</div></div>
<div class="ttc" id="aa02771_html_a6f95d0d447e8085b1097ac9965af2a81ac2d73c6356fd835178b899a41edc5a52"><div class="ttname"><a href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81ac2d73c6356fd835178b899a41edc5a52">SPELL_ATTR3_SUPPRESS_CASTER_PROCS</a></div><div class="ttdeci">@ SPELL_ATTR3_SUPPRESS_CASTER_PROCS</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:509</div></div>
<div class="ttc" id="aa02771_html_a6f95d0d447e8085b1097ac9965af2a81aee1cef82ec80ed50232026a07405804a"><div class="ttname"><a href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81aee1cef82ec80ed50232026a07405804a">SPELL_ATTR3_COMPLETELY_BLOCKED</a></div><div class="ttdeci">@ SPELL_ATTR3_COMPLETELY_BLOCKED</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:496</div></div>
<div class="ttc" id="aa02771_html_a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff"><div class="ttname"><a href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81af803e1e3c27f800be5855d258135fbff">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a></div><div class="ttdeci">@ SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:522</div></div>
<div class="ttc" id="aa02771_html_a6f95d0d447e8085b1097ac9965af2a81afd31a3efb01e11ee685cd0cac502b9ac"><div class="ttname"><a href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81afd31a3efb01e11ee685cd0cac502b9ac">SPELL_ATTR3_ONLY_ON_PLAYER</a></div><div class="ttdeci">@ SPELL_ATTR3_ONLY_ON_PLAYER</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:501</div></div>
<div class="ttc" id="aa02771_html_a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093"><div class="ttname"><a href="../../d0/dbd/a02771.html#a7443b708d5bd7312fc0a420679ae10a4a44c25232e532dcd5a47b225f2e531093">SPELL_DAMAGE_CLASS_MAGIC</a></div><div class="ttdeci">@ SPELL_DAMAGE_CLASS_MAGIC</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1546</div></div>
<div class="ttc" id="aa02771_html_a7bd0d3f34feccd7870d260f3b1d4aad4a35b234d6a0e43f5ca515b89212bcae4c"><div class="ttname"><a href="../../d0/dbd/a02771.html#a7bd0d3f34feccd7870d260f3b1d4aad4a35b234d6a0e43f5ca515b89212bcae4c">LOCK_KEY_NONE</a></div><div class="ttdeci">@ LOCK_KEY_NONE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:2584</div></div>
<div class="ttc" id="aa02771_html_a839e74faedbcc472cd6a757aab737113a5ecdc307f5433058af97e64b5375411e"><div class="ttname"><a href="../../d0/dbd/a02771.html#a839e74faedbcc472cd6a757aab737113a5ecdc307f5433058af97e64b5375411e">SUMMON_TYPE_PET</a></div><div class="ttdeci">@ SUMMON_TYPE_PET</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3295</div></div>
<div class="ttc" id="aa02771_html_a839e74faedbcc472cd6a757aab737113a63b874f968b32c4ddd8f22c82f24cb77"><div class="ttname"><a href="../../d0/dbd/a02771.html#a839e74faedbcc472cd6a757aab737113a63b874f968b32c4ddd8f22c82f24cb77">SUMMON_TYPE_TOTEM</a></div><div class="ttdeci">@ SUMMON_TYPE_TOTEM</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3298</div></div>
<div class="ttc" id="aa02771_html_a8fe6a763d72d84ded23cec01c772f7ada1453d37a26c481492f102112f5067647"><div class="ttname"><a href="../../d0/dbd/a02771.html#a8fe6a763d72d84ded23cec01c772f7ada1453d37a26c481492f102112f5067647">MECHANIC_NONE</a></div><div class="ttdeci">@ MECHANIC_NONE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1325</div></div>
<div class="ttc" id="aa02771_html_a8fe6a763d72d84ded23cec01c772f7ada77412c9a71759f2e8b7f3c629681be4d"><div class="ttname"><a href="../../d0/dbd/a02771.html#a8fe6a763d72d84ded23cec01c772f7ada77412c9a71759f2e8b7f3c629681be4d">MECHANIC_STUN</a></div><div class="ttdeci">@ MECHANIC_STUN</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1337</div></div>
<div class="ttc" id="aa02771_html_a8fe6a763d72d84ded23cec01c772f7adac33e72cd9c395583cd6db721014056b5"><div class="ttname"><a href="../../d0/dbd/a02771.html#a8fe6a763d72d84ded23cec01c772f7adac33e72cd9c395583cd6db721014056b5">MECHANIC_SNARE</a></div><div class="ttdeci">@ MECHANIC_SNARE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1336</div></div>
<div class="ttc" id="aa02771_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0e4b88db8be01ea5d62cc08d07b28aae"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0e4b88db8be01ea5d62cc08d07b28aae">SPELLFAMILY_MAGE</a></div><div class="ttdeci">@ SPELLFAMILY_MAGE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3531</div></div>
<div class="ttc" id="aa02771_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0ebbb6206eb92cdc484b416eb6f41743"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0ebbb6206eb92cdc484b416eb6f41743">SPELLFAMILY_GENERIC</a></div><div class="ttdeci">@ SPELLFAMILY_GENERIC</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3528</div></div>
<div class="ttc" id="aa02771_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1ba52acbcf14a96b5ed01b8a43052a26a11"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba52acbcf14a96b5ed01b8a43052a26a11">SPELLFAMILY_WARRIOR</a></div><div class="ttdeci">@ SPELLFAMILY_WARRIOR</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3532</div></div>
<div class="ttc" id="aa02771_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1ba573f9ad8924e7632156291378448e742"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba573f9ad8924e7632156291378448e742">SPELLFAMILY_PALADIN</a></div><div class="ttdeci">@ SPELLFAMILY_PALADIN</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3538</div></div>
<div class="ttc" id="aa02771_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1ba66df9b34a3b922a8242d3dfb74494026"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba66df9b34a3b922a8242d3dfb74494026">SPELLFAMILY_HUNTER</a></div><div class="ttdeci">@ SPELLFAMILY_HUNTER</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3537</div></div>
<div class="ttc" id="aa02771_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1ba84336097f9e363a9b6a4d7d4839c1b54"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba84336097f9e363a9b6a4d7d4839c1b54">SPELLFAMILY_POTION</a></div><div class="ttdeci">@ SPELLFAMILY_POTION</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3541</div></div>
<div class="ttc" id="aa02771_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1ba9160b2e3a87a908af25c9a594295c0c1"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba9160b2e3a87a908af25c9a594295c0c1">SPELLFAMILY_ROGUE</a></div><div class="ttdeci">@ SPELLFAMILY_ROGUE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3536</div></div>
<div class="ttc" id="aa02771_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1badc34b27f2cd523716d80c51d4e1d6f02"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1badc34b27f2cd523716d80c51d4e1d6f02">SPELLFAMILY_DEATHKNIGHT</a></div><div class="ttdeci">@ SPELLFAMILY_DEATHKNIGHT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3543</div></div>
<div class="ttc" id="aa02771_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1baf6b533c234808dd17936190a630db749"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1baf6b533c234808dd17936190a630db749">SPELLFAMILY_UNK1</a></div><div class="ttdeci">@ SPELLFAMILY_UNK1</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3529</div></div>
<div class="ttc" id="aa02771_html_a9dcd0ba8d94905ba214797c12e7c44ada181bc0f8031c0a2e477f0eb213ae3fc0"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada181bc0f8031c0a2e477f0eb213ae3fc0">SPELL_ATTR0_NOT_SHAPESHIFTED</a></div><div class="ttdeci">@ SPELL_ATTR0_NOT_SHAPESHIFTED</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:398</div></div>
<div class="ttc" id="aa02771_html_a9dcd0ba8d94905ba214797c12e7c44ada1f3031f3c50d03bb71d7bdef2247f5da"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada1f3031f3c50d03bb71d7bdef2247f5da">SPELL_ATTR0_ALLOW_WHILE_SITTING</a></div><div class="ttdeci">@ SPELL_ATTR0_ALLOW_WHILE_SITTING</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:409</div></div>
<div class="ttc" id="aa02771_html_a9dcd0ba8d94905ba214797c12e7c44ada2d40022c3a03aa2a0e78dfe6a115e3f3"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada2d40022c3a03aa2a0e78dfe6a115e3f3">SPELL_ATTR0_AURA_IS_DEBUFF</a></div><div class="ttdeci">@ SPELL_ATTR0_AURA_IS_DEBUFF</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:408</div></div>
<div class="ttc" id="aa02771_html_a9dcd0ba8d94905ba214797c12e7c44ada407e023ed336f3c64aa20f11dd49f6bd"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada407e023ed336f3c64aa20f11dd49f6bd">SPELL_ATTR0_PASSIVE</a></div><div class="ttdeci">@ SPELL_ATTR0_PASSIVE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:388</div></div>
<div class="ttc" id="aa02771_html_a9dcd0ba8d94905ba214797c12e7c44ada46b6f1510e54490ecf24ee8a769b0aab"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada46b6f1510e54490ecf24ee8a769b0aab">SPELL_ATTR0_IS_ABILITY</a></div><div class="ttdeci">@ SPELL_ATTR0_IS_ABILITY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:386</div></div>
<div class="ttc" id="aa02771_html_a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780">SPELL_ATTR0_NO_IMMUNITIES</a></div><div class="ttdeci">@ SPELL_ATTR0_NO_IMMUNITIES</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:411</div></div>
<div class="ttc" id="aa02771_html_a9dcd0ba8d94905ba214797c12e7c44ada70a88000e26e915779029013b794396e"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada70a88000e26e915779029013b794396e">SPELL_ATTR0_CANCELS_AUTO_ATTACK_COMBAT</a></div><div class="ttdeci">@ SPELL_ATTR0_CANCELS_AUTO_ATTACK_COMBAT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:402</div></div>
<div class="ttc" id="aa02771_html_a9dcd0ba8d94905ba214797c12e7c44adaba8502c6e37f89c8ff90f17025b0cb08"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44adaba8502c6e37f89c8ff90f17025b0cb08">SPELL_ATTR0_USES_RANGED_SLOT</a></div><div class="ttdeci">@ SPELL_ATTR0_USES_RANGED_SLOT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:383</div></div>
<div class="ttc" id="aa02771_html_a9dcd0ba8d94905ba214797c12e7c44adaba896f4f7d6dc5d34f09ff29f5db159a"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44adaba896f4f7d6dc5d34f09ff29f5db159a">SPELL_ATTR0_ALLOW_CAST_WHILE_DEAD</a></div><div class="ttdeci">@ SPELL_ATTR0_ALLOW_CAST_WHILE_DEAD</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:405</div></div>
<div class="ttc" id="aa02771_html_ada2b5e66b650d7a63f70c06a746070d1a6672f5f1c819fba2de73b0e8c8a9cb06"><div class="ttname"><a href="../../d0/dbd/a02771.html#ada2b5e66b650d7a63f70c06a746070d1a6672f5f1c819fba2de73b0e8c8a9cb06">DISPEL_MAGIC</a></div><div class="ttdeci">@ DISPEL_MAGIC</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1373</div></div>
<div class="ttc" id="aa02771_html_ada2b5e66b650d7a63f70c06a746070d1a71382806b5f961e5a04f6d06a97a1195"><div class="ttname"><a href="../../d0/dbd/a02771.html#ada2b5e66b650d7a63f70c06a746070d1a71382806b5f961e5a04f6d06a97a1195">DISPEL_NONE</a></div><div class="ttdeci">@ DISPEL_NONE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1372</div></div>
<div class="ttc" id="aa02771_html_aec1a0b3970de527f109db7fb8b7df5b6a13dd5f15a64e3041bbb807d1e6cd6a6c"><div class="ttname"><a href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6a13dd5f15a64e3041bbb807d1e6cd6a6c">SPELL_ATTR4_AURA_EXPIRES_OFFLINE</a></div><div class="ttdeci">@ SPELL_ATTR4_AURA_EXPIRES_OFFLINE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:532</div></div>
<div class="ttc" id="aa02771_html_aec1a0b3970de527f109db7fb8b7df5b6a5c5365d0d28e6cd6d5a9475e06676458"><div class="ttname"><a href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6a5c5365d0d28e6cd6d5a9475e06676458">SPELL_ATTR4_ALLOW_ENETRING_ARENA</a></div><div class="ttdeci">@ SPELL_ATTR4_ALLOW_ENETRING_ARENA</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:551</div></div>
<div class="ttc" id="aa02771_html_aec1a0b3970de527f109db7fb8b7df5b6a712b2bc4c2287e224f870f3f670feb46"><div class="ttname"><a href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6a712b2bc4c2287e224f870f3f670feb46">SPELL_ATTR4_NOT_IN_ARENA_OR_RATED_BATTLEGROUND</a></div><div class="ttdeci">@ SPELL_ATTR4_NOT_IN_ARENA_OR_RATED_BATTLEGROUND</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:546</div></div>
<div class="ttc" id="aa02771_html_aec1a0b3970de527f109db7fb8b7df5b6aa4f27b3ed6d7a0bcbc8db9f766ed39ae"><div class="ttname"><a href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6aa4f27b3ed6d7a0bcbc8db9f766ed39ae">SPELL_ATTR4_IGNORE_DAMAGE_TAKEN_MODIFIERS</a></div><div class="ttdeci">@ SPELL_ATTR4_IGNORE_DAMAGE_TAKEN_MODIFIERS</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:538</div></div>
<div class="ttc" id="aa02771_html_aec1a0b3970de527f109db7fb8b7df5b6ab1a8611660de2bc3a6ff4523b2d76376"><div class="ttname"><a href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6ab1a8611660de2bc3a6ff4523b2d76376">SPELL_ATTR4_NO_CAST_LOG</a></div><div class="ttdeci">@ SPELL_ATTR4_NO_CAST_LOG</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:530</div></div>
<div class="ttc" id="aa02771_html_aec1a0b3970de527f109db7fb8b7df5b6aba174418f37eafaa54fe775f50a43ca9"><div class="ttname"><a href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6aba174418f37eafaa54fe775f50a43ca9">SPELL_ATTR4_ALLOW_CAST_WHILE_CASTING</a></div><div class="ttdeci">@ SPELL_ATTR4_ALLOW_CAST_WHILE_CASTING</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:537</div></div>
<div class="ttc" id="aa02771_html_aec1a0b3970de527f109db7fb8b7df5b6ad292b675afe6f67c5524fb87701dbf59"><div class="ttname"><a href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6ad292b675afe6f67c5524fb87701dbf59">SPELL_ATTR4_CANNOT_BE_STOLEN</a></div><div class="ttdeci">@ SPELL_ATTR4_CANNOT_BE_STOLEN</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:536</div></div>
<div class="ttc" id="aa02771_html_aec1a0b3970de527f109db7fb8b7df5b6ad67c11c16b7239803ce216691ed50360"><div class="ttname"><a href="../../d0/dbd/a02771.html#aec1a0b3970de527f109db7fb8b7df5b6ad67c11c16b7239803ce216691ed50360">SPELL_ATTR4_REACTIVE_DAMAGE_PROC</a></div><div class="ttdeci">@ SPELL_ATTR4_REACTIVE_DAMAGE_PROC</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:544</div></div>
<div class="ttc" id="aa02771_html_aec2f46e883369a535607f981c323c094a7e4ba700ac08e92a5bd292b5c3507c0e"><div class="ttname"><a href="../../d0/dbd/a02771.html#aec2f46e883369a535607f981c323c094a7e4ba700ac08e92a5bd292b5c3507c0e">SUMMON_CATEGORY_PET</a></div><div class="ttdeci">@ SUMMON_CATEGORY_PET</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3285</div></div>
<div class="ttc" id="aa02771_html_afc0226d0611e178e6edb4d2776e03094a2ef2dfeb52e6b32d42ae31508834de20"><div class="ttname"><a href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094a2ef2dfeb52e6b32d42ae31508834de20">SPELL_ATTR6_NO_PUSHBACK</a></div><div class="ttdeci">@ SPELL_ATTR6_NO_PUSHBACK</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:619</div></div>
<div class="ttc" id="aa02771_html_afc0226d0611e178e6edb4d2776e03094a40a19713dcda0fee7572f01939a9a61d"><div class="ttname"><a href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094a40a19713dcda0fee7572f01939a9a61d">SPELL_ATTR6_CAN_TARGET_UNTARGETABLE</a></div><div class="ttdeci">@ SPELL_ATTR6_CAN_TARGET_UNTARGETABLE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:628</div></div>
<div class="ttc" id="aa02771_html_afc0226d0611e178e6edb4d2776e03094a653a9dadab0c249ed232ecda87dd833f"><div class="ttname"><a href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094a653a9dadab0c249ed232ecda87dd833f">SPELL_ATTR6_IGNORE_CASTER_DAMAGE_MODIFIERS</a></div><div class="ttdeci">@ SPELL_ATTR6_IGNORE_CASTER_DAMAGE_MODIFIERS</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:633</div></div>
<div class="ttc" id="aa02771_html_afc0226d0611e178e6edb4d2776e03094a78992c0cb395380959dea6189150d8bb"><div class="ttname"><a href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094a78992c0cb395380959dea6189150d8bb">SPELL_ATTR6_IGNORE_PHASE_SHIFT</a></div><div class="ttdeci">@ SPELL_ATTR6_IGNORE_PHASE_SHIFT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:617</div></div>
<div class="ttc" id="aa02771_html_afc0226d0611e178e6edb4d2776e03094ac83bf4647c4ce691b6e207712e286c98"><div class="ttname"><a href="../../d0/dbd/a02771.html#afc0226d0611e178e6edb4d2776e03094ac83bf4647c4ce691b6e207712e286c98">SPELL_ATTR6_NO_CATEGORY_COOLDOWN_MODS</a></div><div class="ttdeci">@ SPELL_ATTR6_NO_CATEGORY_COOLDOWN_MODS</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:635</div></div>
<div class="ttc" id="aa02771_html_aff6913cfd69489c107a071be9ec2ec8fa489ca32f412d460b8ae8f58a1aa8cf3d"><div class="ttname"><a href="../../d0/dbd/a02771.html#aff6913cfd69489c107a071be9ec2ec8fa489ca32f412d460b8ae8f58a1aa8cf3d">SPELL_SCHOOL_MASK_SHADOW</a></div><div class="ttdeci">@ SPELL_SCHOOL_MASK_SHADOW</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:302</div></div>
<div class="ttc" id="aa02771_html_aff6913cfd69489c107a071be9ec2ec8fa53b7883ddb2ff484fe7e089afe2c85dc"><div class="ttname"><a href="../../d0/dbd/a02771.html#aff6913cfd69489c107a071be9ec2ec8fa53b7883ddb2ff484fe7e089afe2c85dc">SPELL_SCHOOL_MASK_MAGIC</a></div><div class="ttdeci">@ SPELL_SCHOOL_MASK_MAGIC</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:312</div></div>
<div class="ttc" id="aa03065_html_a3c11f0d0cd9689554b34ccbc325da54fa6743615e8912aefb100fe3f804c162be"><div class="ttname"><a href="../../d4/d44/a03065.html#a3c11f0d0cd9689554b34ccbc325da54fa6743615e8912aefb100fe3f804c162be">TARGET_FLAG_DEST_LOCATION</a></div><div class="ttdeci">@ TARGET_FLAG_DEST_LOCATION</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:52</div></div>
<div class="ttc" id="aa03071_html_ab2692a866ddb9539875213c10f37b84e"><div class="ttname"><a href="../../df/d48/a03071.html#ab2692a866ddb9539875213c10f37b84e">ApplySpellFix</a></div><div class="ttdeci">void ApplySpellFix(std::initializer_list&lt; uint32 &gt; spellIds, void(*fix)(SpellInfo *))</div><div class="ttdef"><b>Definition:</b> SpellInfoCorrections.cpp:24</div></div>
<div class="ttc" id="aa03080_html_a0709fc3ab848cf1b8b4853813b8fe011a043102900f6d0a56c4ba2aaf151fa41a"><div class="ttname"><a href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a043102900f6d0a56c4ba2aaf151fa41a">AURA_INTERRUPT_FLAG_TAKE_DAMAGE</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_TAKE_DAMAGE</div><div class="ttdef"><b>Definition:</b> SpellDefines.h:44</div></div>
<div class="ttc" id="aa03080_html_a0709fc3ab848cf1b8b4853813b8fe011a2146003ec5334652b56eb3c521d549ad"><div class="ttname"><a href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a2146003ec5334652b56eb3c521d549ad">AURA_INTERRUPT_FLAG_TELEPORTED</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_TELEPORTED</div><div class="ttdef"><b>Definition:</b> SpellDefines.h:65</div></div>
<div class="ttc" id="aa03080_html_a0709fc3ab848cf1b8b4853813b8fe011a38784f17276304852dbc8f4e22b285d2"><div class="ttname"><a href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a38784f17276304852dbc8f4e22b285d2">AURA_INTERRUPT_FLAG_CAST</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_CAST</div><div class="ttdef"><b>Definition:</b> SpellDefines.h:45</div></div>
<div class="ttc" id="aa03080_html_a0709fc3ab848cf1b8b4853813b8fe011a789c61302c38d1c0a1e12f36df6fa49b"><div class="ttname"><a href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a789c61302c38d1c0a1e12f36df6fa49b">AURA_INTERRUPT_FLAG_TALK</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_TALK</div><div class="ttdef"><b>Definition:</b> SpellDefines.h:53</div></div>
<div class="ttc" id="aa03080_html_a0709fc3ab848cf1b8b4853813b8fe011a79d42b7d97460b52fe46d9bc3c288a15"><div class="ttname"><a href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a79d42b7d97460b52fe46d9bc3c288a15">AURA_INTERRUPT_FLAG_HITBYSPELL</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_HITBYSPELL</div><div class="ttdef"><b>Definition:</b> SpellDefines.h:43</div></div>
<div class="ttc" id="aa03080_html_a0709fc3ab848cf1b8b4853813b8fe011a79d9517e2981beafd03e4ee2ccbb1c35"><div class="ttname"><a href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a79d9517e2981beafd03e4ee2ccbb1c35">AURA_INTERRUPT_FLAG_MOVE</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_MOVE</div><div class="ttdef"><b>Definition:</b> SpellDefines.h:46</div></div>
<div class="ttc" id="aa03080_html_a0709fc3ab848cf1b8b4853813b8fe011a7ff7b6e5eb8b89e335cbed2efcc61ec3"><div class="ttname"><a href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a7ff7b6e5eb8b89e335cbed2efcc61ec3">AURA_INTERRUPT_FLAG_TURNING</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_TURNING</div><div class="ttdef"><b>Definition:</b> SpellDefines.h:47</div></div>
<div class="ttc" id="aa03080_html_a0709fc3ab848cf1b8b4853813b8fe011a9981d97f2b5d8a186a68b0199a8f1f37"><div class="ttname"><a href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a9981d97f2b5d8a186a68b0199a8f1f37">AURA_INTERRUPT_FLAG_MELEE_ATTACK</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_MELEE_ATTACK</div><div class="ttdef"><b>Definition:</b> SpellDefines.h:55</div></div>
<div class="ttc" id="aa03080_html_a0709fc3ab848cf1b8b4853813b8fe011addd23de47de1322a4cc921e361bc6dd8"><div class="ttname"><a href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011addd23de47de1322a4cc921e361bc6dd8">AURA_INTERRUPT_FLAG_CHANGE_MAP</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_CHANGE_MAP</div><div class="ttdef"><b>Definition:</b> SpellDefines.h:62</div></div>
<div class="ttc" id="aa03080_html_a0709fc3ab848cf1b8b4853813b8fe011ae9348af99172fda1de7f0ace41e2151a"><div class="ttname"><a href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011ae9348af99172fda1de7f0ace41e2151a">AURA_INTERRUPT_FLAG_MOUNT</a></div><div class="ttdeci">@ AURA_INTERRUPT_FLAG_MOUNT</div><div class="ttdef"><b>Definition:</b> SpellDefines.h:60</div></div>
<div class="ttc" id="aa03080_html_a39b60e1f12cca9b6873cb817e7717351a0424ff84a813354eb36d6f6774bbacce"><div class="ttname"><a href="../../d1/d7a/a03080.html#a39b60e1f12cca9b6873cb817e7717351a0424ff84a813354eb36d6f6774bbacce">SPELLMOD_EFFECT2</a></div><div class="ttdeci">@ SPELLMOD_EFFECT2</div><div class="ttdef"><b>Definition:</b> SpellDefines.h:88</div></div>
<div class="ttc" id="aa03080_html_a39b60e1f12cca9b6873cb817e7717351a0df5b1482e6dd01af433e9e95fbae0f3"><div class="ttname"><a href="../../d1/d7a/a03080.html#a39b60e1f12cca9b6873cb817e7717351a0df5b1482e6dd01af433e9e95fbae0f3">SPELLMOD_DAMAGE</a></div><div class="ttdeci">@ SPELLMOD_DAMAGE</div><div class="ttdef"><b>Definition:</b> SpellDefines.h:76</div></div>
<div class="ttc" id="aa03080_html_a39b60e1f12cca9b6873cb817e7717351ab97b462651ee3567f2c518bd09e74e9e"><div class="ttname"><a href="../../d1/d7a/a03080.html#a39b60e1f12cca9b6873cb817e7717351ab97b462651ee3567f2c518bd09e74e9e">SPELLMOD_EFFECT1</a></div><div class="ttdeci">@ SPELLMOD_EFFECT1</div><div class="ttdef"><b>Definition:</b> SpellDefines.h:79</div></div>
<div class="ttc" id="aa03080_html_abadf2f982fd866917c372d16ab99c109a69ed081a90c21e0d86095c70de005dbb"><div class="ttname"><a href="../../d1/d7a/a03080.html#abadf2f982fd866917c372d16ab99c109a69ed081a90c21e0d86095c70de005dbb">SPELL_INTERRUPT_FLAG_INTERRUPT</a></div><div class="ttdeci">@ SPELL_INTERRUPT_FLAG_INTERRUPT</div><div class="ttdef"><b>Definition:</b> SpellDefines.h:29</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a2c530c4b7d2f3b77f65f62395bda9c4a"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a2c530c4b7d2f3b77f65f62395bda9c4a">SPELL_AURA_ADD_PCT_MODIFIER</a></div><div class="ttdeci">@ SPELL_AURA_ADD_PCT_MODIFIER</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:171</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a3c6e04ab343a9f5ef767f8e8dd71af5b"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a3c6e04ab343a9f5ef767f8e8dd71af5b">SPELL_AURA_PROC_TRIGGER_SPELL</a></div><div class="ttdeci">@ SPELL_AURA_PROC_TRIGGER_SPELL</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:105</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a50563ee6555455f041b81ce199ad1a4f"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a50563ee6555455f041b81ce199ad1a4f">SPELL_AURA_ADD_FLAT_MODIFIER</a></div><div class="ttdeci">@ SPELL_AURA_ADD_FLAT_MODIFIER</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:170</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a6442a4a379f82e2f08734296e1e21c9f"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a6442a4a379f82e2f08734296e1e21c9f">SPELL_AURA_PERIODIC_HEAL</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_HEAL</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:71</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a651bba5033934ceb87de2329c845808a"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a651bba5033934ceb87de2329c845808a">SPELL_AURA_PROC_TRIGGER_SPELL_WITH_VALUE</a></div><div class="ttdeci">@ SPELL_AURA_PROC_TRIGGER_SPELL_WITH_VALUE</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:294</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a></div><div class="ttdeci">@ SPELL_AURA_DUMMY</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:67</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a6796b359cee58ecae94d38098c91e74e"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a6796b359cee58ecae94d38098c91e74e">SPELL_AURA_MOD_DAMAGE_PERCENT_TAKEN</a></div><div class="ttdeci">@ SPELL_AURA_MOD_DAMAGE_PERCENT_TAKEN</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:150</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a71228de916b6c96108c7689f11d6303c"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a71228de916b6c96108c7689f11d6303c">SPELL_AURA_SPLIT_DAMAGE_PCT</a></div><div class="ttdeci">@ SPELL_AURA_SPLIT_DAMAGE_PCT</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:144</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a7b5d0b48f9a7e84bf7a896602e8c66b9"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a7b5d0b48f9a7e84bf7a896602e8c66b9">SPELL_AURA_MOD_CHARM</a></div><div class="ttdeci">@ SPELL_AURA_MOD_CHARM</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:69</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a7dffb8e20e91a710ae9d4a2c804bcb6e"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a7dffb8e20e91a710ae9d4a2c804bcb6e">SPELL_AURA_MOD_ATTACKER_MELEE_CRIT_CHANCE</a></div><div class="ttdeci">@ SPELL_AURA_MOD_ATTACKER_MELEE_CRIT_CHANCE</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:250</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a9a82bcb2293394d7dc4a105cc52f8aa1"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a9a82bcb2293394d7dc4a105cc52f8aa1">SPELL_AURA_MOD_TAUNT</a></div><div class="ttdeci">@ SPELL_AURA_MOD_TAUNT</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:74</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799aa6334836ea9df28bbb9637f5b4987030"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799aa6334836ea9df28bbb9637f5b4987030">SPELL_AURA_MOD_INCREASE_ENERGY_PERCENT</a></div><div class="ttdeci">@ SPELL_AURA_MOD_INCREASE_ENERGY_PERCENT</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:195</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799ab3987db9e154ae9a2086efb43e5af610"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ab3987db9e154ae9a2086efb43e5af610">SPELL_AURA_MOD_DECREASE_SPEED</a></div><div class="ttdeci">@ SPELL_AURA_MOD_DECREASE_SPEED</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:96</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799ab7b51e8dff5aaafa4617c9fdde043b08"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ab7b51e8dff5aaafa4617c9fdde043b08">SPELL_AURA_SCHOOL_ABSORB</a></div><div class="ttdeci">@ SPELL_AURA_SCHOOL_ABSORB</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:132</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799ada12d140bdacb9205248cfde2265cf33"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ada12d140bdacb9205248cfde2265cf33">SPELL_AURA_MOD_ABILITY_IGNORE_TARGET_RESIST</a></div><div class="ttdeci">@ SPELL_AURA_MOD_ABILITY_IGNORE_TARGET_RESIST</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:333</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799add498157825d0faca2c013bbcdfbae56"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799add498157825d0faca2c013bbcdfbae56">SPELL_AURA_PERIODIC_DUMMY</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_DUMMY</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:289</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799af51e1877e096bbfd69505e5ab4fc69ad"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799af51e1877e096bbfd69505e5ab4fc69ad">SPELL_AURA_PERIODIC_TRIGGER_SPELL</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_TRIGGER_SPELL</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:86</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799afdb369d59878e85eb2c47405d92b0a0b"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799afdb369d59878e85eb2c47405d92b0a0b">SPELL_AURA_SET_VEHICLE_ID</a></div><div class="ttdeci">@ SPELL_AURA_SET_VEHICLE_ID</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:359</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799afdf00dd634aaa25017ad329f58bd6cfd"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799afdf00dd634aaa25017ad329f58bd6cfd">SPELL_AURA_MOD_STUN</a></div><div class="ttdeci">@ SPELL_AURA_MOD_STUN</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:75</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6a12ae63600ccfe4296e546ef44d3ef3e9"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a12ae63600ccfe4296e546ef44d3ef3e9">EFFECT_RADIUS_500_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_500_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:432</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6a13899f0b883bdae8051450ea98f98f55"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a13899f0b883bdae8051450ea98f98f55">EFFECT_RADIUS_7_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_7_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:438</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a14ee51627f5c63cbd8d13141aae1c942">EFFECT_RADIUS_100_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_100_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:414</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6a17e659065202f50148fd26019a3ed3a3"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a17e659065202f50148fd26019a3ed3a3">EFFECT_RADIUS_20_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_20_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:411</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6a1a748594451cc6774accf878f228c306"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a1a748594451cc6774accf878f228c306">EFFECT_RADIUS_8_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_8_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:416</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6a32a0a0b95c85980dc1e23d3e9fd64fac"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a32a0a0b95c85980dc1e23d3e9fd64fac">EFFECT_RADIUS_2_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_2_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:409</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6a516a507bd1698b0c02b7d9c9dcb486f4"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a516a507bd1698b0c02b7d9c9dcb486f4">EFFECT_RADIUS_1_YARD</a></div><div class="ttdeci">@ EFFECT_RADIUS_1_YARD</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:418</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6a6ca19cbc942cd306b4143a4c17041728"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a6ca19cbc942cd306b4143a4c17041728">EFFECT_RADIUS_4_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_4_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:428</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6a7127bc77ddfb8193b045d89e73b367ec"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a7127bc77ddfb8193b045d89e73b367ec">EFFECT_RADIUS_25_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_25_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:422</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6a74fa9db552286d6be06aa972e3ba6e72"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a74fa9db552286d6be06aa972e3ba6e72">EFFECT_RADIUS_5_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_5_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:410</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6a7d28b9fbd24fa0df7b57ea9bc707e8a7"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a7d28b9fbd24fa0df7b57ea9bc707e8a7">EFFECT_RADIUS_70_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_70_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:427</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6a84f16c69f55cca8b4fdde0c6778d9912"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6a84f16c69f55cca8b4fdde0c6778d9912">EFFECT_RADIUS_3_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_3_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:417</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa2446e6dca7800ee4e10ccb0b2cacce5">EFFECT_RADIUS_50000_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_50000_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:430</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6aa9bb19ae5f3981f0ba44b4c20d4b2fc5"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aa9bb19ae5f3981f0ba44b4c20d4b2fc5">EFFECT_RADIUS_18_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_18_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:421</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ab84fbce2b142a2d17b2c28dc46ee245b">EFFECT_RADIUS_200_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_200_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:424</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6abd0f41dc6ba7c2ee3eb838d726f8136d"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6abd0f41dc6ba7c2ee3eb838d726f8136d">EFFECT_RADIUS_12_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_12_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:434</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ac408444e6d66c0845a141ca461eb705b">EFFECT_RADIUS_10_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_10_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:415</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6ad83d4353e8c1f40105dbc7e945eeceae"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6ad83d4353e8c1f40105dbc7e945eeceae">EFFECT_RADIUS_150_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_150_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:442</div></div>
<div class="ttc" id="aa03110_html_adcebb12598da7d99a0d914e032ab53a6aea8bace1873cfb2ca3347ffb4b2b2cfd"><div class="ttname"><a href="../../df/d64/a03110.html#adcebb12598da7d99a0d914e032ab53a6aea8bace1873cfb2ca3347ffb4b2b2cfd">EFFECT_RADIUS_6_YARDS</a></div><div class="ttdeci">@ EFFECT_RADIUS_6_YARDS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:431</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a62b453b99197db2931efaae9c3f7efbc"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a62b453b99197db2931efaae9c3f7efbc">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a></div><div class="ttdeci">@ PROC_FLAG_DONE_MELEE_AUTO_ATTACK</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:110</div></div>
<div class="ttc" id="aa03110_html_ade1c2af066d4cf1bbcd88f13f01cd4d6a7986f32b9f36b5a364fda01d94accb26"><div class="ttname"><a href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a7986f32b9f36b5a364fda01d94accb26">PROC_FLAG_DONE_SPELL_MELEE_DMG_CLASS</a></div><div class="ttdeci">@ PROC_FLAG_DONE_SPELL_MELEE_DMG_CLASS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:113</div></div>
<div class="ttc" id="aa03152_html_ac68c2a63982a6142e1931450d7b6115c"><div class="ttname"><a href="../../d0/d9f/a03152.html#ac68c2a63982a6142e1931450d7b6115c">sGraveyard</a></div><div class="ttdeci">#define sGraveyard</div><div class="ttdef"><b>Definition:</b> GameGraveyard.h:74</div></div>
<div class="ttc" id="aa03521_html_ab1b67dd15f243c850f589f66747e547ca956565a0800ab3f327d90d6a413f4482"><div class="ttname"><a href="../../d8/dbe/a03521.html#ab1b67dd15f243c850f589f66747e547ca956565a0800ab3f327d90d6a413f4482">FORM_MOONKIN</a></div><div class="ttdeci">@ FORM_MOONKIN</div><div class="ttdef"><b>Definition:</b> UnitDefines.h:98</div></div>
<div class="ttc" id="aa03521_html_ab1b67dd15f243c850f589f66747e547caa28b6421a1efdc3a6377c480e1f80809"><div class="ttname"><a href="../../d8/dbe/a03521.html#ab1b67dd15f243c850f589f66747e547caa28b6421a1efdc3a6377c480e1f80809">FORM_CAT</a></div><div class="ttdeci">@ FORM_CAT</div><div class="ttdef"><b>Definition:</b> UnitDefines.h:70</div></div>
<div class="ttc" id="aa03521_html_ab1b67dd15f243c850f589f66747e547cadede345fd72f3a48598be8a70afe65ca"><div class="ttname"><a href="../../d8/dbe/a03521.html#ab1b67dd15f243c850f589f66747e547cadede345fd72f3a48598be8a70afe65ca">FORM_TREE</a></div><div class="ttdeci">@ FORM_TREE</div><div class="ttdef"><b>Definition:</b> UnitDefines.h:71</div></div>
<div class="ttc" id="aa03704_html_a0bfa073eefdc51af1ba9d23803ecb6bf"><div class="ttname"><a href="../../d7/da2/a03704.html#a0bfa073eefdc51af1ba9d23803ecb6bf">sVehicleSeatStore</a></div><div class="ttdeci">DBCStorage&lt; VehicleSeatEntry &gt; sVehicleSeatStore(VehicleSeatEntryfmt)</div></div>
<div class="ttc" id="aa03704_html_a0fff35395ba871f73cf11434790780d7"><div class="ttname"><a href="../../d7/da2/a03704.html#a0fff35395ba871f73cf11434790780d7">sFactionStore</a></div><div class="ttdeci">DBCStorage&lt; FactionEntry &gt; sFactionStore(FactionEntryfmt)</div></div>
<div class="ttc" id="aa03704_html_a29c6e85b6d644aea61237cd0b7978dce"><div class="ttname"><a href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a></div><div class="ttdeci">DBCStorage&lt; SpellRadiusEntry &gt; sSpellRadiusStore(SpellRadiusfmt)</div></div>
<div class="ttc" id="aa03704_html_a2c376fed2083a632a4d59389d8dc2dda"><div class="ttname"><a href="../../d7/da2/a03704.html#a2c376fed2083a632a4d59389d8dc2dda">sSummonPropertiesStore</a></div><div class="ttdeci">DBCStorage&lt; SummonPropertiesEntry &gt; sSummonPropertiesStore(SummonPropertiesfmt)</div></div>
<div class="ttc" id="aa03704_html_a4702d03a245a571da652d6c354d94cff"><div class="ttname"><a href="../../d7/da2/a03704.html#a4702d03a245a571da652d6c354d94cff">sLockStore</a></div><div class="ttdeci">DBCStorage&lt; LockEntry &gt; sLockStore(LockEntryfmt)</div></div>
<div class="ttc" id="aa03704_html_a4e06f28a8354b7362ee3b55fd130e0fe"><div class="ttname"><a href="../../d7/da2/a03704.html#a4e06f28a8354b7362ee3b55fd130e0fe">sSpellCategoryStore</a></div><div class="ttdeci">DBCStorage&lt; SpellCategoryEntry &gt; sSpellCategoryStore(SpellCategoryfmt)</div></div>
<div class="ttc" id="aa03704_html_a5bc78bd7e237f74c7558459e7783aaec"><div class="ttname"><a href="../../d7/da2/a03704.html#a5bc78bd7e237f74c7558459e7783aaec">sCreatureDisplayInfoStore</a></div><div class="ttdeci">DBCStorage&lt; CreatureDisplayInfoEntry &gt; sCreatureDisplayInfoStore(CreatureDisplayInfofmt)</div></div>
<div class="ttc" id="aa03704_html_a5c5f896be6bbbc33caa037de254cb917"><div class="ttname"><a href="../../d7/da2/a03704.html#a5c5f896be6bbbc33caa037de254cb917">sSpellCastTimesStore</a></div><div class="ttdeci">DBCStorage&lt; SpellCastTimesEntry &gt; sSpellCastTimesStore(SpellCastTimefmt)</div></div>
<div class="ttc" id="aa03704_html_a5ff6ac59a63f3525e6e7efed75393e2c"><div class="ttname"><a href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a></div><div class="ttdeci">DBCStorage&lt; SpellRangeEntry &gt; sSpellRangeStore(SpellRangefmt)</div></div>
<div class="ttc" id="aa03704_html_a91e667648c436939ee79c55a276fc0bf"><div class="ttname"><a href="../../d7/da2/a03704.html#a91e667648c436939ee79c55a276fc0bf">sAchievementStore</a></div><div class="ttdeci">DBCStorage&lt; AchievementEntry &gt; sAchievementStore(Achievementfmt)</div></div>
<div class="ttc" id="aa03704_html_ab92b42f7bf8dc60a8d0d92aa9b1ca5a1"><div class="ttname"><a href="../../d7/da2/a03704.html#ab92b42f7bf8dc60a8d0d92aa9b1ca5a1">sFactionTemplateStore</a></div><div class="ttdeci">DBCStorage&lt; FactionTemplateEntry &gt; sFactionTemplateStore(FactionTemplateEntryfmt)</div></div>
<div class="ttc" id="aa03704_html_abf2b3438ac1db9a9b301a15eb31927e1"><div class="ttname"><a href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a></div><div class="ttdeci">DBCStorage&lt; SpellDurationEntry &gt; sSpellDurationStore(SpellDurationfmt)</div></div>
<div class="ttc" id="aa03890_html_a6386d0a4b64b17a25a60627bb55b360c"><div class="ttname"><a href="../../d2/df3/a03890.html#a6386d0a4b64b17a25a60627bb55b360c">SPEED_CHARGE</a></div><div class="ttdeci">#define SPEED_CHARGE</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:109</div></div>
<div class="ttc" id="aa05534_html"><div class="ttname"><a href="../../dd/d66/a05534.html">flag96</a></div><div class="ttdef"><b>Definition:</b> Util.h:451</div></div>
<div class="ttc" id="aa09638_html"><div class="ttname"><a href="../../d0/df8/a09638.html">GraveyardStruct</a></div><div class="ttdef"><b>Definition:</b> GameGraveyard.h:27</div></div>
<div class="ttc" id="aa10890_html"><div class="ttname"><a href="../../d9/d36/a10890.html">SpellImplicitTargetInfo</a></div><div class="ttdef"><b>Definition:</b> SpellInfo.h:217</div></div>
<div class="ttc" id="aa10898_html"><div class="ttname"><a href="../../d2/db6/a10898.html">SpellEffectInfo</a></div><div class="ttdef"><b>Definition:</b> SpellInfo.h:249</div></div>
<div class="ttc" id="aa10906_html_a354b312d22f0591378e7b031a2ccd887"><div class="ttname"><a href="../../d4/db9/a10906.html#a354b312d22f0591378e7b031a2ccd887">SpellInfo::RecoveryTime</a></div><div class="ttdeci">uint32 RecoveryTime</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:348</div></div>
<div class="ttc" id="aa10906_html_a4afa7469294880951d516fb010a75b74"><div class="ttname"><a href="../../d4/db9/a10906.html#a4afa7469294880951d516fb010a75b74">SpellInfo::RangeEntry</a></div><div class="ttdeci">SpellRangeEntry const  * RangeEntry</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:369</div></div>
<div class="ttc" id="aa10906_html_a697cde921a1d1d51f7f02b0099ed5e01"><div class="ttname"><a href="../../d4/db9/a10906.html#a697cde921a1d1d51f7f02b0099ed5e01">SpellInfo::ActiveIconID</a></div><div class="ttdeci">uint32 ActiveIconID</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:381</div></div>
<div class="ttc" id="aa10906_html_a6a56e323b5359f6fc3d766b71efaf901"><div class="ttname"><a href="../../d4/db9/a10906.html#a6a56e323b5359f6fc3d766b71efaf901">SpellInfo::Speed</a></div><div class="ttdeci">float Speed</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:370</div></div>
<div class="ttc" id="aa10906_html_a9ab37b7b7987ad85cc0bbaad45f2b905"><div class="ttname"><a href="../../d4/db9/a10906.html#a9ab37b7b7987ad85cc0bbaad45f2b905">SpellInfo::Attributes</a></div><div class="ttdeci">uint32 Attributes</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:324</div></div>
<div class="ttc" id="aa10906_html_aa514878adc99503658ff251f089d64bf"><div class="ttname"><a href="../../d4/db9/a10906.html#aa514878adc99503658ff251f089d64bf">SpellInfo::CategoryEntry</a></div><div class="ttdeci">SpellCategoryEntry const  * CategoryEntry</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:321</div></div>
<div class="ttc" id="aa10906_html_aae8dfafe06e0dd85eb98212daec448f7"><div class="ttname"><a href="../../d4/db9/a10906.html#aae8dfafe06e0dd85eb98212daec448f7">SpellInfo::AttributesEx6</a></div><div class="ttdeci">uint32 AttributesEx6</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:330</div></div>
<div class="ttc" id="aa10906_html_ac1a82f9330481616b4b87ed9eff0f785"><div class="ttname"><a href="../../d4/db9/a10906.html#ac1a82f9330481616b4b87ed9eff0f785">SpellInfo::SpellIconID</a></div><div class="ttdeci">uint32 SpellIconID</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:380</div></div>
<div class="ttc" id="aa10906_html_af05b9a35af00a3ef21f9a0f38f92dd43"><div class="ttname"><a href="../../d4/db9/a10906.html#af05b9a35af00a3ef21f9a0f38f92dd43">SpellInfo::GetEffects</a></div><div class="ttdeci">std::array&lt; SpellEffectInfo, MAX_SPELL_EFFECTS &gt; const &amp; GetEffects() const</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:527</div></div>
<div class="ttc" id="aa27342_html"><div class="ttname"><a href="../../d1/d27/a27342.html">AchievementEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:39</div></div>
<div class="ttc" id="aa27342_html_ab3d41381808c8bdc163554f7c46f6bc6"><div class="ttname"><a href="../../d1/d27/a27342.html#ab3d41381808c8bdc163554f7c46f6bc6">AchievementEntry::mapID</a></div><div class="ttdeci">int32 mapID</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:42</div></div>
<div class="ttc" id="aa27610_html"><div class="ttname"><a href="../../d5/d00/a27610.html">AreaTableEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:518</div></div>
<div class="ttc" id="aa27666_html"><div class="ttname"><a href="../../d1/dcb/a27666.html">CreatureDisplayInfoEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:720</div></div>
<div class="ttc" id="aa27666_html_ae15b89669bf5d711cc57c21d8c8be0dd"><div class="ttname"><a href="../../d1/dcb/a27666.html#ae15b89669bf5d711cc57c21d8c8be0dd">CreatureDisplayInfoEntry::scale</a></div><div class="ttdeci">float scale</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:725</div></div>
<div class="ttc" id="aa27718_html"><div class="ttname"><a href="../../de/dcb/a27718.html">FactionEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:906</div></div>
<div class="ttc" id="aa27718_html_ae23a3c94554b2043928d6e1ea748e709"><div class="ttname"><a href="../../de/dcb/a27718.html#ae23a3c94554b2043928d6e1ea748e709">FactionEntry::ReputationFlags</a></div><div class="ttdeci">uint32 ReputationFlags[4]</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:912</div></div>
<div class="ttc" id="aa27722_html"><div class="ttname"><a href="../../d2/d76/a27722.html">FactionTemplateEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:938</div></div>
<div class="ttc" id="aa27722_html_a6842badfb5e7e0ad3a26d250426c64b6"><div class="ttname"><a href="../../d2/d76/a27722.html#a6842badfb5e7e0ad3a26d250426c64b6">FactionTemplateEntry::friendlyMask</a></div><div class="ttdeci">uint32 friendlyMask</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:943</div></div>
<div class="ttc" id="aa27722_html_ab395ab86c3e553ea4a9b1ae901c6e7cb"><div class="ttname"><a href="../../d2/d76/a27722.html#ab395ab86c3e553ea4a9b1ae901c6e7cb">FactionTemplateEntry::hostileMask</a></div><div class="ttdeci">uint32 hostileMask</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:944</div></div>
<div class="ttc" id="aa27838_html"><div class="ttname"><a href="../../d6/d9a/a27838.html">LockEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1307</div></div>
<div class="ttc" id="aa27838_html_a39b0b548efd795c162926bddcdd301b5"><div class="ttname"><a href="../../d6/d9a/a27838.html#a39b0b548efd795c162926bddcdd301b5">LockEntry::Type</a></div><div class="ttdeci">uint32 Type[MAX_LOCK_CASE]</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1309</div></div>
<div class="ttc" id="aa27946_html_a9691134e5cb1e15e3c93ea05a653975d"><div class="ttname"><a href="../../dd/db5/a27946.html#a9691134e5cb1e15e3c93ea05a653975d">SpellRangeEntry::RangeMax</a></div><div class="ttdeci">float RangeMax[2]</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1795</div></div>
<div class="ttc" id="aa27978_html"><div class="ttname"><a href="../../d3/d91/a27978.html">SummonPropertiesEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1908</div></div>
<div class="ttc" id="aa27978_html_aa1cbad19aaa973e21fdbd74cec5119f6"><div class="ttname"><a href="../../d3/d91/a27978.html#aa1cbad19aaa973e21fdbd74cec5119f6">SummonPropertiesEntry::Type</a></div><div class="ttdeci">uint32 Type</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1912</div></div>
<div class="ttc" id="aa27978_html_acd933f251a1faa1f705420307136681d"><div class="ttname"><a href="../../d3/d91/a27978.html#acd933f251a1faa1f705420307136681d">SummonPropertiesEntry::Category</a></div><div class="ttdeci">uint32 Category</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1910</div></div>
<div class="ttc" id="aa28022_html"><div class="ttname"><a href="../../d5/d01/a28022.html">VehicleSeatEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:2063</div></div>
<div class="ttc" id="aa28022_html_a36d6a9668d3405ba7a226d8ed0281fe9"><div class="ttname"><a href="../../d5/d01/a28022.html#a36d6a9668d3405ba7a226d8ed0281fe9">VehicleSeatEntry::m_attachmentOffsetX</a></div><div class="ttdeci">float m_attachmentOffsetX</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:2067</div></div>
<div class="ttc" id="aa28022_html_a89803d79045aac9e38d46b2c1793665b"><div class="ttname"><a href="../../d5/d01/a28022.html#a89803d79045aac9e38d46b2c1793665b">VehicleSeatEntry::m_attachmentOffsetY</a></div><div class="ttdeci">float m_attachmentOffsetY</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:2068</div></div>
<div class="ttc" id="aa28022_html_adafa935d13af1effc9af02dc5bd3a774"><div class="ttname"><a href="../../d5/d01/a28022.html#adafa935d13af1effc9af02dc5bd3a774">VehicleSeatEntry::m_attachmentOffsetZ</a></div><div class="ttdeci">float m_attachmentOffsetZ</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:2069</div></div>
<div class="ttc" id="aa28022_html_afe02aa891cad80dff89156d138bad691"><div class="ttname"><a href="../../d5/d01/a28022.html#afe02aa891cad80dff89156d138bad691">VehicleSeatEntry::m_flags</a></div><div class="ttdeci">uint32 m_flags</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:2065</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00381">SpellInfo::ActiveIconID</a>, <a class="el" href="../../#l00024">ApplySpellFix()</a>, <a class="el" href="../../#l00262">AREA_FLAG_NO_FLY_ZONE</a>, <a class="el" href="../../#l00257">AREA_FLAG_REST_ZONE_ALLIANCE</a>, <a class="el" href="../../#l00324">SpellInfo::Attributes</a>, <a class="el" href="../../#l00330">SpellInfo::AttributesEx6</a>, <a class="el" href="../../#l00045">AURA_INTERRUPT_FLAG_CAST</a>, <a class="el" href="../../#l00062">AURA_INTERRUPT_FLAG_CHANGE_MAP</a>, <a class="el" href="../../#l00043">AURA_INTERRUPT_FLAG_HITBYSPELL</a>, <a class="el" href="../../#l00055">AURA_INTERRUPT_FLAG_MELEE_ATTACK</a>, <a class="el" href="../../#l00060">AURA_INTERRUPT_FLAG_MOUNT</a>, <a class="el" href="../../#l00046">AURA_INTERRUPT_FLAG_MOVE</a>, <a class="el" href="../../#l00044">AURA_INTERRUPT_FLAG_TAKE_DAMAGE</a>, <a class="el" href="../../#l00053">AURA_INTERRUPT_FLAG_TALK</a>, <a class="el" href="../../#l00065">AURA_INTERRUPT_FLAG_TELEPORTED</a>, <a class="el" href="../../#l00047">AURA_INTERRUPT_FLAG_TURNING</a>, <a class="el" href="../../#l01910">SummonPropertiesEntry::Category</a>, <a class="el" href="../../#l00321">SpellInfo::CategoryEntry</a>, <a class="el" href="../../#l01373">DISPEL_MAGIC</a>, <a class="el" href="../../#l01372">DISPEL_NONE</a>, <a class="el" href="../../#l00167">DONE_HIT_PROC_FLAG_MASK</a>, <a class="el" href="../../#l00031">EFFECT_0</a>, <a class="el" href="../../#l00032">EFFECT_1</a>, <a class="el" href="../../#l00033">EFFECT_2</a>, <a class="el" href="../../#l00414">EFFECT_RADIUS_100_YARDS</a>, <a class="el" href="../../#l00415">EFFECT_RADIUS_10_YARDS</a>, <a class="el" href="../../#l00434">EFFECT_RADIUS_12_YARDS</a>, <a class="el" href="../../#l00442">EFFECT_RADIUS_150_YARDS</a>, <a class="el" href="../../#l00421">EFFECT_RADIUS_18_YARDS</a>, <a class="el" href="../../#l00418">EFFECT_RADIUS_1_YARD</a>, <a class="el" href="../../#l00424">EFFECT_RADIUS_200_YARDS</a>, <a class="el" href="../../#l00411">EFFECT_RADIUS_20_YARDS</a>, <a class="el" href="../../#l00422">EFFECT_RADIUS_25_YARDS</a>, <a class="el" href="../../#l00409">EFFECT_RADIUS_2_YARDS</a>, <a class="el" href="../../#l00417">EFFECT_RADIUS_3_YARDS</a>, <a class="el" href="../../#l00428">EFFECT_RADIUS_4_YARDS</a>, <a class="el" href="../../#l00430">EFFECT_RADIUS_50000_YARDS</a>, <a class="el" href="../../#l00432">EFFECT_RADIUS_500_YARDS</a>, <a class="el" href="../../#l00410">EFFECT_RADIUS_5_YARDS</a>, <a class="el" href="../../#l00431">EFFECT_RADIUS_6_YARDS</a>, <a class="el" href="../../#l00427">EFFECT_RADIUS_70_YARDS</a>, <a class="el" href="../../#l00438">EFFECT_RADIUS_7_YARDS</a>, <a class="el" href="../../#l00416">EFFECT_RADIUS_8_YARDS</a>, <a class="el" href="../../#l00393">SpellInfo::Effects</a>, <a class="el" href="../../#l00070">FORM_CAT</a>, <a class="el" href="../../#l00098">FORM_MOONKIN</a>, <a class="el" href="../../#l00071">FORM_TREE</a>, <a class="el" href="../../#l00943">FactionTemplateEntry::friendlyMask</a>, <a class="el" href="../../#l00527">SpellInfo::GetEffects()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00751">GetSpellInfoStoreSize()</a>, <a class="el" href="../../#l00944">FactionTemplateEntry::hostileMask</a>, <a class="el" href="../../#l00053">IN_MILLISECONDS</a>, <a class="el" href="../../#l02584">LOCK_KEY_NONE</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l02067">VehicleSeatEntry::m_attachmentOffsetX</a>, <a class="el" href="../../#l02068">VehicleSeatEntry::m_attachmentOffsetY</a>, <a class="el" href="../../#l02069">VehicleSeatEntry::m_attachmentOffsetZ</a>, <a class="el" href="../../#l02065">VehicleSeatEntry::m_flags</a>, <a class="el" href="../../#l00042">AchievementEntry::mapID</a>, <a class="el" href="../../#l01636">MAX_SPELL_EFFECTS</a>, <a class="el" href="../../#l01325">MECHANIC_NONE</a>, <a class="el" href="../../#l01336">MECHANIC_SNARE</a>, <a class="el" href="../../#l01337">MECHANIC_STUN</a>, <a class="el" href="../../#l00820">mSpellInfoMap</a>, <a class="el" href="../../#l00269">POWER_MANA</a>, <a class="el" href="../../#l00110">PROC_FLAG_DONE_MELEE_AUTO_ATTACK</a>, <a class="el" href="../../#l00113">PROC_FLAG_DONE_SPELL_MELEE_DMG_CLASS</a>, <a class="el" href="../../#l00369">SpellInfo::RangeEntry</a>, <a class="el" href="../../#l01795">SpellRangeEntry::RangeMax</a>, <a class="el" href="../../#l00348">SpellInfo::RecoveryTime</a>, <a class="el" href="../../#l00912">FactionEntry::ReputationFlags</a>, <a class="el" href="../../d7/da2/a03704.html#a91e667648c436939ee79c55a276fc0bf">sAchievementStore</a>, <a class="el" href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>, <a class="el" href="../../#l00725">CreatureDisplayInfoEntry::scale</a>, <a class="el" href="../../d7/da2/a03704.html#a5bc78bd7e237f74c7558459e7783aaec">sCreatureDisplayInfoStore</a>, <a class="el" href="../../d7/da2/a03704.html#a0fff35395ba871f73cf11434790780d7">sFactionStore</a>, <a class="el" href="../../d7/da2/a03704.html#ab92b42f7bf8dc60a8d0d92aa9b1ca5a1">sFactionTemplateStore</a>, <a class="el" href="../../#l00074">sGraveyard</a>, <a class="el" href="../../d7/da2/a03704.html#a4702d03a245a571da652d6c354d94cff">sLockStore</a>, <a class="el" href="../../#l00370">SpellInfo::Speed</a>, <a class="el" href="../../#l00109">SPEED_CHARGE</a>, <a class="el" href="../../#l00405">SPELL_ATTR0_ALLOW_CAST_WHILE_DEAD</a>, <a class="el" href="../../#l00409">SPELL_ATTR0_ALLOW_WHILE_SITTING</a>, <a class="el" href="../../#l00408">SPELL_ATTR0_AURA_IS_DEBUFF</a>, <a class="el" href="../../#l00402">SPELL_ATTR0_CANCELS_AUTO_ATTACK_COMBAT</a>, <a class="el" href="../../#l00386">SPELL_ATTR0_IS_ABILITY</a>, <a class="el" href="../../#l00413">SPELL_ATTR0_NO_AURA_CANCEL</a>, <a class="el" href="../../#l00411">SPELL_ATTR0_NO_IMMUNITIES</a>, <a class="el" href="../../#l00398">SPELL_ATTR0_NOT_SHAPESHIFTED</a>, <a class="el" href="../../#l00388">SPELL_ATTR0_PASSIVE</a>, <a class="el" href="../../#l00383">SPELL_ATTR0_USES_RANGED_SLOT</a>, <a class="el" href="../../#l00424">SPELL_ATTR1_ALLOW_WHILE_STEALTHED</a>, <a class="el" href="../../#l00438">SPELL_ATTR1_EXCLUDE_CASTER</a>, <a class="el" href="../../#l00434">SPELL_ATTR1_IMMUNITY_PURGES_EFFECT</a>, <a class="el" href="../../#l00422">SPELL_ATTR1_NO_REDIRECTION</a>, <a class="el" href="../../#l00426">SPELL_ATTR1_NO_REFLECTION</a>, <a class="el" href="../../#l00429">SPELL_ATTR1_NO_THREAT</a>, <a class="el" href="../../#l00456">SPELL_ATTR2_ALLOW_DEAD_TARGET</a>, <a class="el" href="../../#l00485">SPELL_ATTR2_CANT_CRIT</a>, <a class="el" href="../../#l00458">SPELL_ATTR2_IGNORE_LINE_OF_SIGHT</a>, <a class="el" href="../../#l00513">SPELL_ATTR3_ALLOW_AURA_WHILE_DEAD</a>, <a class="el" href="../../#l00511">SPELL_ATTR3_ALWAYS_HIT</a>, <a class="el" href="../../#l00519">SPELL_ATTR3_CAN_PROC_FROM_PROCS</a>, <a class="el" href="../../#l00496">SPELL_ATTR3_COMPLETELY_BLOCKED</a>, <a class="el" href="../../#l00500">SPELL_ATTR3_DOT_STACKING_RULE</a>, <a class="el" href="../../#l00522">SPELL_ATTR3_IGNORE_CASTER_MODIFIERS</a>, <a class="el" href="../../#l00501">SPELL_ATTR3_ONLY_ON_PLAYER</a>, <a class="el" href="../../#l00509">SPELL_ATTR3_SUPPRESS_CASTER_PROCS</a>, <a class="el" href="../../#l00510">SPELL_ATTR3_SUPPRESS_TARGET_PROCS</a>, <a class="el" href="../../#l00537">SPELL_ATTR4_ALLOW_CAST_WHILE_CASTING</a>, <a class="el" href="../../#l00551">SPELL_ATTR4_ALLOW_ENETRING_ARENA</a>, <a class="el" href="../../#l00532">SPELL_ATTR4_AURA_EXPIRES_OFFLINE</a>, <a class="el" href="../../#l00536">SPELL_ATTR4_CANNOT_BE_STOLEN</a>, <a class="el" href="../../#l00538">SPELL_ATTR4_IGNORE_DAMAGE_TAKEN_MODIFIERS</a>, <a class="el" href="../../#l00530">SPELL_ATTR4_NO_CAST_LOG</a>, <a class="el" href="../../#l00546">SPELL_ATTR4_NOT_IN_ARENA_OR_RATED_BATTLEGROUND</a>, <a class="el" href="../../#l00544">SPELL_ATTR4_REACTIVE_DAMAGE_PROC</a>, <a class="el" href="../../#l00567">SPELL_ATTR5_ALLOW_ACTION_DURING_CHANNEL</a>, <a class="el" href="../../#l00570">SPELL_ATTR5_ALLOW_WHILE_STUNNED</a>, <a class="el" href="../../#l00593">SPELL_ATTR5_ALWAYS_AOE_LINE_OF_SIGHT</a>, <a class="el" href="../../#l00577">SPELL_ATTR5_DO_NOT_DISPLAY_DURATION</a>, <a class="el" href="../../#l00576">SPELL_ATTR5_EXTRA_INITIAL_PERIOD</a>, <a class="el" href="../../#l00628">SPELL_ATTR6_CAN_TARGET_UNTARGETABLE</a>, <a class="el" href="../../#l00633">SPELL_ATTR6_IGNORE_CASTER_DAMAGE_MODIFIERS</a>, <a class="el" href="../../#l00617">SPELL_ATTR6_IGNORE_PHASE_SHIFT</a>, <a class="el" href="../../#l00635">SPELL_ATTR6_NO_CATEGORY_COOLDOWN_MODS</a>, <a class="el" href="../../#l00619">SPELL_ATTR6_NO_PUSHBACK</a>, <a class="el" href="../../#l00652">SPELL_ATTR7_CAN_CAUSE_INTERRUPT</a>, <a class="el" href="../../#l00643">SPELL_ATTR7_DISABLE_AURA_WHILE_DEAD</a>, <a class="el" href="../../#l00647">SPELL_ATTR7_DONT_CAUSE_SPELL_PUSHBACK</a>, <a class="el" href="../../#l00170">SPELL_AURA_ADD_FLAT_MODIFIER</a>, <a class="el" href="../../#l00171">SPELL_AURA_ADD_PCT_MODIFIER</a>, <a class="el" href="../../#l00067">SPELL_AURA_DUMMY</a>, <a class="el" href="../../#l00333">SPELL_AURA_MOD_ABILITY_IGNORE_TARGET_RESIST</a>, <a class="el" href="../../#l00250">SPELL_AURA_MOD_ATTACKER_MELEE_CRIT_CHANCE</a>, <a class="el" href="../../#l00069">SPELL_AURA_MOD_CHARM</a>, <a class="el" href="../../#l00150">SPELL_AURA_MOD_DAMAGE_PERCENT_TAKEN</a>, <a class="el" href="../../#l00096">SPELL_AURA_MOD_DECREASE_SPEED</a>, <a class="el" href="../../#l00195">SPELL_AURA_MOD_INCREASE_ENERGY_PERCENT</a>, <a class="el" href="../../#l00075">SPELL_AURA_MOD_STUN</a>, <a class="el" href="../../#l00074">SPELL_AURA_MOD_TAUNT</a>, <a class="el" href="../../#l00289">SPELL_AURA_PERIODIC_DUMMY</a>, <a class="el" href="../../#l00071">SPELL_AURA_PERIODIC_HEAL</a>, <a class="el" href="../../#l00086">SPELL_AURA_PERIODIC_TRIGGER_SPELL</a>, <a class="el" href="../../#l00105">SPELL_AURA_PROC_TRIGGER_SPELL</a>, <a class="el" href="../../#l00294">SPELL_AURA_PROC_TRIGGER_SPELL_WITH_VALUE</a>, <a class="el" href="../../#l00132">SPELL_AURA_SCHOOL_ABSORB</a>, <a class="el" href="../../#l00359">SPELL_AURA_SET_VEHICLE_ID</a>, <a class="el" href="../../#l00144">SPELL_AURA_SPLIT_DAMAGE_PCT</a>, <a class="el" href="../../#l01546">SPELL_DAMAGE_CLASS_MAGIC</a>, <a class="el" href="../../#l00906">SPELL_EFFECT_APPLY_AREA_AURA_FRIEND</a>, <a class="el" href="../../#l00784">SPELL_EFFECT_APPLY_AURA</a>, <a class="el" href="../../#l00874">SPELL_EFFECT_CHARGE</a>, <a class="el" href="../../#l00927">SPELL_EFFECT_CHARGE_DEST</a>, <a class="el" href="../../#l00781">SPELL_EFFECT_DUMMY</a>, <a class="el" href="../../#l00819">SPELL_EFFECT_JUMP</a>, <a class="el" href="../../#l00820">SPELL_EFFECT_JUMP_DEST</a>, <a class="el" href="../../#l00916">SPELL_EFFECT_LEAP_BACK</a>, <a class="el" href="../../#l00903">SPELL_EFFECT_MODIFY_THREAT_PERCENT</a>, <a class="el" href="../../#l00840">SPELL_EFFECT_POWER_BURN</a>, <a class="el" href="../../#l00855">SPELL_EFFECT_SCRIPT_EFFECT</a>, <a class="el" href="../../#l00872">SPELL_EFFECT_SELF_RESURRECT</a>, <a class="el" href="../../#l00834">SPELL_EFFECT_SUMMON_PET</a>, <a class="el" href="../../#l00810">SPELL_EFFECT_TRIGGER_MISSILE</a>, <a class="el" href="../../#l00920">SPELL_EFFECT_TRIGGER_SPELL_WITH_VALUE</a>, <a class="el" href="../../#l00029">SPELL_INTERRUPT_FLAG_INTERRUPT</a>, <a class="el" href="../../#l01553">SPELL_PREVENTION_TYPE_NONE</a>, <a class="el" href="../../#l00312">SPELL_SCHOOL_MASK_MAGIC</a>, <a class="el" href="../../#l00302">SPELL_SCHOOL_MASK_SHADOW</a>, <a class="el" href="../../#l03543">SPELLFAMILY_DEATHKNIGHT</a>, <a class="el" href="../../#l03528">SPELLFAMILY_GENERIC</a>, <a class="el" href="../../#l03537">SPELLFAMILY_HUNTER</a>, <a class="el" href="../../#l03531">SPELLFAMILY_MAGE</a>, <a class="el" href="../../#l03538">SPELLFAMILY_PALADIN</a>, <a class="el" href="../../#l03541">SPELLFAMILY_POTION</a>, <a class="el" href="../../#l03536">SPELLFAMILY_ROGUE</a>, <a class="el" href="../../#l03529">SPELLFAMILY_UNK1</a>, <a class="el" href="../../#l03532">SPELLFAMILY_WARRIOR</a>, <a class="el" href="../../#l00388">SpellInfo::SpellFamilyFlags</a>, <a class="el" href="../../#l00387">SpellInfo::SpellFamilyName</a>, <a class="el" href="../../#l00380">SpellInfo::SpellIconID</a>, <a class="el" href="../../#l00076">SPELLMOD_DAMAGE</a>, <a class="el" href="../../#l00079">SPELLMOD_EFFECT1</a>, <a class="el" href="../../#l00088">SPELLMOD_EFFECT2</a>, <a class="el" href="../../d7/da2/a03704.html#a5c5f896be6bbbc33caa037de254cb917">sSpellCastTimesStore</a>, <a class="el" href="../../d7/da2/a03704.html#a4e06f28a8354b7362ee3b55fd130e0fe">sSpellCategoryStore</a>, <a class="el" href="../../d7/da2/a03704.html#abf2b3438ac1db9a9b301a15eb31927e1">sSpellDurationStore</a>, <a class="el" href="../../d7/da2/a03704.html#a29c6e85b6d644aea61237cd0b7978dce">sSpellRadiusStore</a>, <a class="el" href="../../d7/da2/a03704.html#a5ff6ac59a63f3525e6e7efed75393e2c">sSpellRangeStore</a>, <a class="el" href="../../d7/da2/a03704.html#a2c376fed2083a632a4d59389d8dc2dda">sSummonPropertiesStore</a>, <a class="el" href="../../#l03285">SUMMON_CATEGORY_PET</a>, <a class="el" href="../../#l03295">SUMMON_TYPE_PET</a>, <a class="el" href="../../#l03298">SUMMON_TYPE_TOTEM</a>, <a class="el" href="../../d7/da2/a03704.html#a0bfa073eefdc51af1ba9d23803ecb6bf">sVehicleSeatStore</a>, <a class="el" href="../../#l01423">TARGET_DEST_CASTER</a>, <a class="el" href="../../#l01452">TARGET_DEST_CASTER_BACK</a>, <a class="el" href="../../#l01451">TARGET_DEST_CASTER_FRONT</a>, <a class="el" href="../../#l01422">TARGET_DEST_DB</a>, <a class="el" href="../../#l01491">TARGET_DEST_DEST</a>, <a class="el" href="../../#l01492">TARGET_DEST_DYNOBJ_NONE</a>, <a class="el" href="../../#l01467">TARGET_DEST_TARGET_ANY</a>, <a class="el" href="../../#l01457">TARGET_DEST_TARGET_ENEMY</a>, <a class="el" href="../../#l01493">TARGET_DEST_TRAJ</a>, <a class="el" href="../../#l00052">TARGET_FLAG_DEST_LOCATION</a>, <a class="el" href="../../#l01426">TARGET_SRC_CASTER</a>, <a class="el" href="../../#l01410">TARGET_UNIT_CASTER</a>, <a class="el" href="../../#l01424">TARGET_UNIT_CASTER_AREA_PARTY</a>, <a class="el" href="../../#l01428">TARGET_UNIT_CONE_ENEMY_24</a>, <a class="el" href="../../#l01464">TARGET_UNIT_CONE_ENTRY</a>, <a class="el" href="../../#l01421">TARGET_UNIT_DEST_AREA_ENEMY</a>, <a class="el" href="../../#l01417">TARGET_UNIT_DEST_AREA_ENTRY</a>, <a class="el" href="../../#l01431">TARGET_UNIT_MASTER</a>, <a class="el" href="../../#l01442">TARGET_UNIT_NEARBY_ENTRY</a>, <a class="el" href="../../#l01414">TARGET_UNIT_PET</a>, <a class="el" href="../../#l01434">TARGET_UNIT_SRC_AREA_ALLY</a>, <a class="el" href="../../#l01420">TARGET_UNIT_SRC_AREA_ENEMY</a>, <a class="el" href="../../#l01416">TARGET_UNIT_SRC_AREA_ENTRY</a>, <a class="el" href="../../#l01496">TARGET_UNIT_SUMMONER</a>, <a class="el" href="../../#l01425">TARGET_UNIT_TARGET_ALLY</a>, <a class="el" href="../../#l01429">TARGET_UNIT_TARGET_ANY</a>, <a class="el" href="../../#l01415">TARGET_UNIT_TARGET_ENEMY</a>, <a class="el" href="../../#l01498">TARGET_UNIT_VEHICLE</a>, <a class="el" href="../../#l01309">LockEntry::Type</a>, and <a class="el" href="../../#l01912">SummonPropertiesEntry::Type</a>.</p>

</div>
</div>
<a id="a57a52b9d7490bc3e73d5906c6c7780a0" name="a57a52b9d7490bc3e73d5906c6c7780a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57a52b9d7490bc3e73d5906c6c7780a0">&#9670;&#160;</a></span>LoadSpellInfoCustomAttributes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellInfoCustomAttributes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="../../d5/def/a04676.html#_todo000158">Todo:</a></b></dt><dd>: Not sure whether the fallthrough was a mistake (forgetting a break) or intended. This should be double-checked. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 2797</span>{</div>
<div class="line"><span class="lineno"> 2798</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <span class="keyword">const</span> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2799</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <span class="keyword">const</span> customAttrTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2800</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count;</div>
<div class="line"><span class="lineno"> 2801</span> </div>
<div class="line"><span class="lineno"> 2802</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT spell_id, attributes FROM spell_custom_attr&quot;</span>);</div>
<div class="line"><span class="lineno"> 2803</span> </div>
<div class="line"><span class="lineno"> 2804</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno"> 2805</span>    {</div>
<div class="line"><span class="lineno"> 2806</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 Spell Custom Attributes From DB. DB table `spell_custom_attr` Is Empty.&quot;</span>);</div>
<div class="line"><span class="lineno"> 2807</span>    }</div>
<div class="line"><span class="lineno"> 2808</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2809</span>    {</div>
<div class="line"><span class="lineno"> 2810</span>        <span class="keywordflow">for</span> (count = 0; result-&gt;NextRow(); ++count)</div>
<div class="line"><span class="lineno"> 2811</span>        {</div>
<div class="line"><span class="lineno"> 2812</span>            <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a> <span class="keyword">const</span>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 2813</span> </div>
<div class="line"><span class="lineno"> 2814</span>            <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <span class="keyword">const</span> spellId = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2815</span>            <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> attributes = fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2816</span> </div>
<div class="line"><span class="lineno"> 2817</span>            <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo = <a class="code hl_function" href="../../d4/d62/a10962.html#af81d67c3029f7bafd5f9d7b54af48782">_GetSpellInfo</a>(spellId);</div>
<div class="line"><span class="lineno"> 2818</span>            <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 2819</span>            {</div>
<div class="line"><span class="lineno"> 2820</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Table `spell_custom_attr` has wrong spell (spell_id: {}), ignored.&quot;</span>, spellId);</div>
<div class="line"><span class="lineno"> 2821</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2822</span>            }</div>
<div class="line"><span class="lineno"> 2823</span> </div>
<div class="line"><span class="lineno"> 2824</span>            <span class="keywordflow">if</span> (attributes &amp; <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146daaa6e1af347c468600585e39bbc32afe8">SPELL_ATTR0_CU_NEGATIVE</a>)</div>
<div class="line"><span class="lineno"> 2825</span>            {</div>
<div class="line"><span class="lineno"> 2826</span>                <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++i)</div>
<div class="line"><span class="lineno"> 2827</span>                {</div>
<div class="line"><span class="lineno"> 2828</span>                    <span class="keywordflow">if</span> (spellInfo-&gt;Effects[i].IsEffect())</div>
<div class="line"><span class="lineno"> 2829</span>                    {</div>
<div class="line"><span class="lineno"> 2830</span>                        <span class="keywordflow">if</span> ((attributes &amp; (<a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dabac2d4ebdf4a34333975b3ded5b66e2c">SPELL_ATTR0_CU_NEGATIVE_EFF0</a> &lt;&lt; i)) &amp;&amp; (attributes &amp; (<a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dab3988c31b79ecae6d62db4f734ba2c43">SPELL_ATTR0_CU_POSITIVE_EFF0</a> &lt;&lt; i)))</div>
<div class="line"><span class="lineno"> 2831</span>                        {</div>
<div class="line"><span class="lineno"> 2832</span>                            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Table `spell_custom_attr` has attribute SPELL_ATTR0_CU_NEGATIVE_EFF{} and SPELL_ATTR0_CU_POSITIVE_EFF{} attributes for spell {} which cannot stack together. Attributes will not get applied&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a><span class="keyword">&gt;</span>(i), <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a><span class="keyword">&gt;</span>(i), spellId);</div>
<div class="line"><span class="lineno"> 2833</span>                            attributes &amp;= ~(<a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dabac2d4ebdf4a34333975b3ded5b66e2c">SPELL_ATTR0_CU_NEGATIVE_EFF0</a> &lt;&lt; i)|(<a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dab3988c31b79ecae6d62db4f734ba2c43">SPELL_ATTR0_CU_POSITIVE_EFF0</a> &lt;&lt; i);</div>
<div class="line"><span class="lineno"> 2834</span>                        }</div>
<div class="line"><span class="lineno"> 2835</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2836</span>                    }</div>
<div class="line"><span class="lineno"> 2837</span> </div>
<div class="line"><span class="lineno"> 2838</span>                    <span class="keywordflow">if</span> (attributes &amp; (<a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dabac2d4ebdf4a34333975b3ded5b66e2c">SPELL_ATTR0_CU_NEGATIVE_EFF0</a> &lt;&lt; i))</div>
<div class="line"><span class="lineno"> 2839</span>                    {</div>
<div class="line"><span class="lineno"> 2840</span>                        <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Table `spell_custom_attr` has attribute SPELL_ATTR0_CU_NEGATIVE_EFF{} for spell {} with no EFFECT_{}&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a><span class="keyword">&gt;</span>(i), spellId, <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a><span class="keyword">&gt;</span>(i));</div>
<div class="line"><span class="lineno"> 2841</span>                        attributes &amp;= ~(<a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dabac2d4ebdf4a34333975b3ded5b66e2c">SPELL_ATTR0_CU_NEGATIVE_EFF0</a> &lt;&lt; i);</div>
<div class="line"><span class="lineno"> 2842</span>                    }</div>
<div class="line"><span class="lineno"> 2843</span>                }</div>
<div class="line"><span class="lineno"> 2844</span>            }</div>
<div class="line"><span class="lineno"> 2845</span> </div>
<div class="line"><span class="lineno"> 2846</span>            <span class="keywordflow">if</span> (attributes &amp; <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da4b290bdc05e30600b17324adfa185e39">SPELL_ATTR0_CU_POSITIVE</a>)</div>
<div class="line"><span class="lineno"> 2847</span>            {</div>
<div class="line"><span class="lineno"> 2848</span>                <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++i)</div>
<div class="line"><span class="lineno"> 2849</span>                {</div>
<div class="line"><span class="lineno"> 2850</span>                    <span class="keywordflow">if</span> (spellInfo-&gt;Effects[i].IsEffect())</div>
<div class="line"><span class="lineno"> 2851</span>                    {</div>
<div class="line"><span class="lineno"> 2852</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2853</span>                    }</div>
<div class="line"><span class="lineno"> 2854</span> </div>
<div class="line"><span class="lineno"> 2855</span>                    <span class="keywordflow">if</span> ((attributes &amp; (<a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dab3988c31b79ecae6d62db4f734ba2c43">SPELL_ATTR0_CU_POSITIVE_EFF0</a> &lt;&lt; i)))</div>
<div class="line"><span class="lineno"> 2856</span>                    {</div>
<div class="line"><span class="lineno"> 2857</span>                        <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Table `spell_custom_attr` has attribute SPELL_ATTR0_CU_POSITIVE_EFF{} for spell {} with no EFFECT_{}&quot;</span>, <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(i), spellId, <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(i));</div>
<div class="line"><span class="lineno"> 2858</span>                        attributes &amp;= ~(<a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dab3988c31b79ecae6d62db4f734ba2c43">SPELL_ATTR0_CU_POSITIVE_EFF0</a> &lt;&lt; i);</div>
<div class="line"><span class="lineno"> 2859</span>                    }</div>
<div class="line"><span class="lineno"> 2860</span>                }</div>
<div class="line"><span class="lineno"> 2861</span>            }</div>
<div class="line"><span class="lineno"> 2862</span> </div>
<div class="line"><span class="lineno"> 2863</span>            <span class="keywordflow">if</span> ((attributes &amp; <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da4d7ba94d96c89ebddcef8c081fb14557">SPELL_ATTR0_CU_FORCE_AURA_SAVING</a>) &amp;&amp; (attributes &amp; <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da82c401e647fb2c1c09ed1c6dd9568c2d">SPELL_ATTR0_CU_AURA_CANNOT_BE_SAVED</a>))</div>
<div class="line"><span class="lineno"> 2864</span>            {</div>
<div class="line"><span class="lineno"> 2865</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Table `spell_custom_attr` attribute1 field has attributes SPELL_ATTR1_CU_FORCE_AURA_SAVING and SPELL_ATTR0_CU_AURA_CANNOT_BE_SAVED which cannot stack for spell {}. Both attributes will be ignored.&quot;</span>, spellId);</div>
<div class="line"><span class="lineno"> 2866</span>                attributes &amp;= ~(<a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da4d7ba94d96c89ebddcef8c081fb14557">SPELL_ATTR0_CU_FORCE_AURA_SAVING</a> | <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da82c401e647fb2c1c09ed1c6dd9568c2d">SPELL_ATTR0_CU_AURA_CANNOT_BE_SAVED</a>);</div>
<div class="line"><span class="lineno"> 2867</span>            }</div>
<div class="line"><span class="lineno"> 2868</span> </div>
<div class="line"><span class="lineno"> 2869</span>            spellInfo-&gt;AttributesCu |= attributes;</div>
<div class="line"><span class="lineno"> 2870</span>        }</div>
<div class="line"><span class="lineno"> 2871</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} spell custom attributes from DB in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(customAttrTime));</div>
<div class="line"><span class="lineno"> 2872</span>    }</div>
<div class="line"><span class="lineno"> 2873</span> </div>
<div class="line"><span class="lineno"> 2874</span>    <span class="comment">// xinef: create talent spells set</span></div>
<div class="line"><span class="lineno"> 2875</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_variable" href="../../d7/da2/a03704.html#abd81359499a4a51a71b17ea8f9f7ad62">sTalentStore</a>.GetNumRows(); ++i)</div>
<div class="line"><span class="lineno"> 2876</span>    {</div>
<div class="line"><span class="lineno"> 2877</span>        <a class="code hl_struct" href="../../df/d2c/a27982.html">TalentEntry</a> <span class="keyword">const</span>* talentInfo = <a class="code hl_variable" href="../../d7/da2/a03704.html#abd81359499a4a51a71b17ea8f9f7ad62">sTalentStore</a>.LookupEntry(i);</div>
<div class="line"><span class="lineno"> 2878</span>        <span class="keywordflow">if</span> (!talentInfo)</div>
<div class="line"><span class="lineno"> 2879</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2880</span> </div>
<div class="line"><span class="lineno"> 2881</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#a8d6d5cac52d7a437e341e9f6ebc21a21">MAX_TALENT_RANK</a>; j++)</div>
<div class="line"><span class="lineno"> 2882</span>            <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId = talentInfo-&gt;<a class="code hl_variable" href="../../df/d2c/a27982.html#a96d0fd120ed3aa7fbd287d104fd87c26">RankID</a>[j])</div>
<div class="line"><span class="lineno"> 2883</span>                <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(spellId))</div>
<div class="line"><span class="lineno"> 2884</span>                    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> k = 0; k &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++k)</div>
<div class="line"><span class="lineno"> 2885</span>                        <span class="keywordflow">if</span> (spellInfo-&gt;Effects[k].Effect == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97acef490c9f3480852d33dbbec7727fa7f">SPELL_EFFECT_LEARN_SPELL</a>)</div>
<div class="line"><span class="lineno"> 2886</span>                            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* learnSpell = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(spellInfo-&gt;Effects[k].TriggerSpell))</div>
<div class="line"><span class="lineno"> 2887</span>                                <span class="keywordflow">if</span> (learnSpell-&gt;IsRanked() &amp;&amp; !learnSpell-&gt;HasAttribute(<a class="code hl_enumeration" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ad">SpellAttr0</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada407e023ed336f3c64aa20f11dd49f6bd">SPELL_ATTR0_PASSIVE</a> | <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada9d53bd915f5409506cb045a0688a0a75">SPELL_ATTR0_DO_NOT_DISPLAY</a>)))</div>
<div class="line"><span class="lineno"> 2888</span>                                    <a class="code hl_variable" href="../../d4/d62/a10962.html#a16ff5508005286ab678b47bcc211ac24">mTalentSpellAdditionalSet</a>.insert(learnSpell-&gt;Id);</div>
<div class="line"><span class="lineno"> 2889</span>    }</div>
<div class="line"><span class="lineno"> 2890</span> </div>
<div class="line"><span class="lineno"> 2891</span>    <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2892</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_function" href="../../d4/d62/a10962.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>(); ++i)</div>
<div class="line"><span class="lineno"> 2893</span>    {</div>
<div class="line"><span class="lineno"> 2894</span>        spellInfo = <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[i];</div>
<div class="line"><span class="lineno"> 2895</span>        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 2896</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2897</span> </div>
<div class="line"><span class="lineno"> 2898</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++j)</div>
<div class="line"><span class="lineno"> 2899</span>        {</div>
<div class="line"><span class="lineno"> 2900</span>            <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName)</div>
<div class="line"><span class="lineno"> 2901</span>            {</div>
<div class="line"><span class="lineno"> 2902</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a600ad2316202aec206facbfa746a136b">SPELL_AURA_MOD_INVISIBILITY</a>:</div>
<div class="line"><span class="lineno"> 2903</span>                {</div>
<div class="line"><span class="lineno"> 2904</span>                    <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>)</div>
<div class="line"><span class="lineno"> 2905</span>                    {</div>
<div class="line"><span class="lineno"> 2906</span>                        <span class="comment">// Exceptions</span></div>
<div class="line"><span class="lineno"> 2907</span>                        <span class="keywordflow">case</span> 44801: <span class="comment">// Spectral Invisibility (Kalecgos, SWP)</span></div>
<div class="line"><span class="lineno"> 2908</span>                        <span class="keywordflow">case</span> 46021: <span class="comment">// Spectral Realm (SWP)</span></div>
<div class="line"><span class="lineno"> 2909</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2910</span>                        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2911</span>                            spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#afa067fa58b7da5d234b08f01e6a7849c">AuraInterruptFlags</a> |= <a class="code hl_enumvalue" href="../../d1/d7a/a03080.html#a0709fc3ab848cf1b8b4853813b8fe011a38784f17276304852dbc8f4e22b285d2">AURA_INTERRUPT_FLAG_CAST</a>;</div>
<div class="line"><span class="lineno"> 2912</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2913</span>                    }</div>
<div class="line"><span class="lineno"> 2914</span>                }</div>
<div class="line"><span class="lineno"> 2915</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2916</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a6442a4a379f82e2f08734296e1e21c9f">SPELL_AURA_PERIODIC_HEAL</a>:</div>
<div class="line"><span class="lineno"> 2917</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a11166673929d2fda5967add284832fad">SPELL_AURA_PERIODIC_DAMAGE</a>:</div>
<div class="line"><span class="lineno"> 2918</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a65c8ec2c8667d6c49c278491c113a374">SPELL_AURA_PERIODIC_DAMAGE_PERCENT</a>:</div>
<div class="line"><span class="lineno"> 2919</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ac84a600c9fc81cbda953c9f64074ab9f">SPELL_AURA_PERIODIC_LEECH</a>:</div>
<div class="line"><span class="lineno"> 2920</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a2eb3f6e6a49bc0b70fa9726b1fa12bb3">SPELL_AURA_PERIODIC_MANA_LEECH</a>:</div>
<div class="line"><span class="lineno"> 2921</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a2b064a34862eb2f85ec873398d787012">SPELL_AURA_PERIODIC_HEALTH_FUNNEL</a>:</div>
<div class="line"><span class="lineno"> 2922</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ab9f377f6e107ad1633d32a22da2ec7d2">SPELL_AURA_PERIODIC_ENERGIZE</a>:</div>
<div class="line"><span class="lineno"> 2923</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a2616d80ed4951b4ff860a0e0e2a98da0">SPELL_AURA_OBS_MOD_HEALTH</a>:</div>
<div class="line"><span class="lineno"> 2924</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a4f1feb3950d2776a74c938c366adbbdf">SPELL_AURA_OBS_MOD_POWER</a>:</div>
<div class="line"><span class="lineno"> 2925</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ad06611922c0cf903c24b220140daacab">SPELL_AURA_POWER_BURN</a>:</div>
<div class="line"><span class="lineno"> 2926</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799adad95ef086a39748c9e556342967d388">SPELL_AURA_TRACK_CREATURES</a>:</div>
<div class="line"><span class="lineno"> 2927</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a88ddeddc39c960bdd00805a1ea8a8fc8">SPELL_AURA_MOD_RANGED_HASTE</a>:</div>
<div class="line"><span class="lineno"> 2928</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a30ae3c9499778cc5f920e81dc86cd020">SPELL_AURA_MOD_POSSESS_PET</a>:</div>
<div class="line"><span class="lineno"> 2929</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ac0dfa842319d63f7923d74c30ef38dfb">SPELL_AURA_MOD_INVISIBILITY_DETECT</a>:</div>
<div class="line"><span class="lineno"> 2930</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ac5a7c36ca09fd3b8a2c468b65aa7b999">SPELL_AURA_WATER_BREATHING</a>:</div>
<div class="line"><span class="lineno"> 2931</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146daf7ce6d6f1816304f4859833e912bfc94">SPELL_ATTR0_CU_NO_INITIAL_THREAT</a>;</div>
<div class="line"><span class="lineno"> 2932</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2933</span>            }</div>
<div class="line"><span class="lineno"> 2934</span> </div>
<div class="line"><span class="lineno"> 2935</span>            <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName)</div>
<div class="line"><span class="lineno"> 2936</span>            {</div>
<div class="line"><span class="lineno"> 2937</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a3ea4c20e7d6e039f209ab904172d53e9">SPELL_AURA_CONVERT_RUNE</a>:   <span class="comment">// Can&#39;t be saved - aura handler relies on calculated amount and changes it</span></div>
<div class="line"><span class="lineno"> 2938</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ad75b18045110664869a6a4a86c4db16e">SPELL_AURA_OPEN_STABLE</a>:    <span class="comment">// No point in saving this, since the stable dialog can&#39;t be open on aura load anyway.</span></div>
<div class="line"><span class="lineno"> 2939</span>                <span class="comment">// Auras that require both caster &amp; target to be in world cannot be saved</span></div>
<div class="line"><span class="lineno"> 2940</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a583bf7e94825b7252010ad12dd50ed6f">SPELL_AURA_CONTROL_VEHICLE</a>:</div>
<div class="line"><span class="lineno"> 2941</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799aff313dd31d66c100086b4d9b6a81d329">SPELL_AURA_BIND_SIGHT</a>:</div>
<div class="line"><span class="lineno"> 2942</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799adc30e3257d95c2736a98331a53766eea">SPELL_AURA_MOD_POSSESS</a>:</div>
<div class="line"><span class="lineno"> 2943</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a30ae3c9499778cc5f920e81dc86cd020">SPELL_AURA_MOD_POSSESS_PET</a>:</div>
<div class="line"><span class="lineno"> 2944</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a7b5d0b48f9a7e84bf7a896602e8c66b9">SPELL_AURA_MOD_CHARM</a>:</div>
<div class="line"><span class="lineno"> 2945</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799aada4a291fd71b7b408ec0ac6543e79b1">SPELL_AURA_AOE_CHARM</a>:</div>
<div class="line"><span class="lineno"> 2946</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da82c401e647fb2c1c09ed1c6dd9568c2d">SPELL_ATTR0_CU_AURA_CANNOT_BE_SAVED</a>;</div>
<div class="line"><span class="lineno"> 2947</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2948</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2949</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2950</span>            }</div>
<div class="line"><span class="lineno"> 2951</span> </div>
<div class="line"><span class="lineno"> 2952</span>            <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName)</div>
<div class="line"><span class="lineno"> 2953</span>            {</div>
<div class="line"><span class="lineno"> 2954</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799adc30e3257d95c2736a98331a53766eea">SPELL_AURA_MOD_POSSESS</a>:</div>
<div class="line"><span class="lineno"> 2955</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799adaa58e2c604243da285d64f4a95b42f7">SPELL_AURA_MOD_CONFUSE</a>:</div>
<div class="line"><span class="lineno"> 2956</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a7b5d0b48f9a7e84bf7a896602e8c66b9">SPELL_AURA_MOD_CHARM</a>:</div>
<div class="line"><span class="lineno"> 2957</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799aada4a291fd71b7b408ec0ac6543e79b1">SPELL_AURA_AOE_CHARM</a>:</div>
<div class="line"><span class="lineno"> 2958</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a44cf043145f5a78c5a4e36ecff8a034d">SPELL_AURA_MOD_FEAR</a>:</div>
<div class="line"><span class="lineno"> 2959</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799afdf00dd634aaa25017ad329f58bd6cfd">SPELL_AURA_MOD_STUN</a>:</div>
<div class="line"><span class="lineno"> 2960</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da91a67b896bc85d53f71e8cc7798dff71">SPELL_ATTR0_CU_AURA_CC</a>;</div>
<div class="line"><span class="lineno"> 2961</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2962</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799aff313dd31d66c100086b4d9b6a81d329">SPELL_AURA_BIND_SIGHT</a>:</div>
<div class="line"><span class="lineno"> 2963</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da53ab5109248d12159273e5111f3d7641">SPELL_ATTR0_CU_NO_PVP_FLAG</a>;</div>
<div class="line"><span class="lineno"> 2964</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2965</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2966</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2967</span>            }</div>
<div class="line"><span class="lineno"> 2968</span> </div>
<div class="line"><span class="lineno"> 2969</span>            <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].Effect)</div>
<div class="line"><span class="lineno"> 2970</span>            {</div>
<div class="line"><span class="lineno"> 2971</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97abd12cbfc6a8daf7ca788d06a77256e01">SPELL_EFFECT_SCHOOL_DAMAGE</a>:</div>
<div class="line"><span class="lineno"> 2972</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a44d3da0109cb50c42bad53e2790715e4">SPELL_EFFECT_WEAPON_DAMAGE</a>:</div>
<div class="line"><span class="lineno"> 2973</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97aa2beb2e0d1440f64ea1661312ed02628">SPELL_EFFECT_WEAPON_DAMAGE_NOSCHOOL</a>:</div>
<div class="line"><span class="lineno"> 2974</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a4a3d78eee24d6e6d28fbaa67213be92d">SPELL_EFFECT_NORMALIZED_WEAPON_DMG</a>:</div>
<div class="line"><span class="lineno"> 2975</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a905e6b16c4a6a4f7e538f0b6b97190d5">SPELL_EFFECT_WEAPON_PERCENT_DAMAGE</a>:</div>
<div class="line"><span class="lineno"> 2976</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a4882157067be8542f9192927816acda1">SPELL_EFFECT_HEAL</a>:</div>
<div class="line"><span class="lineno"> 2977</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da3c6711e8c874226f4c63f477d27e2e35">SPELL_ATTR0_CU_DIRECT_DAMAGE</a>;</div>
<div class="line"><span class="lineno"> 2978</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2979</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ab7df9b34a249eff2c2ee82925fbc87d9">SPELL_EFFECT_POWER_DRAIN</a>:</div>
<div class="line"><span class="lineno"> 2980</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a0a43a6be2a57b573021530d45a1e367e">SPELL_EFFECT_POWER_BURN</a>:</div>
<div class="line"><span class="lineno"> 2981</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a51ba801dd59f654eed7eef6ec05d17f8">SPELL_EFFECT_HEAL_MAX_HEALTH</a>:</div>
<div class="line"><span class="lineno"> 2982</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a3781ecdde21e7e7f1dd72df72c577505">SPELL_EFFECT_HEALTH_LEECH</a>:</div>
<div class="line"><span class="lineno"> 2983</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ae0cab2a09ad0acd69cdc260048bf31b5">SPELL_EFFECT_HEAL_PCT</a>:</div>
<div class="line"><span class="lineno"> 2984</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a0b452eb46e3cfec1b7cb26f21a22b2d3">SPELL_EFFECT_ENERGIZE_PCT</a>:</div>
<div class="line"><span class="lineno"> 2985</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ab0727b6312cbc0d83b93ab5d5578fe8b">SPELL_EFFECT_ENERGIZE</a>:</div>
<div class="line"><span class="lineno"> 2986</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a8e8f8712c494e5f9bffca881c9398304">SPELL_EFFECT_HEAL_MECHANICAL</a>:</div>
<div class="line"><span class="lineno"> 2987</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af5abf258b008fbff818ad32ac7a95fbb">SPELL_EFFECT_CREATE_ITEM</a>:</div>
<div class="line"><span class="lineno"> 2988</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146daf7ce6d6f1816304f4859833e912bfc94">SPELL_ATTR0_CU_NO_INITIAL_THREAT</a>;</div>
<div class="line"><span class="lineno"> 2989</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2990</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ab9f95780d14ce3a3d80b05f6955a5814">SPELL_EFFECT_CHARGE</a>:</div>
<div class="line"><span class="lineno"> 2991</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ac9e93e2be484a200e2198e609ca8224e">SPELL_EFFECT_CHARGE_DEST</a>:</div>
<div class="line"><span class="lineno"> 2992</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97adca1c3aa0e67875dd6c075066aafe6b9">SPELL_EFFECT_JUMP</a>:</div>
<div class="line"><span class="lineno"> 2993</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a6b546cbd034b7414776e260f8431789b">SPELL_EFFECT_JUMP_DEST</a>:</div>
<div class="line"><span class="lineno"> 2994</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97aa47feeee8d69d2aba0e176f2573c095d">SPELL_EFFECT_LEAP_BACK</a>:</div>
<div class="line"><span class="lineno"> 2995</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da93ea23e532f0400d3ed24deb6882e6dd">SPELL_ATTR0_CU_CHARGE</a>;</div>
<div class="line"><span class="lineno"> 2996</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2997</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a80153156c6cdcf1436c5a4fc33ae95c7">SPELL_EFFECT_PICKPOCKET</a>:</div>
<div class="line"><span class="lineno"> 2998</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146daf173b3df1f0236ffb7df3a8fbe4c2efe">SPELL_ATTR0_CU_PICKPOCKET</a>;</div>
<div class="line"><span class="lineno"> 2999</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3000</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a3467958b5173482af8149b7c32c9ed4d">SPELL_EFFECT_ENCHANT_ITEM</a>:</div>
<div class="line"><span class="lineno"> 3001</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97aef19cb2a68fa76f831bb9ddcff67fa65">SPELL_EFFECT_ENCHANT_ITEM_TEMPORARY</a>:</div>
<div class="line"><span class="lineno"> 3002</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97aeb1d7a27ab01055bd66d8b012dbea7be">SPELL_EFFECT_ENCHANT_ITEM_PRISMATIC</a>:</div>
<div class="line"><span class="lineno"> 3003</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a2c6434d09a221f75cf5496947aa2eb89">SPELL_EFFECT_ENCHANT_HELD_ITEM</a>:</div>
<div class="line"><span class="lineno"> 3004</span>                    {</div>
<div class="line"><span class="lineno"> 3005</span>                        <span class="comment">// only enchanting profession enchantments procs can stack</span></div>
<div class="line"><span class="lineno"> 3006</span>                        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../df/d64/a03110.html#a18102741b602d3b4473f75d4f619a09b">IsPartOfSkillLine</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#af4541d30ebbff76b1f9f689519789234aeb1f5d58fca5c46b87ad0944191ed916">SKILL_ENCHANTING</a>, i))</div>
<div class="line"><span class="lineno"> 3007</span>                        {</div>
<div class="line"><span class="lineno"> 3008</span>                            <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> enchantId = spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].MiscValue;</div>
<div class="line"><span class="lineno"> 3009</span>                            <a class="code hl_struct" href="../../d0/db1/a27962.html">SpellItemEnchantmentEntry</a> <span class="keyword">const</span>* enchant = <a class="code hl_variable" href="../../d7/da2/a03704.html#a056a6a649116138e9e8c21d35a78476b">sSpellItemEnchantmentStore</a>.LookupEntry(enchantId);</div>
<div class="line"><span class="lineno"> 3010</span>                            <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> s = 0; s &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#ab66cd5828c451f68f55f1b054c29a8fc">MAX_SPELL_ITEM_ENCHANTMENT_EFFECTS</a>; ++s)</div>
<div class="line"><span class="lineno"> 3011</span>                            {</div>
<div class="line"><span class="lineno"> 3012</span>                                <span class="keywordflow">if</span> (enchant-&gt;<a class="code hl_variable" href="../../d0/db1/a27962.html#adb693b7ada8d1a65c1d8091d1055c7bf">type</a>[s] != <a class="code hl_enumvalue" href="../../dc/d80/a02756.html#a364650a1412c9ed62462ed0b0574e14aa62d4592c03e7f422a7508d714a0468e7">ITEM_ENCHANTMENT_TYPE_COMBAT_SPELL</a>)</div>
<div class="line"><span class="lineno"> 3013</span>                                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3014</span> </div>
<div class="line"><span class="lineno"> 3015</span>                                <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* procInfo = <a class="code hl_function" href="../../d4/d62/a10962.html#af81d67c3029f7bafd5f9d7b54af48782">_GetSpellInfo</a>(enchant-&gt;<a class="code hl_variable" href="../../d0/db1/a27962.html#a694edc79cf8ba571338bff2a3aad512d">spellid</a>[s]);</div>
<div class="line"><span class="lineno"> 3016</span>                                <span class="keywordflow">if</span> (!procInfo)</div>
<div class="line"><span class="lineno"> 3017</span>                                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3018</span> </div>
<div class="line"><span class="lineno"> 3019</span>                                <span class="comment">// if proced directly from enchantment, not via proc aura</span></div>
<div class="line"><span class="lineno"> 3020</span>                                <span class="comment">// NOTE: Enchant Weapon - Blade Ward also has proc aura spell and is proced directly</span></div>
<div class="line"><span class="lineno"> 3021</span>                                <span class="comment">// however its not expected to stack so this check is good</span></div>
<div class="line"><span class="lineno"> 3022</span>                                <span class="keywordflow">if</span> (procInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#aefe1e81c5922419ada55844bdb30e269">HasAura</a>(<a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a3c6e04ab343a9f5ef767f8e8dd71af5b">SPELL_AURA_PROC_TRIGGER_SPELL</a>))</div>
<div class="line"><span class="lineno"> 3023</span>                                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3024</span> </div>
<div class="line"><span class="lineno"> 3025</span>                                procInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da23162f829e73ed8653b153a3e5212a39">SPELL_ATTR0_CU_ENCHANT_PROC</a>;</div>
<div class="line"><span class="lineno"> 3026</span>                            }</div>
<div class="line"><span class="lineno"> 3027</span>                        }</div>
<div class="line"><span class="lineno"> 3028</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3029</span>                    }</div>
<div class="line"><span class="lineno"> 3030</span>            }</div>
<div class="line"><span class="lineno"> 3031</span>        }</div>
<div class="line"><span class="lineno"> 3032</span> </div>
<div class="line"><span class="lineno"> 3033</span>        <span class="comment">// Xinef: spells ignoring hit result should not be binary</span></div>
<div class="line"><span class="lineno"> 3034</span>        <span class="keywordflow">if</span> (!spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#a975746d6b737abb063ea037327abfc5a">HasAttribute</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a6f95d0d447e8085b1097ac9965af2a81a3682cf7aba569fc197317823576321b6">SPELL_ATTR3_ALWAYS_HIT</a>))</div>
<div class="line"><span class="lineno"> 3035</span>        {</div>
<div class="line"><span class="lineno"> 3036</span>            <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++j)</div>
<div class="line"><span class="lineno"> 3037</span>            {</div>
<div class="line"><span class="lineno"> 3038</span>                <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].Effect)</div>
<div class="line"><span class="lineno"> 3039</span>                {</div>
<div class="line"><span class="lineno"> 3040</span>                    <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].Effect)</div>
<div class="line"><span class="lineno"> 3041</span>                    {</div>
<div class="line"><span class="lineno"> 3042</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97abd12cbfc6a8daf7ca788d06a77256e01">SPELL_EFFECT_SCHOOL_DAMAGE</a>:</div>
<div class="line"><span class="lineno"> 3043</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a44d3da0109cb50c42bad53e2790715e4">SPELL_EFFECT_WEAPON_DAMAGE</a>:</div>
<div class="line"><span class="lineno"> 3044</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97aa2beb2e0d1440f64ea1661312ed02628">SPELL_EFFECT_WEAPON_DAMAGE_NOSCHOOL</a>:</div>
<div class="line"><span class="lineno"> 3045</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a4a3d78eee24d6e6d28fbaa67213be92d">SPELL_EFFECT_NORMALIZED_WEAPON_DMG</a>:</div>
<div class="line"><span class="lineno"> 3046</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a905e6b16c4a6a4f7e538f0b6b97190d5">SPELL_EFFECT_WEAPON_PERCENT_DAMAGE</a>:</div>
<div class="line"><span class="lineno"> 3047</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a4d387e7de66861ea9ad6d6852e5087fb">SPELL_EFFECT_TRIGGER_SPELL</a>:</div>
<div class="line"><span class="lineno"> 3048</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a15015f3acf3dd811f2776d67f1991b50">SPELL_EFFECT_TRIGGER_SPELL_WITH_VALUE</a>:</div>
<div class="line"><span class="lineno"> 3049</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3050</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97aa3290e738b6cd09859039989143f9ac1">SPELL_EFFECT_PERSISTENT_AREA_AURA</a>:</div>
<div class="line"><span class="lineno"> 3051</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a>:</div>
<div class="line"><span class="lineno"> 3052</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a0e98b45f9300ce66be7a701eff5e5fca">SPELL_EFFECT_APPLY_AREA_AURA_PARTY</a>:</div>
<div class="line"><span class="lineno"> 3053</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a96bae50ba11bd175354f4db26746867f">SPELL_EFFECT_APPLY_AREA_AURA_RAID</a>:</div>
<div class="line"><span class="lineno"> 3054</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a140c94210262d911b2db681aba463d19">SPELL_EFFECT_APPLY_AREA_AURA_FRIEND</a>:</div>
<div class="line"><span class="lineno"> 3055</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ad8952de70b3fb92f22a051a26793a740">SPELL_EFFECT_APPLY_AREA_AURA_ENEMY</a>:</div>
<div class="line"><span class="lineno"> 3056</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a56fb7001bff11474629f084fda6953a1">SPELL_EFFECT_APPLY_AREA_AURA_PET</a>:</div>
<div class="line"><span class="lineno"> 3057</span>                        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97affaa057383042f4e64d387fb592eecb6">SPELL_EFFECT_APPLY_AREA_AURA_OWNER</a>:</div>
<div class="line"><span class="lineno"> 3058</span>                            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName == <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a11166673929d2fda5967add284832fad">SPELL_AURA_PERIODIC_DAMAGE</a> ||</div>
<div class="line"><span class="lineno"> 3059</span>                                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName == <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a65c8ec2c8667d6c49c278491c113a374">SPELL_AURA_PERIODIC_DAMAGE_PERCENT</a> ||</div>
<div class="line"><span class="lineno"> 3060</span>                                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName == <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a> ||</div>
<div class="line"><span class="lineno"> 3061</span>                                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName == <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ac84a600c9fc81cbda953c9f64074ab9f">SPELL_AURA_PERIODIC_LEECH</a> ||</div>
<div class="line"><span class="lineno"> 3062</span>                                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName == <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a2b064a34862eb2f85ec873398d787012">SPELL_AURA_PERIODIC_HEALTH_FUNNEL</a> ||</div>
<div class="line"><span class="lineno"> 3063</span>                                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName == <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799add498157825d0faca2c013bbcdfbae56">SPELL_AURA_PERIODIC_DUMMY</a>)</div>
<div class="line"><span class="lineno"> 3064</span>                                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3065</span>                            [[fallthrough]]; </div>
<div class="line"><span class="lineno"> 3066</span>                        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3067</span>                            <span class="keywordflow">if</span> (!(spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].CalcValue() &amp;&amp;</div>
<div class="line"><span class="lineno"> 3068</span>                                ((spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].Effect == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ae2d17b59f752f772b7a79a2643a1d45f">SPELL_EFFECT_INTERRUPT_CAST</a> || spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#a975746d6b737abb063ea037327abfc5a">HasAttribute</a>(<a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da6e135d0f3f1ffad609c7a52988db5d0e">SPELL_ATTR0_CU_DONT_BREAK_STEALTH</a>)) &amp;&amp;</div>
<div class="line"><span class="lineno"> 3069</span>                                !spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#a975746d6b737abb063ea037327abfc5a">HasAttribute</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada6a12b14654225a9ccea65799ce6fc780">SPELL_ATTR0_NO_IMMUNITIES</a>))))</div>
<div class="line"><span class="lineno"> 3070</span>                                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3071</span> </div>
<div class="line"><span class="lineno"> 3072</span>                            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> == 69649 || spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> == 71056 || spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> == 71057 || spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> == 71058 ||</div>
<div class="line"><span class="lineno"> 3073</span>                                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> == 73061 || spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> == 73062 || spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> == 73063 || spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> == 73064)</div>
<div class="line"><span class="lineno"> 3074</span>                                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3075</span> </div>
<div class="line"><span class="lineno"> 3076</span>                            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#af6ec577353f7d3cc59badd7d332153b0">SpellFamilyName</a> == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0e4b88db8be01ea5d62cc08d07b28aae">SPELLFAMILY_MAGE</a> &amp;&amp; (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x20)) <span class="comment">// Frostbolt</span></div>
<div class="line"><span class="lineno"> 3077</span>                                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3078</span> </div>
<div class="line"><span class="lineno"> 3079</span>                            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> == 55095) <span class="comment">// Frost Fever</span></div>
<div class="line"><span class="lineno"> 3080</span>                                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3081</span> </div>
<div class="line"><span class="lineno"> 3082</span>                            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#af6ec577353f7d3cc59badd7d332153b0">SpellFamilyName</a> == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0a134bc75d430da10f6c1df4977c29cf">SPELLFAMILY_WARLOCK</a> &amp;&amp;</div>
<div class="line"><span class="lineno"> 3083</span>                                ((spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[1] &amp; 0x40000) || (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x4000))) <span class="comment">// Haunt/Drain Soul</span></div>
<div class="line"><span class="lineno"> 3084</span>                                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3085</span> </div>
<div class="line"><span class="lineno"> 3086</span>                            spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dacd2b3dd04ea4267a9b7f43f00003837d">SPELL_ATTR0_CU_BINARY_SPELL</a>;</div>
<div class="line"><span class="lineno"> 3087</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3088</span>                    }</div>
<div class="line"><span class="lineno"> 3089</span>                }</div>
<div class="line"><span class="lineno"> 3090</span>            }</div>
<div class="line"><span class="lineno"> 3091</span>        }</div>
<div class="line"><span class="lineno"> 3092</span> </div>
<div class="line"><span class="lineno"> 3093</span>        <span class="comment">// pussywizard:</span></div>
<div class="line"><span class="lineno"> 3094</span>        <span class="keywordflow">if</span> ((spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a72ac013c860d3af649879442115971ab">SchoolMask</a> &amp; <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42">SPELL_SCHOOL_MASK_NORMAL</a>) &amp;&amp; (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a72ac013c860d3af649879442115971ab">SchoolMask</a> &amp; <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aff6913cfd69489c107a071be9ec2ec8fa53b7883ddb2ff484fe7e089afe2c85dc">SPELL_SCHOOL_MASK_MAGIC</a>))</div>
<div class="line"><span class="lineno"> 3095</span>        {</div>
<div class="line"><span class="lineno"> 3096</span>            spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a72ac013c860d3af649879442115971ab">SchoolMask</a> &amp;= ~SPELL_SCHOOL_MASK_NORMAL;</div>
<div class="line"><span class="lineno"> 3097</span>            spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dada37071a5f586acf592411604df0bf6e">SPELL_ATTR0_CU_SCHOOLMASK_NORMAL_WITH_MAGIC</a>;</div>
<div class="line"><span class="lineno"> 3098</span>        }</div>
<div class="line"><span class="lineno"> 3099</span> </div>
<div class="line"><span class="lineno"> 3100</span>        <span class="keywordflow">if</span> (!spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#a8b0406b9d3923cb0f92099f9c12822cb">_IsPositiveEffect</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>, <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno"> 3101</span>            spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dabac2d4ebdf4a34333975b3ded5b66e2c">SPELL_ATTR0_CU_NEGATIVE_EFF0</a>;</div>
<div class="line"><span class="lineno"> 3102</span> </div>
<div class="line"><span class="lineno"> 3103</span>        <span class="keywordflow">if</span> (!spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#a8b0406b9d3923cb0f92099f9c12822cb">_IsPositiveEffect</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>, <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno"> 3104</span>            spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da928d7b52a9bcfb5573d4cd8ca8bd30a7">SPELL_ATTR0_CU_NEGATIVE_EFF1</a>;</div>
<div class="line"><span class="lineno"> 3105</span> </div>
<div class="line"><span class="lineno"> 3106</span>        <span class="keywordflow">if</span> (!spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#a8b0406b9d3923cb0f92099f9c12822cb">_IsPositiveEffect</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>, <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno"> 3107</span>            spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da8a9106d96628f46e484fe853c0ce35b2">SPELL_ATTR0_CU_NEGATIVE_EFF2</a>;</div>
<div class="line"><span class="lineno"> 3108</span> </div>
<div class="line"><span class="lineno"> 3109</span>        <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a78bbf3a5574a188116846fbc77a57768">SpellVisual</a>[0] == 3879)</div>
<div class="line"><span class="lineno"> 3110</span>            spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da6f734acb36c68fcc4881a4d4e844ee11">SPELL_ATTR0_CU_CONE_BACK</a>;</div>
<div class="line"><span class="lineno"> 3111</span> </div>
<div class="line"><span class="lineno"> 3112</span>        <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#af6ec577353f7d3cc59badd7d332153b0">SpellFamilyName</a>)</div>
<div class="line"><span class="lineno"> 3113</span>        {</div>
<div class="line"><span class="lineno"> 3114</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba52acbcf14a96b5ed01b8a43052a26a11">SPELLFAMILY_WARRIOR</a>:</div>
<div class="line"><span class="lineno"> 3115</span>                <span class="comment">// Shout</span></div>
<div class="line"><span class="lineno"> 3116</span>                <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x20000 || spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[1] &amp; 0x20)</div>
<div class="line"><span class="lineno"> 3117</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da91a67b896bc85d53f71e8cc7798dff71">SPELL_ATTR0_CU_AURA_CC</a>;</div>
<div class="line"><span class="lineno"> 3118</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3119</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1bac3788ce010075b8bd4e6083638d8cd40">SPELLFAMILY_DRUID</a>:</div>
<div class="line"><span class="lineno"> 3120</span>                <span class="comment">// Roar</span></div>
<div class="line"><span class="lineno"> 3121</span>                <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x8)</div>
<div class="line"><span class="lineno"> 3122</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da91a67b896bc85d53f71e8cc7798dff71">SPELL_ATTR0_CU_AURA_CC</a>;</div>
<div class="line"><span class="lineno"> 3123</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3124</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba66df9b34a3b922a8242d3dfb74494026">SPELLFAMILY_HUNTER</a>:</div>
<div class="line"><span class="lineno"> 3125</span>                <span class="comment">// Aspects</span></div>
<div class="line"><span class="lineno"> 3126</span>                <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#a25ed784456d2d769bf59a788f9216001">GetCategory</a>() == 47)</div>
<div class="line"><span class="lineno"> 3127</span>                {</div>
<div class="line"><span class="lineno"> 3128</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146daf7ce6d6f1816304f4859833e912bfc94">SPELL_ATTR0_CU_NO_INITIAL_THREAT</a>;</div>
<div class="line"><span class="lineno"> 3129</span>                }</div>
<div class="line"><span class="lineno"> 3130</span>                <span class="comment">// Aimed Shot</span></div>
<div class="line"><span class="lineno"> 3131</span>                <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a30452de2bd62607418f3962d00124144">SpellFamilyFlags</a>[0] &amp; 0x00020000)</div>
<div class="line"><span class="lineno"> 3132</span>                {</div>
<div class="line"><span class="lineno"> 3133</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da383488d2939eaa62f5661efac8e01d0e">SPELL_ATTR0_CU_FORCE_SEND_CATEGORY_COOLDOWNS</a>;</div>
<div class="line"><span class="lineno"> 3134</span>                }</div>
<div class="line"><span class="lineno"> 3135</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3136</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3137</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3138</span>        }</div>
<div class="line"><span class="lineno"> 3139</span> </div>
<div class="line"><span class="lineno"> 3140</span>        <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>)</div>
<div class="line"><span class="lineno"> 3141</span>        {</div>
<div class="line"><span class="lineno"> 3142</span>            <span class="comment">// Xinef: additional spells which should be binary</span></div>
<div class="line"><span class="lineno"> 3143</span>            <span class="keywordflow">case</span> 45145: <span class="comment">// Snake Trap Effect</span></div>
<div class="line"><span class="lineno"> 3144</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dacd2b3dd04ea4267a9b7f43f00003837d">SPELL_ATTR0_CU_BINARY_SPELL</a>;</div>
<div class="line"><span class="lineno"> 3145</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3146</span>            <span class="keywordflow">case</span> 1776: <span class="comment">// Gouge</span></div>
<div class="line"><span class="lineno"> 3147</span>            <span class="keywordflow">case</span> 1777:</div>
<div class="line"><span class="lineno"> 3148</span>            <span class="keywordflow">case</span> 8629:</div>
<div class="line"><span class="lineno"> 3149</span>            <span class="keywordflow">case</span> 11285:</div>
<div class="line"><span class="lineno"> 3150</span>            <span class="keywordflow">case</span> 11286:</div>
<div class="line"><span class="lineno"> 3151</span>            <span class="keywordflow">case</span> 12540:</div>
<div class="line"><span class="lineno"> 3152</span>            <span class="keywordflow">case</span> 13579:</div>
<div class="line"><span class="lineno"> 3153</span>            <span class="keywordflow">case</span> 24698:</div>
<div class="line"><span class="lineno"> 3154</span>            <span class="keywordflow">case</span> 28456:</div>
<div class="line"><span class="lineno"> 3155</span>            <span class="keywordflow">case</span> 29425:</div>
<div class="line"><span class="lineno"> 3156</span>            <span class="keywordflow">case</span> 34940:</div>
<div class="line"><span class="lineno"> 3157</span>            <span class="keywordflow">case</span> 36862:</div>
<div class="line"><span class="lineno"> 3158</span>            <span class="keywordflow">case</span> 38764:</div>
<div class="line"><span class="lineno"> 3159</span>            <span class="keywordflow">case</span> 38863:</div>
<div class="line"><span class="lineno"> 3160</span>            <span class="keywordflow">case</span> 52743: <span class="comment">// Head Smack</span></div>
<div class="line"><span class="lineno"> 3161</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da16fc9692b3d1955cb6f36ae606901202">SPELL_ATTR0_CU_REQ_TARGET_FACING_CASTER</a>;</div>
<div class="line"><span class="lineno"> 3162</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3163</span>            <span class="keywordflow">case</span> 53: <span class="comment">// Backstab</span></div>
<div class="line"><span class="lineno"> 3164</span>            <span class="keywordflow">case</span> 2589:</div>
<div class="line"><span class="lineno"> 3165</span>            <span class="keywordflow">case</span> 2590:</div>
<div class="line"><span class="lineno"> 3166</span>            <span class="keywordflow">case</span> 2591:</div>
<div class="line"><span class="lineno"> 3167</span>            <span class="keywordflow">case</span> 7159:</div>
<div class="line"><span class="lineno"> 3168</span>            <span class="keywordflow">case</span> 8627:</div>
<div class="line"><span class="lineno"> 3169</span>            <span class="keywordflow">case</span> 8721:</div>
<div class="line"><span class="lineno"> 3170</span>            <span class="keywordflow">case</span> 11279:</div>
<div class="line"><span class="lineno"> 3171</span>            <span class="keywordflow">case</span> 11280:</div>
<div class="line"><span class="lineno"> 3172</span>            <span class="keywordflow">case</span> 11281:</div>
<div class="line"><span class="lineno"> 3173</span>            <span class="keywordflow">case</span> 15582:</div>
<div class="line"><span class="lineno"> 3174</span>            <span class="keywordflow">case</span> 15657:</div>
<div class="line"><span class="lineno"> 3175</span>            <span class="keywordflow">case</span> 22416:</div>
<div class="line"><span class="lineno"> 3176</span>            <span class="keywordflow">case</span> 25300:</div>
<div class="line"><span class="lineno"> 3177</span>            <span class="keywordflow">case</span> 26863:</div>
<div class="line"><span class="lineno"> 3178</span>            <span class="keywordflow">case</span> 37685:</div>
<div class="line"><span class="lineno"> 3179</span>            <span class="keywordflow">case</span> 48656:</div>
<div class="line"><span class="lineno"> 3180</span>            <span class="keywordflow">case</span> 48657:</div>
<div class="line"><span class="lineno"> 3181</span>            <span class="keywordflow">case</span> 703: <span class="comment">// Garrote</span></div>
<div class="line"><span class="lineno"> 3182</span>            <span class="keywordflow">case</span> 8631:</div>
<div class="line"><span class="lineno"> 3183</span>            <span class="keywordflow">case</span> 8632:</div>
<div class="line"><span class="lineno"> 3184</span>            <span class="keywordflow">case</span> 8633:</div>
<div class="line"><span class="lineno"> 3185</span>            <span class="keywordflow">case</span> 11289:</div>
<div class="line"><span class="lineno"> 3186</span>            <span class="keywordflow">case</span> 11290:</div>
<div class="line"><span class="lineno"> 3187</span>            <span class="keywordflow">case</span> 26839:</div>
<div class="line"><span class="lineno"> 3188</span>            <span class="keywordflow">case</span> 26884:</div>
<div class="line"><span class="lineno"> 3189</span>            <span class="keywordflow">case</span> 48675:</div>
<div class="line"><span class="lineno"> 3190</span>            <span class="keywordflow">case</span> 48676:</div>
<div class="line"><span class="lineno"> 3191</span>            <span class="keywordflow">case</span> 5221: <span class="comment">// Shred</span></div>
<div class="line"><span class="lineno"> 3192</span>            <span class="keywordflow">case</span> 6800:</div>
<div class="line"><span class="lineno"> 3193</span>            <span class="keywordflow">case</span> 8992:</div>
<div class="line"><span class="lineno"> 3194</span>            <span class="keywordflow">case</span> 9829:</div>
<div class="line"><span class="lineno"> 3195</span>            <span class="keywordflow">case</span> 9830:</div>
<div class="line"><span class="lineno"> 3196</span>            <span class="keywordflow">case</span> 27001:</div>
<div class="line"><span class="lineno"> 3197</span>            <span class="keywordflow">case</span> 27002:</div>
<div class="line"><span class="lineno"> 3198</span>            <span class="keywordflow">case</span> 48571:</div>
<div class="line"><span class="lineno"> 3199</span>            <span class="keywordflow">case</span> 48572:</div>
<div class="line"><span class="lineno"> 3200</span>            <span class="keywordflow">case</span> 8676: <span class="comment">// Ambush</span></div>
<div class="line"><span class="lineno"> 3201</span>            <span class="keywordflow">case</span> 8724:</div>
<div class="line"><span class="lineno"> 3202</span>            <span class="keywordflow">case</span> 8725:</div>
<div class="line"><span class="lineno"> 3203</span>            <span class="keywordflow">case</span> 11267:</div>
<div class="line"><span class="lineno"> 3204</span>            <span class="keywordflow">case</span> 11268:</div>
<div class="line"><span class="lineno"> 3205</span>            <span class="keywordflow">case</span> 11269:</div>
<div class="line"><span class="lineno"> 3206</span>            <span class="keywordflow">case</span> 27441:</div>
<div class="line"><span class="lineno"> 3207</span>            <span class="keywordflow">case</span> 48689:</div>
<div class="line"><span class="lineno"> 3208</span>            <span class="keywordflow">case</span> 48690:</div>
<div class="line"><span class="lineno"> 3209</span>            <span class="keywordflow">case</span> 48691:</div>
<div class="line"><span class="lineno"> 3210</span>            <span class="keywordflow">case</span> 6785: <span class="comment">// Ravage</span></div>
<div class="line"><span class="lineno"> 3211</span>            <span class="keywordflow">case</span> 6787:</div>
<div class="line"><span class="lineno"> 3212</span>            <span class="keywordflow">case</span> 9866:</div>
<div class="line"><span class="lineno"> 3213</span>            <span class="keywordflow">case</span> 9867:</div>
<div class="line"><span class="lineno"> 3214</span>            <span class="keywordflow">case</span> 27005:</div>
<div class="line"><span class="lineno"> 3215</span>            <span class="keywordflow">case</span> 48578:</div>
<div class="line"><span class="lineno"> 3216</span>            <span class="keywordflow">case</span> 48579:</div>
<div class="line"><span class="lineno"> 3217</span>            <span class="keywordflow">case</span> 21987: <span class="comment">// Lash of Pain</span></div>
<div class="line"><span class="lineno"> 3218</span>            <span class="keywordflow">case</span> 23959: <span class="comment">// Test Stab R50</span></div>
<div class="line"><span class="lineno"> 3219</span>            <span class="keywordflow">case</span> 24825: <span class="comment">// Test Backstab</span></div>
<div class="line"><span class="lineno"> 3220</span>            <span class="keywordflow">case</span> 58563: <span class="comment">// Assassinate Restless Lookout</span></div>
<div class="line"><span class="lineno"> 3221</span>            <span class="keywordflow">case</span> 63124: <span class="comment">// quest There&#39;s Something About the Squire (13654)</span></div>
<div class="line"><span class="lineno"> 3222</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da6f04115acffe8cda68c32d78e0941b40">SPELL_ATTR0_CU_REQ_CASTER_BEHIND_TARGET</a>;</div>
<div class="line"><span class="lineno"> 3223</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3224</span>            <span class="keywordflow">case</span> 26029: <span class="comment">// Dark Glare</span></div>
<div class="line"><span class="lineno"> 3225</span>            <span class="keywordflow">case</span> 43140: <span class="comment">// Flame Breath</span></div>
<div class="line"><span class="lineno"> 3226</span>            <span class="keywordflow">case</span> 43215: <span class="comment">// Flame Breath</span></div>
<div class="line"><span class="lineno"> 3227</span>            <span class="keywordflow">case</span> 70461: <span class="comment">// Coldflame Trap</span></div>
<div class="line"><span class="lineno"> 3228</span>            <span class="keywordflow">case</span> 72133: <span class="comment">// Pain and Suffering</span></div>
<div class="line"><span class="lineno"> 3229</span>            <span class="keywordflow">case</span> 73788: <span class="comment">// Pain and Suffering</span></div>
<div class="line"><span class="lineno"> 3230</span>            <span class="keywordflow">case</span> 73789: <span class="comment">// Pain and Suffering</span></div>
<div class="line"><span class="lineno"> 3231</span>            <span class="keywordflow">case</span> 73790: <span class="comment">// Pain and Suffering</span></div>
<div class="line"><span class="lineno"> 3232</span>            <span class="keywordflow">case</span> 63293: <span class="comment">// Mimiron - spinning damage</span></div>
<div class="line"><span class="lineno"> 3233</span>            <span class="keywordflow">case</span> 68873: <span class="comment">// Wailing Souls</span></div>
<div class="line"><span class="lineno"> 3234</span>            <span class="keywordflow">case</span> 70324: <span class="comment">// Wailing Souls</span></div>
<div class="line"><span class="lineno"> 3235</span>            <span class="keywordflow">case</span> 64619: <span class="comment">// Ulduar, Mimiron, Emergency Fire Bot, Water Spray</span></div>
<div class="line"><span class="lineno"> 3236</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146daf56afff0380689f8a82952e2db4a584c">SPELL_ATTR0_CU_CONE_LINE</a>;</div>
<div class="line"><span class="lineno"> 3237</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3238</span>            <span class="keywordflow">case</span> 58690: <span class="comment">// Cyanigosa, Tail Sweep</span></div>
<div class="line"><span class="lineno"> 3239</span>            <span class="keywordflow">case</span> 59283: <span class="comment">// Cyanigosa, Tail Sweep</span></div>
<div class="line"><span class="lineno"> 3240</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da6f734acb36c68fcc4881a4d4e844ee11">SPELL_ATTR0_CU_CONE_BACK</a>;</div>
<div class="line"><span class="lineno"> 3241</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3242</span>            <span class="keywordflow">case</span> 24340: <span class="comment">// Meteor</span></div>
<div class="line"><span class="lineno"> 3243</span>            <span class="keywordflow">case</span> 26558: <span class="comment">// Meteor</span></div>
<div class="line"><span class="lineno"> 3244</span>            <span class="keywordflow">case</span> 28884: <span class="comment">// Meteor</span></div>
<div class="line"><span class="lineno"> 3245</span>            <span class="keywordflow">case</span> 36837: <span class="comment">// Meteor</span></div>
<div class="line"><span class="lineno"> 3246</span>            <span class="keywordflow">case</span> 38903: <span class="comment">// Meteor</span></div>
<div class="line"><span class="lineno"> 3247</span>            <span class="keywordflow">case</span> 41276: <span class="comment">// Meteor</span></div>
<div class="line"><span class="lineno"> 3248</span>            <span class="keywordflow">case</span> 57467: <span class="comment">// Meteor</span></div>
<div class="line"><span class="lineno"> 3249</span>            <span class="keywordflow">case</span> 26789: <span class="comment">// Shard of the Fallen Star</span></div>
<div class="line"><span class="lineno"> 3250</span>            <span class="keywordflow">case</span> 31436: <span class="comment">// Malevolent Cleave</span></div>
<div class="line"><span class="lineno"> 3251</span>            <span class="keywordflow">case</span> 40810: <span class="comment">// Saber Lash</span></div>
<div class="line"><span class="lineno"> 3252</span>            <span class="keywordflow">case</span> 43267: <span class="comment">// Saber Lash</span></div>
<div class="line"><span class="lineno"> 3253</span>            <span class="keywordflow">case</span> 43268: <span class="comment">// Saber Lash</span></div>
<div class="line"><span class="lineno"> 3254</span>            <span class="keywordflow">case</span> 42384: <span class="comment">// Brutal Swipe</span></div>
<div class="line"><span class="lineno"> 3255</span>            <span class="keywordflow">case</span> 45150: <span class="comment">// Meteor Slash</span></div>
<div class="line"><span class="lineno"> 3256</span>            <span class="keywordflow">case</span> 64688: <span class="comment">// Sonic Screech</span></div>
<div class="line"><span class="lineno"> 3257</span>            <span class="keywordflow">case</span> 72373: <span class="comment">// Shared Suffering</span></div>
<div class="line"><span class="lineno"> 3258</span>            <span class="keywordflow">case</span> 71904: <span class="comment">// Chaos Bane</span></div>
<div class="line"><span class="lineno"> 3259</span>            <span class="keywordflow">case</span> 70492: <span class="comment">// Ooze Eruption</span></div>
<div class="line"><span class="lineno"> 3260</span>            <span class="keywordflow">case</span> 72505: <span class="comment">// Ooze Eruption</span></div>
<div class="line"><span class="lineno"> 3261</span>            <span class="keywordflow">case</span> 72624: <span class="comment">// Ooze Eruption</span></div>
<div class="line"><span class="lineno"> 3262</span>            <span class="keywordflow">case</span> 72625: <span class="comment">// Ooze Eruption</span></div>
<div class="line"><span class="lineno"> 3263</span>            <span class="comment">// ONLY SPELLS WITH SPELLFAMILY_GENERIC and EFFECT_SCHOOL_DAMAGE, OR WEAPON_DMG_X</span></div>
<div class="line"><span class="lineno"> 3264</span>            <span class="keywordflow">case</span> 66809: <span class="comment">// Meteor Fists</span></div>
<div class="line"><span class="lineno"> 3265</span>            <span class="keywordflow">case</span> 67331: <span class="comment">// Meteor Fists</span></div>
<div class="line"><span class="lineno"> 3266</span>            <span class="keywordflow">case</span> 66765: <span class="comment">// Meteor Fists</span></div>
<div class="line"><span class="lineno"> 3267</span>            <span class="keywordflow">case</span> 67333: <span class="comment">// Meteor Fists</span></div>
<div class="line"><span class="lineno"> 3268</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dad14307ec43a9235f85c2c32860871ed3">SPELL_ATTR0_CU_SHARE_DAMAGE</a>;</div>
<div class="line"><span class="lineno"> 3269</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3270</span>            <span class="keywordflow">case</span> 18500: <span class="comment">// Wing Buffet</span></div>
<div class="line"><span class="lineno"> 3271</span>            <span class="keywordflow">case</span> 33086: <span class="comment">// Wild Bite</span></div>
<div class="line"><span class="lineno"> 3272</span>            <span class="keywordflow">case</span> 49749: <span class="comment">// Piercing Blow</span></div>
<div class="line"><span class="lineno"> 3273</span>            <span class="keywordflow">case</span> 52890: <span class="comment">// Penetrating Strike</span></div>
<div class="line"><span class="lineno"> 3274</span>            <span class="keywordflow">case</span> 53454: <span class="comment">// Impale</span></div>
<div class="line"><span class="lineno"> 3275</span>            <span class="keywordflow">case</span> 59446: <span class="comment">// Impale</span></div>
<div class="line"><span class="lineno"> 3276</span>            <span class="keywordflow">case</span> 62383: <span class="comment">// Shatter</span></div>
<div class="line"><span class="lineno"> 3277</span>            <span class="keywordflow">case</span> 64777: <span class="comment">// Machine Gun</span></div>
<div class="line"><span class="lineno"> 3278</span>            <span class="keywordflow">case</span> 65239: <span class="comment">// Machine Gun</span></div>
<div class="line"><span class="lineno"> 3279</span>            <span class="keywordflow">case</span> 69293: <span class="comment">// Wing Buffet</span></div>
<div class="line"><span class="lineno"> 3280</span>            <span class="keywordflow">case</span> 74439: <span class="comment">// Machine Gun</span></div>
<div class="line"><span class="lineno"> 3281</span>            <span class="comment">// Trial of the Crusader, Jaraxxus, Shivan Slash</span></div>
<div class="line"><span class="lineno"> 3282</span>            <span class="keywordflow">case</span> 66378:</div>
<div class="line"><span class="lineno"> 3283</span>            <span class="keywordflow">case</span> 67097:</div>
<div class="line"><span class="lineno"> 3284</span>            <span class="keywordflow">case</span> 67098:</div>
<div class="line"><span class="lineno"> 3285</span>            <span class="keywordflow">case</span> 67099:</div>
<div class="line"><span class="lineno"> 3286</span>            <span class="comment">// Trial of the Crusader, Anub&#39;arak, Impale</span></div>
<div class="line"><span class="lineno"> 3287</span>            <span class="keywordflow">case</span> 65919:</div>
<div class="line"><span class="lineno"> 3288</span>            <span class="keywordflow">case</span> 67858:</div>
<div class="line"><span class="lineno"> 3289</span>            <span class="keywordflow">case</span> 67859:</div>
<div class="line"><span class="lineno"> 3290</span>            <span class="keywordflow">case</span> 67860:</div>
<div class="line"><span class="lineno"> 3291</span>            <span class="keywordflow">case</span> 63278: <span class="comment">// Mark of the Faceless (General Vezax)</span></div>
<div class="line"><span class="lineno"> 3292</span>            <span class="keywordflow">case</span> 64125: <span class="comment">// Ulduar, Yogg-Saron, Squeeze</span></div>
<div class="line"><span class="lineno"> 3293</span>            <span class="keywordflow">case</span> 64126: <span class="comment">// Ulduar, Yogg-Saron, Squeeze</span></div>
<div class="line"><span class="lineno"> 3294</span>            <span class="keywordflow">case</span> 62544: <span class="comment">// Thrust (Argent Tournament)</span></div>
<div class="line"><span class="lineno"> 3295</span>            <span class="keywordflow">case</span> 64588: <span class="comment">// Thrust (Argent Tournament)</span></div>
<div class="line"><span class="lineno"> 3296</span>            <span class="keywordflow">case</span> 66479: <span class="comment">// Thrust (Argent Tournament)</span></div>
<div class="line"><span class="lineno"> 3297</span>            <span class="keywordflow">case</span> 68505: <span class="comment">// Thrust (Argent Tournament)</span></div>
<div class="line"><span class="lineno"> 3298</span>            <span class="keywordflow">case</span> 62709: <span class="comment">// Counterattack! (Argent Tournament)</span></div>
<div class="line"><span class="lineno"> 3299</span>            <span class="keywordflow">case</span> 62626: <span class="comment">// Break-Shield (Argent Tournament, Player)</span></div>
<div class="line"><span class="lineno"> 3300</span>            <span class="keywordflow">case</span> 64590: <span class="comment">// Break-Shield (Argent Tournament, Player)</span></div>
<div class="line"><span class="lineno"> 3301</span>            <span class="keywordflow">case</span> 64342: <span class="comment">// Break-Shield (Argent Tournament, NPC)</span></div>
<div class="line"><span class="lineno"> 3302</span>            <span class="keywordflow">case</span> 64686: <span class="comment">// Break-Shield (Argent Tournament, NPC)</span></div>
<div class="line"><span class="lineno"> 3303</span>            <span class="keywordflow">case</span> 65147: <span class="comment">// Break-Shield (Argent Tournament, NPC)</span></div>
<div class="line"><span class="lineno"> 3304</span>            <span class="keywordflow">case</span> 68504: <span class="comment">// Break-Shield (Argent Tournament, NPC)</span></div>
<div class="line"><span class="lineno"> 3305</span>            <span class="keywordflow">case</span> 62874: <span class="comment">// Charge (Argent Tournament, Player)</span></div>
<div class="line"><span class="lineno"> 3306</span>            <span class="keywordflow">case</span> 68498: <span class="comment">// Charge (Argent Tournament, Player)</span></div>
<div class="line"><span class="lineno"> 3307</span>            <span class="keywordflow">case</span> 64591: <span class="comment">// Charge (Argent Tournament, Player)</span></div>
<div class="line"><span class="lineno"> 3308</span>            <span class="keywordflow">case</span> 63003: <span class="comment">// Charge (Argent Tournament, NPC)</span></div>
<div class="line"><span class="lineno"> 3309</span>            <span class="keywordflow">case</span> 63010: <span class="comment">// Charge (Argent Tournament, NPC)</span></div>
<div class="line"><span class="lineno"> 3310</span>            <span class="keywordflow">case</span> 68321: <span class="comment">// Charge (Argent Tournament, NPC)</span></div>
<div class="line"><span class="lineno"> 3311</span>            <span class="keywordflow">case</span> 72255: <span class="comment">// Mark of the Fallen Champion (Deathbringer Saurfang)</span></div>
<div class="line"><span class="lineno"> 3312</span>            <span class="keywordflow">case</span> 72444: <span class="comment">// Mark of the Fallen Champion (Deathbringer Saurfang)</span></div>
<div class="line"><span class="lineno"> 3313</span>            <span class="keywordflow">case</span> 72445: <span class="comment">// Mark of the Fallen Champion (Deathbringer Saurfang)</span></div>
<div class="line"><span class="lineno"> 3314</span>            <span class="keywordflow">case</span> 72446: <span class="comment">// Mark of the Fallen Champion (Deathbringer Saurfang)</span></div>
<div class="line"><span class="lineno"> 3315</span>            <span class="keywordflow">case</span> 72409: <span class="comment">// Rune of Blood (Deathbringer Saurfang)</span></div>
<div class="line"><span class="lineno"> 3316</span>            <span class="keywordflow">case</span> 72447: <span class="comment">// Rune of Blood (Deathbringer Saurfang)</span></div>
<div class="line"><span class="lineno"> 3317</span>            <span class="keywordflow">case</span> 72448: <span class="comment">// Rune of Blood (Deathbringer Saurfang)</span></div>
<div class="line"><span class="lineno"> 3318</span>            <span class="keywordflow">case</span> 72449: <span class="comment">// Rune of Blood (Deathbringer Saurfang)</span></div>
<div class="line"><span class="lineno"> 3319</span>            <span class="keywordflow">case</span> 49882: <span class="comment">// Leviroth Self-Impale</span></div>
<div class="line"><span class="lineno"> 3320</span>            <span class="keywordflow">case</span> 62775: <span class="comment">// Ulduar: XT-002 Tympanic Tamparum</span></div>
<div class="line"><span class="lineno"> 3321</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da0f28e484658493d07d9b9dede2efcfb7">SPELL_ATTR0_CU_IGNORE_ARMOR</a>;</div>
<div class="line"><span class="lineno"> 3322</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3323</span>            <span class="keywordflow">case</span> 64422: <span class="comment">// Sonic Screech (Auriaya)</span></div>
<div class="line"><span class="lineno"> 3324</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dad14307ec43a9235f85c2c32860871ed3">SPELL_ATTR0_CU_SHARE_DAMAGE</a>;</div>
<div class="line"><span class="lineno"> 3325</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da0f28e484658493d07d9b9dede2efcfb7">SPELL_ATTR0_CU_IGNORE_ARMOR</a>;</div>
<div class="line"><span class="lineno"> 3326</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3327</span>            <span class="keywordflow">case</span> 72293: <span class="comment">// Mark of the Fallen Champion (Deathbringer Saurfang)</span></div>
<div class="line"><span class="lineno"> 3328</span>            <span class="keywordflow">case</span> 72347: <span class="comment">// Lock Players and Tap Chest (Gunship Battle)</span></div>
<div class="line"><span class="lineno"> 3329</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dabac2d4ebdf4a34333975b3ded5b66e2c">SPELL_ATTR0_CU_NEGATIVE_EFF0</a>;</div>
<div class="line"><span class="lineno"> 3330</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3331</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3332</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3333</span>            <span class="keywordflow">case</span> 63675: <span class="comment">// Improved Devouring Plague</span></div>
<div class="line"><span class="lineno"> 3334</span>            <span class="keywordflow">case</span> 17962: <span class="comment">// Conflagrate</span></div>
<div class="line"><span class="lineno"> 3335</span>            <span class="keywordflow">case</span> 32593: <span class="comment">// Earth Shield aura</span></div>
<div class="line"><span class="lineno"> 3336</span>            <span class="keywordflow">case</span> 32594: <span class="comment">// Earth Shield aura</span></div>
<div class="line"><span class="lineno"> 3337</span>            <span class="keywordflow">case</span> 49283: <span class="comment">// Earth Shield aura</span></div>
<div class="line"><span class="lineno"> 3338</span>            <span class="keywordflow">case</span> 49284: <span class="comment">// Earth Shield aura</span></div>
<div class="line"><span class="lineno"> 3339</span>            <span class="keywordflow">case</span> 50526: <span class="comment">// Wandering Plague</span></div>
<div class="line"><span class="lineno"> 3340</span>            <span class="keywordflow">case</span> 53353: <span class="comment">// Chimera Shot - Serpent trigger</span></div>
<div class="line"><span class="lineno"> 3341</span>            <span class="keywordflow">case</span> 52752: <span class="comment">// Ancestral Awakening Heal</span></div>
<div class="line"><span class="lineno"> 3342</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da28eaf0758dda324281f34617eb9cf3be">SPELL_ATTR0_CU_NO_POSITIVE_TAKEN_BONUS</a>;</div>
<div class="line"><span class="lineno"> 3343</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3344</span>            <span class="keywordflow">case</span> 65280: <span class="comment">// Ulduar, Hodir, Singed</span></div>
<div class="line"><span class="lineno"> 3345</span>            <span class="keywordflow">case</span> 28969: <span class="comment">// Naxxramas, Crypt Guard, Acid Spit (10 normal)</span></div>
<div class="line"><span class="lineno"> 3346</span>            <span class="keywordflow">case</span> 56098: <span class="comment">// Naxxramas, Crypt Guard, Acid Spit (25 normal)</span></div>
<div class="line"><span class="lineno"> 3347</span>            <span class="keywordflow">case</span> 27891: <span class="comment">// Naxxramas, Sludge Belcher, Acidic Sludge (10 normal)</span></div>
<div class="line"><span class="lineno"> 3348</span>            <span class="keywordflow">case</span> 54331: <span class="comment">// Naxxramas, Sludge Belcher, Acidic Sludge (25 normal)</span></div>
<div class="line"><span class="lineno"> 3349</span>            <span class="keywordflow">case</span> 29325: <span class="comment">// Naxxramas, Stoneskin Gargoyle, Acid Volley (10 normal)</span></div>
<div class="line"><span class="lineno"> 3350</span>            <span class="keywordflow">case</span> 54714: <span class="comment">// Naxxramas, Stoneskin Gargoyle, Acid Volley (25 normal)</span></div>
<div class="line"><span class="lineno"> 3351</span>            <span class="keywordflow">case</span> 65775: <span class="comment">// Anub&#39;arak, Swarm Scarab, Acid-Drenched Mandibles (10 normal)</span></div>
<div class="line"><span class="lineno"> 3352</span>            <span class="keywordflow">case</span> 67861: <span class="comment">// Anub&#39;arak, Swarm Scarab, Acid-Drenched Mandibles (25 normal)</span></div>
<div class="line"><span class="lineno"> 3353</span>            <span class="keywordflow">case</span> 67862: <span class="comment">// Anub&#39;arak, Swarm Scarab, Acid-Drenched Mandibles (10 heroic)</span></div>
<div class="line"><span class="lineno"> 3354</span>            <span class="keywordflow">case</span> 67863: <span class="comment">// Anub&#39;arak, Swarm Scarab, Acid-Drenched Mandibles (25 heroic)</span></div>
<div class="line"><span class="lineno"> 3355</span>            <span class="keywordflow">case</span> 55604: <span class="comment">// Naxxramas, Unrelenting Trainee, Death Plague (10 normal)</span></div>
<div class="line"><span class="lineno"> 3356</span>            <span class="keywordflow">case</span> 55645: <span class="comment">// Naxxramas, Unrelenting Trainee, Death Plague (25 normal)</span></div>
<div class="line"><span class="lineno"> 3357</span>            <span class="keywordflow">case</span> 67721: <span class="comment">// Anub&#39;arak, Nerubian Burrower, Expose Weakness (normal)</span></div>
<div class="line"><span class="lineno"> 3358</span>            <span class="keywordflow">case</span> 67847: <span class="comment">// Anub&#39;arak, Nerubian Burrower, Expose Weakness (heroic)</span></div>
<div class="line"><span class="lineno"> 3359</span>            <span class="keywordflow">case</span> 64638: <span class="comment">// Ulduar, Winter Jormungar, Acidic Bite</span></div>
<div class="line"><span class="lineno"> 3360</span>            <span class="keywordflow">case</span> 71157: <span class="comment">// Icecrown Citadel, Plagued Zombie, Infected Wound</span></div>
<div class="line"><span class="lineno"> 3361</span>            <span class="keywordflow">case</span> 72963: <span class="comment">// Icecrown Citadel, Rot Worm, Flesh Rot (10 normal)</span></div>
<div class="line"><span class="lineno"> 3362</span>            <span class="keywordflow">case</span> 72964: <span class="comment">// Icecrown Citadel, Rot Worm, Flesh Rot (25 normal)</span></div>
<div class="line"><span class="lineno"> 3363</span>            <span class="keywordflow">case</span> 72965: <span class="comment">// Icecrown Citadel, Rot Worm, Flesh Rot (10 heroic)</span></div>
<div class="line"><span class="lineno"> 3364</span>            <span class="keywordflow">case</span> 72966: <span class="comment">// Icecrown Citadel, Rot Worm, Flesh Rot (25 heroic)</span></div>
<div class="line"><span class="lineno"> 3365</span>            <span class="keywordflow">case</span> 72465: <span class="comment">// Icecrown Citadel, Sindragosa, Respite for a Tormented Soul (weekly quest)</span></div>
<div class="line"><span class="lineno"> 3366</span>            <span class="keywordflow">case</span> 45271: <span class="comment">// Sunwell, Eredar Twins encounter, Dark Strike</span></div>
<div class="line"><span class="lineno"> 3367</span>            <span class="keywordflow">case</span> 45347: <span class="comment">// Sunwell, Eredar Twins encounter, Dark Touched</span></div>
<div class="line"><span class="lineno"> 3368</span>            <span class="keywordflow">case</span> 45348: <span class="comment">// Sunwell, Eredar Twins encounter, Flame Touched</span></div>
<div class="line"><span class="lineno"> 3369</span>            <span class="keywordflow">case</span> 35859: <span class="comment">// The Eye, Nether Vapor</span></div>
<div class="line"><span class="lineno"> 3370</span>            <span class="keywordflow">case</span> 40520: <span class="comment">// Black Temple, Shade Soul Channel</span></div>
<div class="line"><span class="lineno"> 3371</span>            <span class="keywordflow">case</span> 40327: <span class="comment">// Black Temple, Atrophy</span></div>
<div class="line"><span class="lineno"> 3372</span>            <span class="keywordflow">case</span> 38449: <span class="comment">// Serpentshrine Cavern, Blessing of the Tides</span></div>
<div class="line"><span class="lineno"> 3373</span>            <span class="keywordflow">case</span> 38044: <span class="comment">// Serpentshrine Cavern, Surge</span></div>
<div class="line"><span class="lineno"> 3374</span>            <span class="keywordflow">case</span> 74507: <span class="comment">// Ruby Sanctum, Siphoned Might</span></div>
<div class="line"><span class="lineno"> 3375</span>            <span class="keywordflow">case</span> 49381: <span class="comment">// Drak&#39;tharon Keep, Consume</span></div>
<div class="line"><span class="lineno"> 3376</span>            <span class="keywordflow">case</span> 59805: <span class="comment">// Drak&#39;tharon Keep, Consume</span></div>
<div class="line"><span class="lineno"> 3377</span>            <span class="keywordflow">case</span> 55093: <span class="comment">// Gundrak, Grip of Slad&#39;ran</span></div>
<div class="line"><span class="lineno"> 3378</span>            <span class="keywordflow">case</span> 30659: <span class="comment">// Hellfire Ramparts, Fel Infusion</span></div>
<div class="line"><span class="lineno"> 3379</span>            <span class="keywordflow">case</span> 54314: <span class="comment">// Azjol&#39;Nerub Drain Power</span></div>
<div class="line"><span class="lineno"> 3380</span>            <span class="keywordflow">case</span> 59354: <span class="comment">// Azjol&#39;Nerub Drain Power</span></div>
<div class="line"><span class="lineno"> 3381</span>            <span class="keywordflow">case</span> 34655: <span class="comment">// Snake Trap, Deadly Poison</span></div>
<div class="line"><span class="lineno"> 3382</span>            <span class="keywordflow">case</span> 11971: <span class="comment">// Sunder Armor</span></div>
<div class="line"><span class="lineno"> 3383</span>            <span class="keywordflow">case</span> 58567: <span class="comment">// Player Sunder Armor</span></div>
<div class="line"><span class="lineno"> 3384</span>            <span class="keywordflow">case</span> 12579: <span class="comment">// Player Winter&#39;s Chill</span></div>
<div class="line"><span class="lineno"> 3385</span>            <span class="keywordflow">case</span> 29306: <span class="comment">// Naxxramas(Gluth&#39;s Zombies): Infected Wound</span></div>
<div class="line"><span class="lineno"> 3386</span>            <span class="keywordflow">case</span> 61920: <span class="comment">// Ulduar(Spellbreaker): Supercharge</span></div>
<div class="line"><span class="lineno"> 3387</span>            <span class="keywordflow">case</span> 63978: <span class="comment">// Ulduar(Rubble): Stone Nova</span></div>
<div class="line"><span class="lineno"> 3388</span>            <span class="keywordflow">case</span> 15502: <span class="comment">// Sunder Armor</span></div>
<div class="line"><span class="lineno"> 3389</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da7fbb6ea702124d1bd7fa091591d8fb7f">SPELL_ATTR0_CU_SINGLE_AURA_STACK</a>;</div>
<div class="line"><span class="lineno"> 3390</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3391</span>            <span class="keywordflow">case</span> 43138: <span class="comment">// North Fleet Reservist Kill Credit</span></div>
<div class="line"><span class="lineno"> 3392</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da21bee0dd8a24adc23431292c32c02ba2">SPELL_ATTR0_CU_ALLOW_INFLIGHT_TARGET</a>;</div>
<div class="line"><span class="lineno"> 3393</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3394</span>            <span class="keywordflow">case</span> 6197: <span class="comment">// Eagle Eye</span></div>
<div class="line"><span class="lineno"> 3395</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146daf7ce6d6f1816304f4859833e912bfc94">SPELL_ATTR0_CU_NO_INITIAL_THREAT</a>;</div>
<div class="line"><span class="lineno"> 3396</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3397</span>            <span class="keywordflow">case</span> 50315: <span class="comment">// Disco Ball</span></div>
<div class="line"><span class="lineno"> 3398</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da53ab5109248d12159273e5111f3d7641">SPELL_ATTR0_CU_NO_PVP_FLAG</a>;</div>
<div class="line"><span class="lineno"> 3399</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3400</span>            <span class="keywordflow">case</span> 14183: <span class="comment">// Premeditation</span></div>
<div class="line"><span class="lineno"> 3401</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da6e135d0f3f1ffad609c7a52988db5d0e">SPELL_ATTR0_CU_DONT_BREAK_STEALTH</a>;</div>
<div class="line"><span class="lineno"> 3402</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3403</span> </div>
<div class="line"><span class="lineno"> 3404</span>            <span class="comment">// Xinef: NOT CUSTOM, cant add in DBC CORRECTION because i need to swap effects, too much work to do there</span></div>
<div class="line"><span class="lineno"> 3405</span>            <span class="comment">// Envenom</span></div>
<div class="line"><span class="lineno"> 3406</span>            <span class="keywordflow">case</span> 32645:</div>
<div class="line"><span class="lineno"> 3407</span>            <span class="keywordflow">case</span> 32684:</div>
<div class="line"><span class="lineno"> 3408</span>            <span class="keywordflow">case</span> 57992:</div>
<div class="line"><span class="lineno"> 3409</span>            <span class="keywordflow">case</span> 57993:</div>
<div class="line"><span class="lineno"> 3410</span>                {</div>
<div class="line"><span class="lineno"> 3411</span>                    <a class="code hl_class" href="../../d2/db6/a10898.html">SpellEffectInfo</a> info = spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>];</div>
<div class="line"><span class="lineno"> 3412</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>] = spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>];</div>
<div class="line"><span class="lineno"> 3413</span>                    spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffaf927c15d111e2212aaf1f8488ce751c1">EFFECT_2</a>] = info;</div>
<div class="line"><span class="lineno"> 3414</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3415</span>                }</div>
<div class="line"><span class="lineno"> 3416</span> </div>
<div class="line"><span class="lineno"> 3417</span>            <span class="comment">// Xinef: Cooldown overwrites</span></div>
<div class="line"><span class="lineno"> 3418</span>            <span class="comment">// Jotunheim Rapid-Fire Harpoon: Energy Reserve</span></div>
<div class="line"><span class="lineno"> 3419</span>            <span class="keywordflow">case</span> 56585:</div>
<div class="line"><span class="lineno"> 3420</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a354b312d22f0591378e7b031a2ccd887">RecoveryTime</a> = 30000;</div>
<div class="line"><span class="lineno"> 3421</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a54e6c05479963284d49062a9ce6090d2">_requireCooldownInfo</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3422</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3423</span>            <span class="comment">// Jotunheim Rapid-Fire Harpoon: Rapid-Fire Harpoon</span></div>
<div class="line"><span class="lineno"> 3424</span>            <span class="keywordflow">case</span> 56570:</div>
<div class="line"><span class="lineno"> 3425</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a354b312d22f0591378e7b031a2ccd887">RecoveryTime</a> = 200;</div>
<div class="line"><span class="lineno"> 3426</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3427</span>            <span class="comment">// Burst of Speed</span></div>
<div class="line"><span class="lineno"> 3428</span>            <span class="keywordflow">case</span> 57493:</div>
<div class="line"><span class="lineno"> 3429</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a354b312d22f0591378e7b031a2ccd887">RecoveryTime</a> = 60000;</div>
<div class="line"><span class="lineno"> 3430</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a54e6c05479963284d49062a9ce6090d2">_requireCooldownInfo</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3431</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3432</span>            <span class="comment">// Strafe Jotunheim Building</span></div>
<div class="line"><span class="lineno"> 3433</span>            <span class="keywordflow">case</span> 7769:</div>
<div class="line"><span class="lineno"> 3434</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a354b312d22f0591378e7b031a2ccd887">RecoveryTime</a> = 1500;</div>
<div class="line"><span class="lineno"> 3435</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a54e6c05479963284d49062a9ce6090d2">_requireCooldownInfo</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3436</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3437</span>            <span class="keywordflow">case</span> 44535: <span class="comment">// Spirit Heal, abilities also have no cost</span></div>
<div class="line"><span class="lineno"> 3438</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>].MiscValue = 127;</div>
<div class="line"><span class="lineno"> 3439</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3440</span>            <span class="keywordflow">case</span> 45537: <span class="comment">// Cosmetic - Lightning Beam Channel</span></div>
<div class="line"><span class="lineno"> 3441</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dae32d0c49b04f951a43140f23af436d05">SPELL_ATTR0_CU_IGNORE_EVADE</a>;</div>
<div class="line"><span class="lineno"> 3442</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3443</span>        }</div>
<div class="line"><span class="lineno"> 3444</span> </div>
<div class="line"><span class="lineno"> 3445</span>        <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a6a56e323b5359f6fc3d766b71efaf901">Speed</a> &gt; 0.0f)</div>
<div class="line"><span class="lineno"> 3446</span>        {</div>
<div class="line"><span class="lineno"> 3447</span>            <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../db/d61/a27970.html">SpellVisualEntry</a> <span class="keyword">const</span>* spellVisual = <a class="code hl_variable" href="../../d7/da2/a03704.html#a700c047422b102d32cb34d37060121c4">sSpellVisualStore</a>.LookupEntry(spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a78bbf3a5574a188116846fbc77a57768">SpellVisual</a>[0]))</div>
<div class="line"><span class="lineno"> 3448</span>            {</div>
<div class="line"><span class="lineno"> 3449</span>                <span class="keywordflow">if</span> (spellVisual-&gt;HasMissile)</div>
<div class="line"><span class="lineno"> 3450</span>                {</div>
<div class="line"><span class="lineno"> 3451</span>                    <span class="keywordflow">if</span> (spellVisual-&gt;MissileModel == -4 || spellVisual-&gt;MissileModel == -5)</div>
<div class="line"><span class="lineno"> 3452</span>                    {</div>
<div class="line"><span class="lineno"> 3453</span>                        spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> |= <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146daaad600a26daf0b11ec7b14c5c2827987">SPELL_ATTR0_CU_NEEDS_AMMO_DATA</a>;</div>
<div class="line"><span class="lineno"> 3454</span>                    }</div>
<div class="line"><span class="lineno"> 3455</span>                }</div>
<div class="line"><span class="lineno"> 3456</span>            }</div>
<div class="line"><span class="lineno"> 3457</span>        }</div>
<div class="line"><span class="lineno"> 3458</span> </div>
<div class="line"><span class="lineno"> 3459</span>        spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#ac86920b89de167157bd483cdc6ac7d4b">_InitializeExplicitTargetMask</a>();</div>
<div class="line"><span class="lineno"> 3460</span> </div>
<div class="line"><span class="lineno"> 3461</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="../../df/d64/a03110.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;HasSpellCooldownOverride(spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>))</div>
<div class="line"><span class="lineno"> 3462</span>        {</div>
<div class="line"><span class="lineno"> 3463</span>            <a class="code hl_struct" href="../../dd/da6/a10958.html">SpellCooldownOverride</a> spellOverride = <a class="code hl_define" href="../../df/d64/a03110.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellCooldownOverride(spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>);</div>
<div class="line"><span class="lineno"> 3464</span> </div>
<div class="line"><span class="lineno"> 3465</span>            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a354b312d22f0591378e7b031a2ccd887">RecoveryTime</a> != spellOverride.<a class="code hl_variable" href="../../dd/da6/a10958.html#ac0e514cfe760baf23f4f05d871e6779a">RecoveryTime</a>)</div>
<div class="line"><span class="lineno"> 3466</span>            {</div>
<div class="line"><span class="lineno"> 3467</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a354b312d22f0591378e7b031a2ccd887">RecoveryTime</a> = spellOverride.<a class="code hl_variable" href="../../dd/da6/a10958.html#ac0e514cfe760baf23f4f05d871e6779a">RecoveryTime</a>;</div>
<div class="line"><span class="lineno"> 3468</span>            }</div>
<div class="line"><span class="lineno"> 3469</span> </div>
<div class="line"><span class="lineno"> 3470</span>            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a7f41763dc08f0ec7435bbbfc9c30ac2b">CategoryRecoveryTime</a> != spellOverride.<a class="code hl_variable" href="../../dd/da6/a10958.html#a5a089aa55b5db1f3e3d3fa0ff61bbfdd">CategoryRecoveryTime</a>)</div>
<div class="line"><span class="lineno"> 3471</span>            {</div>
<div class="line"><span class="lineno"> 3472</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a7f41763dc08f0ec7435bbbfc9c30ac2b">CategoryRecoveryTime</a> = spellOverride.<a class="code hl_variable" href="../../dd/da6/a10958.html#a5a089aa55b5db1f3e3d3fa0ff61bbfdd">CategoryRecoveryTime</a>;</div>
<div class="line"><span class="lineno"> 3473</span>            }</div>
<div class="line"><span class="lineno"> 3474</span> </div>
<div class="line"><span class="lineno"> 3475</span>            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#abc4fa52ba5870159e1e9a763b0ae8ef1">StartRecoveryTime</a> != spellOverride.<a class="code hl_variable" href="../../dd/da6/a10958.html#a3155069a4ef8d87d4c952f92df2ec42d">StartRecoveryTime</a>)</div>
<div class="line"><span class="lineno"> 3476</span>            {</div>
<div class="line"><span class="lineno"> 3477</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a354b312d22f0591378e7b031a2ccd887">RecoveryTime</a> = spellOverride.<a class="code hl_variable" href="../../dd/da6/a10958.html#ac0e514cfe760baf23f4f05d871e6779a">RecoveryTime</a>;</div>
<div class="line"><span class="lineno"> 3478</span>            }</div>
<div class="line"><span class="lineno"> 3479</span> </div>
<div class="line"><span class="lineno"> 3480</span>            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#af198ffd62fb0d519f8a3cf62745e7bd8">StartRecoveryCategory</a> != spellOverride.<a class="code hl_variable" href="../../dd/da6/a10958.html#abb7ca704f04612ddcec3e2e52470ca77">StartRecoveryCategory</a>)</div>
<div class="line"><span class="lineno"> 3481</span>            {</div>
<div class="line"><span class="lineno"> 3482</span>                spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a354b312d22f0591378e7b031a2ccd887">RecoveryTime</a> = spellOverride.<a class="code hl_variable" href="../../dd/da6/a10958.html#ac0e514cfe760baf23f4f05d871e6779a">RecoveryTime</a>;</div>
<div class="line"><span class="lineno"> 3483</span>            }</div>
<div class="line"><span class="lineno"> 3484</span>        }</div>
<div class="line"><span class="lineno"> 3485</span> </div>
<div class="line"><span class="lineno"> 3486</span>        <a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnLoadSpellCustomAttr(spellInfo);</div>
<div class="line"><span class="lineno"> 3487</span>    }</div>
<div class="line"><span class="lineno"> 3488</span> </div>
<div class="line"><span class="lineno"> 3489</span>    <span class="comment">// Xinef: addition for binary spells, ommit spells triggering other spells</span></div>
<div class="line"><span class="lineno"> 3490</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_function" href="../../d4/d62/a10962.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>(); ++i)</div>
<div class="line"><span class="lineno"> 3491</span>    {</div>
<div class="line"><span class="lineno"> 3492</span>        spellInfo = <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[i];</div>
<div class="line"><span class="lineno"> 3493</span>        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 3494</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3495</span> </div>
<div class="line"><span class="lineno"> 3496</span>        <span class="keywordflow">if</span> (!(spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> &amp; <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dacd2b3dd04ea4267a9b7f43f00003837d">SPELL_ATTR0_CU_BINARY_SPELL</a>))</div>
<div class="line"><span class="lineno"> 3497</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 3498</span> </div>
<div class="line"><span class="lineno"> 3499</span>        <span class="keywordtype">bool</span> allNonBinary = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3500</span>        <span class="keywordtype">bool</span> overrideAttr = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3501</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = 0; j &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++j)</div>
<div class="line"><span class="lineno"> 3502</span>        {</div>
<div class="line"><span class="lineno"> 3503</span>            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName &amp;&amp; spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].TriggerSpell)</div>
<div class="line"><span class="lineno"> 3504</span>            {</div>
<div class="line"><span class="lineno"> 3505</span>                <span class="keywordflow">switch</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].ApplyAuraName)</div>
<div class="line"><span class="lineno"> 3506</span>                {</div>
<div class="line"><span class="lineno"> 3507</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799af51e1877e096bbfd69505e5ab4fc69ad">SPELL_AURA_PERIODIC_TRIGGER_SPELL</a>:</div>
<div class="line"><span class="lineno"> 3508</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ae054658138830d9b34867a15c8bb9f5c">SPELL_AURA_PERIODIC_TRIGGER_SPELL_FROM_CLIENT</a>:</div>
<div class="line"><span class="lineno"> 3509</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ab6c4d806c60e94fec189c27a7a205576">SPELL_AURA_PERIODIC_TRIGGER_SPELL_WITH_VALUE</a>:</div>
<div class="line"><span class="lineno"> 3510</span>                        <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* triggerSpell = <a class="code hl_define" href="../../df/d64/a03110.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellInfo(spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[j].TriggerSpell))</div>
<div class="line"><span class="lineno"> 3511</span>                        {</div>
<div class="line"><span class="lineno"> 3512</span>                            overrideAttr = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3513</span>                            <span class="keywordflow">if</span> (triggerSpell-&gt;AttributesCu &amp; <a class="code hl_enumvalue" href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dacd2b3dd04ea4267a9b7f43f00003837d">SPELL_ATTR0_CU_BINARY_SPELL</a>)</div>
<div class="line"><span class="lineno"> 3514</span>                                allNonBinary = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3515</span>                        }</div>
<div class="line"><span class="lineno"> 3516</span>                }</div>
<div class="line"><span class="lineno"> 3517</span>            }</div>
<div class="line"><span class="lineno"> 3518</span>        }</div>
<div class="line"><span class="lineno"> 3519</span> </div>
<div class="line"><span class="lineno"> 3520</span>        <span class="keywordflow">if</span> (overrideAttr &amp;&amp; allNonBinary)</div>
<div class="line"><span class="lineno"> 3521</span>            spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">AttributesCu</a> &amp;= ~SPELL_ATTR0_CU_BINARY_SPELL;</div>
<div class="line"><span class="lineno"> 3522</span>    }</div>
<div class="line"><span class="lineno"> 3523</span> </div>
<div class="line"><span class="lineno"> 3524</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded SpellInfo Custom Attributes in {} ms&quot;</span>, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 3525</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 3526</span>}</div>
<div class="ttc" id="aa02750_html_a8d6d5cac52d7a437e341e9f6ebc21a21"><div class="ttname"><a href="../../d7/d14/a02750.html#a8d6d5cac52d7a437e341e9f6ebc21a21">MAX_TALENT_RANK</a></div><div class="ttdeci">#define MAX_TALENT_RANK</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1917</div></div>
<div class="ttc" id="aa02750_html_ab66cd5828c451f68f55f1b054c29a8fc"><div class="ttname"><a href="../../d7/d14/a02750.html#ab66cd5828c451f68f55f1b054c29a8fc">MAX_SPELL_ITEM_ENCHANTMENT_EFFECTS</a></div><div class="ttdeci">#define MAX_SPELL_ITEM_ENCHANTMENT_EFFECTS</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1837</div></div>
<div class="ttc" id="aa02756_html_a364650a1412c9ed62462ed0b0574e14aa62d4592c03e7f422a7508d714a0468e7"><div class="ttname"><a href="../../dc/d80/a02756.html#a364650a1412c9ed62462ed0b0574e14aa62d4592c03e7f422a7508d714a0468e7">ITEM_ENCHANTMENT_TYPE_COMBAT_SPELL</a></div><div class="ttdeci">@ ITEM_ENCHANTMENT_TYPE_COMBAT_SPELL</div><div class="ttdef"><b>Definition:</b> DBCEnums.h:367</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a0b452eb46e3cfec1b7cb26f21a22b2d3"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a0b452eb46e3cfec1b7cb26f21a22b2d3">SPELL_EFFECT_ENERGIZE_PCT</a></div><div class="ttdeci">@ SPELL_EFFECT_ENERGIZE_PCT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:915</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a0e98b45f9300ce66be7a701eff5e5fca"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a0e98b45f9300ce66be7a701eff5e5fca">SPELL_EFFECT_APPLY_AREA_AURA_PARTY</a></div><div class="ttdeci">@ SPELL_EFFECT_APPLY_AREA_AURA_PARTY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:813</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a2c6434d09a221f75cf5496947aa2eb89"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a2c6434d09a221f75cf5496947aa2eb89">SPELL_EFFECT_ENCHANT_HELD_ITEM</a></div><div class="ttdeci">@ SPELL_EFFECT_ENCHANT_HELD_ITEM</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:870</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a3467958b5173482af8149b7c32c9ed4d"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a3467958b5173482af8149b7c32c9ed4d">SPELL_EFFECT_ENCHANT_ITEM</a></div><div class="ttdeci">@ SPELL_EFFECT_ENCHANT_ITEM</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:831</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a3781ecdde21e7e7f1dd72df72c577505"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a3781ecdde21e7e7f1dd72df72c577505">SPELL_EFFECT_HEALTH_LEECH</a></div><div class="ttdeci">@ SPELL_EFFECT_HEALTH_LEECH</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:787</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a44d3da0109cb50c42bad53e2790715e4"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a44d3da0109cb50c42bad53e2790715e4">SPELL_EFFECT_WEAPON_DAMAGE</a></div><div class="ttdeci">@ SPELL_EFFECT_WEAPON_DAMAGE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:836</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a4882157067be8542f9192927816acda1"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a4882157067be8542f9192927816acda1">SPELL_EFFECT_HEAL</a></div><div class="ttdeci">@ SPELL_EFFECT_HEAL</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:788</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a4a3d78eee24d6e6d28fbaa67213be92d"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a4a3d78eee24d6e6d28fbaa67213be92d">SPELL_EFFECT_NORMALIZED_WEAPON_DMG</a></div><div class="ttdeci">@ SPELL_EFFECT_NORMALIZED_WEAPON_DMG</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:899</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a4d387e7de66861ea9ad6d6852e5087fb"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a4d387e7de66861ea9ad6d6852e5087fb">SPELL_EFFECT_TRIGGER_SPELL</a></div><div class="ttdeci">@ SPELL_EFFECT_TRIGGER_SPELL</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:842</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a51ba801dd59f654eed7eef6ec05d17f8"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a51ba801dd59f654eed7eef6ec05d17f8">SPELL_EFFECT_HEAL_MAX_HEALTH</a></div><div class="ttdeci">@ SPELL_EFFECT_HEAL_MAX_HEALTH</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:845</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a56fb7001bff11474629f084fda6953a1"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a56fb7001bff11474629f084fda6953a1">SPELL_EFFECT_APPLY_AREA_AURA_PET</a></div><div class="ttdeci">@ SPELL_EFFECT_APPLY_AREA_AURA_PET</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:897</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a80153156c6cdcf1436c5a4fc33ae95c7"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a80153156c6cdcf1436c5a4fc33ae95c7">SPELL_EFFECT_PICKPOCKET</a></div><div class="ttdeci">@ SPELL_EFFECT_PICKPOCKET</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:849</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a8e8f8712c494e5f9bffca881c9398304"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a8e8f8712c494e5f9bffca881c9398304">SPELL_EFFECT_HEAL_MECHANICAL</a></div><div class="ttdeci">@ SPELL_EFFECT_HEAL_MECHANICAL</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:853</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a905e6b16c4a6a4f7e538f0b6b97190d5"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a905e6b16c4a6a4f7e538f0b6b97190d5">SPELL_EFFECT_WEAPON_PERCENT_DAMAGE</a></div><div class="ttdeci">@ SPELL_EFFECT_WEAPON_PERCENT_DAMAGE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:809</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a96bae50ba11bd175354f4db26746867f"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a96bae50ba11bd175354f4db26746867f">SPELL_EFFECT_APPLY_AREA_AURA_RAID</a></div><div class="ttdeci">@ SPELL_EFFECT_APPLY_AREA_AURA_RAID</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:843</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97aa2beb2e0d1440f64ea1661312ed02628"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97aa2beb2e0d1440f64ea1661312ed02628">SPELL_EFFECT_WEAPON_DAMAGE_NOSCHOOL</a></div><div class="ttdeci">@ SPELL_EFFECT_WEAPON_DAMAGE_NOSCHOOL</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:795</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97aa3290e738b6cd09859039989143f9ac1"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97aa3290e738b6cd09859039989143f9ac1">SPELL_EFFECT_PERSISTENT_AREA_AURA</a></div><div class="ttdeci">@ SPELL_EFFECT_PERSISTENT_AREA_AURA</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:805</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97ab0727b6312cbc0d83b93ab5d5578fe8b"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ab0727b6312cbc0d83b93ab5d5578fe8b">SPELL_EFFECT_ENERGIZE</a></div><div class="ttdeci">@ SPELL_EFFECT_ENERGIZE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:808</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97ab7df9b34a249eff2c2ee82925fbc87d9"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ab7df9b34a249eff2c2ee82925fbc87d9">SPELL_EFFECT_POWER_DRAIN</a></div><div class="ttdeci">@ SPELL_EFFECT_POWER_DRAIN</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:786</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97abd12cbfc6a8daf7ca788d06a77256e01"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97abd12cbfc6a8daf7ca788d06a77256e01">SPELL_EFFECT_SCHOOL_DAMAGE</a></div><div class="ttdeci">@ SPELL_EFFECT_SCHOOL_DAMAGE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:780</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97ad8952de70b3fb92f22a051a26793a740"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ad8952de70b3fb92f22a051a26793a740">SPELL_EFFECT_APPLY_AREA_AURA_ENEMY</a></div><div class="ttdeci">@ SPELL_EFFECT_APPLY_AREA_AURA_ENEMY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:907</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97ae0cab2a09ad0acd69cdc260048bf31b5"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ae0cab2a09ad0acd69cdc260048bf31b5">SPELL_EFFECT_HEAL_PCT</a></div><div class="ttdeci">@ SPELL_EFFECT_HEAL_PCT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:914</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97ae2d17b59f752f772b7a79a2643a1d45f"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ae2d17b59f752f772b7a79a2643a1d45f">SPELL_EFFECT_INTERRUPT_CAST</a></div><div class="ttdeci">@ SPELL_EFFECT_INTERRUPT_CAST</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:846</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97aeb1d7a27ab01055bd66d8b012dbea7be"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97aeb1d7a27ab01055bd66d8b012dbea7be">SPELL_EFFECT_ENCHANT_ITEM_PRISMATIC</a></div><div class="ttdeci">@ SPELL_EFFECT_ENCHANT_ITEM_PRISMATIC</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:934</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97affaa057383042f4e64d387fb592eecb6"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97affaa057383042f4e64d387fb592eecb6">SPELL_EFFECT_APPLY_AREA_AURA_OWNER</a></div><div class="ttdeci">@ SPELL_EFFECT_APPLY_AREA_AURA_OWNER</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:921</div></div>
<div class="ttc" id="aa02771_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0a134bc75d430da10f6c1df4977c29cf"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0a134bc75d430da10f6c1df4977c29cf">SPELLFAMILY_WARLOCK</a></div><div class="ttdeci">@ SPELLFAMILY_WARLOCK</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3533</div></div>
<div class="ttc" id="aa02771_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1bac3788ce010075b8bd4e6083638d8cd40"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1bac3788ce010075b8bd4e6083638d8cd40">SPELLFAMILY_DRUID</a></div><div class="ttdeci">@ SPELLFAMILY_DRUID</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3535</div></div>
<div class="ttc" id="aa02771_html_a9dcd0ba8d94905ba214797c12e7c44ad"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ad">SpellAttr0</a></div><div class="ttdeci">SpellAttr0</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:381</div></div>
<div class="ttc" id="aa02771_html_a9dcd0ba8d94905ba214797c12e7c44ada9d53bd915f5409506cb045a0688a0a75"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9dcd0ba8d94905ba214797c12e7c44ada9d53bd915f5409506cb045a0688a0a75">SPELL_ATTR0_DO_NOT_DISPLAY</a></div><div class="ttdeci">@ SPELL_ATTR0_DO_NOT_DISPLAY</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:389</div></div>
<div class="ttc" id="aa02771_html_af4541d30ebbff76b1f9f689519789234aeb1f5d58fca5c46b87ad0944191ed916"><div class="ttname"><a href="../../d0/dbd/a02771.html#af4541d30ebbff76b1f9f689519789234aeb1f5d58fca5c46b87ad0944191ed916">SKILL_ENCHANTING</a></div><div class="ttdeci">@ SKILL_ENCHANTING</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:2954</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da0f28e484658493d07d9b9dede2efcfb7"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da0f28e484658493d07d9b9dede2efcfb7">SPELL_ATTR0_CU_IGNORE_ARMOR</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_IGNORE_ARMOR</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:191</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da16fc9692b3d1955cb6f36ae606901202"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da16fc9692b3d1955cb6f36ae606901202">SPELL_ATTR0_CU_REQ_TARGET_FACING_CASTER</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_REQ_TARGET_FACING_CASTER</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:192</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da21bee0dd8a24adc23431292c32c02ba2"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da21bee0dd8a24adc23431292c32c02ba2">SPELL_ATTR0_CU_ALLOW_INFLIGHT_TARGET</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_ALLOW_INFLIGHT_TARGET</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:194</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da23162f829e73ed8653b153a3e5212a39"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da23162f829e73ed8653b153a3e5212a39">SPELL_ATTR0_CU_ENCHANT_PROC</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_ENCHANT_PROC</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:176</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da28eaf0758dda324281f34617eb9cf3be"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da28eaf0758dda324281f34617eb9cf3be">SPELL_ATTR0_CU_NO_POSITIVE_TAKEN_BONUS</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_NO_POSITIVE_TAKEN_BONUS</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:197</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da383488d2939eaa62f5661efac8e01d0e"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da383488d2939eaa62f5661efac8e01d0e">SPELL_ATTR0_CU_FORCE_SEND_CATEGORY_COOLDOWNS</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_FORCE_SEND_CATEGORY_COOLDOWNS</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:204</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da3c6711e8c874226f4c63f477d27e2e35"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da3c6711e8c874226f4c63f477d27e2e35">SPELL_ATTR0_CU_DIRECT_DAMAGE</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_DIRECT_DAMAGE</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:184</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da4b290bdc05e30600b17324adfa185e39"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da4b290bdc05e30600b17324adfa185e39">SPELL_ATTR0_CU_POSITIVE</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_POSITIVE</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:211</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da4d7ba94d96c89ebddcef8c081fb14557"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da4d7ba94d96c89ebddcef8c081fb14557">SPELL_ATTR0_CU_FORCE_AURA_SAVING</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_FORCE_AURA_SAVING</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:205</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da53ab5109248d12159273e5111f3d7641"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da53ab5109248d12159273e5111f3d7641">SPELL_ATTR0_CU_NO_PVP_FLAG</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_NO_PVP_FLAG</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:183</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da6e135d0f3f1ffad609c7a52988db5d0e"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da6e135d0f3f1ffad609c7a52988db5d0e">SPELL_ATTR0_CU_DONT_BREAK_STEALTH</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_DONT_BREAK_STEALTH</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:182</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da6f04115acffe8cda68c32d78e0941b40"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da6f04115acffe8cda68c32d78e0941b40">SPELL_ATTR0_CU_REQ_CASTER_BEHIND_TARGET</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_REQ_CASTER_BEHIND_TARGET</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:193</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da6f734acb36c68fcc4881a4d4e844ee11"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da6f734acb36c68fcc4881a4d4e844ee11">SPELL_ATTR0_CU_CONE_BACK</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_CONE_BACK</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:177</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da7fbb6ea702124d1bd7fa091591d8fb7f"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da7fbb6ea702124d1bd7fa091591d8fb7f">SPELL_ATTR0_CU_SINGLE_AURA_STACK</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_SINGLE_AURA_STACK</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:198</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da82c401e647fb2c1c09ed1c6dd9568c2d"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da82c401e647fb2c1c09ed1c6dd9568c2d">SPELL_ATTR0_CU_AURA_CANNOT_BE_SAVED</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_AURA_CANNOT_BE_SAVED</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:200</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da8a9106d96628f46e484fe853c0ce35b2"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da8a9106d96628f46e484fe853c0ce35b2">SPELL_ATTR0_CU_NEGATIVE_EFF2</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_NEGATIVE_EFF2</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:190</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da91a67b896bc85d53f71e8cc7798dff71"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da91a67b896bc85d53f71e8cc7798dff71">SPELL_ATTR0_CU_AURA_CC</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_AURA_CC</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:181</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da928d7b52a9bcfb5573d4cd8ca8bd30a7"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da928d7b52a9bcfb5573d4cd8ca8bd30a7">SPELL_ATTR0_CU_NEGATIVE_EFF1</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_NEGATIVE_EFF1</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:189</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146da93ea23e532f0400d3ed24deb6882e6dd"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146da93ea23e532f0400d3ed24deb6882e6dd">SPELL_ATTR0_CU_CHARGE</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_CHARGE</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:185</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146daaa6e1af347c468600585e39bbc32afe8"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146daaa6e1af347c468600585e39bbc32afe8">SPELL_ATTR0_CU_NEGATIVE</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_NEGATIVE</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:210</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146daaad600a26daf0b11ec7b14c5c2827987"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146daaad600a26daf0b11ec7b14c5c2827987">SPELL_ATTR0_CU_NEEDS_AMMO_DATA</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_NEEDS_AMMO_DATA</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:195</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146dab3988c31b79ecae6d62db4f734ba2c43"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dab3988c31b79ecae6d62db4f734ba2c43">SPELL_ATTR0_CU_POSITIVE_EFF0</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_POSITIVE_EFF0</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:201</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146dabac2d4ebdf4a34333975b3ded5b66e2c"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dabac2d4ebdf4a34333975b3ded5b66e2c">SPELL_ATTR0_CU_NEGATIVE_EFF0</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_NEGATIVE_EFF0</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:188</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146dacd2b3dd04ea4267a9b7f43f00003837d"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dacd2b3dd04ea4267a9b7f43f00003837d">SPELL_ATTR0_CU_BINARY_SPELL</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_BINARY_SPELL</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:196</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146dad14307ec43a9235f85c2c32860871ed3"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dad14307ec43a9235f85c2c32860871ed3">SPELL_ATTR0_CU_SHARE_DAMAGE</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_SHARE_DAMAGE</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:179</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146dada37071a5f586acf592411604df0bf6e"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dada37071a5f586acf592411604df0bf6e">SPELL_ATTR0_CU_SCHOOLMASK_NORMAL_WITH_MAGIC</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_SCHOOLMASK_NORMAL_WITH_MAGIC</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:199</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146dae32d0c49b04f951a43140f23af436d05"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146dae32d0c49b04f951a43140f23af436d05">SPELL_ATTR0_CU_IGNORE_EVADE</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_IGNORE_EVADE</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:187</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146daf173b3df1f0236ffb7df3a8fbe4c2efe"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146daf173b3df1f0236ffb7df3a8fbe4c2efe">SPELL_ATTR0_CU_PICKPOCKET</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_PICKPOCKET</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:186</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146daf56afff0380689f8a82952e2db4a584c"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146daf56afff0380689f8a82952e2db4a584c">SPELL_ATTR0_CU_CONE_LINE</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_CONE_LINE</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:178</div></div>
<div class="ttc" id="aa03065_html_a93795b2131c8cbe38a7b23768a5a146daf7ce6d6f1816304f4859833e912bfc94"><div class="ttname"><a href="../../d4/d44/a03065.html#a93795b2131c8cbe38a7b23768a5a146daf7ce6d6f1816304f4859833e912bfc94">SPELL_ATTR0_CU_NO_INITIAL_THREAT</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_NO_INITIAL_THREAT</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:180</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a11166673929d2fda5967add284832fad"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a11166673929d2fda5967add284832fad">SPELL_AURA_PERIODIC_DAMAGE</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_DAMAGE</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:66</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a2616d80ed4951b4ff860a0e0e2a98da0"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a2616d80ed4951b4ff860a0e0e2a98da0">SPELL_AURA_OBS_MOD_HEALTH</a></div><div class="ttdeci">@ SPELL_AURA_OBS_MOD_HEALTH</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:83</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a2b064a34862eb2f85ec873398d787012"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a2b064a34862eb2f85ec873398d787012">SPELL_AURA_PERIODIC_HEALTH_FUNNEL</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_HEALTH_FUNNEL</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:125</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a2eb3f6e6a49bc0b70fa9726b1fa12bb3"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a2eb3f6e6a49bc0b70fa9726b1fa12bb3">SPELL_AURA_PERIODIC_MANA_LEECH</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_MANA_LEECH</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:127</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a30ae3c9499778cc5f920e81dc86cd020"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a30ae3c9499778cc5f920e81dc86cd020">SPELL_AURA_MOD_POSSESS_PET</a></div><div class="ttdeci">@ SPELL_AURA_MOD_POSSESS_PET</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:191</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a3ea4c20e7d6e039f209ab904172d53e9"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a3ea4c20e7d6e039f209ab904172d53e9">SPELL_AURA_CONVERT_RUNE</a></div><div class="ttdeci">@ SPELL_AURA_CONVERT_RUNE</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:312</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a44cf043145f5a78c5a4e36ecff8a034d"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a44cf043145f5a78c5a4e36ecff8a034d">SPELL_AURA_MOD_FEAR</a></div><div class="ttdeci">@ SPELL_AURA_MOD_FEAR</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:70</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a4f1feb3950d2776a74c938c366adbbdf"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a4f1feb3950d2776a74c938c366adbbdf">SPELL_AURA_OBS_MOD_POWER</a></div><div class="ttdeci">@ SPELL_AURA_OBS_MOD_POWER</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:84</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a583bf7e94825b7252010ad12dd50ed6f"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a583bf7e94825b7252010ad12dd50ed6f">SPELL_AURA_CONTROL_VEHICLE</a></div><div class="ttdeci">@ SPELL_AURA_CONTROL_VEHICLE</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:299</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a600ad2316202aec206facbfa746a136b"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a600ad2316202aec206facbfa746a136b">SPELL_AURA_MOD_INVISIBILITY</a></div><div class="ttdeci">@ SPELL_AURA_MOD_INVISIBILITY</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:81</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a65c8ec2c8667d6c49c278491c113a374"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a65c8ec2c8667d6c49c278491c113a374">SPELL_AURA_PERIODIC_DAMAGE_PERCENT</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_DAMAGE_PERCENT</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:152</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a88ddeddc39c960bdd00805a1ea8a8fc8"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a88ddeddc39c960bdd00805a1ea8a8fc8">SPELL_AURA_MOD_RANGED_HASTE</a></div><div class="ttdeci">@ SPELL_AURA_MOD_RANGED_HASTE</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:203</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799aada4a291fd71b7b408ec0ac6543e79b1"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799aada4a291fd71b7b408ec0ac6543e79b1">SPELL_AURA_AOE_CHARM</a></div><div class="ttdeci">@ SPELL_AURA_AOE_CHARM</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:240</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799ab6c4d806c60e94fec189c27a7a205576"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ab6c4d806c60e94fec189c27a7a205576">SPELL_AURA_PERIODIC_TRIGGER_SPELL_WITH_VALUE</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_TRIGGER_SPELL_WITH_VALUE</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:290</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799ab9f377f6e107ad1633d32a22da2ec7d2"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ab9f377f6e107ad1633d32a22da2ec7d2">SPELL_AURA_PERIODIC_ENERGIZE</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_ENERGIZE</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:87</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799ac0dfa842319d63f7923d74c30ef38dfb"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ac0dfa842319d63f7923d74c30ef38dfb">SPELL_AURA_MOD_INVISIBILITY_DETECT</a></div><div class="ttdeci">@ SPELL_AURA_MOD_INVISIBILITY_DETECT</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:82</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799ac5a7c36ca09fd3b8a2c468b65aa7b999"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ac5a7c36ca09fd3b8a2c468b65aa7b999">SPELL_AURA_WATER_BREATHING</a></div><div class="ttdeci">@ SPELL_AURA_WATER_BREATHING</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:145</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799ac84a600c9fc81cbda953c9f64074ab9f"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ac84a600c9fc81cbda953c9f64074ab9f">SPELL_AURA_PERIODIC_LEECH</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_LEECH</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:116</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799ad06611922c0cf903c24b220140daacab"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ad06611922c0cf903c24b220140daacab">SPELL_AURA_POWER_BURN</a></div><div class="ttdeci">@ SPELL_AURA_POWER_BURN</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:225</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799ad75b18045110664869a6a4a86c4db16e"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ad75b18045110664869a6a4a86c4db16e">SPELL_AURA_OPEN_STABLE</a></div><div class="ttdeci">@ SPELL_AURA_OPEN_STABLE</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:355</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799adaa58e2c604243da285d64f4a95b42f7"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799adaa58e2c604243da285d64f4a95b42f7">SPELL_AURA_MOD_CONFUSE</a></div><div class="ttdeci">@ SPELL_AURA_MOD_CONFUSE</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:68</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799adad95ef086a39748c9e556342967d388"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799adad95ef086a39748c9e556342967d388">SPELL_AURA_TRACK_CREATURES</a></div><div class="ttdeci">@ SPELL_AURA_TRACK_CREATURES</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:107</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799adc30e3257d95c2736a98331a53766eea"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799adc30e3257d95c2736a98331a53766eea">SPELL_AURA_MOD_POSSESS</a></div><div class="ttdeci">@ SPELL_AURA_MOD_POSSESS</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:65</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799ae054658138830d9b34867a15c8bb9f5c"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799ae054658138830d9b34867a15c8bb9f5c">SPELL_AURA_PERIODIC_TRIGGER_SPELL_FROM_CLIENT</a></div><div class="ttdeci">@ SPELL_AURA_PERIODIC_TRIGGER_SPELL_FROM_CLIENT</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:111</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799aff313dd31d66c100086b4d9b6a81d329"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799aff313dd31d66c100086b4d9b6a81d329">SPELL_AURA_BIND_SIGHT</a></div><div class="ttdeci">@ SPELL_AURA_BIND_SIGHT</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:64</div></div>
<div class="ttc" id="aa03110_html_a18102741b602d3b4473f75d4f619a09b"><div class="ttname"><a href="../../df/d64/a03110.html#a18102741b602d3b4473f75d4f619a09b">IsPartOfSkillLine</a></div><div class="ttdeci">bool IsPartOfSkillLine(uint32 skillId, uint32 spellId)</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:48</div></div>
<div class="ttc" id="aa03704_html_a700c047422b102d32cb34d37060121c4"><div class="ttname"><a href="../../d7/da2/a03704.html#a700c047422b102d32cb34d37060121c4">sSpellVisualStore</a></div><div class="ttdeci">DBCStorage&lt; SpellVisualEntry &gt; sSpellVisualStore(SpellVisualfmt)</div></div>
<div class="ttc" id="aa03704_html_abd81359499a4a51a71b17ea8f9f7ad62"><div class="ttname"><a href="../../d7/da2/a03704.html#abd81359499a4a51a71b17ea8f9f7ad62">sTalentStore</a></div><div class="ttdeci">DBCStorage&lt; TalentEntry &gt; sTalentStore(TalentEntryfmt)</div></div>
<div class="ttc" id="aa04202_html_ae8161e629869974bc49b1cbfc73c1087"><div class="ttname"><a href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a></div><div class="ttdeci">#define sScriptMgr</div><div class="ttdef"><b>Definition:</b> ScriptMgr.h:709</div></div>
<div class="ttc" id="aa10906_html_a25ed784456d2d769bf59a788f9216001"><div class="ttname"><a href="../../d4/db9/a10906.html#a25ed784456d2d769bf59a788f9216001">SpellInfo::GetCategory</a></div><div class="ttdeci">uint32 GetCategory() const</div><div class="ttdef"><b>Definition:</b> SpellInfo.cpp:871</div></div>
<div class="ttc" id="aa10906_html_a3390b5e41b2731ccbcba0202e7e1c474"><div class="ttname"><a href="../../d4/db9/a10906.html#a3390b5e41b2731ccbcba0202e7e1c474">SpellInfo::AttributesCu</a></div><div class="ttdeci">uint32 AttributesCu</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:332</div></div>
<div class="ttc" id="aa10906_html_a54e6c05479963284d49062a9ce6090d2"><div class="ttname"><a href="../../d4/db9/a10906.html#a54e6c05479963284d49062a9ce6090d2">SpellInfo::_requireCooldownInfo</a></div><div class="ttdeci">bool _requireCooldownInfo</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:403</div></div>
<div class="ttc" id="aa10906_html_a78bbf3a5574a188116846fbc77a57768"><div class="ttname"><a href="../../d4/db9/a10906.html#a78bbf3a5574a188116846fbc77a57768">SpellInfo::SpellVisual</a></div><div class="ttdeci">std::array&lt; uint32, 2 &gt; SpellVisual</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:379</div></div>
<div class="ttc" id="aa10906_html_a7f41763dc08f0ec7435bbbfc9c30ac2b"><div class="ttname"><a href="../../d4/db9/a10906.html#a7f41763dc08f0ec7435bbbfc9c30ac2b">SpellInfo::CategoryRecoveryTime</a></div><div class="ttdeci">uint32 CategoryRecoveryTime</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:349</div></div>
<div class="ttc" id="aa10906_html_a8b0406b9d3923cb0f92099f9c12822cb"><div class="ttname"><a href="../../d4/db9/a10906.html#a8b0406b9d3923cb0f92099f9c12822cb">SpellInfo::_IsPositiveEffect</a></div><div class="ttdeci">bool _IsPositiveEffect(uint8 effIndex, bool deep) const</div><div class="ttdef"><b>Definition:</b> SpellInfo.cpp:2620</div></div>
<div class="ttc" id="aa10906_html_abc4fa52ba5870159e1e9a763b0ae8ef1"><div class="ttname"><a href="../../d4/db9/a10906.html#abc4fa52ba5870159e1e9a763b0ae8ef1">SpellInfo::StartRecoveryTime</a></div><div class="ttdeci">uint32 StartRecoveryTime</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:351</div></div>
<div class="ttc" id="aa10906_html_ac86920b89de167157bd483cdc6ac7d4b"><div class="ttname"><a href="../../d4/db9/a10906.html#ac86920b89de167157bd483cdc6ac7d4b">SpellInfo::_InitializeExplicitTargetMask</a></div><div class="ttdeci">void _InitializeExplicitTargetMask()</div><div class="ttdef"><b>Definition:</b> SpellInfo.cpp:2592</div></div>
<div class="ttc" id="aa10906_html_aefe1e81c5922419ada55844bdb30e269"><div class="ttname"><a href="../../d4/db9/a10906.html#aefe1e81c5922419ada55844bdb30e269">SpellInfo::HasAura</a></div><div class="ttdeci">bool HasAura(AuraType aura) const</div><div class="ttdef"><b>Definition:</b> SpellInfo.cpp:893</div></div>
<div class="ttc" id="aa10906_html_af198ffd62fb0d519f8a3cf62745e7bd8"><div class="ttname"><a href="../../d4/db9/a10906.html#af198ffd62fb0d519f8a3cf62745e7bd8">SpellInfo::StartRecoveryCategory</a></div><div class="ttdeci">uint32 StartRecoveryCategory</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:350</div></div>
<div class="ttc" id="aa10906_html_afa067fa58b7da5d234b08f01e6a7849c"><div class="ttname"><a href="../../d4/db9/a10906.html#afa067fa58b7da5d234b08f01e6a7849c">SpellInfo::AuraInterruptFlags</a></div><div class="ttdeci">uint32 AuraInterruptFlags</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:353</div></div>
<div class="ttc" id="aa10962_html_af81d67c3029f7bafd5f9d7b54af48782"><div class="ttname"><a href="../../d4/d62/a10962.html#af81d67c3029f7bafd5f9d7b54af48782">SpellMgr::_GetSpellInfo</a></div><div class="ttdeci">SpellInfo * _GetSpellInfo(uint32 spellId)</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:760</div></div>
<div class="ttc" id="aa27962_html_a694edc79cf8ba571338bff2a3aad512d"><div class="ttname"><a href="../../d0/db1/a27962.html#a694edc79cf8ba571338bff2a3aad512d">SpellItemEnchantmentEntry::spellid</a></div><div class="ttdeci">uint32 spellid[MAX_SPELL_ITEM_ENCHANTMENT_EFFECTS]</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1846</div></div>
<div class="ttc" id="aa27962_html_adb693b7ada8d1a65c1d8091d1055c7bf"><div class="ttname"><a href="../../d0/db1/a27962.html#adb693b7ada8d1a65c1d8091d1055c7bf">SpellItemEnchantmentEntry::type</a></div><div class="ttdeci">uint32 type[MAX_SPELL_ITEM_ENCHANTMENT_EFFECTS]</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1843</div></div>
<div class="ttc" id="aa27970_html"><div class="ttname"><a href="../../db/d61/a27970.html">SpellVisualEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1870</div></div>
<div class="ttc" id="aa27982_html"><div class="ttname"><a href="../../df/d2c/a27982.html">TalentEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1922</div></div>
<div class="ttc" id="aa27982_html_a96d0fd120ed3aa7fbd287d104fd87c26"><div class="ttname"><a href="../../df/d2c/a27982.html#a96d0fd120ed3aa7fbd287d104fd87c26">TalentEntry::RankID</a></div><div class="ttdeci">std::array&lt; uint32, MAX_TALENT_RANK &gt; RankID</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1927</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00760">_GetSpellInfo()</a>, <a class="el" href="../../#l02592">SpellInfo::_InitializeExplicitTargetMask()</a>, <a class="el" href="../../#l02620">SpellInfo::_IsPositiveEffect()</a>, <a class="el" href="../../#l00403">SpellInfo::_requireCooldownInfo</a>, <a class="el" href="../../#l00332">SpellInfo::AttributesCu</a>, <a class="el" href="../../#l00045">AURA_INTERRUPT_FLAG_CAST</a>, <a class="el" href="../../#l00353">SpellInfo::AuraInterruptFlags</a>, <a class="el" href="../../#l00349">SpellInfo::CategoryRecoveryTime</a>, <a class="el" href="../../#l00609">SpellCooldownOverride::CategoryRecoveryTime</a>, <a class="el" href="../../#l00031">EFFECT_0</a>, <a class="el" href="../../#l00032">EFFECT_1</a>, <a class="el" href="../../#l00033">EFFECT_2</a>, <a class="el" href="../../#l00393">SpellInfo::Effects</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00871">SpellInfo::GetCategory()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00751">GetSpellInfoStoreSize()</a>, <a class="el" href="../../#l00415">SpellInfo::HasAttribute()</a>, <a class="el" href="../../#l00893">SpellInfo::HasAura()</a>, <a class="el" href="../../#l00320">SpellInfo::Id</a>, <a class="el" href="../../#l00048">IsPartOfSkillLine()</a>, <a class="el" href="../../#l00367">ITEM_ENCHANTMENT_TYPE_COMBAT_SPELL</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../#l01636">MAX_SPELL_EFFECTS</a>, <a class="el" href="../../#l01837">MAX_SPELL_ITEM_ENCHANTMENT_EFFECTS</a>, <a class="el" href="../../#l01917">MAX_TALENT_RANK</a>, <a class="el" href="../../#l00820">mSpellInfoMap</a>, <a class="el" href="../../#l00822">mTalentSpellAdditionalSet</a>, <a class="el" href="../../#l01927">TalentEntry::RankID</a>, <a class="el" href="../../#l00348">SpellInfo::RecoveryTime</a>, <a class="el" href="../../#l00608">SpellCooldownOverride::RecoveryTime</a>, <a class="el" href="../../#l00392">SpellInfo::SchoolMask</a>, <a class="el" href="../../#l02954">SKILL_ENCHANTING</a>, <a class="el" href="../../#l00370">SpellInfo::Speed</a>, <a class="el" href="../../#l00194">SPELL_ATTR0_CU_ALLOW_INFLIGHT_TARGET</a>, <a class="el" href="../../#l00200">SPELL_ATTR0_CU_AURA_CANNOT_BE_SAVED</a>, <a class="el" href="../../#l00181">SPELL_ATTR0_CU_AURA_CC</a>, <a class="el" href="../../#l00196">SPELL_ATTR0_CU_BINARY_SPELL</a>, <a class="el" href="../../#l00185">SPELL_ATTR0_CU_CHARGE</a>, <a class="el" href="../../#l00177">SPELL_ATTR0_CU_CONE_BACK</a>, <a class="el" href="../../#l00178">SPELL_ATTR0_CU_CONE_LINE</a>, <a class="el" href="../../#l00184">SPELL_ATTR0_CU_DIRECT_DAMAGE</a>, <a class="el" href="../../#l00182">SPELL_ATTR0_CU_DONT_BREAK_STEALTH</a>, <a class="el" href="../../#l00176">SPELL_ATTR0_CU_ENCHANT_PROC</a>, <a class="el" href="../../#l00205">SPELL_ATTR0_CU_FORCE_AURA_SAVING</a>, <a class="el" href="../../#l00204">SPELL_ATTR0_CU_FORCE_SEND_CATEGORY_COOLDOWNS</a>, <a class="el" href="../../#l00191">SPELL_ATTR0_CU_IGNORE_ARMOR</a>, <a class="el" href="../../#l00187">SPELL_ATTR0_CU_IGNORE_EVADE</a>, <a class="el" href="../../#l00195">SPELL_ATTR0_CU_NEEDS_AMMO_DATA</a>, <a class="el" href="../../#l00210">SPELL_ATTR0_CU_NEGATIVE</a>, <a class="el" href="../../#l00188">SPELL_ATTR0_CU_NEGATIVE_EFF0</a>, <a class="el" href="../../#l00189">SPELL_ATTR0_CU_NEGATIVE_EFF1</a>, <a class="el" href="../../#l00190">SPELL_ATTR0_CU_NEGATIVE_EFF2</a>, <a class="el" href="../../#l00180">SPELL_ATTR0_CU_NO_INITIAL_THREAT</a>, <a class="el" href="../../#l00197">SPELL_ATTR0_CU_NO_POSITIVE_TAKEN_BONUS</a>, <a class="el" href="../../#l00183">SPELL_ATTR0_CU_NO_PVP_FLAG</a>, <a class="el" href="../../#l00186">SPELL_ATTR0_CU_PICKPOCKET</a>, <a class="el" href="../../#l00211">SPELL_ATTR0_CU_POSITIVE</a>, <a class="el" href="../../#l00201">SPELL_ATTR0_CU_POSITIVE_EFF0</a>, <a class="el" href="../../#l00193">SPELL_ATTR0_CU_REQ_CASTER_BEHIND_TARGET</a>, <a class="el" href="../../#l00192">SPELL_ATTR0_CU_REQ_TARGET_FACING_CASTER</a>, <a class="el" href="../../#l00199">SPELL_ATTR0_CU_SCHOOLMASK_NORMAL_WITH_MAGIC</a>, <a class="el" href="../../#l00179">SPELL_ATTR0_CU_SHARE_DAMAGE</a>, <a class="el" href="../../#l00198">SPELL_ATTR0_CU_SINGLE_AURA_STACK</a>, <a class="el" href="../../#l00389">SPELL_ATTR0_DO_NOT_DISPLAY</a>, <a class="el" href="../../#l00411">SPELL_ATTR0_NO_IMMUNITIES</a>, <a class="el" href="../../#l00388">SPELL_ATTR0_PASSIVE</a>, <a class="el" href="../../#l00511">SPELL_ATTR3_ALWAYS_HIT</a>, <a class="el" href="../../#l00240">SPELL_AURA_AOE_CHARM</a>, <a class="el" href="../../#l00064">SPELL_AURA_BIND_SIGHT</a>, <a class="el" href="../../#l00299">SPELL_AURA_CONTROL_VEHICLE</a>, <a class="el" href="../../#l00312">SPELL_AURA_CONVERT_RUNE</a>, <a class="el" href="../../#l00067">SPELL_AURA_DUMMY</a>, <a class="el" href="../../#l00069">SPELL_AURA_MOD_CHARM</a>, <a class="el" href="../../#l00068">SPELL_AURA_MOD_CONFUSE</a>, <a class="el" href="../../#l00070">SPELL_AURA_MOD_FEAR</a>, <a class="el" href="../../#l00081">SPELL_AURA_MOD_INVISIBILITY</a>, <a class="el" href="../../#l00082">SPELL_AURA_MOD_INVISIBILITY_DETECT</a>, <a class="el" href="../../#l00065">SPELL_AURA_MOD_POSSESS</a>, <a class="el" href="../../#l00191">SPELL_AURA_MOD_POSSESS_PET</a>, <a class="el" href="../../#l00203">SPELL_AURA_MOD_RANGED_HASTE</a>, <a class="el" href="../../#l00075">SPELL_AURA_MOD_STUN</a>, <a class="el" href="../../#l00083">SPELL_AURA_OBS_MOD_HEALTH</a>, <a class="el" href="../../#l00084">SPELL_AURA_OBS_MOD_POWER</a>, <a class="el" href="../../#l00355">SPELL_AURA_OPEN_STABLE</a>, <a class="el" href="../../#l00066">SPELL_AURA_PERIODIC_DAMAGE</a>, <a class="el" href="../../#l00152">SPELL_AURA_PERIODIC_DAMAGE_PERCENT</a>, <a class="el" href="../../#l00289">SPELL_AURA_PERIODIC_DUMMY</a>, <a class="el" href="../../#l00087">SPELL_AURA_PERIODIC_ENERGIZE</a>, <a class="el" href="../../#l00071">SPELL_AURA_PERIODIC_HEAL</a>, <a class="el" href="../../#l00125">SPELL_AURA_PERIODIC_HEALTH_FUNNEL</a>, <a class="el" href="../../#l00116">SPELL_AURA_PERIODIC_LEECH</a>, <a class="el" href="../../#l00127">SPELL_AURA_PERIODIC_MANA_LEECH</a>, <a class="el" href="../../#l00086">SPELL_AURA_PERIODIC_TRIGGER_SPELL</a>, <a class="el" href="../../#l00111">SPELL_AURA_PERIODIC_TRIGGER_SPELL_FROM_CLIENT</a>, <a class="el" href="../../#l00290">SPELL_AURA_PERIODIC_TRIGGER_SPELL_WITH_VALUE</a>, <a class="el" href="../../#l00225">SPELL_AURA_POWER_BURN</a>, <a class="el" href="../../#l00105">SPELL_AURA_PROC_TRIGGER_SPELL</a>, <a class="el" href="../../#l00107">SPELL_AURA_TRACK_CREATURES</a>, <a class="el" href="../../#l00145">SPELL_AURA_WATER_BREATHING</a>, <a class="el" href="../../#l00907">SPELL_EFFECT_APPLY_AREA_AURA_ENEMY</a>, <a class="el" href="../../#l00906">SPELL_EFFECT_APPLY_AREA_AURA_FRIEND</a>, <a class="el" href="../../#l00921">SPELL_EFFECT_APPLY_AREA_AURA_OWNER</a>, <a class="el" href="../../#l00813">SPELL_EFFECT_APPLY_AREA_AURA_PARTY</a>, <a class="el" href="../../#l00897">SPELL_EFFECT_APPLY_AREA_AURA_PET</a>, <a class="el" href="../../#l00843">SPELL_EFFECT_APPLY_AREA_AURA_RAID</a>, <a class="el" href="../../#l00784">SPELL_EFFECT_APPLY_AURA</a>, <a class="el" href="../../#l00874">SPELL_EFFECT_CHARGE</a>, <a class="el" href="../../#l00927">SPELL_EFFECT_CHARGE_DEST</a>, <a class="el" href="../../#l00802">SPELL_EFFECT_CREATE_ITEM</a>, <a class="el" href="../../#l00870">SPELL_EFFECT_ENCHANT_HELD_ITEM</a>, <a class="el" href="../../#l00831">SPELL_EFFECT_ENCHANT_ITEM</a>, <a class="el" href="../../#l00934">SPELL_EFFECT_ENCHANT_ITEM_PRISMATIC</a>, <a class="el" href="../../#l00832">SPELL_EFFECT_ENCHANT_ITEM_TEMPORARY</a>, <a class="el" href="../../#l00808">SPELL_EFFECT_ENERGIZE</a>, <a class="el" href="../../#l00915">SPELL_EFFECT_ENERGIZE_PCT</a>, <a class="el" href="../../#l00788">SPELL_EFFECT_HEAL</a>, <a class="el" href="../../#l00845">SPELL_EFFECT_HEAL_MAX_HEALTH</a>, <a class="el" href="../../#l00853">SPELL_EFFECT_HEAL_MECHANICAL</a>, <a class="el" href="../../#l00914">SPELL_EFFECT_HEAL_PCT</a>, <a class="el" href="../../#l00787">SPELL_EFFECT_HEALTH_LEECH</a>, <a class="el" href="../../#l00846">SPELL_EFFECT_INTERRUPT_CAST</a>, <a class="el" href="../../#l00819">SPELL_EFFECT_JUMP</a>, <a class="el" href="../../#l00820">SPELL_EFFECT_JUMP_DEST</a>, <a class="el" href="../../#l00916">SPELL_EFFECT_LEAP_BACK</a>, <a class="el" href="../../#l00814">SPELL_EFFECT_LEARN_SPELL</a>, <a class="el" href="../../#l00899">SPELL_EFFECT_NORMALIZED_WEAPON_DMG</a>, <a class="el" href="../../#l00805">SPELL_EFFECT_PERSISTENT_AREA_AURA</a>, <a class="el" href="../../#l00849">SPELL_EFFECT_PICKPOCKET</a>, <a class="el" href="../../#l00840">SPELL_EFFECT_POWER_BURN</a>, <a class="el" href="../../#l00786">SPELL_EFFECT_POWER_DRAIN</a>, <a class="el" href="../../#l00780">SPELL_EFFECT_SCHOOL_DAMAGE</a>, <a class="el" href="../../#l00842">SPELL_EFFECT_TRIGGER_SPELL</a>, <a class="el" href="../../#l00920">SPELL_EFFECT_TRIGGER_SPELL_WITH_VALUE</a>, <a class="el" href="../../#l00836">SPELL_EFFECT_WEAPON_DAMAGE</a>, <a class="el" href="../../#l00795">SPELL_EFFECT_WEAPON_DAMAGE_NOSCHOOL</a>, <a class="el" href="../../#l00809">SPELL_EFFECT_WEAPON_PERCENT_DAMAGE</a>, <a class="el" href="../../#l00312">SPELL_SCHOOL_MASK_MAGIC</a>, <a class="el" href="../../#l00297">SPELL_SCHOOL_MASK_NORMAL</a>, <a class="el" href="../../#l03535">SPELLFAMILY_DRUID</a>, <a class="el" href="../../#l03537">SPELLFAMILY_HUNTER</a>, <a class="el" href="../../#l03531">SPELLFAMILY_MAGE</a>, <a class="el" href="../../#l03533">SPELLFAMILY_WARLOCK</a>, <a class="el" href="../../#l03532">SPELLFAMILY_WARRIOR</a>, <a class="el" href="../../#l00388">SpellInfo::SpellFamilyFlags</a>, <a class="el" href="../../#l00387">SpellInfo::SpellFamilyName</a>, <a class="el" href="../../#l01846">SpellItemEnchantmentEntry::spellid</a>, <a class="el" href="../../#l00379">SpellInfo::SpellVisual</a>, <a class="el" href="../../#l00709">sScriptMgr</a>, <a class="el" href="../../d7/da2/a03704.html#a056a6a649116138e9e8c21d35a78476b">sSpellItemEnchantmentStore</a>, <a class="el" href="../../#l00825">sSpellMgr</a>, <a class="el" href="../../d7/da2/a03704.html#a700c047422b102d32cb34d37060121c4">sSpellVisualStore</a>, <a class="el" href="../../d7/da2/a03704.html#abd81359499a4a51a71b17ea8f9f7ad62">sTalentStore</a>, <a class="el" href="../../#l00350">SpellInfo::StartRecoveryCategory</a>, <a class="el" href="../../#l00611">SpellCooldownOverride::StartRecoveryCategory</a>, <a class="el" href="../../#l00351">SpellInfo::StartRecoveryTime</a>, <a class="el" href="../../#l00610">SpellCooldownOverride::StartRecoveryTime</a>, <a class="el" href="../../#l01843">SpellItemEnchantmentEntry::type</a>, and <a class="el" href="../../#l00020">WorldDatabase</a>.</p>

</div>
</div>
<a id="a223c626fa01fd3c17c80b9f8eb63e5a1" name="a223c626fa01fd3c17c80b9f8eb63e5a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a223c626fa01fd3c17c80b9f8eb63e5a1">&#9670;&#160;</a></span>LoadSpellInfoStore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellInfoStore </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2691</span>{</div>
<div class="line"><span class="lineno"> 2692</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2693</span> </div>
<div class="line"><span class="lineno"> 2694</span>    <a class="code hl_function" href="../../d4/d62/a10962.html#a2b2cc6f3ee5006297dff23eb8567db29">UnloadSpellInfoStore</a>();</div>
<div class="line"><span class="lineno"> 2695</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>.resize(<a class="code hl_variable" href="../../d7/da2/a03704.html#ab07c8126df92da43a32dfe00d7986cf6">sSpellStore</a>.GetNumRows(), <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 2696</span> </div>
<div class="line"><span class="lineno"> 2697</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="../../dc/d78/a27922.html">SpellEntry</a> <span class="keyword">const</span>* spellEntry : <a class="code hl_variable" href="../../d7/da2/a03704.html#ab07c8126df92da43a32dfe00d7986cf6">sSpellStore</a>)</div>
<div class="line"><span class="lineno"> 2698</span>        <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[spellEntry-&gt;Id] = <span class="keyword">new</span> <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>(spellEntry);</div>
<div class="line"><span class="lineno"> 2699</span> </div>
<div class="line"><span class="lineno"> 2700</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellIndex = 0; spellIndex &lt; <a class="code hl_function" href="../../d4/d62/a10962.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>(); ++spellIndex)</div>
<div class="line"><span class="lineno"> 2701</span>    {</div>
<div class="line"><span class="lineno"> 2702</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[spellIndex])</div>
<div class="line"><span class="lineno"> 2703</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2704</span> </div>
<div class="line"><span class="lineno"> 2705</span>        <span class="keywordflow">for</span> (<a class="code hl_class" href="../../d2/db6/a10898.html">SpellEffectInfo</a> <span class="keyword">const</span>&amp; spellEffectInfo : <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[spellIndex]-&gt;GetEffects())</div>
<div class="line"><span class="lineno"> 2706</span>        {</div>
<div class="line"><span class="lineno"> 2707</span>            <span class="comment">//ASSERT(effect.EffectIndex &lt; MAX_SPELL_EFFECTS, &quot;MAX_SPELL_EFFECTS must be at least {}&quot;, effect.EffectIndex + 1);</span></div>
<div class="line"><span class="lineno"> 2708</span>            <a class="code hl_define" href="../../da/d45/a00011.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(spellEffectInfo.Effect &lt; <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ac913ee875debc7ace072a1079d0f1cbc">TOTAL_SPELL_EFFECTS</a>, <span class="stringliteral">&quot;TOTAL_SPELL_EFFECTS must be at least {}&quot;</span>, spellEffectInfo.Effect + 1);</div>
<div class="line"><span class="lineno"> 2709</span>            <a class="code hl_define" href="../../da/d45/a00011.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(spellEffectInfo.ApplyAuraName &lt; <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a2c54cb231c2a5249712731d819736186">TOTAL_AURAS</a>, <span class="stringliteral">&quot;TOTAL_AURAS must be at least {}&quot;</span>, spellEffectInfo.ApplyAuraName + 1);</div>
<div class="line"><span class="lineno"> 2710</span>            <a class="code hl_define" href="../../da/d45/a00011.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(spellEffectInfo.TargetA.GetTarget() &lt; <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a9d7b287f18ed98352e92531e2c89a91d">TOTAL_SPELL_TARGETS</a>, <span class="stringliteral">&quot;TOTAL_SPELL_TARGETS must be at least {}&quot;</span>, spellEffectInfo.TargetA.GetTarget() + 1);</div>
<div class="line"><span class="lineno"> 2711</span>            <a class="code hl_define" href="../../da/d45/a00011.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(spellEffectInfo.TargetB.GetTarget() &lt; <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a9d7b287f18ed98352e92531e2c89a91d">TOTAL_SPELL_TARGETS</a>, <span class="stringliteral">&quot;TOTAL_SPELL_TARGETS must be at least {}&quot;</span>, spellEffectInfo.TargetB.GetTarget() + 1);</div>
<div class="line"><span class="lineno"> 2712</span>        }</div>
<div class="line"><span class="lineno"> 2713</span>    }</div>
<div class="line"><span class="lineno"> 2714</span> </div>
<div class="line"><span class="lineno"> 2715</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded Spell Custom Attributes in {} ms&quot;</span>, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2716</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2717</span>}</div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97ac913ee875debc7ace072a1079d0f1cbc"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ac913ee875debc7ace072a1079d0f1cbc">TOTAL_SPELL_EFFECTS</a></div><div class="ttdeci">@ TOTAL_SPELL_EFFECTS</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:943</div></div>
<div class="ttc" id="aa02771_html_a418aed4e4066eb09ab979b5d78dc9152a9d7b287f18ed98352e92531e2c89a91d"><div class="ttname"><a href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a9d7b287f18ed98352e92531e2c89a91d">TOTAL_SPELL_TARGETS</a></div><div class="ttdeci">@ TOTAL_SPELL_TARGETS</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1514</div></div>
<div class="ttc" id="aa03092_html_a538cdc259460b365f406fe0b3a981799a2c54cb231c2a5249712731d819736186"><div class="ttname"><a href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a2c54cb231c2a5249712731d819736186">TOTAL_AURAS</a></div><div class="ttdeci">@ TOTAL_AURAS</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:380</div></div>
<div class="ttc" id="aa03704_html_ab07c8126df92da43a32dfe00d7986cf6"><div class="ttname"><a href="../../d7/da2/a03704.html#ab07c8126df92da43a32dfe00d7986cf6">sSpellStore</a></div><div class="ttdeci">DBCStorage&lt; SpellEntry &gt; sSpellStore(SpellEntryfmt)</div></div>
<div class="ttc" id="aa27922_html"><div class="ttname"><a href="../../dc/d78/a27922.html">SpellEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1641</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00068">ASSERT</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00751">GetSpellInfoStoreSize()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00820">mSpellInfoMap</a>, <a class="el" href="../../d7/da2/a03704.html#ab07c8126df92da43a32dfe00d7986cf6">sSpellStore</a>, <a class="el" href="../../#l00380">TOTAL_AURAS</a>, <a class="el" href="../../#l00943">TOTAL_SPELL_EFFECTS</a>, <a class="el" href="../../#l01514">TOTAL_SPELL_TARGETS</a>, and <a class="el" href="../../#l02761">UnloadSpellInfoStore()</a>.</p>

</div>
</div>
<a id="a728b29c7bbad1e6a4a924197579a9c28" name="a728b29c7bbad1e6a4a924197579a9c28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a728b29c7bbad1e6a4a924197579a9c28">&#9670;&#160;</a></span>LoadSpellLearnSkills()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellLearnSkills </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1469</span>{</div>
<div class="line"><span class="lineno"> 1470</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 1471</span> </div>
<div class="line"><span class="lineno"> 1472</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a32d05e01103bd64f22e3993bf46e4bb6">mSpellLearnSkills</a>.clear();                              <span class="comment">// need for reload case</span></div>
<div class="line"><span class="lineno"> 1473</span> </div>
<div class="line"><span class="lineno"> 1474</span>    <span class="comment">// search auto-learned skills and add its to map also for use in unlearn spells/talents</span></div>
<div class="line"><span class="lineno"> 1475</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> dbc_count = 0;</div>
<div class="line"><span class="lineno"> 1476</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell = 0; spell &lt; <a class="code hl_function" href="../../d4/d62/a10962.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>(); ++spell)</div>
<div class="line"><span class="lineno"> 1477</span>    {</div>
<div class="line"><span class="lineno"> 1478</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* entry = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(spell);</div>
<div class="line"><span class="lineno"> 1479</span> </div>
<div class="line"><span class="lineno"> 1480</span>        <span class="keywordflow">if</span> (!entry)</div>
<div class="line"><span class="lineno"> 1481</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1482</span> </div>
<div class="line"><span class="lineno"> 1483</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++i)</div>
<div class="line"><span class="lineno"> 1484</span>        {</div>
<div class="line"><span class="lineno"> 1485</span>            <a class="code hl_struct" href="../../df/daf/a10950.html">SpellLearnSkillNode</a> dbc_node;</div>
<div class="line"><span class="lineno"> 1486</span>            <span class="keywordflow">switch</span> (entry-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[i].Effect)</div>
<div class="line"><span class="lineno"> 1487</span>            {</div>
<div class="line"><span class="lineno"> 1488</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a37c3501cd211969f5ba9a932a191d275">SPELL_EFFECT_SKILL</a>:</div>
<div class="line"><span class="lineno"> 1489</span>                    dbc_node.<a class="code hl_variable" href="../../df/daf/a10950.html#a8bcbe05ff6a3220f9f05f52b16925f5d">skill</a> = entry-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[i].MiscValue;</div>
<div class="line"><span class="lineno"> 1490</span>                    dbc_node.<a class="code hl_variable" href="../../df/daf/a10950.html#a1c882f7d43c65954cb99566225660312">step</a>  = entry-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[i].CalcValue();</div>
<div class="line"><span class="lineno"> 1491</span>                    <span class="keywordflow">if</span> (dbc_node.<a class="code hl_variable" href="../../df/daf/a10950.html#a8bcbe05ff6a3220f9f05f52b16925f5d">skill</a> != <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#af4541d30ebbff76b1f9f689519789234a91ab54f2f2d5f62473324790d2678324">SKILL_RIDING</a>)</div>
<div class="line"><span class="lineno"> 1492</span>                    {</div>
<div class="line"><span class="lineno"> 1493</span>                        dbc_node.<a class="code hl_variable" href="../../df/daf/a10950.html#a064fece53cdaf07b072510b14200a968">value</a> = 1;</div>
<div class="line"><span class="lineno"> 1494</span>                    }</div>
<div class="line"><span class="lineno"> 1495</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1496</span>                    {</div>
<div class="line"><span class="lineno"> 1497</span>                        dbc_node.<a class="code hl_variable" href="../../df/daf/a10950.html#a064fece53cdaf07b072510b14200a968">value</a> = dbc_node.<a class="code hl_variable" href="../../df/daf/a10950.html#a1c882f7d43c65954cb99566225660312">step</a> * 75;</div>
<div class="line"><span class="lineno"> 1498</span>                    }</div>
<div class="line"><span class="lineno"> 1499</span>                    dbc_node.<a class="code hl_variable" href="../../df/daf/a10950.html#a1dd2289b0d3505cb50e8613595ad8c8e">maxvalue</a> = dbc_node.<a class="code hl_variable" href="../../df/daf/a10950.html#a1c882f7d43c65954cb99566225660312">step</a> * 75;</div>
<div class="line"><span class="lineno"> 1500</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1501</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ab1734605abdd18c8595b9fbffa015a03">SPELL_EFFECT_DUAL_WIELD</a>:</div>
<div class="line"><span class="lineno"> 1502</span>                    dbc_node.<a class="code hl_variable" href="../../df/daf/a10950.html#a8bcbe05ff6a3220f9f05f52b16925f5d">skill</a> = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#af4541d30ebbff76b1f9f689519789234a0b7fa0c2fd1c5c2d41d88fb4d0e03fde">SKILL_DUAL_WIELD</a>;</div>
<div class="line"><span class="lineno"> 1503</span>                    dbc_node.<a class="code hl_variable" href="../../df/daf/a10950.html#a1c882f7d43c65954cb99566225660312">step</a> = 1;</div>
<div class="line"><span class="lineno"> 1504</span>                    dbc_node.<a class="code hl_variable" href="../../df/daf/a10950.html#a064fece53cdaf07b072510b14200a968">value</a> = 1;</div>
<div class="line"><span class="lineno"> 1505</span>                    dbc_node.<a class="code hl_variable" href="../../df/daf/a10950.html#a1dd2289b0d3505cb50e8613595ad8c8e">maxvalue</a> = 1;</div>
<div class="line"><span class="lineno"> 1506</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1507</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1508</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1509</span>            }</div>
<div class="line"><span class="lineno"> 1510</span> </div>
<div class="line"><span class="lineno"> 1511</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#a32d05e01103bd64f22e3993bf46e4bb6">mSpellLearnSkills</a>[spell] = dbc_node;</div>
<div class="line"><span class="lineno"> 1512</span>            ++dbc_count;</div>
<div class="line"><span class="lineno"> 1513</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1514</span>        }</div>
<div class="line"><span class="lineno"> 1515</span>    }</div>
<div class="line"><span class="lineno"> 1516</span> </div>
<div class="line"><span class="lineno"> 1517</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Spell Learn Skills From DBC in {} ms&quot;</span>, dbc_count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 1518</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1519</span>}</div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97a37c3501cd211969f5ba9a932a191d275"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a37c3501cd211969f5ba9a932a191d275">SPELL_EFFECT_SKILL</a></div><div class="ttdeci">@ SPELL_EFFECT_SKILL</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:896</div></div>
<div class="ttc" id="aa02771_html_a292c893150c454dd75628b719db1fe97ab1734605abdd18c8595b9fbffa015a03"><div class="ttname"><a href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97ab1734605abdd18c8595b9fbffa015a03">SPELL_EFFECT_DUAL_WIELD</a></div><div class="ttdeci">@ SPELL_EFFECT_DUAL_WIELD</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:818</div></div>
<div class="ttc" id="aa02771_html_af4541d30ebbff76b1f9f689519789234a0b7fa0c2fd1c5c2d41d88fb4d0e03fde"><div class="ttname"><a href="../../d0/dbd/a02771.html#af4541d30ebbff76b1f9f689519789234a0b7fa0c2fd1c5c2d41d88fb4d0e03fde">SKILL_DUAL_WIELD</a></div><div class="ttdeci">@ SKILL_DUAL_WIELD</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:2888</div></div>
<div class="ttc" id="aa02771_html_af4541d30ebbff76b1f9f689519789234a91ab54f2f2d5f62473324790d2678324"><div class="ttname"><a href="../../d0/dbd/a02771.html#af4541d30ebbff76b1f9f689519789234a91ab54f2f2d5f62473324790d2678324">SKILL_RIDING</a></div><div class="ttdeci">@ SKILL_RIDING</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:2991</div></div>
<div class="ttc" id="aa10950_html"><div class="ttname"><a href="../../df/daf/a10950.html">SpellLearnSkillNode</a></div><div class="ttdef"><b>Definition:</b> SpellMgr.h:574</div></div>
<div class="ttc" id="aa10950_html_a064fece53cdaf07b072510b14200a968"><div class="ttname"><a href="../../df/daf/a10950.html#a064fece53cdaf07b072510b14200a968">SpellLearnSkillNode::value</a></div><div class="ttdeci">uint16 value</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:577</div></div>
<div class="ttc" id="aa10950_html_a1c882f7d43c65954cb99566225660312"><div class="ttname"><a href="../../df/daf/a10950.html#a1c882f7d43c65954cb99566225660312">SpellLearnSkillNode::step</a></div><div class="ttdeci">uint16 step</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:576</div></div>
<div class="ttc" id="aa10950_html_a1dd2289b0d3505cb50e8613595ad8c8e"><div class="ttname"><a href="../../df/daf/a10950.html#a1dd2289b0d3505cb50e8613595ad8c8e">SpellLearnSkillNode::maxvalue</a></div><div class="ttdeci">uint16 maxvalue</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:578</div></div>
<div class="ttc" id="aa10950_html_a8bcbe05ff6a3220f9f05f52b16925f5d"><div class="ttname"><a href="../../df/daf/a10950.html#a8bcbe05ff6a3220f9f05f52b16925f5d">SpellLearnSkillNode::skill</a></div><div class="ttdeci">uint16 skill</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:575</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00393">SpellInfo::Effects</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00751">GetSpellInfoStoreSize()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l01636">MAX_SPELL_EFFECTS</a>, <a class="el" href="../../#l00578">SpellLearnSkillNode::maxvalue</a>, <a class="el" href="../../#l00799">mSpellLearnSkills</a>, <a class="el" href="../../#l00575">SpellLearnSkillNode::skill</a>, <a class="el" href="../../#l02888">SKILL_DUAL_WIELD</a>, <a class="el" href="../../#l02991">SKILL_RIDING</a>, <a class="el" href="../../#l00818">SPELL_EFFECT_DUAL_WIELD</a>, <a class="el" href="../../#l00896">SPELL_EFFECT_SKILL</a>, <a class="el" href="../../#l00576">SpellLearnSkillNode::step</a>, and <a class="el" href="../../#l00577">SpellLearnSkillNode::value</a>.</p>

</div>
</div>
<a id="a085ba1ffcde6b34c7b612d11e36513df" name="a085ba1ffcde6b34c7b612d11e36513df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a085ba1ffcde6b34c7b612d11e36513df">&#9670;&#160;</a></span>LoadSpellLinked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellLinked </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2253</span>{</div>
<div class="line"><span class="lineno"> 2254</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2255</span> </div>
<div class="line"><span class="lineno"> 2256</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a032f25dee822225e2dfbb75e1c6d56f5">mSpellLinkedMap</a>.clear();    <span class="comment">// need for reload case</span></div>
<div class="line"><span class="lineno"> 2257</span> </div>
<div class="line"><span class="lineno"> 2258</span>    <span class="comment">//                                                0              1             2</span></div>
<div class="line"><span class="lineno"> 2259</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT spell_trigger, spell_effect, type FROM spell_linked_spell&quot;</span>);</div>
<div class="line"><span class="lineno"> 2260</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno"> 2261</span>    {</div>
<div class="line"><span class="lineno"> 2262</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 linked spells. DB table `spell_linked_spell` is empty.&quot;</span>);</div>
<div class="line"><span class="lineno"> 2263</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2264</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2265</span>    }</div>
<div class="line"><span class="lineno"> 2266</span> </div>
<div class="line"><span class="lineno"> 2267</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 2268</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 2269</span>    {</div>
<div class="line"><span class="lineno"> 2270</span>        <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 2271</span> </div>
<div class="line"><span class="lineno"> 2272</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> trigger = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2273</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> effect = fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2274</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> type = fields[2].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;();</div>
<div class="line"><span class="lineno"> 2275</span> </div>
<div class="line"><span class="lineno"> 2276</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(std::abs(trigger));</div>
<div class="line"><span class="lineno"> 2277</span>        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 2278</span>        {</div>
<div class="line"><span class="lineno"> 2279</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_linked_spell` does not exist&quot;</span>, std::abs(trigger));</div>
<div class="line"><span class="lineno"> 2280</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2281</span>        }</div>
<div class="line"><span class="lineno"> 2282</span>        spellInfo = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(std::abs(effect));</div>
<div class="line"><span class="lineno"> 2283</span>        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 2284</span>        {</div>
<div class="line"><span class="lineno"> 2285</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_linked_spell` does not exist&quot;</span>, std::abs(effect));</div>
<div class="line"><span class="lineno"> 2286</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2287</span>        }</div>
<div class="line"><span class="lineno"> 2288</span> </div>
<div class="line"><span class="lineno"> 2289</span>        <span class="keywordflow">if</span> (type) <span class="comment">//we will find a better way when more types are needed</span></div>
<div class="line"><span class="lineno"> 2290</span>        {</div>
<div class="line"><span class="lineno"> 2291</span>            <span class="keywordflow">if</span> (trigger &gt; 0)</div>
<div class="line"><span class="lineno"> 2292</span>                trigger += <a class="code hl_define" href="../../df/d64/a03110.html#af4e20067ac1089d43e9ece8073dfd728">SPELL_LINKED_MAX_SPELLS</a> * type;</div>
<div class="line"><span class="lineno"> 2293</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2294</span>                trigger -= <a class="code hl_define" href="../../df/d64/a03110.html#af4e20067ac1089d43e9ece8073dfd728">SPELL_LINKED_MAX_SPELLS</a> * type;</div>
<div class="line"><span class="lineno"> 2295</span>        }</div>
<div class="line"><span class="lineno"> 2296</span>        <a class="code hl_variable" href="../../d4/d62/a10962.html#a032f25dee822225e2dfbb75e1c6d56f5">mSpellLinkedMap</a>[trigger].push_back(effect);</div>
<div class="line"><span class="lineno"> 2297</span> </div>
<div class="line"><span class="lineno"> 2298</span>        ++count;</div>
<div class="line"><span class="lineno"> 2299</span>    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno"> 2300</span> </div>
<div class="line"><span class="lineno"> 2301</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Linked Spells in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2302</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2303</span>}</div>
<div class="ttc" id="aa03110_html_af4e20067ac1089d43e9ece8073dfd728"><div class="ttname"><a href="../../df/d64/a03110.html#af4e20067ac1089d43e9ece8073dfd728">SPELL_LINKED_MAX_SPELLS</a></div><div class="ttdeci">#define SPELL_LINKED_MAX_SPELLS</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:92</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../#l00809">mSpellLinkedMap</a>, <a class="el" href="../../#l00092">SPELL_LINKED_MAX_SPELLS</a>, and <a class="el" href="../../#l00020">WorldDatabase</a>.</p>

</div>
</div>
<a id="ae2abb2ff60931b9849f928fd74892971" name="ae2abb2ff60931b9849f928fd74892971"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2abb2ff60931b9849f928fd74892971">&#9670;&#160;</a></span>LoadSpellMixology()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellMixology </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2046</span>{</div>
<div class="line"><span class="lineno"> 2047</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2048</span> </div>
<div class="line"><span class="lineno"> 2049</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a5637b3248011a308a57338e6f74b7bdd">mSpellMixologyMap</a>.clear();                                <span class="comment">// need for reload case</span></div>
<div class="line"><span class="lineno"> 2050</span> </div>
<div class="line"><span class="lineno"> 2051</span>    <span class="comment">//                                                0      1</span></div>
<div class="line"><span class="lineno"> 2052</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT entry, pctMod FROM spell_mixology&quot;</span>);</div>
<div class="line"><span class="lineno"> 2053</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno"> 2054</span>    {</div>
<div class="line"><span class="lineno"> 2055</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 mixology bonuses. DB table `spell_mixology` is empty.&quot;</span>);</div>
<div class="line"><span class="lineno"> 2056</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2057</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2058</span>    }</div>
<div class="line"><span class="lineno"> 2059</span> </div>
<div class="line"><span class="lineno"> 2060</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 2061</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 2062</span>    {</div>
<div class="line"><span class="lineno"> 2063</span>        <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 2064</span> </div>
<div class="line"><span class="lineno"> 2065</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entry = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2066</span> </div>
<div class="line"><span class="lineno"> 2067</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(entry))</div>
<div class="line"><span class="lineno"> 2068</span>        {</div>
<div class="line"><span class="lineno"> 2069</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_mixology` does not exist&quot;</span>, entry);</div>
<div class="line"><span class="lineno"> 2070</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2071</span>        }</div>
<div class="line"><span class="lineno"> 2072</span> </div>
<div class="line"><span class="lineno"> 2073</span>        <a class="code hl_variable" href="../../d4/d62/a10962.html#a5637b3248011a308a57338e6f74b7bdd">mSpellMixologyMap</a>[entry] = fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 2074</span>        ++count;</div>
<div class="line"><span class="lineno"> 2075</span>    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno"> 2076</span> </div>
<div class="line"><span class="lineno"> 2077</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Mixology Bonuses in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2078</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2079</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../#l00807">mSpellMixologyMap</a>, and <a class="el" href="../../#l00020">WorldDatabase</a>.</p>

</div>
</div>
<a id="ac0075b5d8cabc7ff2cea2537a1c31ead" name="ac0075b5d8cabc7ff2cea2537a1c31ead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0075b5d8cabc7ff2cea2537a1c31ead">&#9670;&#160;</a></span>LoadSpellPetAuras()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellPetAuras </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2104</span>{</div>
<div class="line"><span class="lineno"> 2105</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2106</span> </div>
<div class="line"><span class="lineno"> 2107</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a32090ca7b9037cdd52aa11d5ecb1bc51">mSpellPetAuraMap</a>.clear();                                  <span class="comment">// need for reload case</span></div>
<div class="line"><span class="lineno"> 2108</span> </div>
<div class="line"><span class="lineno"> 2109</span>    <span class="comment">//                                                  0       1       2    3</span></div>
<div class="line"><span class="lineno"> 2110</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT spell, effectId, pet, aura FROM spell_pet_auras&quot;</span>);</div>
<div class="line"><span class="lineno"> 2111</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno"> 2112</span>    {</div>
<div class="line"><span class="lineno"> 2113</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell pet auras. DB table `spell_pet_auras` is empty.&quot;</span>);</div>
<div class="line"><span class="lineno"> 2114</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2115</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2116</span>    }</div>
<div class="line"><span class="lineno"> 2117</span> </div>
<div class="line"><span class="lineno"> 2118</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 2119</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 2120</span>    {</div>
<div class="line"><span class="lineno"> 2121</span>        <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 2122</span> </div>
<div class="line"><span class="lineno"> 2123</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2124</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> eff = fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;();</div>
<div class="line"><span class="lineno"> 2125</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> pet = fields[2].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2126</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> aura = fields[3].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2127</span> </div>
<div class="line"><span class="lineno"> 2128</span>        SpellPetAuraMap::iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#a32090ca7b9037cdd52aa11d5ecb1bc51">mSpellPetAuraMap</a>.find((spell &lt;&lt; 8) + eff);</div>
<div class="line"><span class="lineno"> 2129</span>        <span class="keywordflow">if</span> (itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#a32090ca7b9037cdd52aa11d5ecb1bc51">mSpellPetAuraMap</a>.end())</div>
<div class="line"><span class="lineno"> 2130</span>            itr-&gt;second.AddAura(pet, aura);</div>
<div class="line"><span class="lineno"> 2131</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2132</span>        {</div>
<div class="line"><span class="lineno"> 2133</span>            <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(spell);</div>
<div class="line"><span class="lineno"> 2134</span>            <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 2135</span>            {</div>
<div class="line"><span class="lineno"> 2136</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_pet_auras` does not exist&quot;</span>, spell);</div>
<div class="line"><span class="lineno"> 2137</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2138</span>            }</div>
<div class="line"><span class="lineno"> 2139</span>            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[eff].Effect != <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97a027bcdf3b42e90e7374802fe61fd776d">SPELL_EFFECT_DUMMY</a> &amp;&amp;</div>
<div class="line"><span class="lineno"> 2140</span>                    (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[eff].Effect != <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a292c893150c454dd75628b719db1fe97af737ae1ce32d016e21279dfed355d63d">SPELL_EFFECT_APPLY_AURA</a> ||</div>
<div class="line"><span class="lineno"> 2141</span>                     spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[eff].ApplyAuraName != <a class="code hl_enumvalue" href="../../d5/d37/a03092.html#a538cdc259460b365f406fe0b3a981799a66cca11731d68512cb0bb652cb1e7caf">SPELL_AURA_DUMMY</a>))</div>
<div class="line"><span class="lineno"> 2142</span>            {</div>
<div class="line"><span class="lineno"> 2143</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;spells&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_pet_auras` does not have dummy aura or dummy effect&quot;</span>, spell);</div>
<div class="line"><span class="lineno"> 2144</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2145</span>            }</div>
<div class="line"><span class="lineno"> 2146</span> </div>
<div class="line"><span class="lineno"> 2147</span>            <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo2 = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(aura);</div>
<div class="line"><span class="lineno"> 2148</span>            <span class="keywordflow">if</span> (!spellInfo2)</div>
<div class="line"><span class="lineno"> 2149</span>            {</div>
<div class="line"><span class="lineno"> 2150</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Aura {} listed in `spell_pet_auras` does not exist&quot;</span>, aura);</div>
<div class="line"><span class="lineno"> 2151</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2152</span>            }</div>
<div class="line"><span class="lineno"> 2153</span> </div>
<div class="line"><span class="lineno"> 2154</span>            <a class="code hl_class" href="../../d2/dac/a10938.html">PetAura</a> pa(pet, aura, spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[eff].TargetA.GetTarget() == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a85f865aa0228f193158a34cbafe4d706">TARGET_UNIT_PET</a>, spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[eff].CalcValue());</div>
<div class="line"><span class="lineno"> 2155</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#a32090ca7b9037cdd52aa11d5ecb1bc51">mSpellPetAuraMap</a>[(spell &lt;&lt; 8) + eff] = pa;</div>
<div class="line"><span class="lineno"> 2156</span>        }</div>
<div class="line"><span class="lineno"> 2157</span> </div>
<div class="line"><span class="lineno"> 2158</span>        ++count;</div>
<div class="line"><span class="lineno"> 2159</span>    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno"> 2160</span> </div>
<div class="line"><span class="lineno"> 2161</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Spell Pet Auras in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2162</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2163</span>}</div>
<div class="ttc" id="aa10938_html"><div class="ttname"><a href="../../d2/dac/a10938.html">PetAura</a></div><div class="ttdef"><b>Definition:</b> SpellMgr.h:470</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00393">SpellInfo::Effects</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../#l00808">mSpellPetAuraMap</a>, <a class="el" href="../../#l00067">SPELL_AURA_DUMMY</a>, <a class="el" href="../../#l00784">SPELL_EFFECT_APPLY_AURA</a>, <a class="el" href="../../#l00781">SPELL_EFFECT_DUMMY</a>, <a class="el" href="../../#l01414">TARGET_UNIT_PET</a>, and <a class="el" href="../../#l00020">WorldDatabase</a>.</p>

</div>
</div>
<a id="abda66c7b90ba0dfa8dbafe742c501939" name="abda66c7b90ba0dfa8dbafe742c501939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abda66c7b90ba0dfa8dbafe742c501939">&#9670;&#160;</a></span>LoadSpellProcEvents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellProcEvents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1738</span>{</div>
<div class="line"><span class="lineno"> 1739</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 1740</span> </div>
<div class="line"><span class="lineno"> 1741</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a3e6353afe01453ebf0bab09cde94673e">mSpellProcEventMap</a>.clear();                             <span class="comment">// need for reload case</span></div>
<div class="line"><span class="lineno"> 1742</span> </div>
<div class="line"><span class="lineno"> 1743</span>    <span class="comment">//                                                0      1           2                3                 4                 5                 6          7       8          9             10       11</span></div>
<div class="line"><span class="lineno"> 1744</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT entry, SchoolMask, SpellFamilyName, SpellFamilyMask0, SpellFamilyMask1, SpellFamilyMask2, procFlags, procEx, procPhase, ppmRate, CustomChance, Cooldown FROM spell_proc_event&quot;</span>);</div>
<div class="line"><span class="lineno"> 1745</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno"> 1746</span>    {</div>
<div class="line"><span class="lineno"> 1747</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell proc event conditions. DB table `spell_proc_event` is empty.&quot;</span>);</div>
<div class="line"><span class="lineno"> 1748</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1749</span>    }</div>
<div class="line"><span class="lineno"> 1750</span> </div>
<div class="line"><span class="lineno"> 1751</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 1752</span> </div>
<div class="line"><span class="lineno"> 1753</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 1754</span>    {</div>
<div class="line"><span class="lineno"> 1755</span>        <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 1756</span> </div>
<div class="line"><span class="lineno"> 1757</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> spellId = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1758</span> </div>
<div class="line"><span class="lineno"> 1759</span>        <span class="keywordtype">bool</span> allRanks = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1760</span>        <span class="keywordflow">if</span> (spellId &lt; 0)</div>
<div class="line"><span class="lineno"> 1761</span>        {</div>
<div class="line"><span class="lineno"> 1762</span>            allRanks = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1763</span>            spellId = -spellId;</div>
<div class="line"><span class="lineno"> 1764</span>        }</div>
<div class="line"><span class="lineno"> 1765</span> </div>
<div class="line"><span class="lineno"> 1766</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(spellId);</div>
<div class="line"><span class="lineno"> 1767</span>        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 1768</span>        {</div>
<div class="line"><span class="lineno"> 1769</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_proc_event` does not exist&quot;</span>, spellId);</div>
<div class="line"><span class="lineno"> 1770</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1771</span>        }</div>
<div class="line"><span class="lineno"> 1772</span> </div>
<div class="line"><span class="lineno"> 1773</span>        <span class="keywordflow">if</span> (allRanks)</div>
<div class="line"><span class="lineno"> 1774</span>        {</div>
<div class="line"><span class="lineno"> 1775</span>            <span class="keywordflow">if</span> (!spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#a562060f7c0d25cb229a16da38692b69e">IsRanked</a>())</div>
<div class="line"><span class="lineno"> 1776</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_proc_event` with all ranks, but spell has no ranks.&quot;</span>, spellId);</div>
<div class="line"><span class="lineno"> 1777</span> </div>
<div class="line"><span class="lineno"> 1778</span>            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#a236dc1b4f58ebf6a2eb5b1824c5e8073">GetFirstRankSpell</a>()-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> != <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(spellId))</div>
<div class="line"><span class="lineno"> 1779</span>            {</div>
<div class="line"><span class="lineno"> 1780</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_proc_event` is not first rank of spell.&quot;</span>, spellId);</div>
<div class="line"><span class="lineno"> 1781</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1782</span>            }</div>
<div class="line"><span class="lineno"> 1783</span>        }</div>
<div class="line"><span class="lineno"> 1784</span> </div>
<div class="line"><span class="lineno"> 1785</span>        <a class="code hl_struct" href="../../dd/df5/a10910.html">SpellProcEventEntry</a> spellProcEvent;</div>
<div class="line"><span class="lineno"> 1786</span> </div>
<div class="line"><span class="lineno"> 1787</span>        spellProcEvent.<a class="code hl_variable" href="../../dd/df5/a10910.html#a9a6d38ee4e4a35066780ef924c63f92f">schoolMask</a>         = fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a3bb8a71f4ae9af551f71e9eb2c9c3325">int8</a>&gt;();</div>
<div class="line"><span class="lineno"> 1788</span>        spellProcEvent.<a class="code hl_variable" href="../../dd/df5/a10910.html#a5ffa91b3f66ebb0ac34f30e1c532fb3a">spellFamilyName</a>    = fields[2].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a>&gt;();</div>
<div class="line"><span class="lineno"> 1789</span>        spellProcEvent.<a class="code hl_variable" href="../../dd/df5/a10910.html#a2aa57bf419ab51129fe7240750ee8910">spellFamilyMask</a>[0] = fields[3].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1790</span>        spellProcEvent.<a class="code hl_variable" href="../../dd/df5/a10910.html#a2aa57bf419ab51129fe7240750ee8910">spellFamilyMask</a>[1] = fields[4].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1791</span>        spellProcEvent.<a class="code hl_variable" href="../../dd/df5/a10910.html#a2aa57bf419ab51129fe7240750ee8910">spellFamilyMask</a>[2] = fields[5].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1792</span>        spellProcEvent.<a class="code hl_variable" href="../../dd/df5/a10910.html#af253ef32b9de49fe85d0fe6f06855a60">procFlags</a>          = fields[6].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1793</span>        spellProcEvent.<a class="code hl_variable" href="../../dd/df5/a10910.html#a911770f28fe36243593b12fe92d6fbec">procEx</a>             = fields[7].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1794</span>        spellProcEvent.<a class="code hl_variable" href="../../dd/df5/a10910.html#a179d83770a02e4ab13f809ed3943a399">procPhase</a>          = fields[8].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1795</span>        spellProcEvent.<a class="code hl_variable" href="../../dd/df5/a10910.html#a931b2df4a187482e32ef252c3320080a">ppmRate</a>            = fields[9].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 1796</span>        spellProcEvent.<a class="code hl_variable" href="../../dd/df5/a10910.html#adf6742b70f0b00abddf1da6f45da3d16">customChance</a>       = fields[10].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 1797</span>        spellProcEvent.<a class="code hl_variable" href="../../dd/df5/a10910.html#a0cd88c27979ccc5284aa46846db32a7c">cooldown</a>           = fields[11].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1798</span> </div>
<div class="line"><span class="lineno"> 1799</span>        <span class="comment">// PROC_SPELL_PHASE_NONE is by default PROC_SPELL_PHASE_HIT</span></div>
<div class="line"><span class="lineno"> 1800</span>        <span class="keywordflow">if</span> (spellProcEvent.<a class="code hl_variable" href="../../dd/df5/a10910.html#a179d83770a02e4ab13f809ed3943a399">procPhase</a> == <a class="code hl_enumvalue" href="../../df/d64/a03110.html#addbb65f0e6c920d8577112d9dd55beb4a4cc4bb9156037cad14a0d453ab82428f">PROC_SPELL_PHASE_NONE</a>)</div>
<div class="line"><span class="lineno"> 1801</span>        {</div>
<div class="line"><span class="lineno"> 1802</span>            spellProcEvent.<a class="code hl_variable" href="../../dd/df5/a10910.html#a179d83770a02e4ab13f809ed3943a399">procPhase</a> = <a class="code hl_enumvalue" href="../../df/d64/a03110.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a>;</div>
<div class="line"><span class="lineno"> 1803</span>        }</div>
<div class="line"><span class="lineno"> 1804</span> </div>
<div class="line"><span class="lineno"> 1805</span>        <span class="keywordflow">while</span> (spellInfo)</div>
<div class="line"><span class="lineno"> 1806</span>        {</div>
<div class="line"><span class="lineno"> 1807</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/d62/a10962.html#a3e6353afe01453ebf0bab09cde94673e">mSpellProcEventMap</a>.find(spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>) != <a class="code hl_variable" href="../../d4/d62/a10962.html#a3e6353afe01453ebf0bab09cde94673e">mSpellProcEventMap</a>.end())</div>
<div class="line"><span class="lineno"> 1808</span>            {</div>
<div class="line"><span class="lineno"> 1809</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_proc_event` already has its first rank in table.&quot;</span>, spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>);</div>
<div class="line"><span class="lineno"> 1810</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1811</span>            }</div>
<div class="line"><span class="lineno"> 1812</span> </div>
<div class="line"><span class="lineno"> 1813</span>            <span class="keywordflow">if</span> (!spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a7909fc70161065f6107211ee8ed3c6bf">ProcFlags</a> &amp;&amp; !spellProcEvent.<a class="code hl_variable" href="../../dd/df5/a10910.html#af253ef32b9de49fe85d0fe6f06855a60">procFlags</a>)</div>
<div class="line"><span class="lineno"> 1814</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_proc_event` probally not triggered spell&quot;</span>, spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>);</div>
<div class="line"><span class="lineno"> 1815</span> </div>
<div class="line"><span class="lineno"> 1816</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#a3e6353afe01453ebf0bab09cde94673e">mSpellProcEventMap</a>[spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>] = spellProcEvent;</div>
<div class="line"><span class="lineno"> 1817</span> </div>
<div class="line"><span class="lineno"> 1818</span>            <span class="keywordflow">if</span> (allRanks)</div>
<div class="line"><span class="lineno"> 1819</span>                spellInfo = spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#acdd9ea3a150b57f3bb48f414d6607377">GetNextRankSpell</a>();</div>
<div class="line"><span class="lineno"> 1820</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1821</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1822</span>        }</div>
<div class="line"><span class="lineno"> 1823</span> </div>
<div class="line"><span class="lineno"> 1824</span>        ++count;</div>
<div class="line"><span class="lineno"> 1825</span>    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno"> 1826</span> </div>
<div class="line"><span class="lineno"> 1827</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Extra Spell Proc Event Conditions in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 1828</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1829</span>}</div>
<div class="ttc" id="aa00497_html_ad9c79638db63f1dfe2b085743b5cbf7b"><div class="ttname"><a href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a></div><div class="ttdeci">std::uint16_t uint16</div><div class="ttdef"><b>Definition:</b> Define.h:108</div></div>
<div class="ttc" id="aa03110_html_addbb65f0e6c920d8577112d9dd55beb4a4cc4bb9156037cad14a0d453ab82428f"><div class="ttname"><a href="../../df/d64/a03110.html#addbb65f0e6c920d8577112d9dd55beb4a4cc4bb9156037cad14a0d453ab82428f">PROC_SPELL_PHASE_NONE</a></div><div class="ttdeci">@ PROC_SPELL_PHASE_NONE</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:242</div></div>
<div class="ttc" id="aa10906_html_a236dc1b4f58ebf6a2eb5b1824c5e8073"><div class="ttname"><a href="../../d4/db9/a10906.html#a236dc1b4f58ebf6a2eb5b1824c5e8073">SpellInfo::GetFirstRankSpell</a></div><div class="ttdeci">SpellInfo const * GetFirstRankSpell() const</div><div class="ttdef"><b>Definition:</b> SpellInfo.cpp:2501</div></div>
<div class="ttc" id="aa10906_html_a562060f7c0d25cb229a16da38692b69e"><div class="ttname"><a href="../../d4/db9/a10906.html#a562060f7c0d25cb229a16da38692b69e">SpellInfo::IsRanked</a></div><div class="ttdeci">bool IsRanked() const</div><div class="ttdef"><b>Definition:</b> SpellInfo.cpp:2489</div></div>
<div class="ttc" id="aa10906_html_a7909fc70161065f6107211ee8ed3c6bf"><div class="ttname"><a href="../../d4/db9/a10906.html#a7909fc70161065f6107211ee8ed3c6bf">SpellInfo::ProcFlags</a></div><div class="ttdeci">uint32 ProcFlags</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:355</div></div>
<div class="ttc" id="aa10906_html_acdd9ea3a150b57f3bb48f414d6607377"><div class="ttname"><a href="../../d4/db9/a10906.html#acdd9ea3a150b57f3bb48f414d6607377">SpellInfo::GetNextRankSpell</a></div><div class="ttdeci">SpellInfo const * GetNextRankSpell() const</div><div class="ttdef"><b>Definition:</b> SpellInfo.cpp:2513</div></div>
<div class="ttc" id="aa10910_html"><div class="ttname"><a href="../../dd/df5/a10910.html">SpellProcEventEntry</a></div><div class="ttdef"><b>Definition:</b> SpellMgr.h:275</div></div>
<div class="ttc" id="aa10910_html_a0cd88c27979ccc5284aa46846db32a7c"><div class="ttname"><a href="../../dd/df5/a10910.html#a0cd88c27979ccc5284aa46846db32a7c">SpellProcEventEntry::cooldown</a></div><div class="ttdeci">uint32 cooldown</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:284</div></div>
<div class="ttc" id="aa10910_html_a179d83770a02e4ab13f809ed3943a399"><div class="ttname"><a href="../../dd/df5/a10910.html#a179d83770a02e4ab13f809ed3943a399">SpellProcEventEntry::procPhase</a></div><div class="ttdeci">uint32 procPhase</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:281</div></div>
<div class="ttc" id="aa10910_html_a2aa57bf419ab51129fe7240750ee8910"><div class="ttname"><a href="../../dd/df5/a10910.html#a2aa57bf419ab51129fe7240750ee8910">SpellProcEventEntry::spellFamilyMask</a></div><div class="ttdeci">flag96 spellFamilyMask</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:278</div></div>
<div class="ttc" id="aa10910_html_a5ffa91b3f66ebb0ac34f30e1c532fb3a"><div class="ttname"><a href="../../dd/df5/a10910.html#a5ffa91b3f66ebb0ac34f30e1c532fb3a">SpellProcEventEntry::spellFamilyName</a></div><div class="ttdeci">uint32 spellFamilyName</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:277</div></div>
<div class="ttc" id="aa10910_html_a911770f28fe36243593b12fe92d6fbec"><div class="ttname"><a href="../../dd/df5/a10910.html#a911770f28fe36243593b12fe92d6fbec">SpellProcEventEntry::procEx</a></div><div class="ttdeci">uint32 procEx</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:280</div></div>
<div class="ttc" id="aa10910_html_a931b2df4a187482e32ef252c3320080a"><div class="ttname"><a href="../../dd/df5/a10910.html#a931b2df4a187482e32ef252c3320080a">SpellProcEventEntry::ppmRate</a></div><div class="ttdeci">float ppmRate</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:282</div></div>
<div class="ttc" id="aa10910_html_a9a6d38ee4e4a35066780ef924c63f92f"><div class="ttname"><a href="../../dd/df5/a10910.html#a9a6d38ee4e4a35066780ef924c63f92f">SpellProcEventEntry::schoolMask</a></div><div class="ttdeci">uint32 schoolMask</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:276</div></div>
<div class="ttc" id="aa10910_html_adf6742b70f0b00abddf1da6f45da3d16"><div class="ttname"><a href="../../dd/df5/a10910.html#adf6742b70f0b00abddf1da6f45da3d16">SpellProcEventEntry::customChance</a></div><div class="ttdeci">float customChance</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:283</div></div>
<div class="ttc" id="aa10910_html_af253ef32b9de49fe85d0fe6f06855a60"><div class="ttname"><a href="../../dd/df5/a10910.html#af253ef32b9de49fe85d0fe6f06855a60">SpellProcEventEntry::procFlags</a></div><div class="ttdeci">uint32 procFlags</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:279</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00284">SpellProcEventEntry::cooldown</a>, <a class="el" href="../../#l00283">SpellProcEventEntry::customChance</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l02501">SpellInfo::GetFirstRankSpell()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l02513">SpellInfo::GetNextRankSpell()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00320">SpellInfo::Id</a>, <a class="el" href="../../#l02489">SpellInfo::IsRanked()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../#l00803">mSpellProcEventMap</a>, <a class="el" href="../../#l00282">SpellProcEventEntry::ppmRate</a>, <a class="el" href="../../#l00244">PROC_SPELL_PHASE_HIT</a>, <a class="el" href="../../#l00242">PROC_SPELL_PHASE_NONE</a>, <a class="el" href="../../#l00280">SpellProcEventEntry::procEx</a>, <a class="el" href="../../#l00355">SpellInfo::ProcFlags</a>, <a class="el" href="../../#l00279">SpellProcEventEntry::procFlags</a>, <a class="el" href="../../#l00281">SpellProcEventEntry::procPhase</a>, <a class="el" href="../../#l00276">SpellProcEventEntry::schoolMask</a>, <a class="el" href="../../#l00278">SpellProcEventEntry::spellFamilyMask</a>, <a class="el" href="../../#l00277">SpellProcEventEntry::spellFamilyName</a>, and <a class="el" href="../../#l00020">WorldDatabase</a>.</p>

</div>
</div>
<a id="aeca13d7535faa653ad4de42e2cef9c48" name="aeca13d7535faa653ad4de42e2cef9c48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeca13d7535faa653ad4de42e2cef9c48">&#9670;&#160;</a></span>LoadSpellProcs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellProcs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1832</span>{</div>
<div class="line"><span class="lineno"> 1833</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 1834</span> </div>
<div class="line"><span class="lineno"> 1835</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a9f6998b4fee8fba87ad8d372abd8693d">mSpellProcMap</a>.clear();                             <span class="comment">// need for reload case</span></div>
<div class="line"><span class="lineno"> 1836</span> </div>
<div class="line"><span class="lineno"> 1837</span>    <span class="comment">//                                                 0        1           2                3                 4                 5                 6          7              8              9         10              11             12      13        14</span></div>
<div class="line"><span class="lineno"> 1838</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT SpellId, SchoolMask, SpellFamilyName, SpellFamilyMask0, SpellFamilyMask1, SpellFamilyMask2, ProcFlags, SpellTypeMask, SpellPhaseMask, HitMask, AttributesMask, ProcsPerMinute, Chance, Cooldown, Charges FROM spell_proc&quot;</span>);</div>
<div class="line"><span class="lineno"> 1839</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno"> 1840</span>    {</div>
<div class="line"><span class="lineno"> 1841</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 Spell Proc Conditions And Data. DB table `spell_proc` Is Empty.&quot;</span>);</div>
<div class="line"><span class="lineno"> 1842</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1843</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1844</span>    }</div>
<div class="line"><span class="lineno"> 1845</span> </div>
<div class="line"><span class="lineno"> 1846</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 1847</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 1848</span>    {</div>
<div class="line"><span class="lineno"> 1849</span>        <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 1850</span> </div>
<div class="line"><span class="lineno"> 1851</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> spellId = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1852</span> </div>
<div class="line"><span class="lineno"> 1853</span>        <span class="keywordtype">bool</span> allRanks = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1854</span>        <span class="keywordflow">if</span> (spellId &lt; 0)</div>
<div class="line"><span class="lineno"> 1855</span>        {</div>
<div class="line"><span class="lineno"> 1856</span>            allRanks = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1857</span>            spellId = -spellId;</div>
<div class="line"><span class="lineno"> 1858</span>        }</div>
<div class="line"><span class="lineno"> 1859</span> </div>
<div class="line"><span class="lineno"> 1860</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(spellId);</div>
<div class="line"><span class="lineno"> 1861</span>        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 1862</span>        {</div>
<div class="line"><span class="lineno"> 1863</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_proc` does not exist&quot;</span>, spellId);</div>
<div class="line"><span class="lineno"> 1864</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1865</span>        }</div>
<div class="line"><span class="lineno"> 1866</span> </div>
<div class="line"><span class="lineno"> 1867</span>        <span class="keywordflow">if</span> (allRanks)</div>
<div class="line"><span class="lineno"> 1868</span>        {</div>
<div class="line"><span class="lineno"> 1869</span>            <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#a236dc1b4f58ebf6a2eb5b1824c5e8073">GetFirstRankSpell</a>()-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a> != <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(spellId))</div>
<div class="line"><span class="lineno"> 1870</span>            {</div>
<div class="line"><span class="lineno"> 1871</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_proc` is not first rank of spell.&quot;</span>, fields[0].Get&lt;int32&gt;());</div>
<div class="line"><span class="lineno"> 1872</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1873</span>            }</div>
<div class="line"><span class="lineno"> 1874</span>        }</div>
<div class="line"><span class="lineno"> 1875</span> </div>
<div class="line"><span class="lineno"> 1876</span>        <a class="code hl_struct" href="../../d1/d6c/a10914.html">SpellProcEntry</a> baseProcEntry;</div>
<div class="line"><span class="lineno"> 1877</span> </div>
<div class="line"><span class="lineno"> 1878</span>        baseProcEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#acf72c4a783235770bbff952bdc002324">SchoolMask</a>         = fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a3bb8a71f4ae9af551f71e9eb2c9c3325">int8</a>&gt;();</div>
<div class="line"><span class="lineno"> 1879</span>        baseProcEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a2cb738b0d4579503fcb9bca7988f7e36">SpellFamilyName</a>    = fields[2].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a>&gt;();</div>
<div class="line"><span class="lineno"> 1880</span>        baseProcEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a8688e9282cb78d4f24b310cc2521c22b">SpellFamilyMask</a>[0] = fields[3].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1881</span>        baseProcEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a8688e9282cb78d4f24b310cc2521c22b">SpellFamilyMask</a>[1] = fields[4].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1882</span>        baseProcEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a8688e9282cb78d4f24b310cc2521c22b">SpellFamilyMask</a>[2] = fields[5].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1883</span>        baseProcEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a9e5de790c4f61537397a1ce2bce8a9b0">ProcFlags</a>          = fields[6].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1884</span>        baseProcEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a99e20d3979a532e1ca90ee83edcff3eb">SpellTypeMask</a>      = fields[7].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1885</span>        baseProcEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#ab4c4bfa1493a7a5924d3cd094127f973">SpellPhaseMask</a>     = fields[8].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1886</span>        baseProcEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a8ac3331576b4eb761157fa3d0d622bea">HitMask</a>            = fields[9].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1887</span>        baseProcEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a7cc9dfa91e034f5052ebd3bf8eaea42a">AttributesMask</a>     = fields[10].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1888</span>        baseProcEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a3815765c08f6b95cae6efb93fa98623b">ProcsPerMinute</a>     = fields[11].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 1889</span>        baseProcEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#aea5ca609c75ea7b314aec8ae0246297e">Chance</a>             = fields[12].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 1890</span>        baseProcEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a4e6185aea35599a3efc2e806145cb1d2">Cooldown</a>           = <a class="code hl_typedef" href="../../dc/d84/a00338.html#a1c3834b9e3853535027d58bf21bec81f">Milliseconds</a>(fields[13].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno"> 1891</span>        baseProcEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a75f0484dad60eec59b399a188fd9908f">Charges</a>            = fields[14].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1892</span> </div>
<div class="line"><span class="lineno"> 1893</span>        <span class="keywordflow">while</span> (spellInfo)</div>
<div class="line"><span class="lineno"> 1894</span>        {</div>
<div class="line"><span class="lineno"> 1895</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/d62/a10962.html#a9f6998b4fee8fba87ad8d372abd8693d">mSpellProcMap</a>.find(spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>) != <a class="code hl_variable" href="../../d4/d62/a10962.html#a9f6998b4fee8fba87ad8d372abd8693d">mSpellProcMap</a>.end())</div>
<div class="line"><span class="lineno"> 1896</span>            {</div>
<div class="line"><span class="lineno"> 1897</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_proc` has duplicate entry in the table&quot;</span>, spellId);</div>
<div class="line"><span class="lineno"> 1898</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1899</span>            }</div>
<div class="line"><span class="lineno"> 1900</span>            <a class="code hl_struct" href="../../d1/d6c/a10914.html">SpellProcEntry</a> procEntry = <a class="code hl_struct" href="../../d1/d6c/a10914.html">SpellProcEntry</a>(baseProcEntry);</div>
<div class="line"><span class="lineno"> 1901</span> </div>
<div class="line"><span class="lineno"> 1902</span>            <span class="comment">// take defaults from dbcs</span></div>
<div class="line"><span class="lineno"> 1903</span>            <span class="keywordflow">if</span> (!procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a9e5de790c4f61537397a1ce2bce8a9b0">ProcFlags</a>)</div>
<div class="line"><span class="lineno"> 1904</span>                procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a9e5de790c4f61537397a1ce2bce8a9b0">ProcFlags</a> = spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a7909fc70161065f6107211ee8ed3c6bf">ProcFlags</a>;</div>
<div class="line"><span class="lineno"> 1905</span>            <span class="keywordflow">if</span> (!procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a75f0484dad60eec59b399a188fd9908f">Charges</a>)</div>
<div class="line"><span class="lineno"> 1906</span>                procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a75f0484dad60eec59b399a188fd9908f">Charges</a> = spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a4b82e530c085010e7247ae0862301ac9">ProcCharges</a>;</div>
<div class="line"><span class="lineno"> 1907</span>            <span class="keywordflow">if</span> (!procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#aea5ca609c75ea7b314aec8ae0246297e">Chance</a> &amp;&amp; !procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a3815765c08f6b95cae6efb93fa98623b">ProcsPerMinute</a>)</div>
<div class="line"><span class="lineno"> 1908</span>                procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#aea5ca609c75ea7b314aec8ae0246297e">Chance</a> = float(spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#ae3a8f9ea2f783862a59d0dac50d154d3">ProcChance</a>);</div>
<div class="line"><span class="lineno"> 1909</span> </div>
<div class="line"><span class="lineno"> 1910</span>            <span class="comment">// validate data</span></div>
<div class="line"><span class="lineno"> 1911</span>            <span class="keywordflow">if</span> (procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#acf72c4a783235770bbff952bdc002324">SchoolMask</a> &amp; ~<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aff6913cfd69489c107a071be9ec2ec8fa65c125a1722e326c066d8aa1350911c8">SPELL_SCHOOL_MASK_ALL</a>)</div>
<div class="line"><span class="lineno"> 1912</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for SpellId {} has wrong `SchoolMask` set: {}&quot;</span>, spellId, procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#acf72c4a783235770bbff952bdc002324">SchoolMask</a>);</div>
<div class="line"><span class="lineno"> 1913</span>            <span class="keywordflow">if</span> (procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a2cb738b0d4579503fcb9bca7988f7e36">SpellFamilyName</a> &amp;&amp; (procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a2cb738b0d4579503fcb9bca7988f7e36">SpellFamilyName</a> &lt; 3 || procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a2cb738b0d4579503fcb9bca7988f7e36">SpellFamilyName</a> &gt; 17 || procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a2cb738b0d4579503fcb9bca7988f7e36">SpellFamilyName</a> == 14 || procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a2cb738b0d4579503fcb9bca7988f7e36">SpellFamilyName</a> == 16))</div>
<div class="line"><span class="lineno"> 1914</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for SpellId {} has wrong `SpellFamilyName` set: {}&quot;</span>, spellId, procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a2cb738b0d4579503fcb9bca7988f7e36">SpellFamilyName</a>);</div>
<div class="line"><span class="lineno"> 1915</span>            <span class="keywordflow">if</span> (procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#aea5ca609c75ea7b314aec8ae0246297e">Chance</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 1916</span>            {</div>
<div class="line"><span class="lineno"> 1917</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for SpellId {} has negative value in `Chance` field&quot;</span>, spellId);</div>
<div class="line"><span class="lineno"> 1918</span>                procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#aea5ca609c75ea7b314aec8ae0246297e">Chance</a> = 0;</div>
<div class="line"><span class="lineno"> 1919</span>            }</div>
<div class="line"><span class="lineno"> 1920</span>            <span class="keywordflow">if</span> (procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a3815765c08f6b95cae6efb93fa98623b">ProcsPerMinute</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 1921</span>            {</div>
<div class="line"><span class="lineno"> 1922</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for SpellId {} has negative value in `ProcsPerMinute` field&quot;</span>, spellId);</div>
<div class="line"><span class="lineno"> 1923</span>                procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a3815765c08f6b95cae6efb93fa98623b">ProcsPerMinute</a> = 0;</div>
<div class="line"><span class="lineno"> 1924</span>            }</div>
<div class="line"><span class="lineno"> 1925</span>            <span class="keywordflow">if</span> (procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#aea5ca609c75ea7b314aec8ae0246297e">Chance</a> == 0 &amp;&amp; procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a3815765c08f6b95cae6efb93fa98623b">ProcsPerMinute</a> == 0)</div>
<div class="line"><span class="lineno"> 1926</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for SpellId {} doesn&#39;t have `Chance` and `ProcsPerMinute` values defined, proc will not be triggered&quot;</span>, spellId);</div>
<div class="line"><span class="lineno"> 1927</span>            <span class="keywordflow">if</span> (procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a75f0484dad60eec59b399a188fd9908f">Charges</a> &gt; 99)</div>
<div class="line"><span class="lineno"> 1928</span>            {</div>
<div class="line"><span class="lineno"> 1929</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for SpellId {} has too big value in `Charges` field&quot;</span>, spellId);</div>
<div class="line"><span class="lineno"> 1930</span>                procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a75f0484dad60eec59b399a188fd9908f">Charges</a> = 99;</div>
<div class="line"><span class="lineno"> 1931</span>            }</div>
<div class="line"><span class="lineno"> 1932</span>            <span class="keywordflow">if</span> (!procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a9e5de790c4f61537397a1ce2bce8a9b0">ProcFlags</a>)</div>
<div class="line"><span class="lineno"> 1933</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for SpellId {} doesn&#39;t have `ProcFlags` value defined, proc will not be triggered&quot;</span>, spellId);</div>
<div class="line"><span class="lineno"> 1934</span>            <span class="keywordflow">if</span> (procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a99e20d3979a532e1ca90ee83edcff3eb">SpellTypeMask</a> &amp; ~<a class="code hl_enumvalue" href="../../df/d64/a03110.html#acb2f59f82f5d44cf14104713821f0527a8b2234b4443b9668e2bea3394c9fd860">PROC_SPELL_TYPE_MASK_ALL</a>)</div>
<div class="line"><span class="lineno"> 1935</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for SpellId {} has wrong `SpellTypeMask` set: {}&quot;</span>, spellId, procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a99e20d3979a532e1ca90ee83edcff3eb">SpellTypeMask</a>);</div>
<div class="line"><span class="lineno"> 1936</span>            <span class="keywordflow">if</span> (procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a99e20d3979a532e1ca90ee83edcff3eb">SpellTypeMask</a> &amp;&amp; !(procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a9e5de790c4f61537397a1ce2bce8a9b0">ProcFlags</a> &amp; (<a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6adc3fb7dd56615e62d28af0ea87793d58">SPELL_PROC_FLAG_MASK</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a6d718a09392612753a07abe19d65299c">PERIODIC_PROC_FLAG_MASK</a>)))</div>
<div class="line"><span class="lineno"> 1937</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for SpellId {} has `SpellTypeMask` value defined, but it won&#39;t be used for defined `ProcFlags` value&quot;</span>, spellId);</div>
<div class="line"><span class="lineno"> 1938</span>            <span class="keywordflow">if</span> (!procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#ab4c4bfa1493a7a5924d3cd094127f973">SpellPhaseMask</a> &amp;&amp; procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a9e5de790c4f61537397a1ce2bce8a9b0">ProcFlags</a> &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a9e17ffa130a52703402b183e53ec18c9">REQ_SPELL_PHASE_PROC_FLAG_MASK</a>)</div>
<div class="line"><span class="lineno"> 1939</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for SpellId {} doesn&#39;t have `SpellPhaseMask` value defined, but it&#39;s required for defined `ProcFlags` value, proc will not be triggered&quot;</span>, spellId);</div>
<div class="line"><span class="lineno"> 1940</span>            <span class="keywordflow">if</span> (procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#ab4c4bfa1493a7a5924d3cd094127f973">SpellPhaseMask</a> &amp; ~<a class="code hl_enumvalue" href="../../df/d64/a03110.html#addbb65f0e6c920d8577112d9dd55beb4acd99cd6667521d46043f4c1dcb083e59">PROC_SPELL_PHASE_MASK_ALL</a>)</div>
<div class="line"><span class="lineno"> 1941</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for SpellId {} has wrong `SpellPhaseMask` set: {}&quot;</span>, spellId, procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#ab4c4bfa1493a7a5924d3cd094127f973">SpellPhaseMask</a>);</div>
<div class="line"><span class="lineno"> 1942</span>            <span class="keywordflow">if</span> (procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#ab4c4bfa1493a7a5924d3cd094127f973">SpellPhaseMask</a> &amp;&amp; !(procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a9e5de790c4f61537397a1ce2bce8a9b0">ProcFlags</a> &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a9e17ffa130a52703402b183e53ec18c9">REQ_SPELL_PHASE_PROC_FLAG_MASK</a>))</div>
<div class="line"><span class="lineno"> 1943</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for SpellId {} has `SpellPhaseMask` value defined, but it won&#39;t be used for defined `ProcFlags` value&quot;</span>, spellId);</div>
<div class="line"><span class="lineno"> 1944</span>            <span class="keywordflow">if</span> (procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a8ac3331576b4eb761157fa3d0d622bea">HitMask</a> &amp; ~<a class="code hl_enumvalue" href="../../df/d64/a03110.html#a318db75286b71ffeb7f24d6d2c992bc9add479539b64a6b576da3b208ad6c863d">PROC_HIT_MASK_ALL</a>)</div>
<div class="line"><span class="lineno"> 1945</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for SpellId {} has wrong `HitMask` set: {}&quot;</span>, spellId, procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a8ac3331576b4eb761157fa3d0d622bea">HitMask</a>);</div>
<div class="line"><span class="lineno"> 1946</span>            <span class="keywordflow">if</span> (procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a8ac3331576b4eb761157fa3d0d622bea">HitMask</a> &amp;&amp; !(procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a9e5de790c4f61537397a1ce2bce8a9b0">ProcFlags</a> &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6a4ef079da228b08645ef20ead47c22a73">TAKEN_HIT_PROC_FLAG_MASK</a> || (procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#a9e5de790c4f61537397a1ce2bce8a9b0">ProcFlags</a> &amp; <a class="code hl_enumvalue" href="../../df/d64/a03110.html#ade1c2af066d4cf1bbcd88f13f01cd4d6ae0cef27dc24d6bd6fa46efa85df7d488">DONE_HIT_PROC_FLAG_MASK</a> &amp;&amp; (!procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#ab4c4bfa1493a7a5924d3cd094127f973">SpellPhaseMask</a> || procEntry.<a class="code hl_variable" href="../../d1/d6c/a10914.html#ab4c4bfa1493a7a5924d3cd094127f973">SpellPhaseMask</a> &amp; (<a class="code hl_enumvalue" href="../../df/d64/a03110.html#addbb65f0e6c920d8577112d9dd55beb4a8ccd2b9dede0fefcf6eb07b8e6753f34">PROC_SPELL_PHASE_HIT</a> | <a class="code hl_enumvalue" href="../../df/d64/a03110.html#addbb65f0e6c920d8577112d9dd55beb4a36113cf744242d04db86ef65dab0fc7b">PROC_SPELL_PHASE_FINISH</a>)))))</div>
<div class="line"><span class="lineno"> 1947</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;`spell_proc` table entry for SpellId {} has `HitMask` value defined, but it won&#39;t be used for defined `ProcFlags` and `SpellPhaseMask` values&quot;</span>, spellId);</div>
<div class="line"><span class="lineno"> 1948</span> </div>
<div class="line"><span class="lineno"> 1949</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#a9f6998b4fee8fba87ad8d372abd8693d">mSpellProcMap</a>[spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>] = procEntry;</div>
<div class="line"><span class="lineno"> 1950</span> </div>
<div class="line"><span class="lineno"> 1951</span>            <span class="keywordflow">if</span> (allRanks)</div>
<div class="line"><span class="lineno"> 1952</span>                spellInfo = spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#acdd9ea3a150b57f3bb48f414d6607377">GetNextRankSpell</a>();</div>
<div class="line"><span class="lineno"> 1953</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1954</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1955</span>        }</div>
<div class="line"><span class="lineno"> 1956</span>        ++count;</div>
<div class="line"><span class="lineno"> 1957</span>    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno"> 1958</span> </div>
<div class="line"><span class="lineno"> 1959</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} spell proc conditions and data in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 1960</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1961</span>}</div>
<div class="ttc" id="aa00338_html_a1c3834b9e3853535027d58bf21bec81f"><div class="ttname"><a href="../../dc/d84/a00338.html#a1c3834b9e3853535027d58bf21bec81f">Milliseconds</a></div><div class="ttdeci">std::chrono::milliseconds Milliseconds</div><div class="ttdoc">Milliseconds shorthand typedef.</div><div class="ttdef"><b>Definition:</b> Duration.h:27</div></div>
<div class="ttc" id="aa02771_html_aff6913cfd69489c107a071be9ec2ec8fa65c125a1722e326c066d8aa1350911c8"><div class="ttname"><a href="../../d0/dbd/a02771.html#aff6913cfd69489c107a071be9ec2ec8fa65c125a1722e326c066d8aa1350911c8">SPELL_SCHOOL_MASK_ALL</a></div><div class="ttdeci">@ SPELL_SCHOOL_MASK_ALL</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:315</div></div>
<div class="ttc" id="aa03110_html_a318db75286b71ffeb7f24d6d2c992bc9add479539b64a6b576da3b208ad6c863d"><div class="ttname"><a href="../../df/d64/a03110.html#a318db75286b71ffeb7f24d6d2c992bc9add479539b64a6b576da3b208ad6c863d">PROC_HIT_MASK_ALL</a></div><div class="ttdeci">@ PROC_HIT_MASK_ALL</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:266</div></div>
<div class="ttc" id="aa03110_html_acb2f59f82f5d44cf14104713821f0527a8b2234b4443b9668e2bea3394c9fd860"><div class="ttname"><a href="../../df/d64/a03110.html#acb2f59f82f5d44cf14104713821f0527a8b2234b4443b9668e2bea3394c9fd860">PROC_SPELL_TYPE_MASK_ALL</a></div><div class="ttdeci">@ PROC_SPELL_TYPE_MASK_ALL</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:237</div></div>
<div class="ttc" id="aa03110_html_addbb65f0e6c920d8577112d9dd55beb4a36113cf744242d04db86ef65dab0fc7b"><div class="ttname"><a href="../../df/d64/a03110.html#addbb65f0e6c920d8577112d9dd55beb4a36113cf744242d04db86ef65dab0fc7b">PROC_SPELL_PHASE_FINISH</a></div><div class="ttdeci">@ PROC_SPELL_PHASE_FINISH</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:245</div></div>
<div class="ttc" id="aa03110_html_addbb65f0e6c920d8577112d9dd55beb4acd99cd6667521d46043f4c1dcb083e59"><div class="ttname"><a href="../../df/d64/a03110.html#addbb65f0e6c920d8577112d9dd55beb4acd99cd6667521d46043f4c1dcb083e59">PROC_SPELL_PHASE_MASK_ALL</a></div><div class="ttdeci">@ PROC_SPELL_PHASE_MASK_ALL</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:246</div></div>
<div class="ttc" id="aa10906_html_a4b82e530c085010e7247ae0862301ac9"><div class="ttname"><a href="../../d4/db9/a10906.html#a4b82e530c085010e7247ae0862301ac9">SpellInfo::ProcCharges</a></div><div class="ttdeci">uint32 ProcCharges</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:357</div></div>
<div class="ttc" id="aa10906_html_ae3a8f9ea2f783862a59d0dac50d154d3"><div class="ttname"><a href="../../d4/db9/a10906.html#ae3a8f9ea2f783862a59d0dac50d154d3">SpellInfo::ProcChance</a></div><div class="ttdeci">uint32 ProcChance</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:356</div></div>
<div class="ttc" id="aa10914_html"><div class="ttname"><a href="../../d1/d6c/a10914.html">SpellProcEntry</a></div><div class="ttdef"><b>Definition:</b> SpellMgr.h:290</div></div>
<div class="ttc" id="aa10914_html_a2cb738b0d4579503fcb9bca7988f7e36"><div class="ttname"><a href="../../d1/d6c/a10914.html#a2cb738b0d4579503fcb9bca7988f7e36">SpellProcEntry::SpellFamilyName</a></div><div class="ttdeci">uint32 SpellFamilyName</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:292</div></div>
<div class="ttc" id="aa10914_html_a3815765c08f6b95cae6efb93fa98623b"><div class="ttname"><a href="../../d1/d6c/a10914.html#a3815765c08f6b95cae6efb93fa98623b">SpellProcEntry::ProcsPerMinute</a></div><div class="ttdeci">float ProcsPerMinute</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:299</div></div>
<div class="ttc" id="aa10914_html_a4e6185aea35599a3efc2e806145cb1d2"><div class="ttname"><a href="../../d1/d6c/a10914.html#a4e6185aea35599a3efc2e806145cb1d2">SpellProcEntry::Cooldown</a></div><div class="ttdeci">Milliseconds Cooldown</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:301</div></div>
<div class="ttc" id="aa10914_html_a75f0484dad60eec59b399a188fd9908f"><div class="ttname"><a href="../../d1/d6c/a10914.html#a75f0484dad60eec59b399a188fd9908f">SpellProcEntry::Charges</a></div><div class="ttdeci">uint32 Charges</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:302</div></div>
<div class="ttc" id="aa10914_html_a7cc9dfa91e034f5052ebd3bf8eaea42a"><div class="ttname"><a href="../../d1/d6c/a10914.html#a7cc9dfa91e034f5052ebd3bf8eaea42a">SpellProcEntry::AttributesMask</a></div><div class="ttdeci">uint32 AttributesMask</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:298</div></div>
<div class="ttc" id="aa10914_html_a8688e9282cb78d4f24b310cc2521c22b"><div class="ttname"><a href="../../d1/d6c/a10914.html#a8688e9282cb78d4f24b310cc2521c22b">SpellProcEntry::SpellFamilyMask</a></div><div class="ttdeci">flag96 SpellFamilyMask</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:293</div></div>
<div class="ttc" id="aa10914_html_a8ac3331576b4eb761157fa3d0d622bea"><div class="ttname"><a href="../../d1/d6c/a10914.html#a8ac3331576b4eb761157fa3d0d622bea">SpellProcEntry::HitMask</a></div><div class="ttdeci">uint32 HitMask</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:297</div></div>
<div class="ttc" id="aa10914_html_a99e20d3979a532e1ca90ee83edcff3eb"><div class="ttname"><a href="../../d1/d6c/a10914.html#a99e20d3979a532e1ca90ee83edcff3eb">SpellProcEntry::SpellTypeMask</a></div><div class="ttdeci">uint32 SpellTypeMask</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:295</div></div>
<div class="ttc" id="aa10914_html_a9e5de790c4f61537397a1ce2bce8a9b0"><div class="ttname"><a href="../../d1/d6c/a10914.html#a9e5de790c4f61537397a1ce2bce8a9b0">SpellProcEntry::ProcFlags</a></div><div class="ttdeci">uint32 ProcFlags</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:294</div></div>
<div class="ttc" id="aa10914_html_ab4c4bfa1493a7a5924d3cd094127f973"><div class="ttname"><a href="../../d1/d6c/a10914.html#ab4c4bfa1493a7a5924d3cd094127f973">SpellProcEntry::SpellPhaseMask</a></div><div class="ttdeci">uint32 SpellPhaseMask</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:296</div></div>
<div class="ttc" id="aa10914_html_acf72c4a783235770bbff952bdc002324"><div class="ttname"><a href="../../d1/d6c/a10914.html#acf72c4a783235770bbff952bdc002324">SpellProcEntry::SchoolMask</a></div><div class="ttdeci">uint32 SchoolMask</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:291</div></div>
<div class="ttc" id="aa10914_html_aea5ca609c75ea7b314aec8ae0246297e"><div class="ttname"><a href="../../d1/d6c/a10914.html#aea5ca609c75ea7b314aec8ae0246297e">SpellProcEntry::Chance</a></div><div class="ttdeci">float Chance</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:300</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00298">SpellProcEntry::AttributesMask</a>, <a class="el" href="../../#l00300">SpellProcEntry::Chance</a>, <a class="el" href="../../#l00302">SpellProcEntry::Charges</a>, <a class="el" href="../../#l00301">SpellProcEntry::Cooldown</a>, <a class="el" href="../../#l00167">DONE_HIT_PROC_FLAG_MASK</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l02501">SpellInfo::GetFirstRankSpell()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l02513">SpellInfo::GetNextRankSpell()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00297">SpellProcEntry::HitMask</a>, <a class="el" href="../../#l00320">SpellInfo::Id</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../#l00804">mSpellProcMap</a>, <a class="el" href="../../#l00165">PERIODIC_PROC_FLAG_MASK</a>, <a class="el" href="../../#l00266">PROC_HIT_MASK_ALL</a>, <a class="el" href="../../#l00245">PROC_SPELL_PHASE_FINISH</a>, <a class="el" href="../../#l00244">PROC_SPELL_PHASE_HIT</a>, <a class="el" href="../../#l00246">PROC_SPELL_PHASE_MASK_ALL</a>, <a class="el" href="../../#l00237">PROC_SPELL_TYPE_MASK_ALL</a>, <a class="el" href="../../#l00356">SpellInfo::ProcChance</a>, <a class="el" href="../../#l00357">SpellInfo::ProcCharges</a>, <a class="el" href="../../#l00355">SpellInfo::ProcFlags</a>, <a class="el" href="../../#l00294">SpellProcEntry::ProcFlags</a>, <a class="el" href="../../#l00299">SpellProcEntry::ProcsPerMinute</a>, <a class="el" href="../../#l00179">REQ_SPELL_PHASE_PROC_FLAG_MASK</a>, <a class="el" href="../../#l00291">SpellProcEntry::SchoolMask</a>, <a class="el" href="../../#l00156">SPELL_PROC_FLAG_MASK</a>, <a class="el" href="../../#l00315">SPELL_SCHOOL_MASK_ALL</a>, <a class="el" href="../../#l00293">SpellProcEntry::SpellFamilyMask</a>, <a class="el" href="../../#l00292">SpellProcEntry::SpellFamilyName</a>, <a class="el" href="../../#l00296">SpellProcEntry::SpellPhaseMask</a>, <a class="el" href="../../#l00295">SpellProcEntry::SpellTypeMask</a>, <a class="el" href="../../#l00173">TAKEN_HIT_PROC_FLAG_MASK</a>, and <a class="el" href="../../#l00020">WorldDatabase</a>.</p>

</div>
</div>
<a id="ad453a0dfca614de29d7015dda91b0ce1" name="ad453a0dfca614de29d7015dda91b0ce1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad453a0dfca614de29d7015dda91b0ce1">&#9670;&#160;</a></span>LoadSpellRanks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellRanks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1293</span>{</div>
<div class="line"><span class="lineno"> 1294</span>    <span class="comment">// cleanup data and load spell ranks for talents from dbc</span></div>
<div class="line"><span class="lineno"> 1295</span>    <a class="code hl_function" href="../../d4/d62/a10962.html#a8527d75d2203fba05133d32f2cf0fa55">LoadSpellTalentRanks</a>();</div>
<div class="line"><span class="lineno"> 1296</span> </div>
<div class="line"><span class="lineno"> 1297</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 1298</span> </div>
<div class="line"><span class="lineno"> 1299</span>    <span class="comment">//                                               0               1          2</span></div>
<div class="line"><span class="lineno"> 1300</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT first_spell_id, spell_id, `rank` from spell_ranks ORDER BY first_spell_id, `rank`&quot;</span>);</div>
<div class="line"><span class="lineno"> 1301</span> </div>
<div class="line"><span class="lineno"> 1302</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno"> 1303</span>    {</div>
<div class="line"><span class="lineno"> 1304</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell rank records. DB table `spell_ranks` is empty.&quot;</span>);</div>
<div class="line"><span class="lineno"> 1305</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1306</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1307</span>    }</div>
<div class="line"><span class="lineno"> 1308</span> </div>
<div class="line"><span class="lineno"> 1309</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 1310</span>    <span class="keywordtype">bool</span> finished = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1311</span> </div>
<div class="line"><span class="lineno"> 1312</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 1313</span>    {</div>
<div class="line"><span class="lineno"> 1314</span>        <span class="comment">// spellid, rank</span></div>
<div class="line"><span class="lineno"> 1315</span>        std::list &lt; std::pair &lt; int32, int32 &gt; &gt; rankChain;</div>
<div class="line"><span class="lineno"> 1316</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> currentSpell = -1;</div>
<div class="line"><span class="lineno"> 1317</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> lastSpell = -1;</div>
<div class="line"><span class="lineno"> 1318</span> </div>
<div class="line"><span class="lineno"> 1319</span>        <span class="comment">// fill one chain</span></div>
<div class="line"><span class="lineno"> 1320</span>        <span class="keywordflow">while</span> (currentSpell == lastSpell &amp;&amp; !finished)</div>
<div class="line"><span class="lineno"> 1321</span>        {</div>
<div class="line"><span class="lineno"> 1322</span>            <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 1323</span> </div>
<div class="line"><span class="lineno"> 1324</span>            currentSpell = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1325</span>            <span class="keywordflow">if</span> (lastSpell == -1)</div>
<div class="line"><span class="lineno"> 1326</span>                lastSpell = currentSpell;</div>
<div class="line"><span class="lineno"> 1327</span>            <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spell_id = fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1328</span>            <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> rank = fields[2].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;();</div>
<div class="line"><span class="lineno"> 1329</span> </div>
<div class="line"><span class="lineno"> 1330</span>            <span class="comment">// don&#39;t drop the row if we&#39;re moving to the next rank</span></div>
<div class="line"><span class="lineno"> 1331</span>            <span class="keywordflow">if</span> (currentSpell == lastSpell)</div>
<div class="line"><span class="lineno"> 1332</span>            {</div>
<div class="line"><span class="lineno"> 1333</span>                rankChain.push_back(std::make_pair(spell_id, rank));</div>
<div class="line"><span class="lineno"> 1334</span>                <span class="keywordflow">if</span> (!result-&gt;NextRow())</div>
<div class="line"><span class="lineno"> 1335</span>                    finished = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1336</span>            }</div>
<div class="line"><span class="lineno"> 1337</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1338</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1339</span>        }</div>
<div class="line"><span class="lineno"> 1340</span>        <span class="comment">// check if chain is made with valid first spell</span></div>
<div class="line"><span class="lineno"> 1341</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* first = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(lastSpell);</div>
<div class="line"><span class="lineno"> 1342</span>        <span class="keywordflow">if</span> (!first)</div>
<div class="line"><span class="lineno"> 1343</span>        {</div>
<div class="line"><span class="lineno"> 1344</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell rank identifier(first_spell_id) {} listed in `spell_ranks` does not exist!&quot;</span>, lastSpell);</div>
<div class="line"><span class="lineno"> 1345</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1346</span>        }</div>
<div class="line"><span class="lineno"> 1347</span>        <span class="comment">// check if chain is long enough</span></div>
<div class="line"><span class="lineno"> 1348</span>        <span class="keywordflow">if</span> (rankChain.size() &lt; 2)</div>
<div class="line"><span class="lineno"> 1349</span>        {</div>
<div class="line"><span class="lineno"> 1350</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;There is only 1 spell rank for identifier(first_spell_id) {} in `spell_ranks`, entry is not needed!&quot;</span>, lastSpell);</div>
<div class="line"><span class="lineno"> 1351</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1352</span>        }</div>
<div class="line"><span class="lineno"> 1353</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> curRank = 0;</div>
<div class="line"><span class="lineno"> 1354</span>        <span class="keywordtype">bool</span> valid = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1355</span>        <span class="comment">// check spells in chain</span></div>
<div class="line"><span class="lineno"> 1356</span>        <span class="keywordflow">for</span> (std::list&lt;std::pair&lt;int32, int32&gt; &gt;::iterator itr = rankChain.begin(); itr != rankChain.end(); ++itr)</div>
<div class="line"><span class="lineno"> 1357</span>        {</div>
<div class="line"><span class="lineno"> 1358</span>            <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spell = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(itr-&gt;first);</div>
<div class="line"><span class="lineno"> 1359</span>            <span class="keywordflow">if</span> (!spell)</div>
<div class="line"><span class="lineno"> 1360</span>            {</div>
<div class="line"><span class="lineno"> 1361</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} (rank {}) listed in `spell_ranks` for chain {} does not exist!&quot;</span>, itr-&gt;first, itr-&gt;second, lastSpell);</div>
<div class="line"><span class="lineno"> 1362</span>                valid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1363</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1364</span>            }</div>
<div class="line"><span class="lineno"> 1365</span>            ++curRank;</div>
<div class="line"><span class="lineno"> 1366</span>            <span class="keywordflow">if</span> (itr-&gt;second != curRank)</div>
<div class="line"><span class="lineno"> 1367</span>            {</div>
<div class="line"><span class="lineno"> 1368</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} (rank {}) listed in `spell_ranks` for chain {} does not have proper rank value(should be {})!&quot;</span>, itr-&gt;first, itr-&gt;second, lastSpell, curRank);</div>
<div class="line"><span class="lineno"> 1369</span>                valid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1370</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1371</span>            }</div>
<div class="line"><span class="lineno"> 1372</span>        }</div>
<div class="line"><span class="lineno"> 1373</span>        <span class="keywordflow">if</span> (!valid)</div>
<div class="line"><span class="lineno"> 1374</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1375</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> prevRank = 0;</div>
<div class="line"><span class="lineno"> 1376</span>        <span class="comment">// insert the chain</span></div>
<div class="line"><span class="lineno"> 1377</span>        std::list&lt;std::pair&lt;int32, int32&gt; &gt;::iterator itr = rankChain.begin();</div>
<div class="line"><span class="lineno"> 1378</span>        <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 1379</span>        {</div>
<div class="line"><span class="lineno"> 1380</span>            ++count;</div>
<div class="line"><span class="lineno"> 1381</span>            <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> addedSpell = itr-&gt;first;</div>
<div class="line"><span class="lineno"> 1382</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[addedSpell].first = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(lastSpell);</div>
<div class="line"><span class="lineno"> 1383</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[addedSpell].last = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(rankChain.back().first);</div>
<div class="line"><span class="lineno"> 1384</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[addedSpell].rank = itr-&gt;second;</div>
<div class="line"><span class="lineno"> 1385</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[addedSpell].prev = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(prevRank);</div>
<div class="line"><span class="lineno"> 1386</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[addedSpell]-&gt;ChainEntry = &amp;<a class="code hl_variable" href="../../d4/d62/a10962.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[addedSpell];</div>
<div class="line"><span class="lineno"> 1387</span>            prevRank = addedSpell;</div>
<div class="line"><span class="lineno"> 1388</span>            ++itr;</div>
<div class="line"><span class="lineno"> 1389</span>            <span class="keywordflow">if</span> (itr == rankChain.end())</div>
<div class="line"><span class="lineno"> 1390</span>            {</div>
<div class="line"><span class="lineno"> 1391</span>                <a class="code hl_variable" href="../../d4/d62/a10962.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[addedSpell].next = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1392</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1393</span>            }</div>
<div class="line"><span class="lineno"> 1394</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1395</span>                <a class="code hl_variable" href="../../d4/d62/a10962.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[addedSpell].next = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(itr-&gt;first);</div>
<div class="line"><span class="lineno"> 1396</span>        } <span class="keywordflow">while</span> (<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1397</span>    } <span class="keywordflow">while</span> (!finished);</div>
<div class="line"><span class="lineno"> 1398</span> </div>
<div class="line"><span class="lineno"> 1399</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} spell rank records in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 1400</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1401</span>}</div>
<div class="ttc" id="aa10962_html_a8527d75d2203fba05133d32f2cf0fa55"><div class="ttname"><a href="../../d4/d62/a10962.html#a8527d75d2203fba05133d32f2cf0fa55">SpellMgr::LoadSpellTalentRanks</a></div><div class="ttdeci">void LoadSpellTalentRanks()</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:1231</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l01231">LoadSpellTalentRanks()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../#l00796">mSpellChains</a>, <a class="el" href="../../#l00820">mSpellInfoMap</a>, and <a class="el" href="../../#l00020">WorldDatabase</a>.</p>

</div>
</div>
<a id="a6cb46bdc9ec9da1b486d07b281e953d0" name="a6cb46bdc9ec9da1b486d07b281e953d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cb46bdc9ec9da1b486d07b281e953d0">&#9670;&#160;</a></span>LoadSpellRequired()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellRequired </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1404</span>{</div>
<div class="line"><span class="lineno"> 1405</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 1406</span> </div>
<div class="line"><span class="lineno"> 1407</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#aa03760f8043a0c684d18527d7ed934d3">mSpellsReqSpell</a>.clear();                                   <span class="comment">// need for reload case</span></div>
<div class="line"><span class="lineno"> 1408</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a0037908371f475d84ba4319c7109e12d">mSpellReq</a>.clear();                                         <span class="comment">// need for reload case</span></div>
<div class="line"><span class="lineno"> 1409</span> </div>
<div class="line"><span class="lineno"> 1410</span>    <span class="comment">//                                                   0        1</span></div>
<div class="line"><span class="lineno"> 1411</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT spell_id, req_spell from spell_required&quot;</span>);</div>
<div class="line"><span class="lineno"> 1412</span> </div>
<div class="line"><span class="lineno"> 1413</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno"> 1414</span>    {</div>
<div class="line"><span class="lineno"> 1415</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell required records. DB table `spell_required` is empty.&quot;</span>);</div>
<div class="line"><span class="lineno"> 1416</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1417</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1418</span>    }</div>
<div class="line"><span class="lineno"> 1419</span> </div>
<div class="line"><span class="lineno"> 1420</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 1421</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 1422</span>    {</div>
<div class="line"><span class="lineno"> 1423</span>        <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 1424</span> </div>
<div class="line"><span class="lineno"> 1425</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1426</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellReq = fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1427</span> </div>
<div class="line"><span class="lineno"> 1428</span>        <span class="comment">// check if chain is made with valid first spell</span></div>
<div class="line"><span class="lineno"> 1429</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(spellId);</div>
<div class="line"><span class="lineno"> 1430</span>        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 1431</span>        {</div>
<div class="line"><span class="lineno"> 1432</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;spell_id {} in `spell_required` table is not found in dbcs, skipped&quot;</span>, spellId);</div>
<div class="line"><span class="lineno"> 1433</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1434</span>        }</div>
<div class="line"><span class="lineno"> 1435</span> </div>
<div class="line"><span class="lineno"> 1436</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* reqSpellInfo = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(spellReq);</div>
<div class="line"><span class="lineno"> 1437</span>        <span class="keywordflow">if</span> (!reqSpellInfo)</div>
<div class="line"><span class="lineno"> 1438</span>        {</div>
<div class="line"><span class="lineno"> 1439</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;req_spell {} in `spell_required` table is not found in dbcs, skipped&quot;</span>, spellReq);</div>
<div class="line"><span class="lineno"> 1440</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1441</span>        }</div>
<div class="line"><span class="lineno"> 1442</span> </div>
<div class="line"><span class="lineno"> 1443</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d4/d62/a10962.html#a917957b9f03d8fec71dde17da1a88d51">GetFirstSpellInChain</a>(spellId) == <a class="code hl_function" href="../../d4/d62/a10962.html#a917957b9f03d8fec71dde17da1a88d51">GetFirstSpellInChain</a>(spellReq))</div>
<div class="line"><span class="lineno"> 1444</span>        {</div>
<div class="line"><span class="lineno"> 1445</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;req_spell {} and spell_id {} in `spell_required` table are ranks of the same spell, entry not needed, skipped&quot;</span>, spellReq, spellId);</div>
<div class="line"><span class="lineno"> 1446</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1447</span>        }</div>
<div class="line"><span class="lineno"> 1448</span> </div>
<div class="line"><span class="lineno"> 1449</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d4/d62/a10962.html#a62767dc60e5f32a91b8428a01d083184">IsSpellRequiringSpell</a>(spellId, spellReq))</div>
<div class="line"><span class="lineno"> 1450</span>        {</div>
<div class="line"><span class="lineno"> 1451</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;duplicated entry of req_spell {} and spell_id {} in `spell_required`, skipped&quot;</span>, spellReq, spellId);</div>
<div class="line"><span class="lineno"> 1452</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1453</span>        }</div>
<div class="line"><span class="lineno"> 1454</span> </div>
<div class="line"><span class="lineno"> 1455</span>        <a class="code hl_variable" href="../../d4/d62/a10962.html#a0037908371f475d84ba4319c7109e12d">mSpellReq</a>.insert (std::pair&lt;uint32, uint32&gt;(spellId, spellReq));</div>
<div class="line"><span class="lineno"> 1456</span>        <a class="code hl_variable" href="../../d4/d62/a10962.html#aa03760f8043a0c684d18527d7ed934d3">mSpellsReqSpell</a>.insert (std::pair&lt;uint32, uint32&gt;(spellReq, spellId));</div>
<div class="line"><span class="lineno"> 1457</span>        ++count;</div>
<div class="line"><span class="lineno"> 1458</span> </div>
<div class="line"><span class="lineno"> 1459</span>        <span class="comment">// xinef: fill additionalTalentInfo data, currently Blessing of Sanctuary only</span></div>
<div class="line"><span class="lineno"> 1460</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d7/da2/a03704.html#a67c1970c378a0fdf0489c1d376d7c388">GetTalentSpellCost</a>(spellReq) &gt; 0)</div>
<div class="line"><span class="lineno"> 1461</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#a16ff5508005286ab678b47bcc211ac24">mTalentSpellAdditionalSet</a>.insert(spellId);</div>
<div class="line"><span class="lineno"> 1462</span>    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno"> 1463</span> </div>
<div class="line"><span class="lineno"> 1464</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Spell Required Records in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 1465</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1466</span>}</div>
<div class="ttc" id="aa03704_html_a67c1970c378a0fdf0489c1d376d7c388"><div class="ttname"><a href="../../d7/da2/a03704.html#a67c1970c378a0fdf0489c1d376d7c388">GetTalentSpellCost</a></div><div class="ttdeci">uint32 GetTalentSpellCost(uint32 spellId)</div><div class="ttdef"><b>Definition:</b> DBCStores.cpp:686</div></div>
<div class="ttc" id="aa10962_html_a62767dc60e5f32a91b8428a01d083184"><div class="ttname"><a href="../../d4/d62/a10962.html#a62767dc60e5f32a91b8428a01d083184">SpellMgr::IsSpellRequiringSpell</a></div><div class="ttdeci">bool IsSpellRequiringSpell(uint32 spellid, uint32 req_spellid) const</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:618</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00554">GetFirstSpellInChain()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00686">GetTalentSpellCost()</a>, <a class="el" href="../../#l00618">IsSpellRequiringSpell()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../#l00798">mSpellReq</a>, <a class="el" href="../../#l00797">mSpellsReqSpell</a>, <a class="el" href="../../#l00822">mTalentSpellAdditionalSet</a>, and <a class="el" href="../../#l00020">WorldDatabase</a>.</p>

</div>
</div>
<a id="aabba2e6d9d126d1622b6723b10f9e52e" name="aabba2e6d9d126d1622b6723b10f9e52e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabba2e6d9d126d1622b6723b10f9e52e">&#9670;&#160;</a></span>LoadSpellSpecificAndAuraState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellSpecificAndAuraState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2779</span>{</div>
<div class="line"><span class="lineno"> 2780</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2781</span> </div>
<div class="line"><span class="lineno"> 2782</span>    <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a>* spellInfo = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2783</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_function" href="../../d4/d62/a10962.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>(); ++i)</div>
<div class="line"><span class="lineno"> 2784</span>    {</div>
<div class="line"><span class="lineno"> 2785</span>        spellInfo = <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[i];</div>
<div class="line"><span class="lineno"> 2786</span>        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 2787</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2788</span>        spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#ab55f4d105d110657b75bd1c59309d27c">_spellSpecific</a> = spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#a20c43b3c24e4cfb1b41d00259f9343c4">LoadSpellSpecific</a>();</div>
<div class="line"><span class="lineno"> 2789</span>        spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#a5f67d59406d383cca6627b51d37d4a7a">_auraState</a> = spellInfo-&gt;<a class="code hl_function" href="../../d4/db9/a10906.html#a483ee97240f74363e5e132a6a6c92af3">LoadAuraState</a>();</div>
<div class="line"><span class="lineno"> 2790</span>    }</div>
<div class="line"><span class="lineno"> 2791</span> </div>
<div class="line"><span class="lineno"> 2792</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded Spell Specific And Aura State in {} ms&quot;</span>, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2793</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2794</span>}</div>
<div class="ttc" id="aa10906_html_a20c43b3c24e4cfb1b41d00259f9343c4"><div class="ttname"><a href="../../d4/db9/a10906.html#a20c43b3c24e4cfb1b41d00259f9343c4">SpellInfo::LoadSpellSpecific</a></div><div class="ttdeci">SpellSpecificType LoadSpellSpecific() const</div><div class="ttdef"><b>Definition:</b> SpellInfo.cpp:2142</div></div>
<div class="ttc" id="aa10906_html_a483ee97240f74363e5e132a6a6c92af3"><div class="ttname"><a href="../../d4/db9/a10906.html#a483ee97240f74363e5e132a6a6c92af3">SpellInfo::LoadAuraState</a></div><div class="ttdeci">AuraStateType LoadAuraState() const</div><div class="ttdef"><b>Definition:</b> SpellInfo.cpp:2065</div></div>
<div class="ttc" id="aa10906_html_a5f67d59406d383cca6627b51d37d4a7a"><div class="ttname"><a href="../../d4/db9/a10906.html#a5f67d59406d383cca6627b51d37d4a7a">SpellInfo::_auraState</a></div><div class="ttdeci">AuraStateType _auraState</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:398</div></div>
<div class="ttc" id="aa10906_html_ab55f4d105d110657b75bd1c59309d27c"><div class="ttname"><a href="../../d4/db9/a10906.html#ab55f4d105d110657b75bd1c59309d27c">SpellInfo::_spellSpecific</a></div><div class="ttdeci">SpellSpecificType _spellSpecific</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:399</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00398">SpellInfo::_auraState</a>, <a class="el" href="../../#l00399">SpellInfo::_spellSpecific</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00751">GetSpellInfoStoreSize()</a>, <a class="el" href="../../#l02065">SpellInfo::LoadAuraState()</a>, <a class="el" href="../../#l02142">SpellInfo::LoadSpellSpecific()</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, and <a class="el" href="../../#l00820">mSpellInfoMap</a>.</p>

</div>
</div>
<a id="a8527d75d2203fba05133d32f2cf0fa55" name="a8527d75d2203fba05133d32f2cf0fa55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8527d75d2203fba05133d32f2cf0fa55">&#9670;&#160;</a></span>LoadSpellTalentRanks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellTalentRanks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1232</span>{</div>
<div class="line"><span class="lineno"> 1233</span>    <span class="comment">// cleanup core data before reload - remove reference to ChainNode from SpellInfo</span></div>
<div class="line"><span class="lineno"> 1234</span>    <a class="code hl_function" href="../../d4/d62/a10962.html#afa249eca149df213b191ea7009e51fe6">UnloadSpellInfoChains</a>();</div>
<div class="line"><span class="lineno"> 1235</span> </div>
<div class="line"><span class="lineno"> 1236</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_variable" href="../../d7/da2/a03704.html#abd81359499a4a51a71b17ea8f9f7ad62">sTalentStore</a>.GetNumRows(); ++i)</div>
<div class="line"><span class="lineno"> 1237</span>    {</div>
<div class="line"><span class="lineno"> 1238</span>        <a class="code hl_struct" href="../../df/d2c/a27982.html">TalentEntry</a> <span class="keyword">const</span>* talentInfo = <a class="code hl_variable" href="../../d7/da2/a03704.html#abd81359499a4a51a71b17ea8f9f7ad62">sTalentStore</a>.LookupEntry(i);</div>
<div class="line"><span class="lineno"> 1239</span>        <span class="keywordflow">if</span> (!talentInfo)</div>
<div class="line"><span class="lineno"> 1240</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1241</span> </div>
<div class="line"><span class="lineno"> 1242</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* lastSpell = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1243</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rank = <a class="code hl_define" href="../../d7/d14/a02750.html#a8d6d5cac52d7a437e341e9f6ebc21a21">MAX_TALENT_RANK</a> - 1; rank &gt; 0; --rank)</div>
<div class="line"><span class="lineno"> 1244</span>        {</div>
<div class="line"><span class="lineno"> 1245</span>            <span class="keywordflow">if</span> (talentInfo-&gt;<a class="code hl_variable" href="../../df/d2c/a27982.html#a96d0fd120ed3aa7fbd287d104fd87c26">RankID</a>[rank])</div>
<div class="line"><span class="lineno"> 1246</span>            {</div>
<div class="line"><span class="lineno"> 1247</span>                lastSpell = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(talentInfo-&gt;<a class="code hl_variable" href="../../df/d2c/a27982.html#a96d0fd120ed3aa7fbd287d104fd87c26">RankID</a>[rank]);</div>
<div class="line"><span class="lineno"> 1248</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1249</span>            }</div>
<div class="line"><span class="lineno"> 1250</span>        }</div>
<div class="line"><span class="lineno"> 1251</span> </div>
<div class="line"><span class="lineno"> 1252</span>        <span class="keywordflow">if</span> (!lastSpell)</div>
<div class="line"><span class="lineno"> 1253</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1254</span> </div>
<div class="line"><span class="lineno"> 1255</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* firstSpell = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(talentInfo-&gt;<a class="code hl_variable" href="../../df/d2c/a27982.html#a96d0fd120ed3aa7fbd287d104fd87c26">RankID</a>[0]);</div>
<div class="line"><span class="lineno"> 1256</span>        <span class="keywordflow">if</span> (!firstSpell)</div>
<div class="line"><span class="lineno"> 1257</span>        {</div>
<div class="line"><span class="lineno"> 1258</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;SpellMgr::LoadSpellTalentRanks: First Rank Spell {} for TalentEntry {} does not exist.&quot;</span>, talentInfo-&gt;<a class="code hl_variable" href="../../df/d2c/a27982.html#a96d0fd120ed3aa7fbd287d104fd87c26">RankID</a>[0], i);</div>
<div class="line"><span class="lineno"> 1259</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1260</span>        }</div>
<div class="line"><span class="lineno"> 1261</span> </div>
<div class="line"><span class="lineno"> 1262</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* prevSpell = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1263</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> rank = 0; rank &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#a8d6d5cac52d7a437e341e9f6ebc21a21">MAX_TALENT_RANK</a>; ++rank)</div>
<div class="line"><span class="lineno"> 1264</span>        {</div>
<div class="line"><span class="lineno"> 1265</span>            <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> spellId = talentInfo-&gt;<a class="code hl_variable" href="../../df/d2c/a27982.html#a96d0fd120ed3aa7fbd287d104fd87c26">RankID</a>[rank];</div>
<div class="line"><span class="lineno"> 1266</span>            <span class="keywordflow">if</span> (!spellId)</div>
<div class="line"><span class="lineno"> 1267</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1268</span> </div>
<div class="line"><span class="lineno"> 1269</span>            <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* currentSpell = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(spellId);</div>
<div class="line"><span class="lineno"> 1270</span>            <span class="keywordflow">if</span> (!currentSpell)</div>
<div class="line"><span class="lineno"> 1271</span>            {</div>
<div class="line"><span class="lineno"> 1272</span>                <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;SpellMgr::LoadSpellTalentRanks: Spell {} (Rank: {}) for TalentEntry {} does not exist.&quot;</span>, spellId, rank + 1, i);</div>
<div class="line"><span class="lineno"> 1273</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1274</span>            }</div>
<div class="line"><span class="lineno"> 1275</span> </div>
<div class="line"><span class="lineno"> 1276</span>            <a class="code hl_struct" href="../../d5/deb/a10946.html">SpellChainNode</a> node;</div>
<div class="line"><span class="lineno"> 1277</span>            node.<a class="code hl_variable" href="../../d5/deb/a10946.html#a49aea8bfed353c2c552f6195b8e9f60a">first</a> = firstSpell;</div>
<div class="line"><span class="lineno"> 1278</span>            node.<a class="code hl_variable" href="../../d5/deb/a10946.html#a05a8077c7ec39bcca66fe84aa1da7040">last</a>  = lastSpell;</div>
<div class="line"><span class="lineno"> 1279</span>            node.<a class="code hl_variable" href="../../d5/deb/a10946.html#a0b58cef8fc18f91fa59b8c7d7b9f9872">rank</a>  = rank + 1;</div>
<div class="line"><span class="lineno"> 1280</span> </div>
<div class="line"><span class="lineno"> 1281</span>            node.<a class="code hl_variable" href="../../d5/deb/a10946.html#ae27b7d0aa5a2ae5cb75a7f0d397c849f">prev</a> = prevSpell;</div>
<div class="line"><span class="lineno"> 1282</span>            node.<a class="code hl_variable" href="../../d5/deb/a10946.html#a0a7791b7069912a013299e7afaf4142f">next</a> = node.<a class="code hl_variable" href="../../d5/deb/a10946.html#a0b58cef8fc18f91fa59b8c7d7b9f9872">rank</a> &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#a8d6d5cac52d7a437e341e9f6ebc21a21">MAX_TALENT_RANK</a> ? <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(talentInfo-&gt;<a class="code hl_variable" href="../../df/d2c/a27982.html#a96d0fd120ed3aa7fbd287d104fd87c26">RankID</a>[node.<a class="code hl_variable" href="../../d5/deb/a10946.html#a0b58cef8fc18f91fa59b8c7d7b9f9872">rank</a>]) : nullptr;</div>
<div class="line"><span class="lineno"> 1283</span> </div>
<div class="line"><span class="lineno"> 1284</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[spellId] = node;</div>
<div class="line"><span class="lineno"> 1285</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[spellId]-&gt;ChainEntry = &amp;<a class="code hl_variable" href="../../d4/d62/a10962.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>[spellId];</div>
<div class="line"><span class="lineno"> 1286</span> </div>
<div class="line"><span class="lineno"> 1287</span>            prevSpell = currentSpell;</div>
<div class="line"><span class="lineno"> 1288</span>        }</div>
<div class="line"><span class="lineno"> 1289</span>    }</div>
<div class="line"><span class="lineno"> 1290</span>}</div>
<div class="ttc" id="aa10946_html_a05a8077c7ec39bcca66fe84aa1da7040"><div class="ttname"><a href="../../d5/deb/a10946.html#a05a8077c7ec39bcca66fe84aa1da7040">SpellChainNode::last</a></div><div class="ttdeci">SpellInfo const  * last</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:558</div></div>
<div class="ttc" id="aa10946_html_a0a7791b7069912a013299e7afaf4142f"><div class="ttname"><a href="../../d5/deb/a10946.html#a0a7791b7069912a013299e7afaf4142f">SpellChainNode::next</a></div><div class="ttdeci">SpellInfo const  * next</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:556</div></div>
<div class="ttc" id="aa10946_html_a0b58cef8fc18f91fa59b8c7d7b9f9872"><div class="ttname"><a href="../../d5/deb/a10946.html#a0b58cef8fc18f91fa59b8c7d7b9f9872">SpellChainNode::rank</a></div><div class="ttdeci">uint8 rank</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:559</div></div>
<div class="ttc" id="aa10946_html_a49aea8bfed353c2c552f6195b8e9f60a"><div class="ttname"><a href="../../d5/deb/a10946.html#a49aea8bfed353c2c552f6195b8e9f60a">SpellChainNode::first</a></div><div class="ttdeci">SpellInfo const  * first</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:557</div></div>
<div class="ttc" id="aa10946_html_ae27b7d0aa5a2ae5cb75a7f0d397c849f"><div class="ttname"><a href="../../d5/deb/a10946.html#ae27b7d0aa5a2ae5cb75a7f0d397c849f">SpellChainNode::prev</a></div><div class="ttdeci">SpellInfo const  * prev</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:555</div></div>
<div class="ttc" id="aa10962_html_afa249eca149df213b191ea7009e51fe6"><div class="ttname"><a href="../../d4/d62/a10962.html#afa249eca149df213b191ea7009e51fe6">SpellMgr::UnloadSpellInfoChains</a></div><div class="ttdeci">void UnloadSpellInfoChains()</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:1223</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00557">SpellChainNode::first</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00558">SpellChainNode::last</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l01917">MAX_TALENT_RANK</a>, <a class="el" href="../../#l00796">mSpellChains</a>, <a class="el" href="../../#l00820">mSpellInfoMap</a>, <a class="el" href="../../#l00556">SpellChainNode::next</a>, <a class="el" href="../../#l00555">SpellChainNode::prev</a>, <a class="el" href="../../#l00559">SpellChainNode::rank</a>, <a class="el" href="../../#l01927">TalentEntry::RankID</a>, <a class="el" href="../../d7/da2/a03704.html#abd81359499a4a51a71b17ea8f9f7ad62">sTalentStore</a>, and <a class="el" href="../../#l01223">UnloadSpellInfoChains()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01292">LoadSpellRanks()</a>.</p>

</div>
</div>
<a id="a6fedac5a7c8e66606b363266ed413dba" name="a6fedac5a7c8e66606b363266ed413dba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fedac5a7c8e66606b363266ed413dba">&#9670;&#160;</a></span>LoadSpellTargetPositions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellTargetPositions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1522</span>{</div>
<div class="line"><span class="lineno"> 1523</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 1524</span> </div>
<div class="line"><span class="lineno"> 1525</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#aa36449309e445b361a05bf77e4bd5698">mSpellTargetPositions</a>.clear();                                <span class="comment">// need for reload case</span></div>
<div class="line"><span class="lineno"> 1526</span> </div>
<div class="line"><span class="lineno"> 1527</span>    <span class="comment">//                                                0      1          2        3         4           5            6</span></div>
<div class="line"><span class="lineno"> 1528</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT ID, EffectIndex, MapID, PositionX, PositionY, PositionZ, Orientation FROM spell_target_position&quot;</span>);</div>
<div class="line"><span class="lineno"> 1529</span> </div>
<div class="line"><span class="lineno"> 1530</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno"> 1531</span>    {</div>
<div class="line"><span class="lineno"> 1532</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 spell target coordinates. DB table `spell_target_position` is empty.&quot;</span>);</div>
<div class="line"><span class="lineno"> 1533</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1534</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1535</span>    }</div>
<div class="line"><span class="lineno"> 1536</span> </div>
<div class="line"><span class="lineno"> 1537</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 1538</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 1539</span>    {</div>
<div class="line"><span class="lineno"> 1540</span>        <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 1541</span> </div>
<div class="line"><span class="lineno"> 1542</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> Spell_ID = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 1543</span> </div>
<div class="line"><span class="lineno"> 1544</span>        <a class="code hl_enumeration" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ff">SpellEffIndex</a> effIndex = <a class="code hl_enumeration" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ff">SpellEffIndex</a>(fields[1].Get&lt;uint8&gt;());</div>
<div class="line"><span class="lineno"> 1545</span> </div>
<div class="line"><span class="lineno"> 1546</span>        <a class="code hl_struct" href="../../dd/d3a/a10934.html">SpellTargetPosition</a> st;</div>
<div class="line"><span class="lineno"> 1547</span> </div>
<div class="line"><span class="lineno"> 1548</span>        st.<a class="code hl_variable" href="../../dd/d3a/a10934.html#a6dbbb558810388e0d051d84a0279a444">target_mapId</a>       = fields[2].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a>&gt;();</div>
<div class="line"><span class="lineno"> 1549</span>        st.<a class="code hl_variable" href="../../dd/d3a/a10934.html#aa78b3d4cfb4277bcb1bf6a31ffc87546">target_X</a>           = fields[3].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 1550</span>        st.<a class="code hl_variable" href="../../dd/d3a/a10934.html#a6f432d8770adebf513346713b7890b5c">target_Y</a>           = fields[4].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 1551</span>        st.<a class="code hl_variable" href="../../dd/d3a/a10934.html#a3af706b81f8fbef12277c518964f717a">target_Z</a>           = fields[5].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 1552</span>        st.<a class="code hl_variable" href="../../dd/d3a/a10934.html#a7e30264eff9ece771dfaa421ef987b2a">target_Orientation</a> = fields[6].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 1553</span> </div>
<div class="line"><span class="lineno"> 1554</span>        <a class="code hl_struct" href="../../da/d0a/a27846.html">MapEntry</a> <span class="keyword">const</span>* mapEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#acbe166cef01fbaa320231e8ef42b25c6">sMapStore</a>.LookupEntry(st.<a class="code hl_variable" href="../../dd/d3a/a10934.html#a6dbbb558810388e0d051d84a0279a444">target_mapId</a>);</div>
<div class="line"><span class="lineno"> 1555</span>        <span class="keywordflow">if</span> (!mapEntry)</div>
<div class="line"><span class="lineno"> 1556</span>        {</div>
<div class="line"><span class="lineno"> 1557</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell (Id: {}, effIndex: {}) target map (ID: {}) does not exist in `Map.dbc`.&quot;</span>, Spell_ID, effIndex, st.<a class="code hl_variable" href="../../dd/d3a/a10934.html#a6dbbb558810388e0d051d84a0279a444">target_mapId</a>);</div>
<div class="line"><span class="lineno"> 1558</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1559</span>        }</div>
<div class="line"><span class="lineno"> 1560</span> </div>
<div class="line"><span class="lineno"> 1561</span>        <span class="keywordflow">if</span> (st.<a class="code hl_variable" href="../../dd/d3a/a10934.html#aa78b3d4cfb4277bcb1bf6a31ffc87546">target_X</a> == 0 &amp;&amp; st.<a class="code hl_variable" href="../../dd/d3a/a10934.html#a6f432d8770adebf513346713b7890b5c">target_Y</a> == 0 &amp;&amp; st.<a class="code hl_variable" href="../../dd/d3a/a10934.html#a3af706b81f8fbef12277c518964f717a">target_Z</a> == 0)</div>
<div class="line"><span class="lineno"> 1562</span>        {</div>
<div class="line"><span class="lineno"> 1563</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell (Id: {}, effIndex: {}) target coordinates not provided.&quot;</span>, Spell_ID, effIndex);</div>
<div class="line"><span class="lineno"> 1564</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1565</span>        }</div>
<div class="line"><span class="lineno"> 1566</span> </div>
<div class="line"><span class="lineno"> 1567</span>        <a class="code hl_class" href="../../d4/db9/a10906.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(Spell_ID);</div>
<div class="line"><span class="lineno"> 1568</span>        <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 1569</span>        {</div>
<div class="line"><span class="lineno"> 1570</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell (ID:{}) listed in `spell_target_position` does not exist.&quot;</span>, Spell_ID);</div>
<div class="line"><span class="lineno"> 1571</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1572</span>        }</div>
<div class="line"><span class="lineno"> 1573</span> </div>
<div class="line"><span class="lineno"> 1574</span>        <span class="keywordflow">if</span> (spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[effIndex].TargetA.GetTarget() == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a26506da78f6a6950f7ac66718b775817">TARGET_DEST_DB</a> || spellInfo-&gt;<a class="code hl_variable" href="../../d4/db9/a10906.html#aa5bb0d7d6df03526d011d9cbfa3734e0">Effects</a>[effIndex].TargetB.GetTarget() == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a418aed4e4066eb09ab979b5d78dc9152a26506da78f6a6950f7ac66718b775817">TARGET_DEST_DB</a>)</div>
<div class="line"><span class="lineno"> 1575</span>        {</div>
<div class="line"><span class="lineno"> 1576</span>            std::pair&lt;uint32, SpellEffIndex&gt; key = std::make_pair(Spell_ID, effIndex);</div>
<div class="line"><span class="lineno"> 1577</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#aa36449309e445b361a05bf77e4bd5698">mSpellTargetPositions</a>[key] = st;</div>
<div class="line"><span class="lineno"> 1578</span>            ++count;</div>
<div class="line"><span class="lineno"> 1579</span>        }</div>
<div class="line"><span class="lineno"> 1580</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1581</span>        {</div>
<div class="line"><span class="lineno"> 1582</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell (Id: {}, effIndex: {}) listed in `spell_target_position` does not have target TARGET_DEST_DB (17).&quot;</span>, Spell_ID, effIndex);</div>
<div class="line"><span class="lineno"> 1583</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1584</span>        }</div>
<div class="line"><span class="lineno"> 1585</span>    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno"> 1586</span> </div>
<div class="line"><span class="lineno"> 1587</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1588</span><span class="comment">    // Check all spells</span></div>
<div class="line"><span class="lineno"> 1589</span><span class="comment">    for (uint32 i = 1; i &lt; GetSpellInfoStoreSize; ++i)</span></div>
<div class="line"><span class="lineno"> 1590</span><span class="comment">    {</span></div>
<div class="line"><span class="lineno"> 1591</span><span class="comment">        SpellInfo const* spellInfo = GetSpellInfo(i);</span></div>
<div class="line"><span class="lineno"> 1592</span><span class="comment">        if (!spellInfo)</span></div>
<div class="line"><span class="lineno"> 1593</span><span class="comment">            continue;</span></div>
<div class="line"><span class="lineno"> 1594</span><span class="comment"></span> </div>
<div class="line"><span class="lineno"> 1595</span><span class="comment">        bool found = false;</span></div>
<div class="line"><span class="lineno"> 1596</span><span class="comment">        for (int j = 0; j &lt; MAX_SPELL_EFFECTS; ++j)</span></div>
<div class="line"><span class="lineno"> 1597</span><span class="comment">        {</span></div>
<div class="line"><span class="lineno"> 1598</span><span class="comment">            switch (spellInfo-&gt;Effects[j].TargetA)</span></div>
<div class="line"><span class="lineno"> 1599</span><span class="comment">            {</span></div>
<div class="line"><span class="lineno"> 1600</span><span class="comment">                case TARGET_DEST_DB:</span></div>
<div class="line"><span class="lineno"> 1601</span><span class="comment">                    found = true;</span></div>
<div class="line"><span class="lineno"> 1602</span><span class="comment">                    break;</span></div>
<div class="line"><span class="lineno"> 1603</span><span class="comment">            }</span></div>
<div class="line"><span class="lineno"> 1604</span><span class="comment">            if (found)</span></div>
<div class="line"><span class="lineno"> 1605</span><span class="comment">                break;</span></div>
<div class="line"><span class="lineno"> 1606</span><span class="comment">            switch (spellInfo-&gt;Effects[j].TargetB)</span></div>
<div class="line"><span class="lineno"> 1607</span><span class="comment">            {</span></div>
<div class="line"><span class="lineno"> 1608</span><span class="comment">                case TARGET_DEST_DB:</span></div>
<div class="line"><span class="lineno"> 1609</span><span class="comment">                    found = true;</span></div>
<div class="line"><span class="lineno"> 1610</span><span class="comment">                    break;</span></div>
<div class="line"><span class="lineno"> 1611</span><span class="comment">            }</span></div>
<div class="line"><span class="lineno"> 1612</span><span class="comment">            if (found)</span></div>
<div class="line"><span class="lineno"> 1613</span><span class="comment">                break;</span></div>
<div class="line"><span class="lineno"> 1614</span><span class="comment">        }</span></div>
<div class="line"><span class="lineno"> 1615</span><span class="comment">        if (found)</span></div>
<div class="line"><span class="lineno"> 1616</span><span class="comment">        {</span></div>
<div class="line"><span class="lineno"> 1617</span><span class="comment">            if (!sSpellMgr-&gt;GetSpellTargetPosition(i))</span></div>
<div class="line"><span class="lineno"> 1618</span><span class="comment">                LOG_DEBUG(&quot;spells.aura&quot;, &quot;Spell (ID: {}) does not have record in `spell_target_position`&quot;, i);</span></div>
<div class="line"><span class="lineno"> 1619</span><span class="comment">        }</span></div>
<div class="line"><span class="lineno"> 1620</span><span class="comment">    }*/</span></div>
<div class="line"><span class="lineno"> 1621</span> </div>
<div class="line"><span class="lineno"> 1622</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} Spell Teleport Coordinates in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 1623</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 1624</span>}</div>
<div class="ttc" id="aa02771_html_a091a832125de330a1d2fb91d57c0e1ff"><div class="ttname"><a href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ff">SpellEffIndex</a></div><div class="ttdeci">SpellEffIndex</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:30</div></div>
<div class="ttc" id="aa03704_html_acbe166cef01fbaa320231e8ef42b25c6"><div class="ttname"><a href="../../d7/da2/a03704.html#acbe166cef01fbaa320231e8ef42b25c6">sMapStore</a></div><div class="ttdeci">DBCStorage&lt; MapEntry &gt; sMapStore(MapEntryfmt)</div></div>
<div class="ttc" id="aa10934_html"><div class="ttname"><a href="../../dd/d3a/a10934.html">SpellTargetPosition</a></div><div class="ttdef"><b>Definition:</b> SpellMgr.h:396</div></div>
<div class="ttc" id="aa10934_html_a3af706b81f8fbef12277c518964f717a"><div class="ttname"><a href="../../dd/d3a/a10934.html#a3af706b81f8fbef12277c518964f717a">SpellTargetPosition::target_Z</a></div><div class="ttdeci">float target_Z</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:400</div></div>
<div class="ttc" id="aa10934_html_a6dbbb558810388e0d051d84a0279a444"><div class="ttname"><a href="../../dd/d3a/a10934.html#a6dbbb558810388e0d051d84a0279a444">SpellTargetPosition::target_mapId</a></div><div class="ttdeci">uint32 target_mapId</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:397</div></div>
<div class="ttc" id="aa10934_html_a6f432d8770adebf513346713b7890b5c"><div class="ttname"><a href="../../dd/d3a/a10934.html#a6f432d8770adebf513346713b7890b5c">SpellTargetPosition::target_Y</a></div><div class="ttdeci">float target_Y</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:399</div></div>
<div class="ttc" id="aa10934_html_a7e30264eff9ece771dfaa421ef987b2a"><div class="ttname"><a href="../../dd/d3a/a10934.html#a7e30264eff9ece771dfaa421ef987b2a">SpellTargetPosition::target_Orientation</a></div><div class="ttdeci">float target_Orientation</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:401</div></div>
<div class="ttc" id="aa10934_html_aa78b3d4cfb4277bcb1bf6a31ffc87546"><div class="ttname"><a href="../../dd/d3a/a10934.html#aa78b3d4cfb4277bcb1bf6a31ffc87546">SpellTargetPosition::target_X</a></div><div class="ttdeci">float target_X</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:398</div></div>
<div class="ttc" id="aa27846_html"><div class="ttname"><a href="../../da/d0a/a27846.html">MapEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1324</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00393">SpellInfo::Effects</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../#l00800">mSpellTargetPositions</a>, <a class="el" href="../../d7/da2/a03704.html#acbe166cef01fbaa320231e8ef42b25c6">sMapStore</a>, <a class="el" href="../../#l01422">TARGET_DEST_DB</a>, <a class="el" href="../../#l00397">SpellTargetPosition::target_mapId</a>, <a class="el" href="../../#l00401">SpellTargetPosition::target_Orientation</a>, <a class="el" href="../../#l00398">SpellTargetPosition::target_X</a>, <a class="el" href="../../#l00399">SpellTargetPosition::target_Y</a>, <a class="el" href="../../#l00400">SpellTargetPosition::target_Z</a>, and <a class="el" href="../../#l00020">WorldDatabase</a>.</p>

</div>
</div>
<a id="a639ed2f06c1e6457882c02bee9da7dcb" name="a639ed2f06c1e6457882c02bee9da7dcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a639ed2f06c1e6457882c02bee9da7dcb">&#9670;&#160;</a></span>LoadSpellThreats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::LoadSpellThreats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2005</span>{</div>
<div class="line"><span class="lineno"> 2006</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> oldMSTime = <a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>();</div>
<div class="line"><span class="lineno"> 2007</span> </div>
<div class="line"><span class="lineno"> 2008</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#ae9c903197d7e59109bdc7675663ff93f">mSpellThreatMap</a>.clear();                                <span class="comment">// need for reload case</span></div>
<div class="line"><span class="lineno"> 2009</span> </div>
<div class="line"><span class="lineno"> 2010</span>    <span class="comment">//                                                0      1        2       3</span></div>
<div class="line"><span class="lineno"> 2011</span>    <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(<span class="stringliteral">&quot;SELECT entry, flatMod, pctMod, apPctMod FROM spell_threat&quot;</span>);</div>
<div class="line"><span class="lineno"> 2012</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno"> 2013</span>    {</div>
<div class="line"><span class="lineno"> 2014</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#adf09840a666e1d86bcd3439105db6edc">LOG_WARN</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded 0 aggro generating spells. DB table `spell_threat` is empty.&quot;</span>);</div>
<div class="line"><span class="lineno"> 2015</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2016</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2017</span>    }</div>
<div class="line"><span class="lineno"> 2018</span> </div>
<div class="line"><span class="lineno"> 2019</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> count = 0;</div>
<div class="line"><span class="lineno"> 2020</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 2021</span>    {</div>
<div class="line"><span class="lineno"> 2022</span>        <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 2023</span> </div>
<div class="line"><span class="lineno"> 2024</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> entry = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2025</span> </div>
<div class="line"><span class="lineno"> 2026</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d4/d62/a10962.html#a5f55093e0190a68e75b2f3f49a07e853">GetSpellInfo</a>(entry))</div>
<div class="line"><span class="lineno"> 2027</span>        {</div>
<div class="line"><span class="lineno"> 2028</span>            <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;sql.sql&quot;</span>, <span class="stringliteral">&quot;Spell {} listed in `spell_threat` does not exist&quot;</span>, entry);</div>
<div class="line"><span class="lineno"> 2029</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2030</span>        }</div>
<div class="line"><span class="lineno"> 2031</span> </div>
<div class="line"><span class="lineno"> 2032</span>        <a class="code hl_struct" href="../../d4/df1/a10930.html">SpellThreatEntry</a> ste;</div>
<div class="line"><span class="lineno"> 2033</span>        ste.<a class="code hl_variable" href="../../d4/df1/a10930.html#a0d66e48d986f246e6aea08dd00837158">flatMod</a>  = fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2034</span>        ste.<a class="code hl_variable" href="../../d4/df1/a10930.html#af13802a7f6872cfce3a1d14655f30287">pctMod</a>   = fields[2].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 2035</span>        ste.<a class="code hl_variable" href="../../d4/df1/a10930.html#a35f5f8f7a3ac33768299913fecc1cf8d">apPctMod</a> = fields[3].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<span class="keywordtype">float</span>&gt;();</div>
<div class="line"><span class="lineno"> 2036</span> </div>
<div class="line"><span class="lineno"> 2037</span>        <a class="code hl_variable" href="../../d4/d62/a10962.html#ae9c903197d7e59109bdc7675663ff93f">mSpellThreatMap</a>[entry] = ste;</div>
<div class="line"><span class="lineno"> 2038</span>        ++count;</div>
<div class="line"><span class="lineno"> 2039</span>    } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno"> 2040</span> </div>
<div class="line"><span class="lineno"> 2041</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot;&gt;&gt; Loaded {} SpellThreatEntries in {} ms&quot;</span>, count, <a class="code hl_function" href="../../d1/d5d/a00311.html#a23a2c8663a05f2b03a6f85501972e8c0">GetMSTimeDiffToNow</a>(oldMSTime));</div>
<div class="line"><span class="lineno"> 2042</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a271e427d8e8481efd5cd5f537ec9e419">LOG_INFO</a>(<span class="stringliteral">&quot;server.loading&quot;</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno"> 2043</span>}</div>
<div class="ttc" id="aa10930_html"><div class="ttname"><a href="../../d4/df1/a10930.html">SpellThreatEntry</a></div><div class="ttdef"><b>Definition:</b> SpellMgr.h:385</div></div>
<div class="ttc" id="aa10930_html_a0d66e48d986f246e6aea08dd00837158"><div class="ttname"><a href="../../d4/df1/a10930.html#a0d66e48d986f246e6aea08dd00837158">SpellThreatEntry::flatMod</a></div><div class="ttdeci">int32 flatMod</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:386</div></div>
<div class="ttc" id="aa10930_html_a35f5f8f7a3ac33768299913fecc1cf8d"><div class="ttname"><a href="../../d4/df1/a10930.html#a35f5f8f7a3ac33768299913fecc1cf8d">SpellThreatEntry::apPctMod</a></div><div class="ttdeci">float apPctMod</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:388</div></div>
<div class="ttc" id="aa10930_html_af13802a7f6872cfce3a1d14655f30287"><div class="ttname"><a href="../../d4/df1/a10930.html#af13802a7f6872cfce3a1d14655f30287">SpellThreatEntry::pctMod</a></div><div class="ttdeci">float pctMod</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:387</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00388">SpellThreatEntry::apPctMod</a>, <a class="el" href="../../#l00386">SpellThreatEntry::flatMod</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00131">GetMSTimeDiffToNow()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00165">LOG_INFO</a>, <a class="el" href="../../#l00161">LOG_WARN</a>, <a class="el" href="../../#l00806">mSpellThreatMap</a>, <a class="el" href="../../#l00387">SpellThreatEntry::pctMod</a>, and <a class="el" href="../../#l00020">WorldDatabase</a>.</p>

</div>
</div>
<a id="a1d78ba697367cda75056836937d7976e" name="a1d78ba697367cda75056836937d7976e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d78ba697367cda75056836937d7976e">&#9670;&#160;</a></span>SetSpellDifficultyId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::SetSpellDifficultyId </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>spellId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  485</span>{</div>
<div class="line"><span class="lineno">  486</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a7095c038ec0ebbc2c9528edacf29f1b4">mSpellDifficultySearcherMap</a>[spellId] = id;</div>
<div class="line"><span class="lineno">  487</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00795">mSpellDifficultySearcherMap</a>.</p>

</div>
</div>
<a id="afa249eca149df213b191ea7009e51fe6" name="afa249eca149df213b191ea7009e51fe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa249eca149df213b191ea7009e51fe6">&#9670;&#160;</a></span>UnloadSpellInfoChains()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::UnloadSpellInfoChains </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1224</span>{</div>
<div class="line"><span class="lineno"> 1225</span>    <span class="keywordflow">for</span> (SpellChainMap::iterator itr = <a class="code hl_variable" href="../../d4/d62/a10962.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>.begin(); itr != <a class="code hl_variable" href="../../d4/d62/a10962.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>.end(); ++itr)</div>
<div class="line"><span class="lineno"> 1226</span>        <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[itr-&gt;first]-&gt;ChainEntry = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1227</span> </div>
<div class="line"><span class="lineno"> 1228</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#a25446ffa46c3712a64d43f88f4799e16">mSpellChains</a>.clear();</div>
<div class="line"><span class="lineno"> 1229</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00796">mSpellChains</a>, and <a class="el" href="../../#l00820">mSpellInfoMap</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01231">LoadSpellTalentRanks()</a>.</p>

</div>
</div>
<a id="ac325f4a1c1164352f4a4f1adf1be9ce0" name="ac325f4a1c1164352f4a4f1adf1be9ce0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac325f4a1c1164352f4a4f1adf1be9ce0">&#9670;&#160;</a></span>UnloadSpellInfoImplicitTargetConditionLists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::UnloadSpellInfoImplicitTargetConditionLists </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2770</span>{</div>
<div class="line"><span class="lineno"> 2771</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_function" href="../../d4/d62/a10962.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>(); ++i)</div>
<div class="line"><span class="lineno"> 2772</span>    {</div>
<div class="line"><span class="lineno"> 2773</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[i])</div>
<div class="line"><span class="lineno"> 2774</span>            <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[i]-&gt;_UnloadImplicitTargetConditionLists();</div>
<div class="line"><span class="lineno"> 2775</span>    }</div>
<div class="line"><span class="lineno"> 2776</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00751">GetSpellInfoStoreSize()</a>, and <a class="el" href="../../#l00820">mSpellInfoMap</a>.</p>

</div>
</div>
<a id="a2b2cc6f3ee5006297dff23eb8567db29" name="a2b2cc6f3ee5006297dff23eb8567db29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b2cc6f3ee5006297dff23eb8567db29">&#9670;&#160;</a></span>UnloadSpellInfoStore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpellMgr::UnloadSpellInfoStore </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2762</span>{</div>
<div class="line"><span class="lineno"> 2763</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> i = 0; i &lt; <a class="code hl_function" href="../../d4/d62/a10962.html#aca8a0eccca0aa32dc2cc9802597c0256">GetSpellInfoStoreSize</a>(); ++i)</div>
<div class="line"><span class="lineno"> 2764</span>        <span class="keyword">delete</span> <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>[i];</div>
<div class="line"><span class="lineno"> 2765</span> </div>
<div class="line"><span class="lineno"> 2766</span>    <a class="code hl_variable" href="../../d4/d62/a10962.html#aebc7d657f29471ecb5136ee294873e96">mSpellInfoMap</a>.clear();</div>
<div class="line"><span class="lineno"> 2767</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00751">GetSpellInfoStoreSize()</a>, and <a class="el" href="../../#l00820">mSpellInfoMap</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02690">LoadSpellInfoStore()</a>, and <a class="el" href="../../#l00358">~SpellMgr()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1d1bde8d692b959379b27d29bfdd1e48" name="a1d1bde8d692b959379b27d29bfdd1e48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d1bde8d692b959379b27d29bfdd1e48">&#9670;&#160;</a></span>mEnchantCustomAttr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#aaf44c511d7aca68a0e2f56287dc2999d">EnchantCustomAttribute</a> SpellMgr::mEnchantCustomAttr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01024">IsArenaAllowedEnchancment()</a>, and <a class="el" href="../../#l02166">LoadEnchantCustomAttr()</a>.</p>

</div>
</div>
<a id="a4ec8d854c5357f1edfd29a136203b0da" name="a4ec8d854c5357f1edfd29a136203b0da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ec8d854c5357f1edfd29a136203b0da">&#9670;&#160;</a></span>mPetDefaultSpellsMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#aa48a311ee3f1729a60deb3e4cddca333">PetDefaultSpellsMap</a> SpellMgr::mPetDefaultSpellsMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01044">GetPetDefaultSpellsEntry()</a>, and <a class="el" href="../../#l02399">LoadPetDefaultSpells()</a>.</p>

</div>
</div>
<a id="a961a18df4995256a1754503ff574f11e" name="a961a18df4995256a1754503ff574f11e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a961a18df4995256a1754503ff574f11e">&#9670;&#160;</a></span>mPetLevelupSpellMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#ad3397bc4e1407330978a0adb42d4aa26">PetLevelupSpellMap</a> SpellMgr::mPetLevelupSpellMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01035">GetPetLevelupSpellList()</a>, and <a class="el" href="../../#l02305">LoadPetLevelupSpellMap()</a>.</p>

</div>
</div>
<a id="a1230ba374bf128c6d0857d787bb68af4" name="a1230ba374bf128c6d0857d787bb68af4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1230ba374bf128c6d0857d787bb68af4">&#9670;&#160;</a></span>mSkillLineAbilityMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a92884d38e54e1a658ef812cfb5ecc2b5">SkillLineAbilityMap</a> SpellMgr::mSkillLineAbilityMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01002">GetSkillLineAbilityMapBounds()</a>, and <a class="el" href="../../#l02081">LoadSkillLineAbilityMap()</a>.</p>

</div>
</div>
<a id="ab76464f94e9f4189902985e9e86147e3" name="ab76464f94e9f4189902985e9e86147e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab76464f94e9f4189902985e9e86147e3">&#9670;&#160;</a></span>mSpellAreaForAreaMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a8376fb57333e49309455eb6a5389938d">SpellAreaForAreaMap</a> SpellMgr::mSpellAreaForAreaMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01072">GetSpellAreaForAreaMapBounds()</a>, and <a class="el" href="../../#l02479">LoadSpellAreas()</a>.</p>

</div>
</div>
<a id="a24cfc05b7291e1e490fed982059a7c66" name="a24cfc05b7291e1e490fed982059a7c66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24cfc05b7291e1e490fed982059a7c66">&#9670;&#160;</a></span>mSpellAreaForAuraMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a1d7845eefd83649331689ae0a99b51b6">SpellAreaForAuraMap</a> SpellMgr::mSpellAreaForAuraMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01067">GetSpellAreaForAuraMapBounds()</a>, and <a class="el" href="../../#l02479">LoadSpellAreas()</a>.</p>

</div>
</div>
<a id="a4943f12ccc2090045b94e26a53e935a2" name="a4943f12ccc2090045b94e26a53e935a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4943f12ccc2090045b94e26a53e935a2">&#9670;&#160;</a></span>mSpellAreaForQuestEndMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#aa10abaefa9eb85e4ab3ae20543519d8e">SpellAreaForQuestMap</a> SpellMgr::mSpellAreaForQuestEndMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01062">GetSpellAreaForQuestEndMapBounds()</a>, and <a class="el" href="../../#l02479">LoadSpellAreas()</a>.</p>

</div>
</div>
<a id="aeb50fa0b06b178d23731a9d27156b7b7" name="aeb50fa0b06b178d23731a9d27156b7b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb50fa0b06b178d23731a9d27156b7b7">&#9670;&#160;</a></span>mSpellAreaForQuestMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#aa10abaefa9eb85e4ab3ae20543519d8e">SpellAreaForQuestMap</a> SpellMgr::mSpellAreaForQuestMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01057">GetSpellAreaForQuestMapBounds()</a>, and <a class="el" href="../../#l02479">LoadSpellAreas()</a>.</p>

</div>
</div>
<a id="ac68d8e843d1a7a14d16c397e4595ce17" name="ac68d8e843d1a7a14d16c397e4595ce17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac68d8e843d1a7a14d16c397e4595ce17">&#9670;&#160;</a></span>mSpellAreaMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a4d797e41da5b1af2e9d3554edb509bea">SpellAreaMap</a> SpellMgr::mSpellAreaMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01052">GetSpellAreaMapBounds()</a>, and <a class="el" href="../../#l02479">LoadSpellAreas()</a>.</p>

</div>
</div>
<a id="acad2b4b3647850a59bea2a0763ef972c" name="acad2b4b3647850a59bea2a0763ef972c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acad2b4b3647850a59bea2a0763ef972c">&#9670;&#160;</a></span>mSpellBonusMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#ad10a4fadd8c7f9a2263538df7932e5c3">SpellBonusMap</a> SpellMgr::mSpellBonusMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00962">GetSpellBonusData()</a>, and <a class="el" href="../../#l01963">LoadSpellBonuses()</a>.</p>

</div>
</div>
<a id="a25446ffa46c3712a64d43f88f4799e16" name="a25446ffa46c3712a64d43f88f4799e16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25446ffa46c3712a64d43f88f4799e16">&#9670;&#160;</a></span>mSpellChains</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a6ff6942e4e3e7cb8a0e686d4cd15663d">SpellChainMap</a> SpellMgr::mSpellChains</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00545">GetSpellChainNode()</a>, <a class="el" href="../../#l01292">LoadSpellRanks()</a>, <a class="el" href="../../#l01231">LoadSpellTalentRanks()</a>, and <a class="el" href="../../#l01223">UnloadSpellInfoChains()</a>.</p>

</div>
</div>
<a id="ab4262cb58b8845c23eda2fa345679206" name="ab4262cb58b8845c23eda2fa345679206"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4262cb58b8845c23eda2fa345679206">&#9670;&#160;</a></span>mSpellCooldownOverrideMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a548a7734b72d00c646549629de190faf">SpellCooldownOverrideMap</a> SpellMgr::mSpellCooldownOverrideMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l02755">GetSpellCooldownOverride()</a>, <a class="el" href="../../#l02750">HasSpellCooldownOverride()</a>, and <a class="el" href="../../#l02719">LoadSpellCooldownOverrides()</a>.</p>

</div>
</div>
<a id="a7095c038ec0ebbc2c9528edacf29f1b4" name="a7095c038ec0ebbc2c9528edacf29f1b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7095c038ec0ebbc2c9528edacf29f1b4">&#9670;&#160;</a></span>mSpellDifficultySearcherMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a4fe5e2a01f1b4ea090aa00a5c6146490">SpellDifficultySearcherMap</a> SpellMgr::mSpellDifficultySearcherMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00478">GetSpellDifficultyId()</a>, and <a class="el" href="../../#l00484">SetSpellDifficultyId()</a>.</p>

</div>
</div>
<a id="a92a4c6ade6c7005f1d001c6935139272" name="a92a4c6ade6c7005f1d001c6935139272"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92a4c6ade6c7005f1d001c6935139272">&#9670;&#160;</a></span>mSpellEnchantProcEventMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a183ff5e89f6053b74daa4e3c73b28684">SpellEnchantProcEventMap</a> SpellMgr::mSpellEnchantProcEventMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01016">GetSpellEnchantProcEvent()</a>, and <a class="el" href="../../#l02207">LoadSpellEnchantProcData()</a>.</p>

</div>
</div>
<a id="a7a1fa3679f9c375b88603ec4775769fd" name="a7a1fa3679f9c375b88603ec4775769fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a1fa3679f9c375b88603ec4775769fd">&#9670;&#160;</a></span>mSpellGroupMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#ac7df41f0a89d4e98f71779b2460269b6">SpellGroupMap</a> SpellMgr::mSpellGroupMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00722">GetSetOfSpellsInSpellGroupWithFlag()</a>, <a class="el" href="../../#l00660">GetSpellGroup()</a>, <a class="el" href="../../#l00670">GetSpellGroupSpecialFlags()</a>, <a class="el" href="../../#l01626">LoadSpellGroups()</a>, and <a class="el" href="../../#l01686">LoadSpellGroupStackRules()</a>.</p>

</div>
</div>
<a id="a60283ceb69bf92310153db6769f70a6a" name="a60283ceb69bf92310153db6769f70a6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60283ceb69bf92310153db6769f70a6a">&#9670;&#160;</a></span>mSpellGroupStackMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#afa6aca1aa3653c24f6168b60d6512a09">SpellGroupStackMap</a> SpellMgr::mSpellGroupStackMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00651">GetGroupStackFlags()</a>, and <a class="el" href="../../#l01686">LoadSpellGroupStackRules()</a>.</p>

</div>
</div>
<a id="aebc7d657f29471ecb5136ee294873e96" name="aebc7d657f29471ecb5136ee294873e96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebc7d657f29471ecb5136ee294873e96">&#9670;&#160;</a></span>mSpellInfoMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#ae39437b5ea860c3380638469c07e196c">SpellInfoMap</a> SpellMgr::mSpellInfoMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00760">_GetSpellInfo()</a>, <a class="el" href="../../#l00728">AssertSpellInfo()</a>, <a class="el" href="../../#l00736">CheckSpellInfo()</a>, <a class="el" href="../../#l00726">GetSpellInfo()</a>, <a class="el" href="../../#l00751">GetSpellInfoStoreSize()</a>, <a class="el" href="../../#l00039">LoadSpellInfoCorrections()</a>, <a class="el" href="../../#l02796">LoadSpellInfoCustomAttributes()</a>, <a class="el" href="../../#l02690">LoadSpellInfoStore()</a>, <a class="el" href="../../#l01292">LoadSpellRanks()</a>, <a class="el" href="../../#l02778">LoadSpellSpecificAndAuraState()</a>, <a class="el" href="../../#l01231">LoadSpellTalentRanks()</a>, <a class="el" href="../../#l01223">UnloadSpellInfoChains()</a>, <a class="el" href="../../#l02769">UnloadSpellInfoImplicitTargetConditionLists()</a>, and <a class="el" href="../../#l02761">UnloadSpellInfoStore()</a>.</p>

</div>
</div>
<a id="a32d05e01103bd64f22e3993bf46e4bb6" name="a32d05e01103bd64f22e3993bf46e4bb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32d05e01103bd64f22e3993bf46e4bb6">&#9670;&#160;</a></span>mSpellLearnSkills</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#ac02351fce8a30ebfe6d2ced766e2e4df">SpellLearnSkillMap</a> SpellMgr::mSpellLearnSkills</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00634">GetSpellLearnSkill()</a>, and <a class="el" href="../../#l01468">LoadSpellLearnSkills()</a>.</p>

</div>
</div>
<a id="a032f25dee822225e2dfbb75e1c6d56f5" name="a032f25dee822225e2dfbb75e1c6d56f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a032f25dee822225e2dfbb75e1c6d56f5">&#9670;&#160;</a></span>mSpellLinkedMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a5b7d1112d52fa7a4d81f9ac996c7030f">SpellLinkedMap</a> SpellMgr::mSpellLinkedMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01029">GetSpellLinked()</a>, and <a class="el" href="../../#l02252">LoadSpellLinked()</a>.</p>

</div>
</div>
<a id="a5637b3248011a308a57338e6f74b7bdd" name="a5637b3248011a308a57338e6f74b7bdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5637b3248011a308a57338e6f74b7bdd">&#9670;&#160;</a></span>mSpellMixologyMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a32c0062c9375f8172af06d8d93eda685">SpellMixologyMap</a> SpellMgr::mSpellMixologyMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00993">GetSpellMixologyBonus()</a>, and <a class="el" href="../../#l02045">LoadSpellMixology()</a>.</p>

</div>
</div>
<a id="a32090ca7b9037cdd52aa11d5ecb1bc51" name="a32090ca7b9037cdd52aa11d5ecb1bc51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32090ca7b9037cdd52aa11d5ecb1bc51">&#9670;&#160;</a></span>mSpellPetAuraMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a9298eb96c8d5310030455030d2bbcb9d">SpellPetAuraMap</a> SpellMgr::mSpellPetAuraMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l01007">GetPetAura()</a>, and <a class="el" href="../../#l02103">LoadSpellPetAuras()</a>.</p>

</div>
</div>
<a id="a3e6353afe01453ebf0bab09cde94673e" name="a3e6353afe01453ebf0bab09cde94673e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e6353afe01453ebf0bab09cde94673e">&#9670;&#160;</a></span>mSpellProcEventMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a1b0fd27c7a9df1abc01dcafac549fa57">SpellProcEventMap</a> SpellMgr::mSpellProcEventMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00729">GetSpellProcEvent()</a>, and <a class="el" href="../../#l01737">LoadSpellProcEvents()</a>.</p>

</div>
</div>
<a id="a9f6998b4fee8fba87ad8d372abd8693d" name="a9f6998b4fee8fba87ad8d372abd8693d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f6998b4fee8fba87ad8d372abd8693d">&#9670;&#160;</a></span>mSpellProcMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a729c75c0a1016cc9e4d93d87f6b894bc">SpellProcMap</a> SpellMgr::mSpellProcMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00889">GetSpellProcEntry()</a>, and <a class="el" href="../../#l01831">LoadSpellProcs()</a>.</p>

</div>
</div>
<a id="a0037908371f475d84ba4319c7109e12d" name="a0037908371f475d84ba4319c7109e12d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0037908371f475d84ba4319c7109e12d">&#9670;&#160;</a></span>mSpellReq</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#ae2cfddda5812604f30326706107ce20b">SpellRequiredMap</a> SpellMgr::mSpellReq</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00608">GetSpellsRequiredForSpellBounds()</a>, and <a class="el" href="../../#l01403">LoadSpellRequired()</a>.</p>

</div>
</div>
<a id="aa03760f8043a0c684d18527d7ed934d3" name="aa03760f8043a0c684d18527d7ed934d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa03760f8043a0c684d18527d7ed934d3">&#9670;&#160;</a></span>mSpellsReqSpell</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#ae0e9e109c85ec767315ccab043ed8cb7">SpellsRequiringSpellMap</a> SpellMgr::mSpellsReqSpell</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00613">GetSpellsRequiringSpellBounds()</a>, and <a class="el" href="../../#l01403">LoadSpellRequired()</a>.</p>

</div>
</div>
<a id="aa36449309e445b361a05bf77e4bd5698" name="aa36449309e445b361a05bf77e4bd5698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa36449309e445b361a05bf77e4bd5698">&#9670;&#160;</a></span>mSpellTargetPositions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a417d2e36bfcef2c7aafbb8455eeed69f">SpellTargetPositionMap</a> SpellMgr::mSpellTargetPositions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00643">GetSpellTargetPosition()</a>, and <a class="el" href="../../#l01521">LoadSpellTargetPositions()</a>.</p>

</div>
</div>
<a id="ae9c903197d7e59109bdc7675663ff93f" name="ae9c903197d7e59109bdc7675663ff93f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9c903197d7e59109bdc7675663ff93f">&#9670;&#160;</a></span>mSpellThreatMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a83a1058767f1f4fd343208f7b9d74645">SpellThreatMap</a> SpellMgr::mSpellThreatMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00978">GetSpellThreatEntry()</a>, and <a class="el" href="../../#l02004">LoadSpellThreats()</a>.</p>

</div>
</div>
<a id="a16ff5508005286ab678b47bcc211ac24" name="a16ff5508005286ab678b47bcc211ac24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16ff5508005286ab678b47bcc211ac24">&#9670;&#160;</a></span>mTalentSpellAdditionalSet</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d64/a03110.html#a7c0cdd053514c40a2feec0fec57fcbfb">TalentAdditionalSet</a> SpellMgr::mTalentSpellAdditionalSet</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00629">IsAdditionalTalentSpell()</a>, <a class="el" href="../../#l02796">LoadSpellInfoCustomAttributes()</a>, and <a class="el" href="../../#l01403">LoadSpellRequired()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d4/d62/a10962.html">SpellMgr</a></li>
    <li class="footer">Generated on Mon Dec 9 2024 20:44:52 for AzerothCore by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
