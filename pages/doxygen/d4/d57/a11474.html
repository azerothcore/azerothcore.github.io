<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AzerothCore: misc_commandscript Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AzerothCore<span id="projectnumber">&#160;3.3.5a</span>
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d4/d57/a11474.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../d2/d52/a11471.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">misc_commandscript Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for misc_commandscript:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d4/d57/a11474.png" usemap="#misc_5Fcommandscript_map" alt=""/>
  <map id="misc_5Fcommandscript_map" name="misc_5Fcommandscript_map">
<area href="../../d8/d5b/a10066.html" alt="CommandScript" shape="rect" coords="0,56,128,80"/>
<area href="../../d9/d16/a10218.html" alt="ScriptObject" shape="rect" coords="0,0,128,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad5a53bcb8840bff1fb080e15715b1f6a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#ad5a53bcb8840bff1fb080e15715b1f6a">misc_commandscript</a> ()</td></tr>
<tr class="separator:ad5a53bcb8840bff1fb080e15715b1f6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a621e036c56caa93a63b27b1c317aa39c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d43/a04727.html#a7aa1549a95f760a19b9b7ffd8e669626">ChatCommandTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a621e036c56caa93a63b27b1c317aa39c">GetCommands</a> () const override</td></tr>
<tr class="separator:a621e036c56caa93a63b27b1c317aa39c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97dc7d00b78e0030ba2a950d23b2ebd2"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="../../d4/d87/a07406.html">Acore::ChatCommands::ChatCommandBuilder</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d5b/a10066.html#a97dc7d00b78e0030ba2a950d23b2ebd2">GetCommands</a> () const =0</td></tr>
<tr class="separator:a97dc7d00b78e0030ba2a950d23b2ebd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_a10218"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_a10218')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d9/d16/a10218.html">ScriptObject</a></td></tr>
<tr class="memitem:a37da453729d5c8fbe2d06f905563f47c inherit pub_methods_a10218"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d16/a10218.html#a37da453729d5c8fbe2d06f905563f47c">IsDatabaseBound</a> () const</td></tr>
<tr class="separator:a37da453729d5c8fbe2d06f905563f47c inherit pub_methods_a10218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f66339b1cdf1fde795c61cd24c8b0a2 inherit pub_methods_a10218"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d16/a10218.html#a2f66339b1cdf1fde795c61cd24c8b0a2">isAfterLoadScript</a> () const</td></tr>
<tr class="separator:a2f66339b1cdf1fde795c61cd24c8b0a2 inherit pub_methods_a10218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a585e75e34aed7aa32205daad85f8fe08 inherit pub_methods_a10218"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d16/a10218.html#a585e75e34aed7aa32205daad85f8fe08">checkValidity</a> ()</td></tr>
<tr class="separator:a585e75e34aed7aa32205daad85f8fe08 inherit pub_methods_a10218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79588d839860d2f5caab60c5f1368f10 inherit pub_methods_a10218"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d16/a10218.html#a79588d839860d2f5caab60c5f1368f10">GetName</a> () const</td></tr>
<tr class="separator:a79588d839860d2f5caab60c5f1368f10 inherit pub_methods_a10218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69ee35ec7d54226264efef558022c1c0 inherit pub_methods_a10218"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d16/a10218.html#a69ee35ec7d54226264efef558022c1c0">GetTotalAvailableHooks</a> ()</td></tr>
<tr class="separator:a69ee35ec7d54226264efef558022c1c0 inherit pub_methods_a10218"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a2efa08fa367c12e1ab4dad7c3cd12c4c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a2efa08fa367c12e1ab4dad7c3cd12c4c">HandleSkirmishCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, std::vector&lt; std::string_view &gt; args)</td></tr>
<tr class="separator:a2efa08fa367c12e1ab4dad7c3cd12c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03837493d98e1a5dd69aa8e685ef343e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a03837493d98e1a5dd69aa8e685ef343e">HandleCommentatorCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; bool &gt; enableArg)</td></tr>
<tr class="separator:a03837493d98e1a5dd69aa8e685ef343e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04d67032d711aacaa866659a3d67b544"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a04d67032d711aacaa866659a3d67b544">HandleDevCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; bool &gt; enableArg)</td></tr>
<tr class="separator:a04d67032d711aacaa866659a3d67b544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a976eb9aeee44fb1fabd801b3a3b88903"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a976eb9aeee44fb1fabd801b3a3b88903">HandleGPSCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt; target)</td></tr>
<tr class="separator:a976eb9aeee44fb1fabd801b3a3b88903"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a089b189d1dbc9b61da2a1fe1512a6d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a2a089b189d1dbc9b61da2a1fe1512a6d">HandleAuraCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d5/d44/a10966.html">SpellInfo</a> const *spell)</td></tr>
<tr class="separator:a2a089b189d1dbc9b61da2a1fe1512a6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1de4c9d4a549fe6f531116b00df84c26"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a1de4c9d4a549fe6f531116b00df84c26">HandleAuraStacksCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d5/d44/a10966.html">SpellInfo</a> const *spell, <a class="el" href="../../d4/d1e/a00497.html#aecf4e3680a32207d17f62a3426731878">int16</a> stacks)</td></tr>
<tr class="separator:a1de4c9d4a549fe6f531116b00df84c26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad46d14681df626a56a2d800f86c0e2c0"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#ad46d14681df626a56a2d800f86c0e2c0">HandleUnAuraCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d4/de0/a07562.html">Variant</a>&lt; <a class="el" href="../../d5/d44/a10966.html">SpellInfo</a> const *, std::string_view &gt; <a class="el" href="../../d6/d15/a01697.html#abdbd89eacbc02a7997082886574e8ec2">spells</a>)</td></tr>
<tr class="separator:ad46d14681df626a56a2d800f86c0e2c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a738d4416fce5e5a1aa9e5df515ac8429"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a738d4416fce5e5a1aa9e5df515ac8429">HandleAppearCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt; target)</td></tr>
<tr class="separator:a738d4416fce5e5a1aa9e5df515ac8429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58cacccbb00f3cb6d71d5b084ad1771b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a58cacccbb00f3cb6d71d5b084ad1771b">HandleSummonCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt; target)</td></tr>
<tr class="separator:a58cacccbb00f3cb6d71d5b084ad1771b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb839c6d840c7a8f9b0c01435420b0ad"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#acb839c6d840c7a8f9b0c01435420b0ad">HandleGroupSummonCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt; target)</td></tr>
<tr class="separator:acb839c6d840c7a8f9b0c01435420b0ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f16f38e1a136fc1c64898837f500508"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a6f16f38e1a136fc1c64898837f500508">HandleCommandsCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:a6f16f38e1a136fc1c64898837f500508"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7184b76dfa2aeb87c0b8855a1d0b1b47"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a7184b76dfa2aeb87c0b8855a1d0b1b47">HandleDieCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:a7184b76dfa2aeb87c0b8855a1d0b1b47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a595d4e333cd2ac536317fee558bde24d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a595d4e333cd2ac536317fee558bde24d">HandleReviveCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt; target)</td></tr>
<tr class="separator:a595d4e333cd2ac536317fee558bde24d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc24c4ac9a5c0ae7b27d6d6af2edba53"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#abc24c4ac9a5c0ae7b27d6d6af2edba53">HandleDismountCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:abc24c4ac9a5c0ae7b27d6d6af2edba53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a893eed58f98ae465302ffb0ba5bd2aeb"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a893eed58f98ae465302ffb0ba5bd2aeb">HandleGUIDCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:a893eed58f98ae465302ffb0ba5bd2aeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b504cc3fd2d0bdbea7682a05b73d883"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a7b504cc3fd2d0bdbea7682a05b73d883">HandleHelpCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d1/dd6/a07534.html">Tail</a> cmd)</td></tr>
<tr class="separator:a7b504cc3fd2d0bdbea7682a05b73d883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a592e80af21baa35581795350ab7ca976"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a592e80af21baa35581795350ab7ca976">HandleCooldownCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../d5/d44/a10966.html">SpellInfo</a> const * &gt; spell)</td></tr>
<tr class="separator:a592e80af21baa35581795350ab7ca976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a445556e92c64ab769cb2e3631a993"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#ad7a445556e92c64ab769cb2e3631a993">HandleGetDistanceCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt; target)</td></tr>
<tr class="separator:ad7a445556e92c64ab769cb2e3631a993"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5ec52269526f61a24fd77f262e0373f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#aa5ec52269526f61a24fd77f262e0373f">HandleRecallCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt; target)</td></tr>
<tr class="separator:aa5ec52269526f61a24fd77f262e0373f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a7e0ef2e2a69e5a27f891a588f7ec96"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a1a7e0ef2e2a69e5a27f891a588f7ec96">HandleSaveCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:a1a7e0ef2e2a69e5a27f891a588f7ec96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92ddb1f96431d4067143d389992d20da"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a92ddb1f96431d4067143d389992d20da">HandleSaveAllCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:a92ddb1f96431d4067143d389992d20da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a0b496f5b28147e85de872ffb1dc13c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a9a0b496f5b28147e85de872ffb1dc13c">HandleKickPlayerCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt; target, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; std::string_view &gt; reason)</td></tr>
<tr class="separator:a9a0b496f5b28147e85de872ffb1dc13c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a7c311cf73af55543e7cab409acdb09"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a2a7c311cf73af55543e7cab409acdb09">HandleUnstuckCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt; target, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; std::string_view &gt; location)</td></tr>
<tr class="separator:a2a7c311cf73af55543e7cab409acdb09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e662354fcd4e6c8afb136a524729a99"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a1e662354fcd4e6c8afb136a524729a99">HandleLinkGraveCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> graveyardId, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; std::string_view &gt; team)</td></tr>
<tr class="separator:a1e662354fcd4e6c8afb136a524729a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85a9c32bf77c68bb63952acacabc4003"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a85a9c32bf77c68bb63952acacabc4003">HandleNearGraveCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; std::string_view &gt; team)</td></tr>
<tr class="separator:a85a9c32bf77c68bb63952acacabc4003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a451aaca8aeba632f498b8d5b3e65936d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a451aaca8aeba632f498b8d5b3e65936d">HandleShowAreaCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> areaID)</td></tr>
<tr class="separator:a451aaca8aeba632f498b8d5b3e65936d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e7b862a123dde0893edf87bd3dfddda"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a9e7b862a123dde0893edf87bd3dfddda">HandleHideAreaCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> areaID)</td></tr>
<tr class="separator:a9e7b862a123dde0893edf87bd3dfddda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25dc9c369683ea22fd4d4b406f9cc8c0"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a25dc9c369683ea22fd4d4b406f9cc8c0">HandleAddItemCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt; player, <a class="el" href="../../d9/d08/a08198.html">ItemTemplate</a> const *itemTemplate, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> &gt; _count)</td></tr>
<tr class="separator:a25dc9c369683ea22fd4d4b406f9cc8c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b495b0bcda9759e6ef2541dcd8389fc"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a8b495b0bcda9759e6ef2541dcd8389fc">HandleAddItemSetCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d4/de0/a07562.html">Variant</a>&lt; <a class="el" href="../../d4/d28/a07554.html">Hyperlink</a>&lt; itemset &gt;, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> &gt; itemSetId)</td></tr>
<tr class="separator:a8b495b0bcda9759e6ef2541dcd8389fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d77ebd8451b181b500a4084a12775a1"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a4d77ebd8451b181b500a4084a12775a1">HandleChangeWeather</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> type, float grade)</td></tr>
<tr class="separator:a4d77ebd8451b181b500a4084a12775a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc0ef6940602615062c716204c333f98"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#adc0ef6940602615062c716204c333f98">HandleMaxSkillCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:adc0ef6940602615062c716204c333f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eff551590f4e09fcf4daa0f929e130e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a9eff551590f4e09fcf4daa0f929e130e">HandleSetSkillCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d4/de0/a07562.html">Variant</a>&lt; <a class="el" href="../../d4/d28/a07554.html">Hyperlink</a>&lt; skill &gt;, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> &gt; skillId, <a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> level, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> &gt; maxPureSkill)</td></tr>
<tr class="separator:a9eff551590f4e09fcf4daa0f929e130e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54c43e9d181f5b5bd06f229609264f64"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a54c43e9d181f5b5bd06f229609264f64">HandlePInfoCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt; target)</td></tr>
<tr class="separator:a54c43e9d181f5b5bd06f229609264f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dfc18f4db20a1c86c6481bc13ace63c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a7dfc18f4db20a1c86c6481bc13ace63c">HandleRespawnCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:a7dfc18f4db20a1c86c6481bc13ace63c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef3d2c57dc4d1d9c43b6c99ef535214"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a2ef3d2c57dc4d1d9c43b6c99ef535214">HandleRespawnAllCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:a2ef3d2c57dc4d1d9c43b6c99ef535214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6dd391539dfcb985388805735c0c82e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#af6dd391539dfcb985388805735c0c82e">HandleMuteCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt; player, std::string notSpeakTime, <a class="el" href="../../d1/dd6/a07534.html">Tail</a> muteReason)</td></tr>
<tr class="separator:af6dd391539dfcb985388805735c0c82e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5417df78cdd5adc8b55e0ab276858e0"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#aa5417df78cdd5adc8b55e0ab276858e0">HandleUnmuteCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt; target)</td></tr>
<tr class="separator:aa5417df78cdd5adc8b55e0ab276858e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af11cc1d015103bed5d1d2391f46d1df1"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#af11cc1d015103bed5d1d2391f46d1df1">HandleMuteInfoCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, std::string accountName)</td></tr>
<tr class="separator:af11cc1d015103bed5d1d2391f46d1df1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84d8e28f6d75e913e9cca02785997967"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a84d8e28f6d75e913e9cca02785997967">HandleMuteInfoHelper</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId, char const *accountName)</td></tr>
<tr class="separator:a84d8e28f6d75e913e9cca02785997967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a868fb733d2531f127d31b6ba88d4b446"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a868fb733d2531f127d31b6ba88d4b446">HandleMovegensCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:a868fb733d2531f127d31b6ba88d4b446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa79412507e472f460a6a8e01e951bc28"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#aa79412507e472f460a6a8e01e951bc28">HandleComeToMeCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:aa79412507e472f460a6a8e01e951bc28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dd17ec83a9ae0f86f7f5429c1537ab1"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a0dd17ec83a9ae0f86f7f5429c1537ab1">HandleDamageCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> damage, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; std::string &gt; percent)</td></tr>
<tr class="separator:a0dd17ec83a9ae0f86f7f5429c1537ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad19d4ed2e392cfe265c8ad6496188433"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#ad19d4ed2e392cfe265c8ad6496188433">HandleCombatStopCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt; target)</td></tr>
<tr class="separator:ad19d4ed2e392cfe265c8ad6496188433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc6779a70c7a79a7bd08a419d62edb88"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#adc6779a70c7a79a7bd08a419d62edb88">HandleFlushArenaPointsCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *)</td></tr>
<tr class="separator:adc6779a70c7a79a7bd08a419d62edb88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae63e89580f430cffe62afdf4fb2ff882"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#ae63e89580f430cffe62afdf4fb2ff882">HandleFreezeCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt; target)</td></tr>
<tr class="separator:ae63e89580f430cffe62afdf4fb2ff882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af18039cb343286cf2f510b5d75ed500e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#af18039cb343286cf2f510b5d75ed500e">HandleUnFreezeCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt; target)</td></tr>
<tr class="separator:af18039cb343286cf2f510b5d75ed500e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fb21e495d53983db29793dc5ecb8a41"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a1fb21e495d53983db29793dc5ecb8a41">HandlePlayAllCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> soundId)</td></tr>
<tr class="separator:a1fb21e495d53983db29793dc5ecb8a41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7e879af94a5c48cd3c1194fdc118ec8"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#af7e879af94a5c48cd3c1194fdc118ec8">HandlePossessCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:af7e879af94a5c48cd3c1194fdc118ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa815be4c109311b571f2a1408691f5a3"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#aa815be4c109311b571f2a1408691f5a3">HandleUnPossessCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:aa815be4c109311b571f2a1408691f5a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6453e7996667ccec1595c16eec9760c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#aa6453e7996667ccec1595c16eec9760c">HandleBindSightCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:aa6453e7996667ccec1595c16eec9760c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30f3357c756005a431b2c14cac504d85"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a30f3357c756005a431b2c14cac504d85">HandleUnbindSightCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:a30f3357c756005a431b2c14cac504d85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fdb1d0dc5f558a4a35a08e77901a8bf"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a6fdb1d0dc5f558a4a35a08e77901a8bf">HandleMailBoxCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:a6fdb1d0dc5f558a4a35a08e77901a8bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a51680a6d52c4f61e9a04bef2cb5ee3"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d57/a11474.html#a4a51680a6d52c4f61e9a04bef2cb5ee3">HandleStringCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> id, <a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> &gt; locale)</td></tr>
<tr class="separator:a4a51680a6d52c4f61e9a04bef2cb5ee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_a10066"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_a10066')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../d8/d5b/a10066.html">CommandScript</a></td></tr>
<tr class="memitem:afb9ef0145bb5eedee7fd61609868ba20 inherit pro_methods_a10066"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d5b/a10066.html#afb9ef0145bb5eedee7fd61609868ba20">CommandScript</a> (const char *name)</td></tr>
<tr class="separator:afb9ef0145bb5eedee7fd61609868ba20 inherit pro_methods_a10066"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_a10218"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_a10218')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../d9/d16/a10218.html">ScriptObject</a></td></tr>
<tr class="memitem:ae4ca97cf587379c94354e4889ff8c0c2 inherit pro_methods_a10218"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d16/a10218.html#ae4ca97cf587379c94354e4889ff8c0c2">ScriptObject</a> (const char *name, <a class="el" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> totalAvailableHooks=0)</td></tr>
<tr class="separator:ae4ca97cf587379c94354e4889ff8c0c2 inherit pro_methods_a10218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80c704c939f54eee6655d68509598c42 inherit pro_methods_a10218"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d16/a10218.html#a80c704c939f54eee6655d68509598c42">~ScriptObject</a> ()=default</td></tr>
<tr class="separator:a80c704c939f54eee6655d68509598c42 inherit pro_methods_a10218"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad5a53bcb8840bff1fb080e15715b1f6a" name="ad5a53bcb8840bff1fb080e15715b1f6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5a53bcb8840bff1fb080e15715b1f6a">&#9670;&#160;</a></span>misc_commandscript()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">misc_commandscript::misc_commandscript </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   87</span>: <a class="code hl_class" href="../../d8/d5b/a10066.html">CommandScript</a>(<span class="stringliteral">&quot;misc_commandscript&quot;</span>) { }</div>
<div class="ttc" id="aa10066_html"><div class="ttname"><a href="../../d8/d5b/a10066.html">CommandScript</a></div><div class="ttdef"><b>Definition:</b> CommandScript.h:25</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a621e036c56caa93a63b27b1c317aa39c" name="a621e036c56caa93a63b27b1c317aa39c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a621e036c56caa93a63b27b1c317aa39c">&#9670;&#160;</a></span>GetCommands()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d43/a04727.html#a7aa1549a95f760a19b9b7ffd8e669626">ChatCommandTable</a> misc_commandscript::GetCommands </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../d8/d5b/a10066.html#a97dc7d00b78e0030ba2a950d23b2ebd2">CommandScript</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   90</span>    {</div>
<div class="line"><span class="lineno">   91</span>        <span class="keyword">static</span> <a class="code hl_typedef" href="../../dc/d43/a04727.html#a7aa1549a95f760a19b9b7ffd8e669626">ChatCommandTable</a> auraCommandTable =</div>
<div class="line"><span class="lineno">   92</span>        {</div>
<div class="line"><span class="lineno">   93</span>            { <span class="stringliteral">&quot;stack&quot;</span>,             <a class="code hl_function" href="../../d4/d57/a11474.html#a1de4c9d4a549fe6f531116b00df84c26">HandleAuraStacksCommand</a>,        <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">   94</span>            { <span class="stringliteral">&quot;&quot;</span>,                  <a class="code hl_function" href="../../d4/d57/a11474.html#a2a089b189d1dbc9b61da2a1fe1512a6d">HandleAuraCommand</a>,              <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  }</div>
<div class="line"><span class="lineno">   95</span>        };</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>        <span class="keyword">static</span> <a class="code hl_typedef" href="../../dc/d43/a04727.html#a7aa1549a95f760a19b9b7ffd8e669626">ChatCommandTable</a> commandTable =</div>
<div class="line"><span class="lineno">   98</span>        {</div>
<div class="line"><span class="lineno">   99</span>            { <span class="stringliteral">&quot;commentator&quot;</span>,       <a class="code hl_function" href="../../d4/d57/a11474.html#a03837493d98e1a5dd69aa8e685ef343e">HandleCommentatorCommand</a>,       <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a87035c2f608d637b9bf5cbe0b42ca7a0">SEC_MODERATOR</a>,          Console::No  },</div>
<div class="line"><span class="lineno">  100</span>            { <span class="stringliteral">&quot;dev&quot;</span>,               <a class="code hl_function" href="../../d4/d57/a11474.html#a04d67032d711aacaa866659a3d67b544">HandleDevCommand</a>,               <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a>,      Console::No  },</div>
<div class="line"><span class="lineno">  101</span>            { <span class="stringliteral">&quot;gps&quot;</span>,               <a class="code hl_function" href="../../d4/d57/a11474.html#a976eb9aeee44fb1fabd801b3a3b88903">HandleGPSCommand</a>,               <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a87035c2f608d637b9bf5cbe0b42ca7a0">SEC_MODERATOR</a>,          Console::No  },</div>
<div class="line"><span class="lineno">  102</span>            { <span class="stringliteral">&quot;aura&quot;</span>,              auraCommandTable                                                     },</div>
<div class="line"><span class="lineno">  103</span>            { <span class="stringliteral">&quot;unaura&quot;</span>,            <a class="code hl_function" href="../../d4/d57/a11474.html#ad46d14681df626a56a2d800f86c0e2c0">HandleUnAuraCommand</a>,            <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  104</span>            { <span class="stringliteral">&quot;appear&quot;</span>,            <a class="code hl_function" href="../../d4/d57/a11474.html#a738d4416fce5e5a1aa9e5df515ac8429">HandleAppearCommand</a>,            <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a87035c2f608d637b9bf5cbe0b42ca7a0">SEC_MODERATOR</a>,          Console::No  },</div>
<div class="line"><span class="lineno">  105</span>            { <span class="stringliteral">&quot;summon&quot;</span>,            <a class="code hl_function" href="../../d4/d57/a11474.html#a58cacccbb00f3cb6d71d5b084ad1771b">HandleSummonCommand</a>,            <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  106</span>            { <span class="stringliteral">&quot;groupsummon&quot;</span>,       <a class="code hl_function" href="../../d4/d57/a11474.html#acb839c6d840c7a8f9b0c01435420b0ad">HandleGroupSummonCommand</a>,       <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  107</span>            { <span class="stringliteral">&quot;commands&quot;</span>,          <a class="code hl_function" href="../../d4/d57/a11474.html#a6f16f38e1a136fc1c64898837f500508">HandleCommandsCommand</a>,          <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a>,             Console::Yes },</div>
<div class="line"><span class="lineno">  108</span>            { <span class="stringliteral">&quot;die&quot;</span>,               <a class="code hl_function" href="../../d4/d57/a11474.html#a7184b76dfa2aeb87c0b8855a1d0b1b47">HandleDieCommand</a>,               <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  109</span>            { <span class="stringliteral">&quot;revive&quot;</span>,            <a class="code hl_function" href="../../d4/d57/a11474.html#a595d4e333cd2ac536317fee558bde24d">HandleReviveCommand</a>,            <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::Yes },</div>
<div class="line"><span class="lineno">  110</span>            { <span class="stringliteral">&quot;dismount&quot;</span>,          <a class="code hl_function" href="../../d4/d57/a11474.html#abc24c4ac9a5c0ae7b27d6d6af2edba53">HandleDismountCommand</a>,          <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a>,             Console::No  },</div>
<div class="line"><span class="lineno">  111</span>            { <span class="stringliteral">&quot;guid&quot;</span>,              <a class="code hl_function" href="../../d4/d57/a11474.html#a893eed58f98ae465302ffb0ba5bd2aeb">HandleGUIDCommand</a>,              <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  112</span>            { <span class="stringliteral">&quot;help&quot;</span>,              <a class="code hl_function" href="../../d4/d57/a11474.html#a7b504cc3fd2d0bdbea7682a05b73d883">HandleHelpCommand</a>,              <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a>,             Console::Yes },</div>
<div class="line"><span class="lineno">  113</span>            { <span class="stringliteral">&quot;cooldown&quot;</span>,          <a class="code hl_function" href="../../d4/d57/a11474.html#a592e80af21baa35581795350ab7ca976">HandleCooldownCommand</a>,          <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  114</span>            { <span class="stringliteral">&quot;distance&quot;</span>,          <a class="code hl_function" href="../../d4/d57/a11474.html#ad7a445556e92c64ab769cb2e3631a993">HandleGetDistanceCommand</a>,       <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a>,      Console::No  },</div>
<div class="line"><span class="lineno">  115</span>            { <span class="stringliteral">&quot;recall&quot;</span>,            <a class="code hl_function" href="../../d4/d57/a11474.html#aa5ec52269526f61a24fd77f262e0373f">HandleRecallCommand</a>,            <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  116</span>            { <span class="stringliteral">&quot;save&quot;</span>,              <a class="code hl_function" href="../../d4/d57/a11474.html#a1a7e0ef2e2a69e5a27f891a588f7ec96">HandleSaveCommand</a>,              <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a>,             Console::No  },</div>
<div class="line"><span class="lineno">  117</span>            { <span class="stringliteral">&quot;saveall&quot;</span>,           <a class="code hl_function" href="../../d4/d57/a11474.html#a92ddb1f96431d4067143d389992d20da">HandleSaveAllCommand</a>,           <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::Yes },</div>
<div class="line"><span class="lineno">  118</span>            { <span class="stringliteral">&quot;kick&quot;</span>,              <a class="code hl_function" href="../../d4/d57/a11474.html#a9a0b496f5b28147e85de872ffb1dc13c">HandleKickPlayerCommand</a>,        <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::Yes },</div>
<div class="line"><span class="lineno">  119</span>            { <span class="stringliteral">&quot;unstuck&quot;</span>,           <a class="code hl_function" href="../../d4/d57/a11474.html#a2a7c311cf73af55543e7cab409acdb09">HandleUnstuckCommand</a>,           <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::Yes },</div>
<div class="line"><span class="lineno">  120</span>            { <span class="stringliteral">&quot;linkgrave&quot;</span>,         <a class="code hl_function" href="../../d4/d57/a11474.html#a1e662354fcd4e6c8afb136a524729a99">HandleLinkGraveCommand</a>,         <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a>,      Console::No  },</div>
<div class="line"><span class="lineno">  121</span>            { <span class="stringliteral">&quot;neargrave&quot;</span>,         <a class="code hl_function" href="../../d4/d57/a11474.html#a85a9c32bf77c68bb63952acacabc4003">HandleNearGraveCommand</a>,         <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  122</span>            { <span class="stringliteral">&quot;showarea&quot;</span>,          <a class="code hl_function" href="../../d4/d57/a11474.html#a451aaca8aeba632f498b8d5b3e65936d">HandleShowAreaCommand</a>,          <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  123</span>            { <span class="stringliteral">&quot;hidearea&quot;</span>,          <a class="code hl_function" href="../../d4/d57/a11474.html#a9e7b862a123dde0893edf87bd3dfddda">HandleHideAreaCommand</a>,          <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a>,      Console::No  },</div>
<div class="line"><span class="lineno">  124</span>            { <span class="stringliteral">&quot;additem&quot;</span>,           <a class="code hl_function" href="../../d4/d57/a11474.html#a25dc9c369683ea22fd4d4b406f9cc8c0">HandleAddItemCommand</a>,           <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::Yes },</div>
<div class="line"><span class="lineno">  125</span>            { <span class="stringliteral">&quot;additem set&quot;</span>,       <a class="code hl_function" href="../../d4/d57/a11474.html#a8b495b0bcda9759e6ef2541dcd8389fc">HandleAddItemSetCommand</a>,        <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  126</span>            { <span class="stringliteral">&quot;wchange&quot;</span>,           <a class="code hl_function" href="../../d4/d57/a11474.html#a4d77ebd8451b181b500a4084a12775a1">HandleChangeWeather</a>,            <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a>,      Console::No  },</div>
<div class="line"><span class="lineno">  127</span>            { <span class="stringliteral">&quot;maxskill&quot;</span>,          <a class="code hl_function" href="../../d4/d57/a11474.html#adc0ef6940602615062c716204c333f98">HandleMaxSkillCommand</a>,          <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  128</span>            { <span class="stringliteral">&quot;setskill&quot;</span>,          <a class="code hl_function" href="../../d4/d57/a11474.html#a9eff551590f4e09fcf4daa0f929e130e">HandleSetSkillCommand</a>,          <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  129</span>            { <span class="stringliteral">&quot;pinfo&quot;</span>,             <a class="code hl_function" href="../../d4/d57/a11474.html#a54c43e9d181f5b5bd06f229609264f64">HandlePInfoCommand</a>,             <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::Yes },</div>
<div class="line"><span class="lineno">  130</span>            { <span class="stringliteral">&quot;respawn&quot;</span>,           <a class="code hl_function" href="../../d4/d57/a11474.html#a7dfc18f4db20a1c86c6481bc13ace63c">HandleRespawnCommand</a>,           <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  131</span>            { <span class="stringliteral">&quot;respawn all&quot;</span>,       <a class="code hl_function" href="../../d4/d57/a11474.html#a2ef3d2c57dc4d1d9c43b6c99ef535214">HandleRespawnAllCommand</a>,        <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  132</span>            { <span class="stringliteral">&quot;mute&quot;</span>,              <a class="code hl_function" href="../../d4/d57/a11474.html#af6dd391539dfcb985388805735c0c82e">HandleMuteCommand</a>,              <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::Yes },</div>
<div class="line"><span class="lineno">  133</span>            { <span class="stringliteral">&quot;mutehistory&quot;</span>,       <a class="code hl_function" href="../../d4/d57/a11474.html#af11cc1d015103bed5d1d2391f46d1df1">HandleMuteInfoCommand</a>,          <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::Yes },</div>
<div class="line"><span class="lineno">  134</span>            { <span class="stringliteral">&quot;unmute&quot;</span>,            <a class="code hl_function" href="../../d4/d57/a11474.html#aa5417df78cdd5adc8b55e0ab276858e0">HandleUnmuteCommand</a>,            <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::Yes },</div>
<div class="line"><span class="lineno">  135</span>            { <span class="stringliteral">&quot;movegens&quot;</span>,          <a class="code hl_function" href="../../d4/d57/a11474.html#a868fb733d2531f127d31b6ba88d4b446">HandleMovegensCommand</a>,          <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a>,      Console::No  },</div>
<div class="line"><span class="lineno">  136</span>            { <span class="stringliteral">&quot;cometome&quot;</span>,          <a class="code hl_function" href="../../d4/d57/a11474.html#aa79412507e472f460a6a8e01e951bc28">HandleComeToMeCommand</a>,          <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a>,      Console::No  },</div>
<div class="line"><span class="lineno">  137</span>            { <span class="stringliteral">&quot;damage&quot;</span>,            <a class="code hl_function" href="../../d4/d57/a11474.html#a0dd17ec83a9ae0f86f7f5429c1537ab1">HandleDamageCommand</a>,            <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  138</span>            { <span class="stringliteral">&quot;combatstop&quot;</span>,        <a class="code hl_function" href="../../d4/d57/a11474.html#ad19d4ed2e392cfe265c8ad6496188433">HandleCombatStopCommand</a>,        <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::Yes },</div>
<div class="line"><span class="lineno">  139</span>            { <span class="stringliteral">&quot;flusharenapoints&quot;</span>,  <a class="code hl_function" href="../../d4/d57/a11474.html#adc6779a70c7a79a7bd08a419d62edb88">HandleFlushArenaPointsCommand</a>,  <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a>,      Console::Yes },</div>
<div class="line"><span class="lineno">  140</span>            { <span class="stringliteral">&quot;freeze&quot;</span>,            <a class="code hl_function" href="../../d4/d57/a11474.html#ae63e89580f430cffe62afdf4fb2ff882">HandleFreezeCommand</a>,            <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  141</span>            { <span class="stringliteral">&quot;unfreeze&quot;</span>,          <a class="code hl_function" href="../../d4/d57/a11474.html#af18039cb343286cf2f510b5d75ed500e">HandleUnFreezeCommand</a>,          <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  142</span>            { <span class="stringliteral">&quot;possess&quot;</span>,           <a class="code hl_function" href="../../d4/d57/a11474.html#af7e879af94a5c48cd3c1194fdc118ec8">HandlePossessCommand</a>,           <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  143</span>            { <span class="stringliteral">&quot;unpossess&quot;</span>,         <a class="code hl_function" href="../../d4/d57/a11474.html#aa815be4c109311b571f2a1408691f5a3">HandleUnPossessCommand</a>,         <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  144</span>            { <span class="stringliteral">&quot;bindsight&quot;</span>,         <a class="code hl_function" href="../../d4/d57/a11474.html#aa6453e7996667ccec1595c16eec9760c">HandleBindSightCommand</a>,         <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a>,      Console::No  },</div>
<div class="line"><span class="lineno">  145</span>            { <span class="stringliteral">&quot;unbindsight&quot;</span>,       <a class="code hl_function" href="../../d4/d57/a11474.html#a30f3357c756005a431b2c14cac504d85">HandleUnbindSightCommand</a>,       <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a>,      Console::No  },</div>
<div class="line"><span class="lineno">  146</span>            { <span class="stringliteral">&quot;playall&quot;</span>,           <a class="code hl_function" href="../../d4/d57/a11474.html#a1fb21e495d53983db29793dc5ecb8a41">HandlePlayAllCommand</a>,           <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  },</div>
<div class="line"><span class="lineno">  147</span>            { <span class="stringliteral">&quot;skirmish&quot;</span>,          <a class="code hl_function" href="../../d4/d57/a11474.html#a2efa08fa367c12e1ab4dad7c3cd12c4c">HandleSkirmishCommand</a>,          <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a>,      Console::No  },</div>
<div class="line"><span class="lineno">  148</span>            { <span class="stringliteral">&quot;mailbox&quot;</span>,           <a class="code hl_function" href="../../d4/d57/a11474.html#a6fdb1d0dc5f558a4a35a08e77901a8bf">HandleMailBoxCommand</a>,           <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a87035c2f608d637b9bf5cbe0b42ca7a0">SEC_MODERATOR</a>,          Console::No  },</div>
<div class="line"><span class="lineno">  149</span>            { <span class="stringliteral">&quot;string&quot;</span>,            <a class="code hl_function" href="../../d4/d57/a11474.html#a4a51680a6d52c4f61e9a04bef2cb5ee3">HandleStringCommand</a>,            <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>,         Console::No  }</div>
<div class="line"><span class="lineno">  150</span>        };</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>        <span class="keywordflow">return</span> commandTable;</div>
<div class="line"><span class="lineno">  153</span>    }</div>
<div class="ttc" id="aa00017_html_adaa1cabfe05f8df3c272bdcfd89cdac7a5d534fd54528d86d0f997fa130159df0"><div class="ttname"><a href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a></div><div class="ttdeci">@ SEC_PLAYER</div><div class="ttdef"><b>Definition:</b> Common.h:57</div></div>
<div class="ttc" id="aa00017_html_adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102"><div class="ttname"><a href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a></div><div class="ttdeci">@ SEC_ADMINISTRATOR</div><div class="ttdef"><b>Definition:</b> Common.h:60</div></div>
<div class="ttc" id="aa00017_html_adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1"><div class="ttname"><a href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a></div><div class="ttdeci">@ SEC_GAMEMASTER</div><div class="ttdef"><b>Definition:</b> Common.h:59</div></div>
<div class="ttc" id="aa00017_html_adaa1cabfe05f8df3c272bdcfd89cdac7a87035c2f608d637b9bf5cbe0b42ca7a0"><div class="ttname"><a href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a87035c2f608d637b9bf5cbe0b42ca7a0">SEC_MODERATOR</a></div><div class="ttdeci">@ SEC_MODERATOR</div><div class="ttdef"><b>Definition:</b> Common.h:58</div></div>
<div class="ttc" id="aa04727_html_a7aa1549a95f760a19b9b7ffd8e669626"><div class="ttname"><a href="../../dc/d43/a04727.html#a7aa1549a95f760a19b9b7ffd8e669626">Acore::ChatCommands::ChatCommandTable</a></div><div class="ttdeci">std::vector&lt; ChatCommandBuilder &gt; ChatCommandTable</div><div class="ttdef"><b>Definition:</b> ChatCommand.h:46</div></div>
<div class="ttc" id="aa11474_html_a03837493d98e1a5dd69aa8e685ef343e"><div class="ttname"><a href="../../d4/d57/a11474.html#a03837493d98e1a5dd69aa8e685ef343e">misc_commandscript::HandleCommentatorCommand</a></div><div class="ttdeci">static bool HandleCommentatorCommand(ChatHandler *handler, Optional&lt; bool &gt; enableArg)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:454</div></div>
<div class="ttc" id="aa11474_html_a04d67032d711aacaa866659a3d67b544"><div class="ttname"><a href="../../d4/d57/a11474.html#a04d67032d711aacaa866659a3d67b544">misc_commandscript::HandleDevCommand</a></div><div class="ttdeci">static bool HandleDevCommand(ChatHandler *handler, Optional&lt; bool &gt; enableArg)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:498</div></div>
<div class="ttc" id="aa11474_html_a0dd17ec83a9ae0f86f7f5429c1537ab1"><div class="ttname"><a href="../../d4/d57/a11474.html#a0dd17ec83a9ae0f86f7f5429c1537ab1">misc_commandscript::HandleDamageCommand</a></div><div class="ttdeci">static bool HandleDamageCommand(ChatHandler *handler, uint32 damage, Optional&lt; std::string &gt; percent)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2797</div></div>
<div class="ttc" id="aa11474_html_a1a7e0ef2e2a69e5a27f891a588f7ec96"><div class="ttname"><a href="../../d4/d57/a11474.html#a1a7e0ef2e2a69e5a27f891a588f7ec96">misc_commandscript::HandleSaveCommand</a></div><div class="ttdeci">static bool HandleSaveCommand(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1328</div></div>
<div class="ttc" id="aa11474_html_a1de4c9d4a549fe6f531116b00df84c26"><div class="ttname"><a href="../../d4/d57/a11474.html#a1de4c9d4a549fe6f531116b00df84c26">misc_commandscript::HandleAuraStacksCommand</a></div><div class="ttdeci">static bool HandleAuraStacksCommand(ChatHandler *handler, SpellInfo const *spell, int16 stacks)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:660</div></div>
<div class="ttc" id="aa11474_html_a1e662354fcd4e6c8afb136a524729a99"><div class="ttname"><a href="../../d4/d57/a11474.html#a1e662354fcd4e6c8afb136a524729a99">misc_commandscript::HandleLinkGraveCommand</a></div><div class="ttdeci">static bool HandleLinkGraveCommand(ChatHandler *handler, uint32 graveyardId, Optional&lt; std::string_view &gt; team)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1495</div></div>
<div class="ttc" id="aa11474_html_a1fb21e495d53983db29793dc5ecb8a41"><div class="ttname"><a href="../../d4/d57/a11474.html#a1fb21e495d53983db29793dc5ecb8a41">misc_commandscript::HandlePlayAllCommand</a></div><div class="ttdeci">static bool HandlePlayAllCommand(ChatHandler *handler, uint32 soundId)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2946</div></div>
<div class="ttc" id="aa11474_html_a25dc9c369683ea22fd4d4b406f9cc8c0"><div class="ttname"><a href="../../d4/d57/a11474.html#a25dc9c369683ea22fd4d4b406f9cc8c0">misc_commandscript::HandleAddItemCommand</a></div><div class="ttdeci">static bool HandleAddItemCommand(ChatHandler *handler, Optional&lt; PlayerIdentifier &gt; player, ItemTemplate const *itemTemplate, Optional&lt; int32 &gt; _count)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1685</div></div>
<div class="ttc" id="aa11474_html_a2a089b189d1dbc9b61da2a1fe1512a6d"><div class="ttname"><a href="../../d4/d57/a11474.html#a2a089b189d1dbc9b61da2a1fe1512a6d">misc_commandscript::HandleAuraCommand</a></div><div class="ttdeci">static bool HandleAuraCommand(ChatHandler *handler, SpellInfo const *spell)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:634</div></div>
<div class="ttc" id="aa11474_html_a2a7c311cf73af55543e7cab409acdb09"><div class="ttname"><a href="../../d4/d57/a11474.html#a2a7c311cf73af55543e7cab409acdb09">misc_commandscript::HandleUnstuckCommand</a></div><div class="ttdeci">static bool HandleUnstuckCommand(ChatHandler *handler, Optional&lt; PlayerIdentifier &gt; target, Optional&lt; std::string_view &gt; location)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1413</div></div>
<div class="ttc" id="aa11474_html_a2ef3d2c57dc4d1d9c43b6c99ef535214"><div class="ttname"><a href="../../d4/d57/a11474.html#a2ef3d2c57dc4d1d9c43b6c99ef535214">misc_commandscript::HandleRespawnAllCommand</a></div><div class="ttdeci">static bool HandleRespawnAllCommand(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2407</div></div>
<div class="ttc" id="aa11474_html_a2efa08fa367c12e1ab4dad7c3cd12c4c"><div class="ttname"><a href="../../d4/d57/a11474.html#a2efa08fa367c12e1ab4dad7c3cd12c4c">misc_commandscript::HandleSkirmishCommand</a></div><div class="ttdeci">static bool HandleSkirmishCommand(ChatHandler *handler, std::vector&lt; std::string_view &gt; args)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:155</div></div>
<div class="ttc" id="aa11474_html_a30f3357c756005a431b2c14cac504d85"><div class="ttname"><a href="../../d4/d57/a11474.html#a30f3357c756005a431b2c14cac504d85">misc_commandscript::HandleUnbindSightCommand</a></div><div class="ttdeci">static bool HandleUnbindSightCommand(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2996</div></div>
<div class="ttc" id="aa11474_html_a451aaca8aeba632f498b8d5b3e65936d"><div class="ttname"><a href="../../d4/d57/a11474.html#a451aaca8aeba632f498b8d5b3e65936d">misc_commandscript::HandleShowAreaCommand</a></div><div class="ttdeci">static bool HandleShowAreaCommand(ChatHandler *handler, uint32 areaID)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1623</div></div>
<div class="ttc" id="aa11474_html_a4a51680a6d52c4f61e9a04bef2cb5ee3"><div class="ttname"><a href="../../d4/d57/a11474.html#a4a51680a6d52c4f61e9a04bef2cb5ee3">misc_commandscript::HandleStringCommand</a></div><div class="ttdeci">static bool HandleStringCommand(ChatHandler *handler, uint32 id, Optional&lt; uint8 &gt; locale)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:3016</div></div>
<div class="ttc" id="aa11474_html_a4d77ebd8451b181b500a4084a12775a1"><div class="ttname"><a href="../../d4/d57/a11474.html#a4d77ebd8451b181b500a4084a12775a1">misc_commandscript::HandleChangeWeather</a></div><div class="ttdeci">static bool HandleChangeWeather(ChatHandler *handler, uint32 type, float grade)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1848</div></div>
<div class="ttc" id="aa11474_html_a54c43e9d181f5b5bd06f229609264f64"><div class="ttname"><a href="../../d4/d57/a11474.html#a54c43e9d181f5b5bd06f229609264f64">misc_commandscript::HandlePInfoCommand</a></div><div class="ttdeci">static bool HandlePInfoCommand(ChatHandler *handler, Optional&lt; PlayerIdentifier &gt; target)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1936</div></div>
<div class="ttc" id="aa11474_html_a58cacccbb00f3cb6d71d5b084ad1771b"><div class="ttname"><a href="../../d4/d57/a11474.html#a58cacccbb00f3cb6d71d5b084ad1771b">misc_commandscript::HandleSummonCommand</a></div><div class="ttdeci">static bool HandleSummonCommand(ChatHandler *handler, Optional&lt; PlayerIdentifier &gt; target)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:888</div></div>
<div class="ttc" id="aa11474_html_a592e80af21baa35581795350ab7ca976"><div class="ttname"><a href="../../d4/d57/a11474.html#a592e80af21baa35581795350ab7ca976">misc_commandscript::HandleCooldownCommand</a></div><div class="ttdeci">static bool HandleCooldownCommand(ChatHandler *handler, Optional&lt; SpellInfo const * &gt; spell)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1233</div></div>
<div class="ttc" id="aa11474_html_a595d4e333cd2ac536317fee558bde24d"><div class="ttname"><a href="../../d4/d57/a11474.html#a595d4e333cd2ac536317fee558bde24d">misc_commandscript::HandleReviveCommand</a></div><div class="ttdeci">static bool HandleReviveCommand(ChatHandler *handler, Optional&lt; PlayerIdentifier &gt; target)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1158</div></div>
<div class="ttc" id="aa11474_html_a6f16f38e1a136fc1c64898837f500508"><div class="ttname"><a href="../../d4/d57/a11474.html#a6f16f38e1a136fc1c64898837f500508">misc_commandscript::HandleCommandsCommand</a></div><div class="ttdeci">static bool HandleCommandsCommand(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1115</div></div>
<div class="ttc" id="aa11474_html_a6fdb1d0dc5f558a4a35a08e77901a8bf"><div class="ttname"><a href="../../d4/d57/a11474.html#a6fdb1d0dc5f558a4a35a08e77901a8bf">misc_commandscript::HandleMailBoxCommand</a></div><div class="ttdeci">static bool HandleMailBoxCommand(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:3009</div></div>
<div class="ttc" id="aa11474_html_a7184b76dfa2aeb87c0b8855a1d0b1b47"><div class="ttname"><a href="../../d4/d57/a11474.html#a7184b76dfa2aeb87c0b8855a1d0b1b47">misc_commandscript::HandleDieCommand</a></div><div class="ttdeci">static bool HandleDieCommand(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1121</div></div>
<div class="ttc" id="aa11474_html_a738d4416fce5e5a1aa9e5df515ac8429"><div class="ttname"><a href="../../d4/d57/a11474.html#a738d4416fce5e5a1aa9e5df515ac8429">misc_commandscript::HandleAppearCommand</a></div><div class="ttdeci">static bool HandleAppearCommand(ChatHandler *handler, Optional&lt; PlayerIdentifier &gt; target)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:739</div></div>
<div class="ttc" id="aa11474_html_a7b504cc3fd2d0bdbea7682a05b73d883"><div class="ttname"><a href="../../d4/d57/a11474.html#a7b504cc3fd2d0bdbea7682a05b73d883">misc_commandscript::HandleHelpCommand</a></div><div class="ttdeci">static bool HandleHelpCommand(ChatHandler *handler, Tail cmd)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1221</div></div>
<div class="ttc" id="aa11474_html_a7dfc18f4db20a1c86c6481bc13ace63c"><div class="ttname"><a href="../../d4/d57/a11474.html#a7dfc18f4db20a1c86c6481bc13ace63c">misc_commandscript::HandleRespawnCommand</a></div><div class="ttdeci">static bool HandleRespawnCommand(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2383</div></div>
<div class="ttc" id="aa11474_html_a85a9c32bf77c68bb63952acacabc4003"><div class="ttname"><a href="../../d4/d57/a11474.html#a85a9c32bf77c68bb63952acacabc4003">misc_commandscript::HandleNearGraveCommand</a></div><div class="ttdeci">static bool HandleNearGraveCommand(ChatHandler *handler, Optional&lt; std::string_view &gt; team)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1546</div></div>
<div class="ttc" id="aa11474_html_a868fb733d2531f127d31b6ba88d4b446"><div class="ttname"><a href="../../d4/d57/a11474.html#a868fb733d2531f127d31b6ba88d4b446">misc_commandscript::HandleMovegensCommand</a></div><div class="ttdeci">static bool HandleMovegensCommand(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2647</div></div>
<div class="ttc" id="aa11474_html_a893eed58f98ae465302ffb0ba5bd2aeb"><div class="ttname"><a href="../../d4/d57/a11474.html#a893eed58f98ae465302ffb0ba5bd2aeb">misc_commandscript::HandleGUIDCommand</a></div><div class="ttdeci">static bool HandleGUIDCommand(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1207</div></div>
<div class="ttc" id="aa11474_html_a8b495b0bcda9759e6ef2541dcd8389fc"><div class="ttname"><a href="../../d4/d57/a11474.html#a8b495b0bcda9759e6ef2541dcd8389fc">misc_commandscript::HandleAddItemSetCommand</a></div><div class="ttdeci">static bool HandleAddItemSetCommand(ChatHandler *handler, Variant&lt; Hyperlink&lt; itemset &gt;, uint32 &gt; itemSetId)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1787</div></div>
<div class="ttc" id="aa11474_html_a92ddb1f96431d4067143d389992d20da"><div class="ttname"><a href="../../d4/d57/a11474.html#a92ddb1f96431d4067143d389992d20da">misc_commandscript::HandleSaveAllCommand</a></div><div class="ttdeci">static bool HandleSaveAllCommand(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1359</div></div>
<div class="ttc" id="aa11474_html_a976eb9aeee44fb1fabd801b3a3b88903"><div class="ttname"><a href="../../d4/d57/a11474.html#a976eb9aeee44fb1fabd801b3a3b88903">misc_commandscript::HandleGPSCommand</a></div><div class="ttdeci">static bool HandleGPSCommand(ChatHandler *handler, Optional&lt; PlayerIdentifier &gt; target)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:543</div></div>
<div class="ttc" id="aa11474_html_a9a0b496f5b28147e85de872ffb1dc13c"><div class="ttname"><a href="../../d4/d57/a11474.html#a9a0b496f5b28147e85de872ffb1dc13c">misc_commandscript::HandleKickPlayerCommand</a></div><div class="ttdeci">static bool HandleKickPlayerCommand(ChatHandler *handler, Optional&lt; PlayerIdentifier &gt; target, Optional&lt; std::string_view &gt; reason)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1367</div></div>
<div class="ttc" id="aa11474_html_a9e7b862a123dde0893edf87bd3dfddda"><div class="ttname"><a href="../../d4/d57/a11474.html#a9e7b862a123dde0893edf87bd3dfddda">misc_commandscript::HandleHideAreaCommand</a></div><div class="ttdeci">static bool HandleHideAreaCommand(ChatHandler *handler, uint32 areaID)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1654</div></div>
<div class="ttc" id="aa11474_html_a9eff551590f4e09fcf4daa0f929e130e"><div class="ttname"><a href="../../d4/d57/a11474.html#a9eff551590f4e09fcf4daa0f929e130e">misc_commandscript::HandleSetSkillCommand</a></div><div class="ttdeci">static bool HandleSetSkillCommand(ChatHandler *handler, Variant&lt; Hyperlink&lt; skill &gt;, uint32 &gt; skillId, int32 level, Optional&lt; uint16 &gt; maxPureSkill)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1892</div></div>
<div class="ttc" id="aa11474_html_aa5417df78cdd5adc8b55e0ab276858e0"><div class="ttname"><a href="../../d4/d57/a11474.html#aa5417df78cdd5adc8b55e0ab276858e0">misc_commandscript::HandleUnmuteCommand</a></div><div class="ttdeci">static bool HandleUnmuteCommand(ChatHandler *handler, Optional&lt; PlayerIdentifier &gt; target)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2547</div></div>
<div class="ttc" id="aa11474_html_aa5ec52269526f61a24fd77f262e0373f"><div class="ttname"><a href="../../d4/d57/a11474.html#aa5ec52269526f61a24fd77f262e0373f">misc_commandscript::HandleRecallCommand</a></div><div class="ttdeci">static bool HandleRecallCommand(ChatHandler *handler, Optional&lt; PlayerIdentifier &gt; target)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1291</div></div>
<div class="ttc" id="aa11474_html_aa6453e7996667ccec1595c16eec9760c"><div class="ttname"><a href="../../d4/d57/a11474.html#aa6453e7996667ccec1595c16eec9760c">misc_commandscript::HandleBindSightCommand</a></div><div class="ttdeci">static bool HandleBindSightCommand(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2984</div></div>
<div class="ttc" id="aa11474_html_aa79412507e472f460a6a8e01e951bc28"><div class="ttname"><a href="../../d4/d57/a11474.html#aa79412507e472f460a6a8e01e951bc28">misc_commandscript::HandleComeToMeCommand</a></div><div class="ttdeci">static bool HandleComeToMeCommand(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2781</div></div>
<div class="ttc" id="aa11474_html_aa815be4c109311b571f2a1408691f5a3"><div class="ttname"><a href="../../d4/d57/a11474.html#aa815be4c109311b571f2a1408691f5a3">misc_commandscript::HandleUnPossessCommand</a></div><div class="ttdeci">static bool HandleUnPossessCommand(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2972</div></div>
<div class="ttc" id="aa11474_html_abc24c4ac9a5c0ae7b27d6d6af2edba53"><div class="ttname"><a href="../../d4/d57/a11474.html#abc24c4ac9a5c0ae7b27d6d6af2edba53">misc_commandscript::HandleDismountCommand</a></div><div class="ttdeci">static bool HandleDismountCommand(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1183</div></div>
<div class="ttc" id="aa11474_html_acb839c6d840c7a8f9b0c01435420b0ad"><div class="ttname"><a href="../../d4/d57/a11474.html#acb839c6d840c7a8f9b0c01435420b0ad">misc_commandscript::HandleGroupSummonCommand</a></div><div class="ttdeci">static bool HandleGroupSummonCommand(ChatHandler *handler, Optional&lt; PlayerIdentifier &gt; target)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1010</div></div>
<div class="ttc" id="aa11474_html_ad19d4ed2e392cfe265c8ad6496188433"><div class="ttname"><a href="../../d4/d57/a11474.html#ad19d4ed2e392cfe265c8ad6496188433">misc_commandscript::HandleCombatStopCommand</a></div><div class="ttdeci">static bool HandleCombatStopCommand(ChatHandler *handler, Optional&lt; PlayerIdentifier &gt; target)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2829</div></div>
<div class="ttc" id="aa11474_html_ad46d14681df626a56a2d800f86c0e2c0"><div class="ttname"><a href="../../d4/d57/a11474.html#ad46d14681df626a56a2d800f86c0e2c0">misc_commandscript::HandleUnAuraCommand</a></div><div class="ttdeci">static bool HandleUnAuraCommand(ChatHandler *handler, Variant&lt; SpellInfo const *, std::string_view &gt; spells)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:705</div></div>
<div class="ttc" id="aa11474_html_ad7a445556e92c64ab769cb2e3631a993"><div class="ttname"><a href="../../d4/d57/a11474.html#ad7a445556e92c64ab769cb2e3631a993">misc_commandscript::HandleGetDistanceCommand</a></div><div class="ttdeci">static bool HandleGetDistanceCommand(ChatHandler *handler, Optional&lt; PlayerIdentifier &gt; target)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1263</div></div>
<div class="ttc" id="aa11474_html_adc0ef6940602615062c716204c333f98"><div class="ttname"><a href="../../d4/d57/a11474.html#adc0ef6940602615062c716204c333f98">misc_commandscript::HandleMaxSkillCommand</a></div><div class="ttdeci">static bool HandleMaxSkillCommand(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:1878</div></div>
<div class="ttc" id="aa11474_html_adc6779a70c7a79a7bd08a419d62edb88"><div class="ttname"><a href="../../d4/d57/a11474.html#adc6779a70c7a79a7bd08a419d62edb88">misc_commandscript::HandleFlushArenaPointsCommand</a></div><div class="ttdeci">static bool HandleFlushArenaPointsCommand(ChatHandler *)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2855</div></div>
<div class="ttc" id="aa11474_html_ae63e89580f430cffe62afdf4fb2ff882"><div class="ttname"><a href="../../d4/d57/a11474.html#ae63e89580f430cffe62afdf4fb2ff882">misc_commandscript::HandleFreezeCommand</a></div><div class="ttdeci">static bool HandleFreezeCommand(ChatHandler *handler, Optional&lt; PlayerIdentifier &gt; target)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2861</div></div>
<div class="ttc" id="aa11474_html_af11cc1d015103bed5d1d2391f46d1df1"><div class="ttname"><a href="../../d4/d57/a11474.html#af11cc1d015103bed5d1d2391f46d1df1">misc_commandscript::HandleMuteInfoCommand</a></div><div class="ttdeci">static bool HandleMuteInfoCommand(ChatHandler *handler, std::string accountName)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2606</div></div>
<div class="ttc" id="aa11474_html_af18039cb343286cf2f510b5d75ed500e"><div class="ttname"><a href="../../d4/d57/a11474.html#af18039cb343286cf2f510b5d75ed500e">misc_commandscript::HandleUnFreezeCommand</a></div><div class="ttdeci">static bool HandleUnFreezeCommand(ChatHandler *handler, Optional&lt; PlayerIdentifier &gt; target)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2904</div></div>
<div class="ttc" id="aa11474_html_af6dd391539dfcb985388805735c0c82e"><div class="ttname"><a href="../../d4/d57/a11474.html#af6dd391539dfcb985388805735c0c82e">misc_commandscript::HandleMuteCommand</a></div><div class="ttdeci">static bool HandleMuteCommand(ChatHandler *handler, Optional&lt; PlayerIdentifier &gt; player, std::string notSpeakTime, Tail muteReason)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2423</div></div>
<div class="ttc" id="aa11474_html_af7e879af94a5c48cd3c1194fdc118ec8"><div class="ttname"><a href="../../d4/d57/a11474.html#af7e879af94a5c48cd3c1194fdc118ec8">misc_commandscript::HandlePossessCommand</a></div><div class="ttdeci">static bool HandlePossessCommand(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2960</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01685">HandleAddItemCommand()</a>, <a class="el" href="../../#l01787">HandleAddItemSetCommand()</a>, <a class="el" href="../../#l00739">HandleAppearCommand()</a>, <a class="el" href="../../#l00634">HandleAuraCommand()</a>, <a class="el" href="../../#l00660">HandleAuraStacksCommand()</a>, <a class="el" href="../../#l02984">HandleBindSightCommand()</a>, <a class="el" href="../../#l01848">HandleChangeWeather()</a>, <a class="el" href="../../#l02829">HandleCombatStopCommand()</a>, <a class="el" href="../../#l02781">HandleComeToMeCommand()</a>, <a class="el" href="../../#l01115">HandleCommandsCommand()</a>, <a class="el" href="../../#l00454">HandleCommentatorCommand()</a>, <a class="el" href="../../#l01233">HandleCooldownCommand()</a>, <a class="el" href="../../#l02797">HandleDamageCommand()</a>, <a class="el" href="../../#l00498">HandleDevCommand()</a>, <a class="el" href="../../#l01121">HandleDieCommand()</a>, <a class="el" href="../../#l01183">HandleDismountCommand()</a>, <a class="el" href="../../#l02855">HandleFlushArenaPointsCommand()</a>, <a class="el" href="../../#l02861">HandleFreezeCommand()</a>, <a class="el" href="../../#l01263">HandleGetDistanceCommand()</a>, <a class="el" href="../../#l00543">HandleGPSCommand()</a>, <a class="el" href="../../#l01010">HandleGroupSummonCommand()</a>, <a class="el" href="../../#l01207">HandleGUIDCommand()</a>, <a class="el" href="../../#l01221">HandleHelpCommand()</a>, <a class="el" href="../../#l01654">HandleHideAreaCommand()</a>, <a class="el" href="../../#l01367">HandleKickPlayerCommand()</a>, <a class="el" href="../../#l01495">HandleLinkGraveCommand()</a>, <a class="el" href="../../#l03009">HandleMailBoxCommand()</a>, <a class="el" href="../../#l01878">HandleMaxSkillCommand()</a>, <a class="el" href="../../#l02647">HandleMovegensCommand()</a>, <a class="el" href="../../#l02423">HandleMuteCommand()</a>, <a class="el" href="../../#l02606">HandleMuteInfoCommand()</a>, <a class="el" href="../../#l01546">HandleNearGraveCommand()</a>, <a class="el" href="../../#l01936">HandlePInfoCommand()</a>, <a class="el" href="../../#l02946">HandlePlayAllCommand()</a>, <a class="el" href="../../#l02960">HandlePossessCommand()</a>, <a class="el" href="../../#l01291">HandleRecallCommand()</a>, <a class="el" href="../../#l02407">HandleRespawnAllCommand()</a>, <a class="el" href="../../#l02383">HandleRespawnCommand()</a>, <a class="el" href="../../#l01158">HandleReviveCommand()</a>, <a class="el" href="../../#l01359">HandleSaveAllCommand()</a>, <a class="el" href="../../#l01328">HandleSaveCommand()</a>, <a class="el" href="../../#l01892">HandleSetSkillCommand()</a>, <a class="el" href="../../#l01623">HandleShowAreaCommand()</a>, <a class="el" href="../../#l00155">HandleSkirmishCommand()</a>, <a class="el" href="../../#l03016">HandleStringCommand()</a>, <a class="el" href="../../#l00888">HandleSummonCommand()</a>, <a class="el" href="../../#l00705">HandleUnAuraCommand()</a>, <a class="el" href="../../#l02996">HandleUnbindSightCommand()</a>, <a class="el" href="../../#l02904">HandleUnFreezeCommand()</a>, <a class="el" href="../../#l02547">HandleUnmuteCommand()</a>, <a class="el" href="../../#l02972">HandleUnPossessCommand()</a>, <a class="el" href="../../#l01413">HandleUnstuckCommand()</a>, <a class="el" href="../../#l00060">SEC_ADMINISTRATOR</a>, <a class="el" href="../../#l00059">SEC_GAMEMASTER</a>, <a class="el" href="../../#l00058">SEC_MODERATOR</a>, and <a class="el" href="../../#l00057">SEC_PLAYER</a>.</p>

</div>
</div>
<a id="a25dc9c369683ea22fd4d4b406f9cc8c0" name="a25dc9c369683ea22fd4d4b406f9cc8c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25dc9c369683ea22fd4d4b406f9cc8c0">&#9670;&#160;</a></span>HandleAddItemCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleAddItemCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt;&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d08/a08198.html">ItemTemplate</a> const *&#160;</td>
          <td class="paramname"><em>itemTemplate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> &gt;&#160;</td>
          <td class="paramname"><em>_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1686</span>    {</div>
<div class="line"><span class="lineno"> 1687</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplate(itemTemplate-&gt;ItemId))</div>
<div class="line"><span class="lineno"> 1688</span>        {</div>
<div class="line"><span class="lineno"> 1689</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaff0800cb71a488cd263a3486ea8d63b1">LANG_COMMAND_ITEMIDINVALID</a>, itemTemplate-&gt;ItemId);</div>
<div class="line"><span class="lineno"> 1690</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1691</span>        }</div>
<div class="line"><span class="lineno"> 1692</span> </div>
<div class="line"><span class="lineno"> 1693</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> itemId = itemTemplate-&gt;ItemId;</div>
<div class="line"><span class="lineno"> 1694</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> count = 1;</div>
<div class="line"><span class="lineno"> 1695</span> </div>
<div class="line"><span class="lineno"> 1696</span>        <span class="keywordflow">if</span> (_count)</div>
<div class="line"><span class="lineno"> 1697</span>            count = *_count;</div>
<div class="line"><span class="lineno"> 1698</span> </div>
<div class="line"><span class="lineno"> 1699</span>        <span class="keywordflow">if</span> (!count)</div>
<div class="line"><span class="lineno"> 1700</span>            count = 1;</div>
<div class="line"><span class="lineno"> 1701</span> </div>
<div class="line"><span class="lineno"> 1702</span>        <span class="keywordflow">if</span> (!player)</div>
<div class="line"><span class="lineno"> 1703</span>            player = <a class="code hl_function" href="../../de/d8a/a07550.html#a617834cc8474970950b45066f2e86dbd">PlayerIdentifier::FromTargetOrSelf</a>(handler);</div>
<div class="line"><span class="lineno"> 1704</span> </div>
<div class="line"><span class="lineno"> 1705</span>        <span class="keywordflow">if</span> (!player)</div>
<div class="line"><span class="lineno"> 1706</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1707</span> </div>
<div class="line"><span class="lineno"> 1708</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* playerTarget = player-&gt;GetConnectedPlayer();</div>
<div class="line"><span class="lineno"> 1709</span> </div>
<div class="line"><span class="lineno"> 1710</span>        <span class="keywordflow">if</span> (!playerTarget)</div>
<div class="line"><span class="lineno"> 1711</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1712</span> </div>
<div class="line"><span class="lineno"> 1713</span>        <span class="comment">// Subtract</span></div>
<div class="line"><span class="lineno"> 1714</span>        <span class="keywordflow">if</span> (count &lt; 0)</div>
<div class="line"><span class="lineno"> 1715</span>        {</div>
<div class="line"><span class="lineno"> 1716</span>            <span class="comment">// Only have scam check on player accounts</span></div>
<div class="line"><span class="lineno"> 1717</span>            <span class="keywordflow">if</span> (playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>() == <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a5d534fd54528d86d0f997fa130159df0">SEC_PLAYER</a>)</div>
<div class="line"><span class="lineno"> 1718</span>            {</div>
<div class="line"><span class="lineno"> 1719</span>                <span class="keywordflow">if</span> (!playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a3b6b7692a9496e07088b96315decc78c">HasItemCount</a>(itemId, 0))</div>
<div class="line"><span class="lineno"> 1720</span>                {</div>
<div class="line"><span class="lineno"> 1721</span>                    <span class="comment">// output that player don&#39;t have any items to destroy</span></div>
<div class="line"><span class="lineno"> 1722</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaaa988f477af7b27d77691eabb8958eb6">LANG_REMOVEITEM_FAILURE</a>, handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a0e2b0a9da9e25f17c2f995505eeea940">GetNameLink</a>(playerTarget), itemId);</div>
<div class="line"><span class="lineno"> 1723</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1724</span>                }</div>
<div class="line"><span class="lineno"> 1725</span> </div>
<div class="line"><span class="lineno"> 1726</span>                <span class="keywordflow">if</span> (!playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a3b6b7692a9496e07088b96315decc78c">HasItemCount</a>(itemId, -count))</div>
<div class="line"><span class="lineno"> 1727</span>                {</div>
<div class="line"><span class="lineno"> 1728</span>                    <span class="comment">// output that player don&#39;t have as many items that you want to destroy</span></div>
<div class="line"><span class="lineno"> 1729</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaac158c283f986534004da28b8e2c8e9a">LANG_REMOVEITEM_ERROR</a>, handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a0e2b0a9da9e25f17c2f995505eeea940">GetNameLink</a>(playerTarget), itemId);</div>
<div class="line"><span class="lineno"> 1730</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1731</span>                }</div>
<div class="line"><span class="lineno"> 1732</span>            }</div>
<div class="line"><span class="lineno"> 1733</span> </div>
<div class="line"><span class="lineno"> 1734</span>            <span class="comment">// output successful amount of destroyed items</span></div>
<div class="line"><span class="lineno"> 1735</span>            playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ab30f677764d8fe694f27ee4253601033">DestroyItemCount</a>(itemId, -count, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1736</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aafa6efde7f735c12fd061f8d0ed916b4e">LANG_REMOVEITEM</a>, itemId, -count, handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a0e2b0a9da9e25f17c2f995505eeea940">GetNameLink</a>(playerTarget));</div>
<div class="line"><span class="lineno"> 1737</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1738</span>        }</div>
<div class="line"><span class="lineno"> 1739</span> </div>
<div class="line"><span class="lineno"> 1740</span>        <span class="comment">// Adding items</span></div>
<div class="line"><span class="lineno"> 1741</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> noSpaceForCount = 0;</div>
<div class="line"><span class="lineno"> 1742</span> </div>
<div class="line"><span class="lineno"> 1743</span>        <span class="comment">// check space and find places</span></div>
<div class="line"><span class="lineno"> 1744</span>        <a class="code hl_typedef" href="../../d7/d13/a03365.html#a06f492a0a20f5264c8395684220fec84">ItemPosCountVec</a> dest;</div>
<div class="line"><span class="lineno"> 1745</span>        <a class="code hl_enumeration" href="../../d6/d0e/a03395.html#a240a18445bd2335a1829e130126f20fa">InventoryResult</a> msg = playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#af059a10625d50ca7674771ea1c1c4c4c">CanStoreNewItem</a>(<a class="code hl_enumvalue" href="../../d6/d0e/a03395.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a>, <a class="code hl_enumvalue" href="../../d6/d0e/a03395.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a>, dest, itemId, count, &amp;noSpaceForCount);</div>
<div class="line"><span class="lineno"> 1746</span> </div>
<div class="line"><span class="lineno"> 1747</span>        <span class="keywordflow">if</span> (msg != <a class="code hl_enumvalue" href="../../d6/d0e/a03395.html#a240a18445bd2335a1829e130126f20faa939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a>) <span class="comment">// convert to possible store amount</span></div>
<div class="line"><span class="lineno"> 1748</span>            count -= noSpaceForCount;</div>
<div class="line"><span class="lineno"> 1749</span> </div>
<div class="line"><span class="lineno"> 1750</span>        <span class="keywordflow">if</span> (!count || dest.empty()) <span class="comment">// can&#39;t add any</span></div>
<div class="line"><span class="lineno"> 1751</span>        {</div>
<div class="line"><span class="lineno"> 1752</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa473d01df48e0641f4a701209d926e8eb">LANG_ITEM_CANNOT_CREATE</a>, itemId, noSpaceForCount);</div>
<div class="line"><span class="lineno"> 1753</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1754</span>        }</div>
<div class="line"><span class="lineno"> 1755</span> </div>
<div class="line"><span class="lineno"> 1756</span>        <a class="code hl_class" href="../../d3/d4c/a08174.html">Item</a>* item = playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ac996a41fc3f89d8683de8695bb7db13c">StoreNewItem</a>(dest, itemId, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1757</span> </div>
<div class="line"><span class="lineno"> 1758</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* p = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>() ? handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>() : <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1759</span>        <span class="comment">// remove binding (let GM give it to another player later)</span></div>
<div class="line"><span class="lineno"> 1760</span>        <span class="keywordflow">if</span> (p &amp;&amp; p == playerTarget)</div>
<div class="line"><span class="lineno"> 1761</span>        {</div>
<div class="line"><span class="lineno"> 1762</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; itemPos : dest)</div>
<div class="line"><span class="lineno"> 1763</span>            {</div>
<div class="line"><span class="lineno"> 1764</span>                <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d3/d4c/a08174.html">Item</a>* item1 = p-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6e31042962f16c90a443ff772363d22f">GetItemByPos</a>(itemPos.pos))</div>
<div class="line"><span class="lineno"> 1765</span>                {</div>
<div class="line"><span class="lineno"> 1766</span>                    item1-&gt;SetBinding(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1767</span>                }</div>
<div class="line"><span class="lineno"> 1768</span>            }</div>
<div class="line"><span class="lineno"> 1769</span>        }</div>
<div class="line"><span class="lineno"> 1770</span> </div>
<div class="line"><span class="lineno"> 1771</span>        <span class="keywordflow">if</span> (p &amp;&amp; count &amp;&amp; item)</div>
<div class="line"><span class="lineno"> 1772</span>        {</div>
<div class="line"><span class="lineno"> 1773</span>            p-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a9b1ad78b229913ff669912d2fb80c6e0">SendNewItem</a>(item, count, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1774</span> </div>
<div class="line"><span class="lineno"> 1775</span>            <span class="keywordflow">if</span> (p != playerTarget)</div>
<div class="line"><span class="lineno"> 1776</span>            {</div>
<div class="line"><span class="lineno"> 1777</span>                playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a9b1ad78b229913ff669912d2fb80c6e0">SendNewItem</a>(item, count, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1778</span>            }</div>
<div class="line"><span class="lineno"> 1779</span>        }</div>
<div class="line"><span class="lineno"> 1780</span> </div>
<div class="line"><span class="lineno"> 1781</span>        <span class="keywordflow">if</span> (noSpaceForCount)</div>
<div class="line"><span class="lineno"> 1782</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa473d01df48e0641f4a701209d926e8eb">LANG_ITEM_CANNOT_CREATE</a>, itemId, noSpaceForCount);</div>
<div class="line"><span class="lineno"> 1783</span> </div>
<div class="line"><span class="lineno"> 1784</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1785</span>    }</div>
<div class="ttc" id="aa00497_html_a0bf9964a3ce962c07ad3d8b5432bbbcd"><div class="ttname"><a href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a></div><div class="ttdeci">std::int32_t int32</div><div class="ttdef"><b>Definition:</b> Define.h:103</div></div>
<div class="ttc" id="aa00497_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition:</b> Define.h:107</div></div>
<div class="ttc" id="aa02843_html_a736e30da2b5261060ac6cdbb5de3b787"><div class="ttname"><a href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a></div><div class="ttdeci">#define sObjectMgr</div><div class="ttdef"><b>Definition:</b> ObjectMgr.h:1635</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa473d01df48e0641f4a701209d926e8eb"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa473d01df48e0641f4a701209d926e8eb">LANG_ITEM_CANNOT_CREATE</a></div><div class="ttdeci">@ LANG_ITEM_CANNOT_CREATE</div><div class="ttdef"><b>Definition:</b> Language.h:537</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaaa988f477af7b27d77691eabb8958eb6"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaaa988f477af7b27d77691eabb8958eb6">LANG_REMOVEITEM_FAILURE</a></div><div class="ttdeci">@ LANG_REMOVEITEM_FAILURE</div><div class="ttdef"><b>Definition:</b> Language.h:1320</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaac158c283f986534004da28b8e2c8e9a"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaac158c283f986534004da28b8e2c8e9a">LANG_REMOVEITEM_ERROR</a></div><div class="ttdeci">@ LANG_REMOVEITEM_ERROR</div><div class="ttdef"><b>Definition:</b> Language.h:1321</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aafa6efde7f735c12fd061f8d0ed916b4e"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aafa6efde7f735c12fd061f8d0ed916b4e">LANG_REMOVEITEM</a></div><div class="ttdeci">@ LANG_REMOVEITEM</div><div class="ttdef"><b>Definition:</b> Language.h:536</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaff0800cb71a488cd263a3486ea8d63b1"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaff0800cb71a488cd263a3486ea8d63b1">LANG_COMMAND_ITEMIDINVALID</a></div><div class="ttdeci">@ LANG_COMMAND_ITEMIDINVALID</div><div class="ttdef"><b>Definition:</b> Language.h:467</div></div>
<div class="ttc" id="aa03365_html_a06f492a0a20f5264c8395684220fec84"><div class="ttname"><a href="../../d7/d13/a03365.html#a06f492a0a20f5264c8395684220fec84">ItemPosCountVec</a></div><div class="ttdeci">std::vector&lt; ItemPosCount &gt; ItemPosCountVec</div><div class="ttdef"><b>Definition:</b> Player.h:776</div></div>
<div class="ttc" id="aa03395_html_a240a18445bd2335a1829e130126f20fa"><div class="ttname"><a href="../../d6/d0e/a03395.html#a240a18445bd2335a1829e130126f20fa">InventoryResult</a></div><div class="ttdeci">InventoryResult</div><div class="ttdef"><b>Definition:</b> Item.h:46</div></div>
<div class="ttc" id="aa03395_html_a240a18445bd2335a1829e130126f20faa939b6661cd19d6c18274906abb28021c"><div class="ttname"><a href="../../d6/d0e/a03395.html#a240a18445bd2335a1829e130126f20faa939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a></div><div class="ttdeci">@ EQUIP_ERR_OK</div><div class="ttdef"><b>Definition:</b> Item.h:47</div></div>
<div class="ttc" id="aa03395_html_aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b"><div class="ttname"><a href="../../d6/d0e/a03395.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a></div><div class="ttdeci">@ NULL_BAG</div><div class="ttdef"><b>Definition:</b> Item.h:40</div></div>
<div class="ttc" id="aa03395_html_aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130"><div class="ttname"><a href="../../d6/d0e/a03395.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a></div><div class="ttdeci">@ NULL_SLOT</div><div class="ttdef"><b>Definition:</b> Item.h:41</div></div>
<div class="ttc" id="aa07362_html_a0e2b0a9da9e25f17c2f995505eeea940"><div class="ttname"><a href="../../d4/d99/a07362.html#a0e2b0a9da9e25f17c2f995505eeea940">ChatHandler::GetNameLink</a></div><div class="ttdeci">virtual std::string GetNameLink() const</div><div class="ttdef"><b>Definition:</b> Chat.h:198</div></div>
<div class="ttc" id="aa07362_html_a54305506d6194dfdd1c1a3f30c8d1d62"><div class="ttname"><a href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">ChatHandler::PSendSysMessage</a></div><div class="ttdeci">void PSendSysMessage(std::string_view str, bool escapeCharacters=false)</div><div class="ttdef"><b>Definition:</b> Chat.cpp:210</div></div>
<div class="ttc" id="aa07362_html_a635eca3065c9464e0cdcedd9f0740daa"><div class="ttname"><a href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">ChatHandler::GetSession</a></div><div class="ttdeci">WorldSession * GetSession()</div><div class="ttdef"><b>Definition:</b> Chat.h:242</div></div>
<div class="ttc" id="aa07362_html_a92dbe6ed87759b9ed247973178d99a80"><div class="ttname"><a href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">ChatHandler::SendErrorMessage</a></div><div class="ttdeci">void SendErrorMessage(uint32 entry)</div><div class="ttdef"><b>Definition:</b> Chat.cpp:215</div></div>
<div class="ttc" id="aa07550_html_a617834cc8474970950b45066f2e86dbd"><div class="ttname"><a href="../../de/d8a/a07550.html#a617834cc8474970950b45066f2e86dbd">Acore::ChatCommands::PlayerIdentifier::FromTargetOrSelf</a></div><div class="ttdeci">static Optional&lt; PlayerIdentifier &gt; FromTargetOrSelf(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> ChatCommandTags.h:184</div></div>
<div class="ttc" id="aa08174_html"><div class="ttname"><a href="../../d3/d4c/a08174.html">Item</a></div><div class="ttdef"><b>Definition:</b> Item.h:220</div></div>
<div class="ttc" id="aa08466_html"><div class="ttname"><a href="../../dc/d06/a08466.html">Player</a></div><div class="ttdef"><b>Definition:</b> Player.h:1081</div></div>
<div class="ttc" id="aa08466_html_a3b6b7692a9496e07088b96315decc78c"><div class="ttname"><a href="../../dc/d06/a08466.html#a3b6b7692a9496e07088b96315decc78c">Player::HasItemCount</a></div><div class="ttdeci">bool HasItemCount(uint32 item, uint32 count=1, bool inBankAlso=false) const</div><div class="ttdef"><b>Definition:</b> PlayerStorage.cpp:655</div></div>
<div class="ttc" id="aa08466_html_a6ab11ca64cde7c5cde1f53998a6f7253"><div class="ttname"><a href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">Player::GetSession</a></div><div class="ttdeci">WorldSession * GetSession() const</div><div class="ttdef"><b>Definition:</b> Player.h:2001</div></div>
<div class="ttc" id="aa08466_html_a6e31042962f16c90a443ff772363d22f"><div class="ttname"><a href="../../dc/d06/a08466.html#a6e31042962f16c90a443ff772363d22f">Player::GetItemByPos</a></div><div class="ttdeci">Item * GetItemByPos(uint16 pos) const</div><div class="ttdef"><b>Definition:</b> PlayerStorage.cpp:441</div></div>
<div class="ttc" id="aa08466_html_a9b1ad78b229913ff669912d2fb80c6e0"><div class="ttname"><a href="../../dc/d06/a08466.html#a9b1ad78b229913ff669912d2fb80c6e0">Player::SendNewItem</a></div><div class="ttdeci">void SendNewItem(Item *item, uint32 count, bool received, bool created, bool broadcast=false, bool sendChatMessage=true)</div><div class="ttdef"><b>Definition:</b> PlayerStorage.cpp:4750</div></div>
<div class="ttc" id="aa08466_html_ab30f677764d8fe694f27ee4253601033"><div class="ttname"><a href="../../dc/d06/a08466.html#ab30f677764d8fe694f27ee4253601033">Player::DestroyItemCount</a></div><div class="ttdeci">void DestroyItemCount(uint32 item, uint32 count, bool update, bool unequip_check=false)</div><div class="ttdef"><b>Definition:</b> PlayerStorage.cpp:3121</div></div>
<div class="ttc" id="aa08466_html_ac996a41fc3f89d8683de8695bb7db13c"><div class="ttname"><a href="../../dc/d06/a08466.html#ac996a41fc3f89d8683de8695bb7db13c">Player::StoreNewItem</a></div><div class="ttdeci">Item * StoreNewItem(ItemPosCountVec const &amp;pos, uint32 item, bool update, int32 randomPropertyId=0)</div><div class="ttdef"><b>Definition:</b> PlayerStorage.cpp:2524</div></div>
<div class="ttc" id="aa08466_html_af059a10625d50ca7674771ea1c1c4c4c"><div class="ttname"><a href="../../dc/d06/a08466.html#af059a10625d50ca7674771ea1c1c4c4c">Player::CanStoreNewItem</a></div><div class="ttdeci">InventoryResult CanStoreNewItem(uint8 bag, uint8 slot, ItemPosCountVec &amp;dest, uint32 item, uint32 count, uint32 *no_space_count=nullptr) const</div><div class="ttdef"><b>Definition:</b> Player.h:1291</div></div>
<div class="ttc" id="aa10810_html_a38f29ba7dc5216093dd812cf3e7861df"><div class="ttname"><a href="../../d9/d7c/a10810.html#a38f29ba7dc5216093dd812cf3e7861df">WorldSession::GetSecurity</a></div><div class="ttdeci">AccountTypes GetSecurity() const</div><div class="ttdef"><b>Definition:</b> WorldSession.h:373</div></div>
<div class="ttc" id="aa10810_html_a62c786bcb829a021c267e7eb56809952"><div class="ttname"><a href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">WorldSession::GetPlayer</a></div><div class="ttdeci">Player * GetPlayer() const</div><div class="ttdef"><b>Definition:</b> WorldSession.h:376</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01291">Player::CanStoreNewItem()</a>, <a class="el" href="../../#l03121">Player::DestroyItemCount()</a>, <a class="el" href="../../#l00047">EQUIP_ERR_OK</a>, <a class="el" href="../../#l00184">Acore::ChatCommands::PlayerIdentifier::FromTargetOrSelf()</a>, <a class="el" href="../../#l00441">Player::GetItemByPos()</a>, <a class="el" href="../../#l00198">ChatHandler::GetNameLink()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00373">WorldSession::GetSecurity()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l02001">Player::GetSession()</a>, <a class="el" href="../../#l00655">Player::HasItemCount()</a>, <a class="el" href="../../#l00620">ItemTemplate::ItemId</a>, <a class="el" href="../../#l00467">LANG_COMMAND_ITEMIDINVALID</a>, <a class="el" href="../../#l00537">LANG_ITEM_CANNOT_CREATE</a>, <a class="el" href="../../#l00536">LANG_REMOVEITEM</a>, <a class="el" href="../../#l01321">LANG_REMOVEITEM_ERROR</a>, <a class="el" href="../../#l01320">LANG_REMOVEITEM_FAILURE</a>, <a class="el" href="../../#l00040">NULL_BAG</a>, <a class="el" href="../../#l00041">NULL_SLOT</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00057">SEC_PLAYER</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l04750">Player::SendNewItem()</a>, <a class="el" href="../../#l01635">sObjectMgr</a>, and <a class="el" href="../../#l02524">Player::StoreNewItem()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a8b495b0bcda9759e6ef2541dcd8389fc" name="a8b495b0bcda9759e6ef2541dcd8389fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b495b0bcda9759e6ef2541dcd8389fc">&#9670;&#160;</a></span>HandleAddItemSetCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleAddItemSetCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/de0/a07562.html">Variant</a>&lt; <a class="el" href="../../d4/d28/a07554.html">Hyperlink</a>&lt; itemset &gt;, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> &gt;&#160;</td>
          <td class="paramname"><em>itemSetId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1788</span>    {</div>
<div class="line"><span class="lineno"> 1789</span>        <span class="comment">// prevent generation all items with itemset field value &#39;0&#39;</span></div>
<div class="line"><span class="lineno"> 1790</span>        <span class="keywordflow">if</span> (!*itemSetId)</div>
<div class="line"><span class="lineno"> 1791</span>        {</div>
<div class="line"><span class="lineno"> 1792</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa72afeac69d40e284ae1302967bdbab32">LANG_NO_ITEMS_FROM_ITEMSET_FOUND</a>, <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(itemSetId));</div>
<div class="line"><span class="lineno"> 1793</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1794</span>        }</div>
<div class="line"><span class="lineno"> 1795</span> </div>
<div class="line"><span class="lineno"> 1796</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1797</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* playerTarget = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ad948d4d7a2fe777df9d02f40201bcf4a">getSelectedPlayer</a>();</div>
<div class="line"><span class="lineno"> 1798</span> </div>
<div class="line"><span class="lineno"> 1799</span>        <span class="keywordflow">if</span> (!playerTarget)</div>
<div class="line"><span class="lineno"> 1800</span>        {</div>
<div class="line"><span class="lineno"> 1801</span>            playerTarget = player;</div>
<div class="line"><span class="lineno"> 1802</span>        }</div>
<div class="line"><span class="lineno"> 1803</span> </div>
<div class="line"><span class="lineno"> 1804</span>        <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1805</span> </div>
<div class="line"><span class="lineno"> 1806</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; [itemid, itemTemplate] : *<a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetItemTemplateStore())</div>
<div class="line"><span class="lineno"> 1807</span>        {</div>
<div class="line"><span class="lineno"> 1808</span>            <span class="keywordflow">if</span> (itemTemplate.ItemSet == <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(itemSetId))</div>
<div class="line"><span class="lineno"> 1809</span>            {</div>
<div class="line"><span class="lineno"> 1810</span>                found = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1811</span>                <a class="code hl_typedef" href="../../d7/d13/a03365.html#a06f492a0a20f5264c8395684220fec84">ItemPosCountVec</a> dest;</div>
<div class="line"><span class="lineno"> 1812</span>                <a class="code hl_enumeration" href="../../d6/d0e/a03395.html#a240a18445bd2335a1829e130126f20fa">InventoryResult</a> msg = playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#af059a10625d50ca7674771ea1c1c4c4c">CanStoreNewItem</a>(<a class="code hl_enumvalue" href="../../d6/d0e/a03395.html#aadcc1e3338f8cbbe511ad060db42dfb5a843659af0a40139bfa505d7e7982477b">NULL_BAG</a>, <a class="code hl_enumvalue" href="../../d6/d0e/a03395.html#aadcc1e3338f8cbbe511ad060db42dfb5aeb5cbd7990d2f5e679ec4ecc65e83130">NULL_SLOT</a>, dest, itemTemplate.ItemId, 1);</div>
<div class="line"><span class="lineno"> 1813</span> </div>
<div class="line"><span class="lineno"> 1814</span>                <span class="keywordflow">if</span> (msg == <a class="code hl_enumvalue" href="../../d6/d0e/a03395.html#a240a18445bd2335a1829e130126f20faa939b6661cd19d6c18274906abb28021c">EQUIP_ERR_OK</a>)</div>
<div class="line"><span class="lineno"> 1815</span>                {</div>
<div class="line"><span class="lineno"> 1816</span>                    <a class="code hl_class" href="../../d3/d4c/a08174.html">Item</a>* item = playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ac996a41fc3f89d8683de8695bb7db13c">StoreNewItem</a>(dest, itemTemplate.ItemId, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1817</span> </div>
<div class="line"><span class="lineno"> 1818</span>                    <span class="comment">// remove binding (let GM give it to another player later)</span></div>
<div class="line"><span class="lineno"> 1819</span>                    <span class="keywordflow">if</span> (player == playerTarget)</div>
<div class="line"><span class="lineno"> 1820</span>                    {</div>
<div class="line"><span class="lineno"> 1821</span>                        item-&gt;<a class="code hl_function" href="../../d3/d4c/a08174.html#a29d45523ff35ed1ea4b5c89b00e6ffdc">SetBinding</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1822</span>                    }</div>
<div class="line"><span class="lineno"> 1823</span> </div>
<div class="line"><span class="lineno"> 1824</span>                    player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a9b1ad78b229913ff669912d2fb80c6e0">SendNewItem</a>(item, 1, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1825</span> </div>
<div class="line"><span class="lineno"> 1826</span>                    <span class="keywordflow">if</span> (player != playerTarget)</div>
<div class="line"><span class="lineno"> 1827</span>                    {</div>
<div class="line"><span class="lineno"> 1828</span>                        playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a9b1ad78b229913ff669912d2fb80c6e0">SendNewItem</a>(item, 1, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1829</span>                    }</div>
<div class="line"><span class="lineno"> 1830</span>                }</div>
<div class="line"><span class="lineno"> 1831</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1832</span>                {</div>
<div class="line"><span class="lineno"> 1833</span>                    player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ade216a89981dfce501f02f38cec9ad3f">SendEquipError</a>(msg, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, itemTemplate.ItemId);</div>
<div class="line"><span class="lineno"> 1834</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa473d01df48e0641f4a701209d926e8eb">LANG_ITEM_CANNOT_CREATE</a>, itemTemplate.ItemId, 1);</div>
<div class="line"><span class="lineno"> 1835</span>                }</div>
<div class="line"><span class="lineno"> 1836</span>            }</div>
<div class="line"><span class="lineno"> 1837</span>        }</div>
<div class="line"><span class="lineno"> 1838</span> </div>
<div class="line"><span class="lineno"> 1839</span>        <span class="keywordflow">if</span> (!found)</div>
<div class="line"><span class="lineno"> 1840</span>        {</div>
<div class="line"><span class="lineno"> 1841</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa72afeac69d40e284ae1302967bdbab32">LANG_NO_ITEMS_FROM_ITEMSET_FOUND</a>, <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(itemSetId));</div>
<div class="line"><span class="lineno"> 1842</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1843</span>        }</div>
<div class="line"><span class="lineno"> 1844</span> </div>
<div class="line"><span class="lineno"> 1845</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1846</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa72afeac69d40e284ae1302967bdbab32"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa72afeac69d40e284ae1302967bdbab32">LANG_NO_ITEMS_FROM_ITEMSET_FOUND</a></div><div class="ttdeci">@ LANG_NO_ITEMS_FROM_ITEMSET_FOUND</div><div class="ttdef"><b>Definition:</b> Language.h:542</div></div>
<div class="ttc" id="aa07362_html_ad948d4d7a2fe777df9d02f40201bcf4a"><div class="ttname"><a href="../../d4/d99/a07362.html#ad948d4d7a2fe777df9d02f40201bcf4a">ChatHandler::getSelectedPlayer</a></div><div class="ttdeci">Player * getSelectedPlayer() const</div><div class="ttdef"><b>Definition:</b> Chat.cpp:373</div></div>
<div class="ttc" id="aa08174_html_a29d45523ff35ed1ea4b5c89b00e6ffdc"><div class="ttname"><a href="../../d3/d4c/a08174.html#a29d45523ff35ed1ea4b5c89b00e6ffdc">Item::SetBinding</a></div><div class="ttdeci">void SetBinding(bool val)</div><div class="ttdef"><b>Definition:</b> Item.h:235</div></div>
<div class="ttc" id="aa08466_html_ade216a89981dfce501f02f38cec9ad3f"><div class="ttname"><a href="../../dc/d06/a08466.html#ade216a89981dfce501f02f38cec9ad3f">Player::SendEquipError</a></div><div class="ttdeci">void SendEquipError(InventoryResult msg, Item *pItem, Item *pItem2=nullptr, uint32 itemid=0)</div><div class="ttdef"><b>Definition:</b> PlayerStorage.cpp:4021</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01291">Player::CanStoreNewItem()</a>, <a class="el" href="../../#l00047">EQUIP_ERR_OK</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00373">ChatHandler::getSelectedPlayer()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00537">LANG_ITEM_CANNOT_CREATE</a>, <a class="el" href="../../#l00542">LANG_NO_ITEMS_FROM_ITEMSET_FOUND</a>, <a class="el" href="../../#l00040">NULL_BAG</a>, <a class="el" href="../../#l00041">NULL_SLOT</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l04021">Player::SendEquipError()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l04750">Player::SendNewItem()</a>, <a class="el" href="../../#l00235">Item::SetBinding()</a>, <a class="el" href="../../#l01635">sObjectMgr</a>, and <a class="el" href="../../#l02524">Player::StoreNewItem()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a738d4416fce5e5a1aa9e5df515ac8429" name="a738d4416fce5e5a1aa9e5df515ac8429"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a738d4416fce5e5a1aa9e5df515ac8429">&#9670;&#160;</a></span>HandleAppearCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleAppearCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  740</span>    {</div>
<div class="line"><span class="lineno">  741</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno">  742</span>        {</div>
<div class="line"><span class="lineno">  743</span>            target = <a class="code hl_function" href="../../de/d8a/a07550.html#aea33fb49551ebc0f687f3d24dc3dfbea">PlayerIdentifier::FromTarget</a>(handler);</div>
<div class="line"><span class="lineno">  744</span>        }</div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno">  747</span>        {</div>
<div class="line"><span class="lineno">  748</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  749</span>        }</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* _player = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno">  752</span>        <span class="keywordflow">if</span> (target-&gt;GetGUID() == _player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>())</div>
<div class="line"><span class="lineno">  753</span>        {</div>
<div class="line"><span class="lineno">  754</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4a7d900e129931d57c00f83b933e0582">LANG_CANT_TELEPORT_SELF</a>);</div>
<div class="line"><span class="lineno">  755</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  756</span>        }</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>        std::string nameLink = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a52c15179ec3eff1b6bb9551d96a8b901">playerLink</a>(target-&gt;GetName());</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>        <span class="keywordflow">if</span> (target-&gt;IsConnected())</div>
<div class="line"><span class="lineno">  761</span>        {</div>
<div class="line"><span class="lineno">  762</span>            <span class="keyword">auto</span> targetPlayer = target-&gt;GetConnectedPlayer();</div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>            <span class="comment">// check online security</span></div>
<div class="line"><span class="lineno">  765</span>            <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#afacb4b59756372ec32810be0d46da49c">HasLowerSecurity</a>(targetPlayer))</div>
<div class="line"><span class="lineno">  766</span>            {</div>
<div class="line"><span class="lineno">  767</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  768</span>            }</div>
<div class="line"><span class="lineno">  769</span> </div>
<div class="line"><span class="lineno">  770</span>            <a class="code hl_class" href="../../df/dae/a09618.html">Map</a>* map = targetPlayer-&gt;GetMap();</div>
<div class="line"><span class="lineno">  771</span>            <span class="keywordflow">if</span> (map-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#a11362f8ce788f228f7b3cc7214fb57e1">IsBattlegroundOrArena</a>())</div>
<div class="line"><span class="lineno">  772</span>            {</div>
<div class="line"><span class="lineno">  773</span>                <span class="comment">// only allow if gm mode is on</span></div>
<div class="line"><span class="lineno">  774</span>                <span class="keywordflow">if</span> (!_player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a9f23cae8a3da0345a05c2a2bfedc2fe2">IsGameMaster</a>())</div>
<div class="line"><span class="lineno">  775</span>                {</div>
<div class="line"><span class="lineno">  776</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aac157f6f85ba9ace74d452ba9ce494410">LANG_CANNOT_GO_TO_BG_GM</a>, nameLink);</div>
<div class="line"><span class="lineno">  777</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  778</span>                }</div>
<div class="line"><span class="lineno">  779</span> </div>
<div class="line"><span class="lineno">  780</span>                <span class="keywordflow">if</span> (!_player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1013c27be4347a1b1a4a986a07456deb">GetMap</a>()-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#a11362f8ce788f228f7b3cc7214fb57e1">IsBattlegroundOrArena</a>())</div>
<div class="line"><span class="lineno">  781</span>                {</div>
<div class="line"><span class="lineno">  782</span>                    _player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a45890cefbc8ee91ef68e6782dc7e03b8">SetEntryPoint</a>();</div>
<div class="line"><span class="lineno">  783</span>                }</div>
<div class="line"><span class="lineno">  784</span> </div>
<div class="line"><span class="lineno">  785</span>                _player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6c28ad5b8a7d2bf507e1fbf8d2554c02">SetBattlegroundId</a>(targetPlayer-&gt;GetBattlegroundId(), targetPlayer-&gt;GetBattlegroundTypeId(), <a class="code hl_define" href="../../d0/dbd/a02771.html#ae00102953affc07f8aa49666d1b97c3c">PLAYER_MAX_BATTLEGROUND_QUEUES</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a1d009932a5dde84d818f627cfcfe3fe5">TEAM_NEUTRAL</a>);</div>
<div class="line"><span class="lineno">  786</span>            }</div>
<div class="line"><span class="lineno">  787</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (map-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#a0c80d50b012dc8d560e256201970f3b3">IsDungeon</a>())</div>
<div class="line"><span class="lineno">  788</span>            {</div>
<div class="line"><span class="lineno">  789</span>                <span class="comment">// we have to go to instance, and can go to player only if:</span></div>
<div class="line"><span class="lineno">  790</span>                <span class="comment">//   1) we are in his group (either as leader or as member)</span></div>
<div class="line"><span class="lineno">  791</span>                <span class="comment">//   2) we are not bound to any group and have GM mode on</span></div>
<div class="line"><span class="lineno">  792</span>                <span class="keywordflow">if</span> (_player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>())</div>
<div class="line"><span class="lineno">  793</span>                {</div>
<div class="line"><span class="lineno">  794</span>                    <span class="comment">// we are in group, we can go only if we are in the player group</span></div>
<div class="line"><span class="lineno">  795</span>                    <span class="keywordflow">if</span> (_player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>() != targetPlayer-&gt;GetGroup())</div>
<div class="line"><span class="lineno">  796</span>                    {</div>
<div class="line"><span class="lineno">  797</span>                        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa35182ab2885dff8c03e5c2b24d9dfedd">LANG_CANNOT_GO_TO_INST_PARTY</a>, nameLink);</div>
<div class="line"><span class="lineno">  798</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  799</span>                    }</div>
<div class="line"><span class="lineno">  800</span>                }</div>
<div class="line"><span class="lineno">  801</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  802</span>                {</div>
<div class="line"><span class="lineno">  803</span>                    <span class="comment">// we are not in group, let&#39;s verify our GM mode</span></div>
<div class="line"><span class="lineno">  804</span>                    <span class="keywordflow">if</span> (!_player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a9f23cae8a3da0345a05c2a2bfedc2fe2">IsGameMaster</a>())</div>
<div class="line"><span class="lineno">  805</span>                    {</div>
<div class="line"><span class="lineno">  806</span>                        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab42b71c88c8e534d2d28ded85b370d8e">LANG_CANNOT_GO_TO_INST_GM</a>, nameLink);</div>
<div class="line"><span class="lineno">  807</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  808</span>                    }</div>
<div class="line"><span class="lineno">  809</span>                }</div>
<div class="line"><span class="lineno">  810</span> </div>
<div class="line"><span class="lineno">  811</span>                <span class="comment">// if the GM is bound to another instance, he will not be bound to another one</span></div>
<div class="line"><span class="lineno">  812</span>                <a class="code hl_struct" href="../../da/d2f/a09390.html">InstancePlayerBind</a>* bind = <a class="code hl_define" href="../../d4/d47/a03050.html#ae1d3c96dbd749e40f06799fa52eeb9a2">sInstanceSaveMgr</a>-&gt;PlayerGetBoundInstance(_player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), targetPlayer-&gt;GetMapId(), targetPlayer-&gt;GetDifficulty(map-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#a556d2eafa563b4a5de4957de28e369b3">IsRaid</a>()));</div>
<div class="line"><span class="lineno">  813</span>                <span class="keywordflow">if</span> (!bind)</div>
<div class="line"><span class="lineno">  814</span>                {</div>
<div class="line"><span class="lineno">  815</span>                    <span class="keywordflow">if</span> (<a class="code hl_class" href="../../dd/d93/a09398.html">InstanceSave</a>* save = <a class="code hl_define" href="../../d4/d47/a03050.html#ae1d3c96dbd749e40f06799fa52eeb9a2">sInstanceSaveMgr</a>-&gt;GetInstanceSave(target-&gt;GetConnectedPlayer()-&gt;GetInstanceId()))</div>
<div class="line"><span class="lineno">  816</span>                    {</div>
<div class="line"><span class="lineno">  817</span>                        <a class="code hl_define" href="../../d4/d47/a03050.html#ae1d3c96dbd749e40f06799fa52eeb9a2">sInstanceSaveMgr</a>-&gt;PlayerBindToInstance(_player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), save, !save-&gt;CanReset(), _player);</div>
<div class="line"><span class="lineno">  818</span>                    }</div>
<div class="line"><span class="lineno">  819</span>                }</div>
<div class="line"><span class="lineno">  820</span> </div>
<div class="line"><span class="lineno">  821</span>                <span class="keywordflow">if</span> (map-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#a556d2eafa563b4a5de4957de28e369b3">IsRaid</a>())</div>
<div class="line"><span class="lineno">  822</span>                {</div>
<div class="line"><span class="lineno">  823</span>                    _player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a564271442fcc1fe58cbaa14232c85d0f">SetRaidDifficulty</a>(targetPlayer-&gt;GetRaidDifficulty());</div>
<div class="line"><span class="lineno">  824</span>                }</div>
<div class="line"><span class="lineno">  825</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  826</span>                {</div>
<div class="line"><span class="lineno">  827</span>                    _player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a342df19ec39edf3f71fea6a3cde473d9">SetDungeonDifficulty</a>(targetPlayer-&gt;GetDungeonDifficulty());</div>
<div class="line"><span class="lineno">  828</span>                }</div>
<div class="line"><span class="lineno">  829</span>            }</div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4b0c6bbc048ceb628be149f883a981f7">LANG_APPEARING_AT</a>, nameLink);</div>
<div class="line"><span class="lineno">  832</span> </div>
<div class="line"><span class="lineno">  833</span>            <span class="comment">// stop flight if need</span></div>
<div class="line"><span class="lineno">  834</span>            <span class="keywordflow">if</span> (_player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a85b547eedd208db5f9dddc5f75a1a211">IsInFlight</a>())</div>
<div class="line"><span class="lineno">  835</span>            {</div>
<div class="line"><span class="lineno">  836</span>                _player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a4a04a3f22c3b0d6f4933993ac0cc7aa4">GetMotionMaster</a>()-&gt;<a class="code hl_function" href="../../d8/dc2/a09730.html#a6717ae922b894d482bf6358aa99bacb4">MovementExpired</a>();</div>
<div class="line"><span class="lineno">  837</span>                _player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ae8ffeb918f113b64fd8831e357aea875">CleanupAfterTaxiFlight</a>();</div>
<div class="line"><span class="lineno">  838</span>            }</div>
<div class="line"><span class="lineno">  839</span>            <span class="keywordflow">else</span> <span class="comment">// save only in non-flight case</span></div>
<div class="line"><span class="lineno">  840</span>            {</div>
<div class="line"><span class="lineno">  841</span>                _player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a73666fc2dd6eab0f34626a0811925fab">SaveRecallPosition</a>();</div>
<div class="line"><span class="lineno">  842</span>            }</div>
<div class="line"><span class="lineno">  843</span> </div>
<div class="line"><span class="lineno">  844</span>            <span class="keywordflow">if</span> (_player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#aa2eae30c1e0af118b9a6b5db0a1929b7">TeleportTo</a>(targetPlayer-&gt;GetMapId(), targetPlayer-&gt;GetPositionX(), targetPlayer-&gt;GetPositionY(), targetPlayer-&gt;GetPositionZ() + 0.25f, _player-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#a74cabfb8f441acb38e1abd5bf6ecdc84">GetOrientation</a>(), <a class="code hl_enumvalue" href="../../d7/d13/a03365.html#a19f261ab504f8e06e9488bd5a3c23075ac848cb12b6d8ee4208900a15b9c7b3bc">TELE_TO_GM_MODE</a>, targetPlayer))</div>
<div class="line"><span class="lineno">  845</span>            {</div>
<div class="line"><span class="lineno">  846</span>                _player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#aa3f511c51aa1082be9d4777c770a3485">SetPhaseMask</a>(targetPlayer-&gt;GetPhaseMask() | 1, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  847</span>            }</div>
<div class="line"><span class="lineno">  848</span>        }</div>
<div class="line"><span class="lineno">  849</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  850</span>        {</div>
<div class="line"><span class="lineno">  851</span>            <span class="comment">// check offline security</span></div>
<div class="line"><span class="lineno">  852</span>            <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#afacb4b59756372ec32810be0d46da49c">HasLowerSecurity</a>(<span class="keyword">nullptr</span>, target-&gt;GetGUID()))</div>
<div class="line"><span class="lineno">  853</span>            {</div>
<div class="line"><span class="lineno">  854</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  855</span>            }</div>
<div class="line"><span class="lineno">  856</span> </div>
<div class="line"><span class="lineno">  857</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4b0c6bbc048ceb628be149f883a981f7">LANG_APPEARING_AT</a>, nameLink);</div>
<div class="line"><span class="lineno">  858</span> </div>
<div class="line"><span class="lineno">  859</span>            <span class="comment">// to point where player stay (if loaded)</span></div>
<div class="line"><span class="lineno">  860</span>            <span class="keywordtype">float</span> x, y, z, o;</div>
<div class="line"><span class="lineno">  861</span>            <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> map;</div>
<div class="line"><span class="lineno">  862</span>            <span class="keywordtype">bool</span> in_flight;</div>
<div class="line"><span class="lineno">  863</span> </div>
<div class="line"><span class="lineno">  864</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../dc/d06/a08466.html#abaa19d025ddbd5a258bc1db6483c1227">Player::LoadPositionFromDB</a>(map, x, y, z, o, in_flight, target-&gt;GetGUID().GetCounter()))</div>
<div class="line"><span class="lineno">  865</span>            {</div>
<div class="line"><span class="lineno">  866</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  867</span>            }</div>
<div class="line"><span class="lineno">  868</span> </div>
<div class="line"><span class="lineno">  869</span>            <span class="comment">// stop flight if need</span></div>
<div class="line"><span class="lineno">  870</span>            <span class="keywordflow">if</span> (_player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a85b547eedd208db5f9dddc5f75a1a211">IsInFlight</a>())</div>
<div class="line"><span class="lineno">  871</span>            {</div>
<div class="line"><span class="lineno">  872</span>                _player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a4a04a3f22c3b0d6f4933993ac0cc7aa4">GetMotionMaster</a>()-&gt;<a class="code hl_function" href="../../d8/dc2/a09730.html#a6717ae922b894d482bf6358aa99bacb4">MovementExpired</a>();</div>
<div class="line"><span class="lineno">  873</span>                _player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ae8ffeb918f113b64fd8831e357aea875">CleanupAfterTaxiFlight</a>();</div>
<div class="line"><span class="lineno">  874</span>            }</div>
<div class="line"><span class="lineno">  875</span>            <span class="comment">// save only in non-flight case</span></div>
<div class="line"><span class="lineno">  876</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  877</span>            {</div>
<div class="line"><span class="lineno">  878</span>                _player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a73666fc2dd6eab0f34626a0811925fab">SaveRecallPosition</a>();</div>
<div class="line"><span class="lineno">  879</span>            }</div>
<div class="line"><span class="lineno">  880</span> </div>
<div class="line"><span class="lineno">  881</span>            _player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#aa2eae30c1e0af118b9a6b5db0a1929b7">TeleportTo</a>(map, x, y, z, _player-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#a74cabfb8f441acb38e1abd5bf6ecdc84">GetOrientation</a>());</div>
<div class="line"><span class="lineno">  882</span>        }</div>
<div class="line"><span class="lineno">  883</span> </div>
<div class="line"><span class="lineno">  884</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  885</span>    }</div>
<div class="ttc" id="aa02771_html_abfb349736a7699bdfcdb134035ef7865a1d009932a5dde84d818f627cfcfe3fe5"><div class="ttname"><a href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a1d009932a5dde84d818f627cfcfe3fe5">TEAM_NEUTRAL</a></div><div class="ttdeci">@ TEAM_NEUTRAL</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:762</div></div>
<div class="ttc" id="aa02771_html_ae00102953affc07f8aa49666d1b97c3c"><div class="ttname"><a href="../../d0/dbd/a02771.html#ae00102953affc07f8aa49666d1b97c3c">PLAYER_MAX_BATTLEGROUND_QUEUES</a></div><div class="ttdeci">#define PLAYER_MAX_BATTLEGROUND_QUEUES</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:176</div></div>
<div class="ttc" id="aa03050_html_ae1d3c96dbd749e40f06799fa52eeb9a2"><div class="ttname"><a href="../../d4/d47/a03050.html#ae1d3c96dbd749e40f06799fa52eeb9a2">sInstanceSaveMgr</a></div><div class="ttdeci">#define sInstanceSaveMgr</div><div class="ttdef"><b>Definition:</b> InstanceSaveMgr.h:202</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa35182ab2885dff8c03e5c2b24d9dfedd"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa35182ab2885dff8c03e5c2b24d9dfedd">LANG_CANNOT_GO_TO_INST_PARTY</a></div><div class="ttdeci">@ LANG_CANNOT_GO_TO_INST_PARTY</div><div class="ttdef"><b>Definition:</b> Language.h:136</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa4a7d900e129931d57c00f83b933e0582"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4a7d900e129931d57c00f83b933e0582">LANG_CANT_TELEPORT_SELF</a></div><div class="ttdeci">@ LANG_CANT_TELEPORT_SELF</div><div class="ttdef"><b>Definition:</b> Language.h:211</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa4b0c6bbc048ceb628be149f883a981f7"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4b0c6bbc048ceb628be149f883a981f7">LANG_APPEARING_AT</a></div><div class="ttdeci">@ LANG_APPEARING_AT</div><div class="ttdef"><b>Definition:</b> Language.h:145</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aab42b71c88c8e534d2d28ded85b370d8e"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab42b71c88c8e534d2d28ded85b370d8e">LANG_CANNOT_GO_TO_INST_GM</a></div><div class="ttdeci">@ LANG_CANNOT_GO_TO_INST_GM</div><div class="ttdef"><b>Definition:</b> Language.h:137</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aac157f6f85ba9ace74d452ba9ce494410"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aac157f6f85ba9ace74d452ba9ce494410">LANG_CANNOT_GO_TO_BG_GM</a></div><div class="ttdeci">@ LANG_CANNOT_GO_TO_BG_GM</div><div class="ttdef"><b>Definition:</b> Language.h:706</div></div>
<div class="ttc" id="aa03365_html_a19f261ab504f8e06e9488bd5a3c23075ac848cb12b6d8ee4208900a15b9c7b3bc"><div class="ttname"><a href="../../d7/d13/a03365.html#a19f261ab504f8e06e9488bd5a3c23075ac848cb12b6d8ee4208900a15b9c7b3bc">TELE_TO_GM_MODE</a></div><div class="ttdeci">@ TELE_TO_GM_MODE</div><div class="ttdef"><b>Definition:</b> Player.h:826</div></div>
<div class="ttc" id="aa07362_html_a52c15179ec3eff1b6bb9551d96a8b901"><div class="ttname"><a href="../../d4/d99/a07362.html#a52c15179ec3eff1b6bb9551d96a8b901">ChatHandler::playerLink</a></div><div class="ttdeci">std::string playerLink(std::string const &amp;name) const</div><div class="ttdef"><b>Definition:</b> Chat.h:231</div></div>
<div class="ttc" id="aa07362_html_afacb4b59756372ec32810be0d46da49c"><div class="ttname"><a href="../../d4/d99/a07362.html#afacb4b59756372ec32810be0d46da49c">ChatHandler::HasLowerSecurity</a></div><div class="ttdeci">bool HasLowerSecurity(Player *target, ObjectGuid guid=ObjectGuid::Empty, bool strong=false)</div><div class="ttdef"><b>Definition:</b> Chat.cpp:56</div></div>
<div class="ttc" id="aa07550_html_aea33fb49551ebc0f687f3d24dc3dfbea"><div class="ttname"><a href="../../de/d8a/a07550.html#aea33fb49551ebc0f687f3d24dc3dfbea">Acore::ChatCommands::PlayerIdentifier::FromTarget</a></div><div class="ttdeci">static Optional&lt; PlayerIdentifier &gt; FromTarget(ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> ChatCommandTags.cpp:138</div></div>
<div class="ttc" id="aa08218_html_ad23b997e2442fa6a6228ba73a7ecc138"><div class="ttname"><a href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">Object::GetGUID</a></div><div class="ttdeci">static ObjectGuid GetGUID(Object const *o)</div><div class="ttdef"><b>Definition:</b> Object.h:112</div></div>
<div class="ttc" id="aa08250_html_a1013c27be4347a1b1a4a986a07456deb"><div class="ttname"><a href="../../de/d0d/a08250.html#a1013c27be4347a1b1a4a986a07456deb">WorldObject::GetMap</a></div><div class="ttdeci">Map * GetMap() const</div><div class="ttdef"><b>Definition:</b> Object.h:536</div></div>
<div class="ttc" id="aa08294_html_a74cabfb8f441acb38e1abd5bf6ecdc84"><div class="ttname"><a href="../../d8/d21/a08294.html#a74cabfb8f441acb38e1abd5bf6ecdc84">Position::GetOrientation</a></div><div class="ttdeci">float GetOrientation() const</div><div class="ttdef"><b>Definition:</b> Position.h:119</div></div>
<div class="ttc" id="aa08466_html_a342df19ec39edf3f71fea6a3cde473d9"><div class="ttname"><a href="../../dc/d06/a08466.html#a342df19ec39edf3f71fea6a3cde473d9">Player::SetDungeonDifficulty</a></div><div class="ttdeci">void SetDungeonDifficulty(Difficulty dungeon_difficulty)</div><div class="ttdef"><b>Definition:</b> Player.h:1927</div></div>
<div class="ttc" id="aa08466_html_a45890cefbc8ee91ef68e6782dc7e03b8"><div class="ttname"><a href="../../dc/d06/a08466.html#a45890cefbc8ee91ef68e6782dc7e03b8">Player::SetEntryPoint</a></div><div class="ttdeci">void SetEntryPoint()</div><div class="ttdef"><b>Definition:</b> Player.cpp:11316</div></div>
<div class="ttc" id="aa08466_html_a564271442fcc1fe58cbaa14232c85d0f"><div class="ttname"><a href="../../dc/d06/a08466.html#a564271442fcc1fe58cbaa14232c85d0f">Player::SetRaidDifficulty</a></div><div class="ttdeci">void SetRaidDifficulty(Difficulty raid_difficulty)</div><div class="ttdef"><b>Definition:</b> Player.h:1928</div></div>
<div class="ttc" id="aa08466_html_a6c28ad5b8a7d2bf507e1fbf8d2554c02"><div class="ttname"><a href="../../dc/d06/a08466.html#a6c28ad5b8a7d2bf507e1fbf8d2554c02">Player::SetBattlegroundId</a></div><div class="ttdeci">void SetBattlegroundId(uint32 id, BattlegroundTypeId bgTypeId, uint32 queueSlot, bool invited, bool isRandom, TeamId teamId)</div><div class="ttdef"><b>Definition:</b> Player.cpp:12338</div></div>
<div class="ttc" id="aa08466_html_a73666fc2dd6eab0f34626a0811925fab"><div class="ttname"><a href="../../dc/d06/a08466.html#a73666fc2dd6eab0f34626a0811925fab">Player::SaveRecallPosition</a></div><div class="ttdeci">void SaveRecallPosition()</div><div class="ttdef"><b>Definition:</b> Player.cpp:5678</div></div>
<div class="ttc" id="aa08466_html_a99fc00f9ac903dbe9adcadc5f7415abb"><div class="ttname"><a href="../../dc/d06/a08466.html#a99fc00f9ac903dbe9adcadc5f7415abb">Player::GetGroup</a></div><div class="ttdeci">Group * GetGroup()</div><div class="ttdef"><b>Definition:</b> Player.h:2471</div></div>
<div class="ttc" id="aa08466_html_a9f23cae8a3da0345a05c2a2bfedc2fe2"><div class="ttname"><a href="../../dc/d06/a08466.html#a9f23cae8a3da0345a05c2a2bfedc2fe2">Player::IsGameMaster</a></div><div class="ttdeci">bool IsGameMaster() const</div><div class="ttdef"><b>Definition:</b> Player.h:1175</div></div>
<div class="ttc" id="aa08466_html_aa2eae30c1e0af118b9a6b5db0a1929b7"><div class="ttname"><a href="../../dc/d06/a08466.html#aa2eae30c1e0af118b9a6b5db0a1929b7">Player::TeleportTo</a></div><div class="ttdeci">bool TeleportTo(uint32 mapid, float x, float y, float z, float orientation, uint32 options=0, Unit *target=nullptr, bool newInstance=false)</div><div class="ttdef"><b>Definition:</b> Player.cpp:1334</div></div>
<div class="ttc" id="aa08466_html_abaa19d025ddbd5a258bc1db6483c1227"><div class="ttname"><a href="../../dc/d06/a08466.html#abaa19d025ddbd5a258bc1db6483c1227">Player::LoadPositionFromDB</a></div><div class="ttdeci">static bool LoadPositionFromDB(uint32 &amp;mapid, float &amp;x, float &amp;y, float &amp;z, float &amp;o, bool &amp;in_flight, ObjectGuid::LowType guid)</div><div class="ttdef"><b>Definition:</b> PlayerStorage.cpp:4875</div></div>
<div class="ttc" id="aa08466_html_ae8ffeb918f113b64fd8831e357aea875"><div class="ttname"><a href="../../dc/d06/a08466.html#ae8ffeb918f113b64fd8831e357aea875">Player::CleanupAfterTaxiFlight</a></div><div class="ttdeci">void CleanupAfterTaxiFlight()</div><div class="ttdef"><b>Definition:</b> Player.cpp:10462</div></div>
<div class="ttc" id="aa08598_html_a4a04a3f22c3b0d6f4933993ac0cc7aa4"><div class="ttname"><a href="../../d4/d46/a08598.html#a4a04a3f22c3b0d6f4933993ac0cc7aa4">Unit::GetMotionMaster</a></div><div class="ttdeci">MotionMaster * GetMotionMaster()</div><div class="ttdef"><b>Definition:</b> Unit.h:1620</div></div>
<div class="ttc" id="aa08598_html_a85b547eedd208db5f9dddc5f75a1a211"><div class="ttname"><a href="../../d4/d46/a08598.html#a85b547eedd208db5f9dddc5f75a1a211">Unit::IsInFlight</a></div><div class="ttdeci">bool IsInFlight() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1572</div></div>
<div class="ttc" id="aa08598_html_aa3f511c51aa1082be9d4777c770a3485"><div class="ttname"><a href="../../d4/d46/a08598.html#aa3f511c51aa1082be9d4777c770a3485">Unit::SetPhaseMask</a></div><div class="ttdeci">void SetPhaseMask(uint32 newPhaseMask, bool update) override</div><div class="ttdef"><b>Definition:</b> Unit.cpp:19049</div></div>
<div class="ttc" id="aa09390_html"><div class="ttname"><a href="../../da/d2f/a09390.html">InstancePlayerBind</a></div><div class="ttdef"><b>Definition:</b> InstanceSaveMgr.h:39</div></div>
<div class="ttc" id="aa09398_html"><div class="ttname"><a href="../../dd/d93/a09398.html">InstanceSave</a></div><div class="ttdef"><b>Definition:</b> InstanceSaveMgr.h:56</div></div>
<div class="ttc" id="aa09618_html"><div class="ttname"><a href="../../df/dae/a09618.html">Map</a></div><div class="ttdef"><b>Definition:</b> Map.h:311</div></div>
<div class="ttc" id="aa09618_html_a0c80d50b012dc8d560e256201970f3b3"><div class="ttname"><a href="../../df/dae/a09618.html#a0c80d50b012dc8d560e256201970f3b3">Map::IsDungeon</a></div><div class="ttdeci">bool IsDungeon() const</div><div class="ttdef"><b>Definition:</b> Map.h:446</div></div>
<div class="ttc" id="aa09618_html_a11362f8ce788f228f7b3cc7214fb57e1"><div class="ttname"><a href="../../df/dae/a09618.html#a11362f8ce788f228f7b3cc7214fb57e1">Map::IsBattlegroundOrArena</a></div><div class="ttdeci">bool IsBattlegroundOrArena() const</div><div class="ttdef"><b>Definition:</b> Map.h:454</div></div>
<div class="ttc" id="aa09618_html_a556d2eafa563b4a5de4957de28e369b3"><div class="ttname"><a href="../../df/dae/a09618.html#a556d2eafa563b4a5de4957de28e369b3">Map::IsRaid</a></div><div class="ttdeci">bool IsRaid() const</div><div class="ttdef"><b>Definition:</b> Map.h:448</div></div>
<div class="ttc" id="aa09730_html_a6717ae922b894d482bf6358aa99bacb4"><div class="ttname"><a href="../../d8/dc2/a09730.html#a6717ae922b894d482bf6358aa99bacb4">MotionMaster::MovementExpired</a></div><div class="ttdeci">void MovementExpired(bool reset=true)</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:180</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l10462">Player::CleanupAfterTaxiFlight()</a>, <a class="el" href="../../#l00138">Acore::ChatCommands::PlayerIdentifier::FromTarget()</a>, <a class="el" href="../../#l02471">Player::GetGroup()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00536">WorldObject::GetMap()</a>, <a class="el" href="../../#l01620">Unit::GetMotionMaster()</a>, <a class="el" href="../../#l00119">Position::GetOrientation()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00056">ChatHandler::HasLowerSecurity()</a>, <a class="el" href="../../#l00454">Map::IsBattlegroundOrArena()</a>, <a class="el" href="../../#l00446">Map::IsDungeon()</a>, <a class="el" href="../../#l01175">Player::IsGameMaster()</a>, <a class="el" href="../../#l01572">Unit::IsInFlight()</a>, <a class="el" href="../../#l00448">Map::IsRaid()</a>, <a class="el" href="../../#l00145">LANG_APPEARING_AT</a>, <a class="el" href="../../#l00706">LANG_CANNOT_GO_TO_BG_GM</a>, <a class="el" href="../../#l00137">LANG_CANNOT_GO_TO_INST_GM</a>, <a class="el" href="../../#l00136">LANG_CANNOT_GO_TO_INST_PARTY</a>, <a class="el" href="../../#l00211">LANG_CANT_TELEPORT_SELF</a>, <a class="el" href="../../#l04875">Player::LoadPositionFromDB()</a>, <a class="el" href="../../#l00180">MotionMaster::MovementExpired()</a>, <a class="el" href="../../#l00176">PLAYER_MAX_BATTLEGROUND_QUEUES</a>, <a class="el" href="../../#l00231">ChatHandler::playerLink()</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l05678">Player::SaveRecallPosition()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l12338">Player::SetBattlegroundId()</a>, <a class="el" href="../../#l01927">Player::SetDungeonDifficulty()</a>, <a class="el" href="../../#l11316">Player::SetEntryPoint()</a>, <a class="el" href="../../#l19049">Unit::SetPhaseMask()</a>, <a class="el" href="../../#l01928">Player::SetRaidDifficulty()</a>, <a class="el" href="../../#l00202">sInstanceSaveMgr</a>, <a class="el" href="../../#l00762">TEAM_NEUTRAL</a>, <a class="el" href="../../#l00826">TELE_TO_GM_MODE</a>, and <a class="el" href="../../#l01334">Player::TeleportTo()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a2a089b189d1dbc9b61da2a1fe1512a6d" name="a2a089b189d1dbc9b61da2a1fe1512a6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a089b189d1dbc9b61da2a1fe1512a6d">&#9670;&#160;</a></span>HandleAuraCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleAuraCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d44/a10966.html">SpellInfo</a> const *&#160;</td>
          <td class="paramname"><em>spell</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  635</span>    {</div>
<div class="line"><span class="lineno">  636</span>        <span class="keywordflow">if</span> (!spell)</div>
<div class="line"><span class="lineno">  637</span>        {</div>
<div class="line"><span class="lineno">  638</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9ab5ae48345c97e836f04545bea0016a">LANG_COMMAND_NOSPELLFOUND</a>);</div>
<div class="line"><span class="lineno">  639</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  640</span>        }</div>
<div class="line"><span class="lineno">  641</span> </div>
<div class="line"><span class="lineno">  642</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d3/d74/a11022.html#a8dfd3856cb381953bfeb1db1a4a4bad7">SpellMgr::IsSpellValid</a>(spell))</div>
<div class="line"><span class="lineno">  643</span>        {</div>
<div class="line"><span class="lineno">  644</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaef51c94173b2a9aca75898d46518b665">LANG_COMMAND_SPELL_BROKEN</a>, spell-&gt;Id);</div>
<div class="line"><span class="lineno">  645</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  646</span>        }</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>        <a class="code hl_class" href="../../d4/d46/a08598.html">Unit</a>* target = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ae88a523ef51a6d51d38a8d524e49b179">getSelectedUnit</a>();</div>
<div class="line"><span class="lineno">  649</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno">  650</span>        {</div>
<div class="line"><span class="lineno">  651</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa1cac46a5a2ceca2a1ae8dddf8ad930a">LANG_SELECT_CHAR_OR_CREATURE</a>);</div>
<div class="line"><span class="lineno">  652</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  653</span>        }</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>        <a class="code hl_function" href="../../d1/dfa/a10862.html#a9637e205c147457e50b47efe0f8f7904">Aura::TryRefreshStackOrCreate</a>(spell, <a class="code hl_define" href="../../d7/d14/a02750.html#a3ac65d8635b4379f0d5b75a0e2dfd9c8">MAX_EFFECT_MASK</a>, target, target);</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  658</span>    }</div>
<div class="ttc" id="aa02750_html_a3ac65d8635b4379f0d5b75a0e2dfd9c8"><div class="ttname"><a href="../../d7/d14/a02750.html#a3ac65d8635b4379f0d5b75a0e2dfd9c8">MAX_EFFECT_MASK</a></div><div class="ttdeci">#define MAX_EFFECT_MASK</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1637</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa9ab5ae48345c97e836f04545bea0016a"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9ab5ae48345c97e836f04545bea0016a">LANG_COMMAND_NOSPELLFOUND</a></div><div class="ttdeci">@ LANG_COMMAND_NOSPELLFOUND</div><div class="ttdef"><b>Definition:</b> Language.h:477</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaa1cac46a5a2ceca2a1ae8dddf8ad930a"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa1cac46a5a2ceca2a1ae8dddf8ad930a">LANG_SELECT_CHAR_OR_CREATURE</a></div><div class="ttdeci">@ LANG_SELECT_CHAR_OR_CREATURE</div><div class="ttdef"><b>Definition:</b> Language.h:31</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaef51c94173b2a9aca75898d46518b665"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaef51c94173b2a9aca75898d46518b665">LANG_COMMAND_SPELL_BROKEN</a></div><div class="ttdeci">@ LANG_COMMAND_SPELL_BROKEN</div><div class="ttdef"><b>Definition:</b> Language.h:520</div></div>
<div class="ttc" id="aa07362_html_ae88a523ef51a6d51d38a8d524e49b179"><div class="ttname"><a href="../../d4/d99/a07362.html#ae88a523ef51a6d51d38a8d524e49b179">ChatHandler::getSelectedUnit</a></div><div class="ttdeci">Unit * getSelectedUnit() const</div><div class="ttdef"><b>Definition:</b> Chat.cpp:385</div></div>
<div class="ttc" id="aa08598_html"><div class="ttname"><a href="../../d4/d46/a08598.html">Unit</a></div><div class="ttdef"><b>Definition:</b> Unit.h:630</div></div>
<div class="ttc" id="aa10862_html_a9637e205c147457e50b47efe0f8f7904"><div class="ttname"><a href="../../d1/dfa/a10862.html#a9637e205c147457e50b47efe0f8f7904">Aura::TryRefreshStackOrCreate</a></div><div class="ttdeci">static Aura * TryRefreshStackOrCreate(SpellInfo const *spellproto, uint8 tryEffMask, WorldObject *owner, Unit *caster, int32 *baseAmount=nullptr, Item *castItem=nullptr, ObjectGuid casterGUID=ObjectGuid::Empty, bool *refresh=nullptr, bool periodicReset=false)</div><div class="ttdef"><b>Definition:</b> SpellAuras.cpp:326</div></div>
<div class="ttc" id="aa11022_html_a8dfd3856cb381953bfeb1db1a4a4bad7"><div class="ttname"><a href="../../d3/d74/a11022.html#a8dfd3856cb381953bfeb1db1a4a4bad7">SpellMgr::IsSpellValid</a></div><div class="ttdeci">static bool IsSpellValid(SpellInfo const *spellInfo)</div><div class="ttdef"><b>Definition:</b> SpellMgr.cpp:441</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00385">ChatHandler::getSelectedUnit()</a>, <a class="el" href="../../#l00320">SpellInfo::Id</a>, <a class="el" href="../../#l00441">SpellMgr::IsSpellValid()</a>, <a class="el" href="../../#l00477">LANG_COMMAND_NOSPELLFOUND</a>, <a class="el" href="../../#l00520">LANG_COMMAND_SPELL_BROKEN</a>, <a class="el" href="../../#l00031">LANG_SELECT_CHAR_OR_CREATURE</a>, <a class="el" href="../../#l01637">MAX_EFFECT_MASK</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, and <a class="el" href="../../#l00326">Aura::TryRefreshStackOrCreate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a1de4c9d4a549fe6f531116b00df84c26" name="a1de4c9d4a549fe6f531116b00df84c26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1de4c9d4a549fe6f531116b00df84c26">&#9670;&#160;</a></span>HandleAuraStacksCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleAuraStacksCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d44/a10966.html">SpellInfo</a> const *&#160;</td>
          <td class="paramname"><em>spell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#aecf4e3680a32207d17f62a3426731878">int16</a>&#160;</td>
          <td class="paramname"><em>stacks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  661</span>    {</div>
<div class="line"><span class="lineno">  662</span>        <span class="keywordflow">if</span> (!spell)</div>
<div class="line"><span class="lineno">  663</span>        {</div>
<div class="line"><span class="lineno">  664</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9ab5ae48345c97e836f04545bea0016a">LANG_COMMAND_NOSPELLFOUND</a>);</div>
<div class="line"><span class="lineno">  665</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  666</span>        }</div>
<div class="line"><span class="lineno">  667</span> </div>
<div class="line"><span class="lineno">  668</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d3/d74/a11022.html#a8dfd3856cb381953bfeb1db1a4a4bad7">SpellMgr::IsSpellValid</a>(spell))</div>
<div class="line"><span class="lineno">  669</span>        {</div>
<div class="line"><span class="lineno">  670</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaef51c94173b2a9aca75898d46518b665">LANG_COMMAND_SPELL_BROKEN</a>, spell-&gt;Id);</div>
<div class="line"><span class="lineno">  671</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  672</span>        }</div>
<div class="line"><span class="lineno">  673</span> </div>
<div class="line"><span class="lineno">  674</span>        <span class="keywordflow">if</span> (!stacks)</div>
<div class="line"><span class="lineno">  675</span>        {</div>
<div class="line"><span class="lineno">  676</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa876091a869c0315b9f25a37e2900e057">LANG_COMMAND_AURASTACK_NO_STACK</a>);</div>
<div class="line"><span class="lineno">  677</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  678</span>        }</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>        <a class="code hl_class" href="../../d4/d46/a08598.html">Unit</a>* target = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ae88a523ef51a6d51d38a8d524e49b179">getSelectedUnit</a>();</div>
<div class="line"><span class="lineno">  681</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno">  682</span>        {</div>
<div class="line"><span class="lineno">  683</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa1cac46a5a2ceca2a1ae8dddf8ad930a">LANG_SELECT_CHAR_OR_CREATURE</a>);</div>
<div class="line"><span class="lineno">  684</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  685</span>        }</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>        <a class="code hl_class" href="../../d1/dfa/a10862.html">Aura</a>* aur = target-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a135e4d345c338da83450a60528f71222">GetAura</a>(spell-&gt;Id);</div>
<div class="line"><span class="lineno">  688</span>        <span class="keywordflow">if</span> (!aur)</div>
<div class="line"><span class="lineno">  689</span>        {</div>
<div class="line"><span class="lineno">  690</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aabf3f419c8fde4dc9a2fe59a8cff4a68f">LANG_COMMAND_AURASTACK_NO_AURA</a>, spell-&gt;Id);</div>
<div class="line"><span class="lineno">  691</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  692</span>        }</div>
<div class="line"><span class="lineno">  693</span> </div>
<div class="line"><span class="lineno">  694</span>        <span class="keywordflow">if</span> (!spell-&gt;StackAmount)</div>
<div class="line"><span class="lineno">  695</span>        {</div>
<div class="line"><span class="lineno">  696</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4a090707a9acc5e8bd75e463e204e63c">LANG_COMMAND_AURASTACK_CANT_STACK</a>, spell-&gt;Id);</div>
<div class="line"><span class="lineno">  697</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  698</span>        }</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>        aur-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#a69b589a7414d5d73ed75d12d5ba736ef">ModStackAmount</a>(stacks);</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  703</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa4a090707a9acc5e8bd75e463e204e63c"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4a090707a9acc5e8bd75e463e204e63c">LANG_COMMAND_AURASTACK_CANT_STACK</a></div><div class="ttdeci">@ LANG_COMMAND_AURASTACK_CANT_STACK</div><div class="ttdef"><b>Definition:</b> Language.h:421</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa876091a869c0315b9f25a37e2900e057"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa876091a869c0315b9f25a37e2900e057">LANG_COMMAND_AURASTACK_NO_STACK</a></div><div class="ttdeci">@ LANG_COMMAND_AURASTACK_NO_STACK</div><div class="ttdef"><b>Definition:</b> Language.h:420</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aabf3f419c8fde4dc9a2fe59a8cff4a68f"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aabf3f419c8fde4dc9a2fe59a8cff4a68f">LANG_COMMAND_AURASTACK_NO_AURA</a></div><div class="ttdeci">@ LANG_COMMAND_AURASTACK_NO_AURA</div><div class="ttdef"><b>Definition:</b> Language.h:419</div></div>
<div class="ttc" id="aa08598_html_a135e4d345c338da83450a60528f71222"><div class="ttname"><a href="../../d4/d46/a08598.html#a135e4d345c338da83450a60528f71222">Unit::GetAura</a></div><div class="ttdeci">Aura * GetAura(uint32 spellId, ObjectGuid casterGUID=ObjectGuid::Empty, ObjectGuid itemCasterGUID=ObjectGuid::Empty, uint8 reqEffMask=0) const</div><div class="ttdef"><b>Definition:</b> Unit.cpp:5581</div></div>
<div class="ttc" id="aa10862_html"><div class="ttname"><a href="../../d1/dfa/a10862.html">Aura</a></div><div class="ttdef"><b>Definition:</b> SpellAuras.h:87</div></div>
<div class="ttc" id="aa10862_html_a69b589a7414d5d73ed75d12d5ba736ef"><div class="ttname"><a href="../../d1/dfa/a10862.html#a69b589a7414d5d73ed75d12d5ba736ef">Aura::ModStackAmount</a></div><div class="ttdeci">bool ModStackAmount(int32 num, AuraRemoveMode removeMode=AURA_REMOVE_BY_DEFAULT, bool periodicReset=false)</div><div class="ttdef"><b>Definition:</b> SpellAuras.cpp:1021</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l05581">Unit::GetAura()</a>, <a class="el" href="../../#l00385">ChatHandler::getSelectedUnit()</a>, <a class="el" href="../../#l00320">SpellInfo::Id</a>, <a class="el" href="../../#l00441">SpellMgr::IsSpellValid()</a>, <a class="el" href="../../#l00421">LANG_COMMAND_AURASTACK_CANT_STACK</a>, <a class="el" href="../../#l00419">LANG_COMMAND_AURASTACK_NO_AURA</a>, <a class="el" href="../../#l00420">LANG_COMMAND_AURASTACK_NO_STACK</a>, <a class="el" href="../../#l00477">LANG_COMMAND_NOSPELLFOUND</a>, <a class="el" href="../../#l00520">LANG_COMMAND_SPELL_BROKEN</a>, <a class="el" href="../../#l00031">LANG_SELECT_CHAR_OR_CREATURE</a>, <a class="el" href="../../#l01021">Aura::ModStackAmount()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, and <a class="el" href="../../#l00371">SpellInfo::StackAmount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="aa6453e7996667ccec1595c16eec9760c" name="aa6453e7996667ccec1595c16eec9760c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6453e7996667ccec1595c16eec9760c">&#9670;&#160;</a></span>HandleBindSightCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleBindSightCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2985</span>    {</div>
<div class="line"><span class="lineno"> 2986</span>        <a class="code hl_class" href="../../d4/d46/a08598.html">Unit</a>* unit = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ae88a523ef51a6d51d38a8d524e49b179">getSelectedUnit</a>();</div>
<div class="line"><span class="lineno"> 2987</span>        <span class="keywordflow">if</span> (!unit)</div>
<div class="line"><span class="lineno"> 2988</span>        {</div>
<div class="line"><span class="lineno"> 2989</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2990</span>        }</div>
<div class="line"><span class="lineno"> 2991</span> </div>
<div class="line"><span class="lineno"> 2992</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(unit, 6277, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2993</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2994</span>    }</div>
<div class="ttc" id="aa08598_html_aa3ca95f7a14041f562ed69c3994afdfc"><div class="ttname"><a href="../../d4/d46/a08598.html#aa3ca95f7a14041f562ed69c3994afdfc">Unit::CastSpell</a></div><div class="ttdeci">SpellCastResult CastSpell(SpellCastTargets const &amp;targets, SpellInfo const *spellInfo, CustomSpellValues const *value, TriggerCastFlags triggerFlags=TRIGGERED_NONE, Item *castItem=nullptr, AuraEffect const *triggeredByAura=nullptr, ObjectGuid originalCaster=ObjectGuid::Empty)</div><div class="ttdef"><b>Definition:</b> Unit.cpp:1167</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01167">Unit::CastSpell()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00385">ChatHandler::getSelectedUnit()</a>, and <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a4d77ebd8451b181b500a4084a12775a1" name="a4d77ebd8451b181b500a4084a12775a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d77ebd8451b181b500a4084a12775a1">&#9670;&#160;</a></span>HandleChangeWeather()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleChangeWeather </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>grade</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1849</span>    {</div>
<div class="line"><span class="lineno"> 1850</span>        <span class="comment">// Weather is OFF</span></div>
<div class="line"><span class="lineno"> 1851</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getBoolConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0a1431c271d96f369f141b0ad6248c38c0">CONFIG_WEATHER</a>))</div>
<div class="line"><span class="lineno"> 1852</span>        {</div>
<div class="line"><span class="lineno"> 1853</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa6bde1172b09819b79e6c2650f65ab326">LANG_WEATHER_DISABLED</a>);</div>
<div class="line"><span class="lineno"> 1854</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1855</span>        }</div>
<div class="line"><span class="lineno"> 1856</span> </div>
<div class="line"><span class="lineno"> 1857</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1858</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneid = player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>();</div>
<div class="line"><span class="lineno"> 1859</span> </div>
<div class="line"><span class="lineno"> 1860</span>        <a class="code hl_class" href="../../db/db8/a11322.html">Weather</a>* weather = <a class="code hl_function" href="../../d2/db6/a04681.html#gadd11deec2098fed61adf7910b8f09cc6">WeatherMgr::FindWeather</a>(zoneid);</div>
<div class="line"><span class="lineno"> 1861</span> </div>
<div class="line"><span class="lineno"> 1862</span>        <span class="keywordflow">if</span> (!weather)</div>
<div class="line"><span class="lineno"> 1863</span>        {</div>
<div class="line"><span class="lineno"> 1864</span>            weather = <a class="code hl_function" href="../../d2/db6/a04681.html#ga1f76350b68494335d48ae206b87e190c">WeatherMgr::AddWeather</a>(zoneid);</div>
<div class="line"><span class="lineno"> 1865</span>        }</div>
<div class="line"><span class="lineno"> 1866</span> </div>
<div class="line"><span class="lineno"> 1867</span>        <span class="keywordflow">if</span> (!weather)</div>
<div class="line"><span class="lineno"> 1868</span>        {</div>
<div class="line"><span class="lineno"> 1869</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa2c8a79afde2d53b64de88356b5bed83c">LANG_NO_WEATHER</a>);</div>
<div class="line"><span class="lineno"> 1870</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1871</span>        }</div>
<div class="line"><span class="lineno"> 1872</span> </div>
<div class="line"><span class="lineno"> 1873</span>        weather-&gt;<a class="code hl_function" href="../../d2/db6/a04681.html#ga32e650a32fc1e01bdb6fbfd960fd022f">SetWeather</a>(<a class="code hl_enumeration" href="../../d0/dbd/a02771.html#aae2a79ad426e847c0ddfd77d04ce2516">WeatherType</a>(type), grade);</div>
<div class="line"><span class="lineno"> 1874</span> </div>
<div class="line"><span class="lineno"> 1875</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1876</span>    }</div>
<div class="ttc" id="aa02771_html_aae2a79ad426e847c0ddfd77d04ce2516"><div class="ttname"><a href="../../d0/dbd/a02771.html#aae2a79ad426e847c0ddfd77d04ce2516">WeatherType</a></div><div class="ttdeci">WeatherType</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3137</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa2c8a79afde2d53b64de88356b5bed83c"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa2c8a79afde2d53b64de88356b5bed83c">LANG_NO_WEATHER</a></div><div class="ttdeci">@ LANG_NO_WEATHER</div><div class="ttdef"><b>Definition:</b> Language.h:432</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa6bde1172b09819b79e6c2650f65ab326"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa6bde1172b09819b79e6c2650f65ab326">LANG_WEATHER_DISABLED</a></div><div class="ttdeci">@ LANG_WEATHER_DISABLED</div><div class="ttdef"><b>Definition:</b> Language.h:433</div></div>
<div class="ttc" id="aa03317_html_a1b4b88c03b7d0124998b4c22e957baf0a1431c271d96f369f141b0ad6248c38c0"><div class="ttname"><a href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0a1431c271d96f369f141b0ad6248c38c0">CONFIG_WEATHER</a></div><div class="ttdeci">@ CONFIG_WEATHER</div><div class="ttdef"><b>Definition:</b> IWorld.h:94</div></div>
<div class="ttc" id="aa04681_html_ga05dfb35c344e5b947a19e4284e7f5fa7"><div class="ttname"><a href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a></div><div class="ttdeci">#define sWorld</div><div class="ttdef"><b>Definition:</b> World.h:442</div></div>
<div class="ttc" id="aa04681_html_ga1f76350b68494335d48ae206b87e190c"><div class="ttname"><a href="../../d2/db6/a04681.html#ga1f76350b68494335d48ae206b87e190c">WeatherMgr::AddWeather</a></div><div class="ttdeci">Weather * AddWeather(uint32 zone_id)</div><div class="ttdoc">Add a Weather object to the list.</div><div class="ttdef"><b>Definition:</b> WeatherMgr.cpp:66</div></div>
<div class="ttc" id="aa04681_html_ga32e650a32fc1e01bdb6fbfd960fd022f"><div class="ttname"><a href="../../d2/db6/a04681.html#ga32e650a32fc1e01bdb6fbfd960fd022f">Weather::SetWeather</a></div><div class="ttdeci">void SetWeather(WeatherType type, float grade)</div><div class="ttdoc">Set the weather.</div><div class="ttdef"><b>Definition:</b> Weather.cpp:261</div></div>
<div class="ttc" id="aa04681_html_gadd11deec2098fed61adf7910b8f09cc6"><div class="ttname"><a href="../../d2/db6/a04681.html#gadd11deec2098fed61adf7910b8f09cc6">WeatherMgr::FindWeather</a></div><div class="ttdeci">Weather * FindWeather(uint32 id)</div><div class="ttdoc">Find a Weather object by the given zoneid.</div><div class="ttdef"><b>Definition:</b> WeatherMgr.cpp:49</div></div>
<div class="ttc" id="aa08250_html_ad498d690fbe69bb99a8a2ffdcb2f5169"><div class="ttname"><a href="../../de/d0d/a08250.html#ad498d690fbe69bb99a8a2ffdcb2f5169">WorldObject::GetZoneId</a></div><div class="ttdeci">uint32 GetZoneId() const</div><div class="ttdef"><b>Definition:</b> Object.cpp:3159</div></div>
<div class="ttc" id="aa11322_html"><div class="ttname"><a href="../../db/db8/a11322.html">Weather</a></div><div class="ttdoc">Weather for one zone.</div><div class="ttdef"><b>Definition:</b> Weather.h:64</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00066">WeatherMgr::AddWeather()</a>, <a class="el" href="../../#l00094">CONFIG_WEATHER</a>, <a class="el" href="../../#l00049">WeatherMgr::FindWeather()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l03159">WorldObject::GetZoneId()</a>, <a class="el" href="../../#l00432">LANG_NO_WEATHER</a>, <a class="el" href="../../#l00433">LANG_WEATHER_DISABLED</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00261">Weather::SetWeather()</a>, and <a class="el" href="../../#l00442">sWorld</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="ad19d4ed2e392cfe265c8ad6496188433" name="ad19d4ed2e392cfe265c8ad6496188433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad19d4ed2e392cfe265c8ad6496188433">&#9670;&#160;</a></span>HandleCombatStopCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleCombatStopCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2830</span>    {</div>
<div class="line"><span class="lineno"> 2831</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno"> 2832</span>        {</div>
<div class="line"><span class="lineno"> 2833</span>            target = <a class="code hl_function" href="../../de/d8a/a07550.html#a617834cc8474970950b45066f2e86dbd">PlayerIdentifier::FromTargetOrSelf</a>(handler);</div>
<div class="line"><span class="lineno"> 2834</span>        }</div>
<div class="line"><span class="lineno"> 2835</span> </div>
<div class="line"><span class="lineno"> 2836</span>        <span class="keywordflow">if</span> (!target || !target-&gt;IsConnected())</div>
<div class="line"><span class="lineno"> 2837</span>        {</div>
<div class="line"><span class="lineno"> 2838</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaab2e8907c804b742a54d115d079d86a6">LANG_PLAYER_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno"> 2839</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2840</span>        }</div>
<div class="line"><span class="lineno"> 2841</span> </div>
<div class="line"><span class="lineno"> 2842</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* playerTarget = target-&gt;GetConnectedPlayer();</div>
<div class="line"><span class="lineno"> 2843</span> </div>
<div class="line"><span class="lineno"> 2844</span>        <span class="comment">// check online security</span></div>
<div class="line"><span class="lineno"> 2845</span>        <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#afacb4b59756372ec32810be0d46da49c">HasLowerSecurity</a>(playerTarget))</div>
<div class="line"><span class="lineno"> 2846</span>        {</div>
<div class="line"><span class="lineno"> 2847</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2848</span>        }</div>
<div class="line"><span class="lineno"> 2849</span> </div>
<div class="line"><span class="lineno"> 2850</span>        playerTarget-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a18f77484ed2acc7be7fa29d1df7a0c12">CombatStop</a>();</div>
<div class="line"><span class="lineno"> 2851</span>        playerTarget-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a83fe30829a1470536e408efbf56dd5f5">getHostileRefMgr</a>().<a class="code hl_function" href="../../d3/d5b/a07674.html#a0327a7238535a3d0961da1cca2102b0e">deleteReferences</a>();</div>
<div class="line"><span class="lineno"> 2852</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2853</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaab2e8907c804b742a54d115d079d86a6"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaab2e8907c804b742a54d115d079d86a6">LANG_PLAYER_NOT_FOUND</a></div><div class="ttdeci">@ LANG_PLAYER_NOT_FOUND</div><div class="ttdef"><b>Definition:</b> Language.h:539</div></div>
<div class="ttc" id="aa07674_html_a0327a7238535a3d0961da1cca2102b0e"><div class="ttname"><a href="../../d3/d5b/a07674.html#a0327a7238535a3d0961da1cca2102b0e">HostileRefMgr::deleteReferences</a></div><div class="ttdeci">void deleteReferences(bool removeFromMap=false)</div><div class="ttdef"><b>Definition:</b> HostileRefMgr.cpp:125</div></div>
<div class="ttc" id="aa08598_html_a18f77484ed2acc7be7fa29d1df7a0c12"><div class="ttname"><a href="../../d4/d46/a08598.html#a18f77484ed2acc7be7fa29d1df7a0c12">Unit::CombatStop</a></div><div class="ttdeci">void CombatStop(bool includingCast=false)</div><div class="ttdef"><b>Definition:</b> Unit.cpp:10436</div></div>
<div class="ttc" id="aa08598_html_a83fe30829a1470536e408efbf56dd5f5"><div class="ttname"><a href="../../d4/d46/a08598.html#a83fe30829a1470536e408efbf56dd5f5">Unit::getHostileRefMgr</a></div><div class="ttdeci">HostileRefMgr &amp; getHostileRefMgr()</div><div class="ttdef"><b>Definition:</b> Unit.h:907</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l10436">Unit::CombatStop()</a>, <a class="el" href="../../#l00125">HostileRefMgr::deleteReferences()</a>, <a class="el" href="../../#l00184">Acore::ChatCommands::PlayerIdentifier::FromTargetOrSelf()</a>, <a class="el" href="../../#l00907">Unit::getHostileRefMgr()</a>, <a class="el" href="../../#l00056">ChatHandler::HasLowerSecurity()</a>, <a class="el" href="../../#l00539">LANG_PLAYER_NOT_FOUND</a>, and <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="aa79412507e472f460a6a8e01e951bc28" name="aa79412507e472f460a6a8e01e951bc28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa79412507e472f460a6a8e01e951bc28">&#9670;&#160;</a></span>HandleComeToMeCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleComeToMeCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2782</span>    {</div>
<div class="line"><span class="lineno"> 2783</span>        <a class="code hl_class" href="../../d8/d56/a07846.html">Creature</a>* caster = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#affa04b48f8ce2a0c11b9e245e200f68b">getSelectedCreature</a>();</div>
<div class="line"><span class="lineno"> 2784</span>        <span class="keywordflow">if</span> (!caster)</div>
<div class="line"><span class="lineno"> 2785</span>        {</div>
<div class="line"><span class="lineno"> 2786</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa0ec66ab7b9eb5b35afd1b9c020082a06">LANG_SELECT_CREATURE</a>);</div>
<div class="line"><span class="lineno"> 2787</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2788</span>        }</div>
<div class="line"><span class="lineno"> 2789</span> </div>
<div class="line"><span class="lineno"> 2790</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 2791</span> </div>
<div class="line"><span class="lineno"> 2792</span>        caster-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a4a04a3f22c3b0d6f4933993ac0cc7aa4">GetMotionMaster</a>()-&gt;<a class="code hl_function" href="../../d8/dc2/a09730.html#a903a48c63482ebbd45d63272b218df7f">MovePoint</a>(0, player-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ad5577c934d9e845b44759b67c534c3e8">GetPositionX</a>(), player-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ae79fc664f6cd027f5d49f6c7df8e4c9e">GetPositionY</a>(), player-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#a4e813a59345a6275e8b87b96be03e60b">GetPositionZ</a>());</div>
<div class="line"><span class="lineno"> 2793</span> </div>
<div class="line"><span class="lineno"> 2794</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2795</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa0ec66ab7b9eb5b35afd1b9c020082a06"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa0ec66ab7b9eb5b35afd1b9c020082a06">LANG_SELECT_CREATURE</a></div><div class="ttdeci">@ LANG_SELECT_CREATURE</div><div class="ttdef"><b>Definition:</b> Language.h:32</div></div>
<div class="ttc" id="aa07362_html_affa04b48f8ce2a0c11b9e245e200f68b"><div class="ttname"><a href="../../d4/d99/a07362.html#affa04b48f8ce2a0c11b9e245e200f68b">ChatHandler::getSelectedCreature</a></div><div class="ttdeci">Creature * getSelectedCreature() const</div><div class="ttdef"><b>Definition:</b> Chat.cpp:409</div></div>
<div class="ttc" id="aa07846_html"><div class="ttname"><a href="../../d8/d56/a07846.html">Creature</a></div><div class="ttdef"><b>Definition:</b> Creature.h:43</div></div>
<div class="ttc" id="aa08294_html_a4e813a59345a6275e8b87b96be03e60b"><div class="ttname"><a href="../../d8/d21/a08294.html#a4e813a59345a6275e8b87b96be03e60b">Position::GetPositionZ</a></div><div class="ttdeci">float GetPositionZ() const</div><div class="ttdef"><b>Definition:</b> Position.h:118</div></div>
<div class="ttc" id="aa08294_html_ad5577c934d9e845b44759b67c534c3e8"><div class="ttname"><a href="../../d8/d21/a08294.html#ad5577c934d9e845b44759b67c534c3e8">Position::GetPositionX</a></div><div class="ttdeci">float GetPositionX() const</div><div class="ttdef"><b>Definition:</b> Position.h:116</div></div>
<div class="ttc" id="aa08294_html_ae79fc664f6cd027f5d49f6c7df8e4c9e"><div class="ttname"><a href="../../d8/d21/a08294.html#ae79fc664f6cd027f5d49f6c7df8e4c9e">Position::GetPositionY</a></div><div class="ttdeci">float GetPositionY() const</div><div class="ttdef"><b>Definition:</b> Position.h:117</div></div>
<div class="ttc" id="aa09730_html_a903a48c63482ebbd45d63272b218df7f"><div class="ttname"><a href="../../d8/dc2/a09730.html#a903a48c63482ebbd45d63272b218df7f">MotionMaster::MovePoint</a></div><div class="ttdeci">void MovePoint(uint32 id, const Position &amp;pos, bool generatePath=true, bool forceDestination=true)</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:213</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01620">Unit::GetMotionMaster()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00116">Position::GetPositionX()</a>, <a class="el" href="../../#l00117">Position::GetPositionY()</a>, <a class="el" href="../../#l00118">Position::GetPositionZ()</a>, <a class="el" href="../../#l00409">ChatHandler::getSelectedCreature()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00032">LANG_SELECT_CREATURE</a>, <a class="el" href="../../#l00213">MotionMaster::MovePoint()</a>, and <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a6f16f38e1a136fc1c64898837f500508" name="a6f16f38e1a136fc1c64898837f500508"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f16f38e1a136fc1c64898837f500508">&#9670;&#160;</a></span>HandleCommandsCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleCommandsCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1116</span>    {</div>
<div class="line"><span class="lineno"> 1117</span>        <a class="code hl_function" href="../../dc/d43/a04727.html#a81e8830ce306f6cfbcd04c92d3e0cc7f">SendCommandHelpFor</a>(*handler, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1118</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1119</span>    }</div>
<div class="ttc" id="aa04727_html_a81e8830ce306f6cfbcd04c92d3e0cc7f"><div class="ttname"><a href="../../dc/d43/a04727.html#a81e8830ce306f6cfbcd04c92d3e0cc7f">Acore::ChatCommands::SendCommandHelpFor</a></div><div class="ttdeci">AC_GAME_API void SendCommandHelpFor(ChatHandler &amp;handler, std::string_view cmd)</div><div class="ttdef"><b>Definition:</b> ChatCommand.cpp:533</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00533">Acore::ChatCommands::SendCommandHelpFor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a03837493d98e1a5dd69aa8e685ef343e" name="a03837493d98e1a5dd69aa8e685ef343e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03837493d98e1a5dd69aa8e685ef343e">&#9670;&#160;</a></span>HandleCommentatorCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleCommentatorCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; bool &gt;&#160;</td>
          <td class="paramname"><em>enableArg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  455</span>    {</div>
<div class="line"><span class="lineno">  456</span>        <a class="code hl_class" href="../../d9/d7c/a10810.html">WorldSession</a>* session = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>();</div>
<div class="line"><span class="lineno">  457</span> </div>
<div class="line"><span class="lineno">  458</span>        <span class="keywordflow">if</span> (!session)</div>
<div class="line"><span class="lineno">  459</span>        {</div>
<div class="line"><span class="lineno">  460</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  461</span>        }</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>        <span class="keyword">auto</span> SetCommentatorMod = [&amp;](<span class="keywordtype">bool</span> enable)</div>
<div class="line"><span class="lineno">  464</span>        {</div>
<div class="line"><span class="lineno">  465</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ab3052a0f476232a6d1e1e01264d5c985">SendNotification</a>(enable ? <span class="stringliteral">&quot;Commentator mode on&quot;</span> : <span class="stringliteral">&quot;Commentator mode off&quot;</span>);</div>
<div class="line"><span class="lineno">  466</span>            session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a94154d4d6a47b674f9228ab4faafdf0a">SetCommentator</a>(enable);</div>
<div class="line"><span class="lineno">  467</span>        };</div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>        <span class="keywordflow">if</span> (!enableArg)</div>
<div class="line"><span class="lineno">  470</span>        {</div>
<div class="line"><span class="lineno">  471</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d9/d82/a04718.html#a63751f144cb7acb57fc20f0caf5e7043">AccountMgr::IsPlayerAccount</a>(session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>()) &amp;&amp; session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a3386d9cb306dd775033a4da10af96677">IsCommentator</a>())</div>
<div class="line"><span class="lineno">  472</span>            {</div>
<div class="line"><span class="lineno">  473</span>                SetCommentatorMod(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  474</span>            }</div>
<div class="line"><span class="lineno">  475</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  476</span>            {</div>
<div class="line"><span class="lineno">  477</span>                SetCommentatorMod(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  478</span>            }</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  481</span>        }</div>
<div class="line"><span class="lineno">  482</span> </div>
<div class="line"><span class="lineno">  483</span>        <span class="keywordflow">if</span> (*enableArg)</div>
<div class="line"><span class="lineno">  484</span>        {</div>
<div class="line"><span class="lineno">  485</span>            SetCommentatorMod(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  486</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  487</span>        }</div>
<div class="line"><span class="lineno">  488</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  489</span>        {</div>
<div class="line"><span class="lineno">  490</span>            SetCommentatorMod(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  491</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  492</span>        }</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4d310a4c0f5ce2604a9be901c13b2961">LANG_USE_BOL</a>);</div>
<div class="line"><span class="lineno">  495</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  496</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa4d310a4c0f5ce2604a9be901c13b2961"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4d310a4c0f5ce2604a9be901c13b2961">LANG_USE_BOL</a></div><div class="ttdeci">@ LANG_USE_BOL</div><div class="ttdef"><b>Definition:</b> Language.h:303</div></div>
<div class="ttc" id="aa04718_html_a63751f144cb7acb57fc20f0caf5e7043"><div class="ttname"><a href="../../d9/d82/a04718.html#a63751f144cb7acb57fc20f0caf5e7043">AccountMgr::IsPlayerAccount</a></div><div class="ttdeci">bool IsPlayerAccount(uint32 gmlevel)</div><div class="ttdef"><b>Definition:</b> AccountMgr.cpp:305</div></div>
<div class="ttc" id="aa07362_html_ab3052a0f476232a6d1e1e01264d5c985"><div class="ttname"><a href="../../d4/d99/a07362.html#ab3052a0f476232a6d1e1e01264d5c985">ChatHandler::SendNotification</a></div><div class="ttdeci">void SendNotification(std::string_view str)</div><div class="ttdef"><b>Definition:</b> Chat.cpp:104</div></div>
<div class="ttc" id="aa08466_html_a3386d9cb306dd775033a4da10af96677"><div class="ttname"><a href="../../dc/d06/a08466.html#a3386d9cb306dd775033a4da10af96677">Player::IsCommentator</a></div><div class="ttdeci">bool IsCommentator() const</div><div class="ttdef"><b>Definition:</b> Player.h:1169</div></div>
<div class="ttc" id="aa08466_html_a94154d4d6a47b674f9228ab4faafdf0a"><div class="ttname"><a href="../../dc/d06/a08466.html#a94154d4d6a47b674f9228ab4faafdf0a">Player::SetCommentator</a></div><div class="ttdeci">void SetCommentator(bool on)</div><div class="ttdef"><b>Definition:</b> Player.h:1170</div></div>
<div class="ttc" id="aa10810_html"><div class="ttname"><a href="../../d9/d7c/a10810.html">WorldSession</a></div><div class="ttdoc">Player session in the World.</div><div class="ttdef"><b>Definition:</b> WorldSession.h:330</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00373">WorldSession::GetSecurity()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l01169">Player::IsCommentator()</a>, <a class="el" href="../../#l00305">AccountMgr::IsPlayerAccount()</a>, <a class="el" href="../../#l00303">LANG_USE_BOL</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00104">ChatHandler::SendNotification()</a>, and <a class="el" href="../../#l01170">Player::SetCommentator()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a592e80af21baa35581795350ab7ca976" name="a592e80af21baa35581795350ab7ca976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a592e80af21baa35581795350ab7ca976">&#9670;&#160;</a></span>HandleCooldownCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleCooldownCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../d5/d44/a10966.html">SpellInfo</a> const * &gt;&#160;</td>
          <td class="paramname"><em>spell</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1234</span>    {</div>
<div class="line"><span class="lineno"> 1235</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* target = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ad948d4d7a2fe777df9d02f40201bcf4a">getSelectedPlayer</a>();</div>
<div class="line"><span class="lineno"> 1236</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno"> 1237</span>        {</div>
<div class="line"><span class="lineno"> 1238</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaab2e8907c804b742a54d115d079d86a6">LANG_PLAYER_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno"> 1239</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1240</span>        }</div>
<div class="line"><span class="lineno"> 1241</span> </div>
<div class="line"><span class="lineno"> 1242</span>        std::string nameLink = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a0e2b0a9da9e25f17c2f995505eeea940">GetNameLink</a>(target);</div>
<div class="line"><span class="lineno"> 1243</span> </div>
<div class="line"><span class="lineno"> 1244</span>        <span class="keywordflow">if</span> (!spell)</div>
<div class="line"><span class="lineno"> 1245</span>        {</div>
<div class="line"><span class="lineno"> 1246</span>            target-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#aca51196332067009795d4c68a2465dac">RemoveAllSpellCooldown</a>();</div>
<div class="line"><span class="lineno"> 1247</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aafca0c4aff8494046763d9ac2f9bbf20e">LANG_REMOVEALL_COOLDOWN</a>, nameLink);</div>
<div class="line"><span class="lineno"> 1248</span>        }</div>
<div class="line"><span class="lineno"> 1249</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1250</span>        {</div>
<div class="line"><span class="lineno"> 1251</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d3/d74/a11022.html#a8dfd3856cb381953bfeb1db1a4a4bad7">SpellMgr::IsSpellValid</a>(*spell))</div>
<div class="line"><span class="lineno"> 1252</span>            {</div>
<div class="line"><span class="lineno"> 1253</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaef51c94173b2a9aca75898d46518b665">LANG_COMMAND_SPELL_BROKEN</a>, spell.value()-&gt;Id);</div>
<div class="line"><span class="lineno"> 1254</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1255</span>            }</div>
<div class="line"><span class="lineno"> 1256</span> </div>
<div class="line"><span class="lineno"> 1257</span>            target-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ad52044947ef0aa2325b2688075bac34d">RemoveSpellCooldown</a>(spell.value()-&gt;Id, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1258</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa7ff6e662a29b5f8a7b2564502d0ea9d0">LANG_REMOVE_COOLDOWN</a>, spell.value()-&gt;Id, target == handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>() ? handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4de8be29e88085f7a19784e24e0f7614">LANG_YOU</a>) : nameLink);</div>
<div class="line"><span class="lineno"> 1259</span>        }</div>
<div class="line"><span class="lineno"> 1260</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1261</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa4de8be29e88085f7a19784e24e0f7614"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4de8be29e88085f7a19784e24e0f7614">LANG_YOU</a></div><div class="ttdeci">@ LANG_YOU</div><div class="ttdef"><b>Definition:</b> Language.h:76</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa7ff6e662a29b5f8a7b2564502d0ea9d0"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa7ff6e662a29b5f8a7b2564502d0ea9d0">LANG_REMOVE_COOLDOWN</a></div><div class="ttdeci">@ LANG_REMOVE_COOLDOWN</div><div class="ttdef"><b>Definition:</b> Language.h:532</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aafca0c4aff8494046763d9ac2f9bbf20e"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aafca0c4aff8494046763d9ac2f9bbf20e">LANG_REMOVEALL_COOLDOWN</a></div><div class="ttdeci">@ LANG_REMOVEALL_COOLDOWN</div><div class="ttdef"><b>Definition:</b> Language.h:531</div></div>
<div class="ttc" id="aa07362_html_a8ca438da44d3f43db97a03d32a777dad"><div class="ttname"><a href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">ChatHandler::GetAcoreString</a></div><div class="ttdeci">virtual char const * GetAcoreString(uint32 entry) const</div><div class="ttdef"><b>Definition:</b> Chat.cpp:40</div></div>
<div class="ttc" id="aa08466_html_aca51196332067009795d4c68a2465dac"><div class="ttname"><a href="../../dc/d06/a08466.html#aca51196332067009795d4c68a2465dac">Player::RemoveAllSpellCooldown</a></div><div class="ttdeci">void RemoveAllSpellCooldown()</div><div class="ttdef"><b>Definition:</b> Player.cpp:3587</div></div>
<div class="ttc" id="aa08466_html_ad52044947ef0aa2325b2688075bac34d"><div class="ttname"><a href="../../dc/d06/a08466.html#ad52044947ef0aa2325b2688075bac34d">Player::RemoveSpellCooldown</a></div><div class="ttdeci">void RemoveSpellCooldown(uint32 spell_id, bool update=false)</div><div class="ttdef"><b>Definition:</b> Player.cpp:3536</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00040">ChatHandler::GetAcoreString()</a>, <a class="el" href="../../#l00198">ChatHandler::GetNameLink()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00373">ChatHandler::getSelectedPlayer()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00441">SpellMgr::IsSpellValid()</a>, <a class="el" href="../../#l00520">LANG_COMMAND_SPELL_BROKEN</a>, <a class="el" href="../../#l00539">LANG_PLAYER_NOT_FOUND</a>, <a class="el" href="../../#l00532">LANG_REMOVE_COOLDOWN</a>, <a class="el" href="../../#l00531">LANG_REMOVEALL_COOLDOWN</a>, <a class="el" href="../../#l00076">LANG_YOU</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l03587">Player::RemoveAllSpellCooldown()</a>, <a class="el" href="../../#l03536">Player::RemoveSpellCooldown()</a>, and <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a0dd17ec83a9ae0f86f7f5429c1537ab1" name="a0dd17ec83a9ae0f86f7f5429c1537ab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dd17ec83a9ae0f86f7f5429c1537ab1">&#9670;&#160;</a></span>HandleDamageCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleDamageCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>damage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>percent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2798</span>    {</div>
<div class="line"><span class="lineno"> 2799</span>        <a class="code hl_class" href="../../d4/d46/a08598.html">Unit</a>* target = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ae88a523ef51a6d51d38a8d524e49b179">getSelectedUnit</a>();</div>
<div class="line"><span class="lineno"> 2800</span>        <span class="keywordflow">if</span> (!target || !handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#af387d5e18806e37f65ebc3408c0b8712">GetTarget</a>())</div>
<div class="line"><span class="lineno"> 2801</span>        {</div>
<div class="line"><span class="lineno"> 2802</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa1cac46a5a2ceca2a1ae8dddf8ad930a">LANG_SELECT_CHAR_OR_CREATURE</a>);</div>
<div class="line"><span class="lineno"> 2803</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2804</span>        }</div>
<div class="line"><span class="lineno"> 2805</span> </div>
<div class="line"><span class="lineno"> 2806</span>        <span class="keywordflow">if</span> (target-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#a1b9ed00e8d7ac5fed698ef6431905296">IsPlayer</a>())</div>
<div class="line"><span class="lineno"> 2807</span>            <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#afacb4b59756372ec32810be0d46da49c">HasLowerSecurity</a>(target-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#a328d5f752cc33ed398b3d9861ef6929d">ToPlayer</a>()))</div>
<div class="line"><span class="lineno"> 2808</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2809</span> </div>
<div class="line"><span class="lineno"> 2810</span>        <span class="keywordflow">if</span> (!target-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a5ea3f54af571493f7889220724667189">IsAlive</a>() || !damage)</div>
<div class="line"><span class="lineno"> 2811</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2812</span> </div>
<div class="line"><span class="lineno"> 2813</span>        <span class="keywordflow">if</span> (target-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#aacc8ee332f66effdc0d77c126dae1961">IsCreature</a>() &amp;&amp; handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>() == <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7ae1fc38747d44c8d316f3b74ae10a5399">SEC_CONSOLE</a>) <span class="comment">// pussywizard</span></div>
<div class="line"><span class="lineno"> 2814</span>            target-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ab0e2ef1ac1daa91476f749e0ec6ad3c6">ToCreature</a>()-&gt;<a class="code hl_function" href="../../d8/d56/a07846.html#ade3dddee0d9a81b1357473a1cdf7016c">LowerPlayerDamageReq</a>(target-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a5173c1774b09b42c409bf31280c37d36">GetMaxHealth</a>());</div>
<div class="line"><span class="lineno"> 2815</span> </div>
<div class="line"><span class="lineno"> 2816</span>        <span class="keywordflow">if</span> (percent)</div>
<div class="line"><span class="lineno"> 2817</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d4/d13/a00377.html#a4e06522850c9dc5d01c100a430456eeb">StringStartsWith</a>(<span class="stringliteral">&quot;pct&quot;</span>, *percent))</div>
<div class="line"><span class="lineno"> 2818</span>                <span class="keywordflow">if</span> (damage &lt;= 100)</div>
<div class="line"><span class="lineno"> 2819</span>                    damage = target-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#ac6fc3f50b72cb6f2fd8bb988d48a8dba">CountPctFromMaxHealth</a>(damage);</div>
<div class="line"><span class="lineno"> 2820</span> </div>
<div class="line"><span class="lineno"> 2821</span>        <a class="code hl_function" href="../../d4/d46/a08598.html#afe2cdf561288531d745b6a3eb7182a98">Unit::DealDamage</a>(handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>(), target, damage, <span class="keyword">nullptr</span>, <a class="code hl_enumvalue" href="../../de/d3d/a03515.html#ab0b8a9de485ea928c497ac0b5f9040b1a471bd179f0ee161d55f1bb3dd5825336">DIRECT_DAMAGE</a>, <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42">SPELL_SCHOOL_MASK_NORMAL</a>, <span class="keyword">nullptr</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2822</span> </div>
<div class="line"><span class="lineno"> 2823</span>        <span class="keywordflow">if</span> (target != handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>())</div>
<div class="line"><span class="lineno"> 2824</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a44f1f20d68e9c8e641e208088f6b5f5c">SendAttackStateUpdate</a>(<a class="code hl_enumvalue" href="../../de/d3d/a03515.html#a4f13e19b0b93a3a4dde752b929d38dc3aefdc5bd23a2977847198bcf2b3b12a29">HITINFO_AFFECTS_VICTIM</a>, target, 1, <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42">SPELL_SCHOOL_MASK_NORMAL</a>, damage, 0, 0, <a class="code hl_enumvalue" href="../../de/d3d/a03515.html#a2e286ee4a83a7807f3dc1a62af7aafd6a9f914d14cdb6832f4e393434f27e935d">VICTIMSTATE_HIT</a>, 0);</div>
<div class="line"><span class="lineno"> 2825</span> </div>
<div class="line"><span class="lineno"> 2826</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2827</span>    }</div>
<div class="ttc" id="aa00017_html_adaa1cabfe05f8df3c272bdcfd89cdac7ae1fc38747d44c8d316f3b74ae10a5399"><div class="ttname"><a href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7ae1fc38747d44c8d316f3b74ae10a5399">SEC_CONSOLE</a></div><div class="ttdeci">@ SEC_CONSOLE</div><div class="ttdef"><b>Definition:</b> Common.h:61</div></div>
<div class="ttc" id="aa00377_html_a4e06522850c9dc5d01c100a430456eeb"><div class="ttname"><a href="../../d4/d13/a00377.html#a4e06522850c9dc5d01c100a430456eeb">StringStartsWith</a></div><div class="ttdeci">bool StringStartsWith(std::string_view haystack, std::string_view needle)</div><div class="ttdef"><b>Definition:</b> Util.h:401</div></div>
<div class="ttc" id="aa02771_html_aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42"><div class="ttname"><a href="../../d0/dbd/a02771.html#aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42">SPELL_SCHOOL_MASK_NORMAL</a></div><div class="ttdeci">@ SPELL_SCHOOL_MASK_NORMAL</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:297</div></div>
<div class="ttc" id="aa03515_html_a2e286ee4a83a7807f3dc1a62af7aafd6a9f914d14cdb6832f4e393434f27e935d"><div class="ttname"><a href="../../de/d3d/a03515.html#a2e286ee4a83a7807f3dc1a62af7aafd6a9f914d14cdb6832f4e393434f27e935d">VICTIMSTATE_HIT</a></div><div class="ttdeci">@ VICTIMSTATE_HIT</div><div class="ttdef"><b>Definition:</b> Unit.h:84</div></div>
<div class="ttc" id="aa03515_html_a4f13e19b0b93a3a4dde752b929d38dc3aefdc5bd23a2977847198bcf2b3b12a29"><div class="ttname"><a href="../../de/d3d/a03515.html#a4f13e19b0b93a3a4dde752b929d38dc3aefdc5bd23a2977847198bcf2b3b12a29">HITINFO_AFFECTS_VICTIM</a></div><div class="ttdeci">@ HITINFO_AFFECTS_VICTIM</div><div class="ttdef"><b>Definition:</b> Unit.h:98</div></div>
<div class="ttc" id="aa03515_html_ab0b8a9de485ea928c497ac0b5f9040b1a471bd179f0ee161d55f1bb3dd5825336"><div class="ttname"><a href="../../de/d3d/a03515.html#ab0b8a9de485ea928c497ac0b5f9040b1a471bd179f0ee161d55f1bb3dd5825336">DIRECT_DAMAGE</a></div><div class="ttdeci">@ DIRECT_DAMAGE</div><div class="ttdef"><b>Definition:</b> Unit.h:248</div></div>
<div class="ttc" id="aa07846_html_ade3dddee0d9a81b1357473a1cdf7016c"><div class="ttname"><a href="../../d8/d56/a07846.html#ade3dddee0d9a81b1357473a1cdf7016c">Creature::LowerPlayerDamageReq</a></div><div class="ttdeci">void LowerPlayerDamageReq(uint32 unDamage, bool damagedByPlayer=true)</div><div class="ttdef"><b>Definition:</b> Creature.cpp:3806</div></div>
<div class="ttc" id="aa08218_html_a1b9ed00e8d7ac5fed698ef6431905296"><div class="ttname"><a href="../../de/d68/a08218.html#a1b9ed00e8d7ac5fed698ef6431905296">Object::IsPlayer</a></div><div class="ttdeci">bool IsPlayer() const</div><div class="ttdef"><b>Definition:</b> Object.h:200</div></div>
<div class="ttc" id="aa08218_html_a328d5f752cc33ed398b3d9861ef6929d"><div class="ttname"><a href="../../de/d68/a08218.html#a328d5f752cc33ed398b3d9861ef6929d">Object::ToPlayer</a></div><div class="ttdeci">Player * ToPlayer()</div><div class="ttdef"><b>Definition:</b> Object.h:201</div></div>
<div class="ttc" id="aa08218_html_aacc8ee332f66effdc0d77c126dae1961"><div class="ttname"><a href="../../de/d68/a08218.html#aacc8ee332f66effdc0d77c126dae1961">Object::IsCreature</a></div><div class="ttdeci">bool IsCreature() const</div><div class="ttdef"><b>Definition:</b> Object.h:204</div></div>
<div class="ttc" id="aa08218_html_ab0e2ef1ac1daa91476f749e0ec6ad3c6"><div class="ttname"><a href="../../de/d68/a08218.html#ab0e2ef1ac1daa91476f749e0ec6ad3c6">Object::ToCreature</a></div><div class="ttdeci">Creature * ToCreature()</div><div class="ttdef"><b>Definition:</b> Object.h:205</div></div>
<div class="ttc" id="aa08598_html_a44f1f20d68e9c8e641e208088f6b5f5c"><div class="ttname"><a href="../../d4/d46/a08598.html#a44f1f20d68e9c8e641e208088f6b5f5c">Unit::SendAttackStateUpdate</a></div><div class="ttdeci">void SendAttackStateUpdate(CalcDamageInfo *damageInfo)</div><div class="ttdef"><b>Definition:</b> Unit.cpp:6479</div></div>
<div class="ttc" id="aa08598_html_a5173c1774b09b42c409bf31280c37d36"><div class="ttname"><a href="../../d4/d46/a08598.html#a5173c1774b09b42c409bf31280c37d36">Unit::GetMaxHealth</a></div><div class="ttdeci">uint32 GetMaxHealth() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1030</div></div>
<div class="ttc" id="aa08598_html_a5ea3f54af571493f7889220724667189"><div class="ttname"><a href="../../d4/d46/a08598.html#a5ea3f54af571493f7889220724667189">Unit::IsAlive</a></div><div class="ttdeci">bool IsAlive() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1654</div></div>
<div class="ttc" id="aa08598_html_ac6fc3f50b72cb6f2fd8bb988d48a8dba"><div class="ttname"><a href="../../d4/d46/a08598.html#ac6fc3f50b72cb6f2fd8bb988d48a8dba">Unit::CountPctFromMaxHealth</a></div><div class="ttdeci">uint32 CountPctFromMaxHealth(int32 pct) const</div><div class="ttdef"><b>Definition:</b> Unit.h:1042</div></div>
<div class="ttc" id="aa08598_html_af387d5e18806e37f65ebc3408c0b8712"><div class="ttname"><a href="../../d4/d46/a08598.html#af387d5e18806e37f65ebc3408c0b8712">Unit::GetTarget</a></div><div class="ttdeci">ObjectGuid GetTarget() const</div><div class="ttdef"><b>Definition:</b> Unit.h:818</div></div>
<div class="ttc" id="aa08598_html_afe2cdf561288531d745b6a3eb7182a98"><div class="ttname"><a href="../../d4/d46/a08598.html#afe2cdf561288531d745b6a3eb7182a98">Unit::DealDamage</a></div><div class="ttdeci">static uint32 DealDamage(Unit *attacker, Unit *victim, uint32 damage, CleanDamage const *cleanDamage=nullptr, DamageEffectType damagetype=DIRECT_DAMAGE, SpellSchoolMask damageSchoolMask=SPELL_SCHOOL_MASK_NORMAL, SpellInfo const *spellProto=nullptr, bool durabilityLoss=true, bool allowGM=false, Spell const *spell=nullptr)</div><div class="ttdef"><b>Definition:</b> Unit.cpp:810</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01042">Unit::CountPctFromMaxHealth()</a>, <a class="el" href="../../#l00810">Unit::DealDamage()</a>, <a class="el" href="../../#l00248">DIRECT_DAMAGE</a>, <a class="el" href="../../#l01030">Unit::GetMaxHealth()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00373">WorldSession::GetSecurity()</a>, <a class="el" href="../../#l00385">ChatHandler::getSelectedUnit()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00818">Unit::GetTarget()</a>, <a class="el" href="../../#l00056">ChatHandler::HasLowerSecurity()</a>, <a class="el" href="../../#l00098">HITINFO_AFFECTS_VICTIM</a>, <a class="el" href="../../#l01654">Unit::IsAlive()</a>, <a class="el" href="../../#l00204">Object::IsCreature()</a>, <a class="el" href="../../#l00200">Object::IsPlayer()</a>, <a class="el" href="../../#l00031">LANG_SELECT_CHAR_OR_CREATURE</a>, <a class="el" href="../../#l03806">Creature::LowerPlayerDamageReq()</a>, <a class="el" href="../../#l00061">SEC_CONSOLE</a>, <a class="el" href="../../#l06479">Unit::SendAttackStateUpdate()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00297">SPELL_SCHOOL_MASK_NORMAL</a>, <a class="el" href="../../#l00401">StringStartsWith()</a>, <a class="el" href="../../#l00205">Object::ToCreature()</a>, <a class="el" href="../../#l00201">Object::ToPlayer()</a>, and <a class="el" href="../../#l00084">VICTIMSTATE_HIT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a04d67032d711aacaa866659a3d67b544" name="a04d67032d711aacaa866659a3d67b544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04d67032d711aacaa866659a3d67b544">&#9670;&#160;</a></span>HandleDevCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleDevCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; bool &gt;&#160;</td>
          <td class="paramname"><em>enableArg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  499</span>    {</div>
<div class="line"><span class="lineno">  500</span>        <a class="code hl_class" href="../../d9/d7c/a10810.html">WorldSession</a>* session = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>();</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>        <span class="keywordflow">if</span> (!session)</div>
<div class="line"><span class="lineno">  503</span>        {</div>
<div class="line"><span class="lineno">  504</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  505</span>        }</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>        <span class="keyword">auto</span> SetDevMod = [&amp;](<span class="keywordtype">bool</span> enable)</div>
<div class="line"><span class="lineno">  508</span>        {</div>
<div class="line"><span class="lineno">  509</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ab3052a0f476232a6d1e1e01264d5c985">SendNotification</a>(enable ? <a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa072a8846675a419284250aef73a88bf2">LANG_DEV_ON</a> : <a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa2eae29c1d49f7a5703bccfa905dd2e5b">LANG_DEV_OFF</a>);</div>
<div class="line"><span class="lineno">  510</span>            session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a47bdbc779ae78d6804b52044f888624f">SetDeveloper</a>(enable);</div>
<div class="line"><span class="lineno">  511</span>            <a class="code hl_define" href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a>-&gt;OnHandleDevCommand(handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>(), enable);</div>
<div class="line"><span class="lineno">  512</span>        };</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>        <span class="keywordflow">if</span> (!enableArg)</div>
<div class="line"><span class="lineno">  515</span>        {</div>
<div class="line"><span class="lineno">  516</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d9/d82/a04718.html#a63751f144cb7acb57fc20f0caf5e7043">AccountMgr::IsPlayerAccount</a>(session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>()) &amp;&amp; session-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ac534178b39f89e12bcad4d44b45c0613">IsDeveloper</a>())</div>
<div class="line"><span class="lineno">  517</span>            {</div>
<div class="line"><span class="lineno">  518</span>                SetDevMod(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  519</span>            }</div>
<div class="line"><span class="lineno">  520</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  521</span>            {</div>
<div class="line"><span class="lineno">  522</span>                SetDevMod(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  523</span>            }</div>
<div class="line"><span class="lineno">  524</span> </div>
<div class="line"><span class="lineno">  525</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  526</span>        }</div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span>        <span class="keywordflow">if</span> (*enableArg)</div>
<div class="line"><span class="lineno">  529</span>        {</div>
<div class="line"><span class="lineno">  530</span>            SetDevMod(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  531</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  532</span>        }</div>
<div class="line"><span class="lineno">  533</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  534</span>        {</div>
<div class="line"><span class="lineno">  535</span>            SetDevMod(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  536</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  537</span>        }</div>
<div class="line"><span class="lineno">  538</span> </div>
<div class="line"><span class="lineno">  539</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4d310a4c0f5ce2604a9be901c13b2961">LANG_USE_BOL</a>);</div>
<div class="line"><span class="lineno">  540</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  541</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa072a8846675a419284250aef73a88bf2"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa072a8846675a419284250aef73a88bf2">LANG_DEV_ON</a></div><div class="ttdeci">@ LANG_DEV_ON</div><div class="ttdef"><b>Definition:</b> Language.h:926</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa2eae29c1d49f7a5703bccfa905dd2e5b"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa2eae29c1d49f7a5703bccfa905dd2e5b">LANG_DEV_OFF</a></div><div class="ttdeci">@ LANG_DEV_OFF</div><div class="ttdef"><b>Definition:</b> Language.h:927</div></div>
<div class="ttc" id="aa04202_html_ae8161e629869974bc49b1cbfc73c1087"><div class="ttname"><a href="../../d1/d8f/a04202.html#ae8161e629869974bc49b1cbfc73c1087">sScriptMgr</a></div><div class="ttdeci">#define sScriptMgr</div><div class="ttdef"><b>Definition:</b> ScriptMgr.h:709</div></div>
<div class="ttc" id="aa08466_html_a47bdbc779ae78d6804b52044f888624f"><div class="ttname"><a href="../../dc/d06/a08466.html#a47bdbc779ae78d6804b52044f888624f">Player::SetDeveloper</a></div><div class="ttdeci">void SetDeveloper(bool on)</div><div class="ttdef"><b>Definition:</b> Player.h:1172</div></div>
<div class="ttc" id="aa08466_html_ac534178b39f89e12bcad4d44b45c0613"><div class="ttname"><a href="../../dc/d06/a08466.html#ac534178b39f89e12bcad4d44b45c0613">Player::IsDeveloper</a></div><div class="ttdeci">bool IsDeveloper() const</div><div class="ttdef"><b>Definition:</b> Player.h:1171</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00373">WorldSession::GetSecurity()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l01171">Player::IsDeveloper()</a>, <a class="el" href="../../#l00305">AccountMgr::IsPlayerAccount()</a>, <a class="el" href="../../#l00927">LANG_DEV_OFF</a>, <a class="el" href="../../#l00926">LANG_DEV_ON</a>, <a class="el" href="../../#l00303">LANG_USE_BOL</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00104">ChatHandler::SendNotification()</a>, <a class="el" href="../../#l01172">Player::SetDeveloper()</a>, and <a class="el" href="../../#l00709">sScriptMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a7184b76dfa2aeb87c0b8855a1d0b1b47" name="a7184b76dfa2aeb87c0b8855a1d0b1b47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7184b76dfa2aeb87c0b8855a1d0b1b47">&#9670;&#160;</a></span>HandleDieCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleDieCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1122</span>    {</div>
<div class="line"><span class="lineno"> 1123</span>        <a class="code hl_class" href="../../d4/d46/a08598.html">Unit</a>* target = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ae88a523ef51a6d51d38a8d524e49b179">getSelectedUnit</a>();</div>
<div class="line"><span class="lineno"> 1124</span> </div>
<div class="line"><span class="lineno"> 1125</span>        <span class="keywordflow">if</span> (!target || !handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#af387d5e18806e37f65ebc3408c0b8712">GetTarget</a>())</div>
<div class="line"><span class="lineno"> 1126</span>        {</div>
<div class="line"><span class="lineno"> 1127</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa1cac46a5a2ceca2a1ae8dddf8ad930a">LANG_SELECT_CHAR_OR_CREATURE</a>);</div>
<div class="line"><span class="lineno"> 1128</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1129</span>        }</div>
<div class="line"><span class="lineno"> 1130</span> </div>
<div class="line"><span class="lineno"> 1131</span>        <span class="keywordflow">if</span> (target-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#a1b9ed00e8d7ac5fed698ef6431905296">IsPlayer</a>())</div>
<div class="line"><span class="lineno"> 1132</span>        {</div>
<div class="line"><span class="lineno"> 1133</span>            <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#afacb4b59756372ec32810be0d46da49c">HasLowerSecurity</a>(target-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#a328d5f752cc33ed398b3d9861ef6929d">ToPlayer</a>()))</div>
<div class="line"><span class="lineno"> 1134</span>            {</div>
<div class="line"><span class="lineno"> 1135</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1136</span>            }</div>
<div class="line"><span class="lineno"> 1137</span>        }</div>
<div class="line"><span class="lineno"> 1138</span> </div>
<div class="line"><span class="lineno"> 1139</span>        <span class="keywordflow">if</span> (target-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a5ea3f54af571493f7889220724667189">IsAlive</a>())</div>
<div class="line"><span class="lineno"> 1140</span>        {</div>
<div class="line"><span class="lineno"> 1141</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getBoolConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0aa928c173c0dad735ff5c1edc0894d61f">CONFIG_DIE_COMMAND_MODE</a>))</div>
<div class="line"><span class="lineno"> 1142</span>            {</div>
<div class="line"><span class="lineno"> 1143</span>                <span class="keywordflow">if</span> (target-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#aacc8ee332f66effdc0d77c126dae1961">IsCreature</a>() &amp;&amp; handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>() == <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7ae1fc38747d44c8d316f3b74ae10a5399">SEC_CONSOLE</a>) <span class="comment">// pussywizard</span></div>
<div class="line"><span class="lineno"> 1144</span>                {</div>
<div class="line"><span class="lineno"> 1145</span>                    target-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ab0e2ef1ac1daa91476f749e0ec6ad3c6">ToCreature</a>()-&gt;<a class="code hl_function" href="../../d8/d56/a07846.html#ade3dddee0d9a81b1357473a1cdf7016c">LowerPlayerDamageReq</a>(target-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a5173c1774b09b42c409bf31280c37d36">GetMaxHealth</a>());</div>
<div class="line"><span class="lineno"> 1146</span>                }</div>
<div class="line"><span class="lineno"> 1147</span>                <a class="code hl_function" href="../../d4/d46/a08598.html#a413f3a85a1e57ce8c13b8870347830f5">Unit::Kill</a>(handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>(), target);</div>
<div class="line"><span class="lineno"> 1148</span>            }</div>
<div class="line"><span class="lineno"> 1149</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1150</span>            {</div>
<div class="line"><span class="lineno"> 1151</span>                <a class="code hl_function" href="../../d4/d46/a08598.html#afe2cdf561288531d745b6a3eb7182a98">Unit::DealDamage</a>(handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>(), target, target-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a958172d6051b106e3b3c776e4f9f3952">GetHealth</a>(), <span class="keyword">nullptr</span>, <a class="code hl_enumvalue" href="../../de/d3d/a03515.html#ab0b8a9de485ea928c497ac0b5f9040b1a471bd179f0ee161d55f1bb3dd5825336">DIRECT_DAMAGE</a>, <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aff6913cfd69489c107a071be9ec2ec8fa12667dd3f55738c93e1ddb1351779b42">SPELL_SCHOOL_MASK_NORMAL</a>, <span class="keyword">nullptr</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1152</span>            }</div>
<div class="line"><span class="lineno"> 1153</span>        }</div>
<div class="line"><span class="lineno"> 1154</span> </div>
<div class="line"><span class="lineno"> 1155</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1156</span>    }</div>
<div class="ttc" id="aa03317_html_a1b4b88c03b7d0124998b4c22e957baf0aa928c173c0dad735ff5c1edc0894d61f"><div class="ttname"><a href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0aa928c173c0dad735ff5c1edc0894d61f">CONFIG_DIE_COMMAND_MODE</a></div><div class="ttdeci">@ CONFIG_DIE_COMMAND_MODE</div><div class="ttdef"><b>Definition:</b> IWorld.h:107</div></div>
<div class="ttc" id="aa08598_html_a413f3a85a1e57ce8c13b8870347830f5"><div class="ttname"><a href="../../d4/d46/a08598.html#a413f3a85a1e57ce8c13b8870347830f5">Unit::Kill</a></div><div class="ttdeci">static void Kill(Unit *killer, Unit *victim, bool durabilityLoss=true, WeaponAttackType attackType=BASE_ATTACK, SpellInfo const *spellProto=nullptr, Spell const *spell=nullptr)</div><div class="ttdef"><b>Definition:</b> Unit.cpp:17702</div></div>
<div class="ttc" id="aa08598_html_a958172d6051b106e3b3c776e4f9f3952"><div class="ttname"><a href="../../d4/d46/a08598.html#a958172d6051b106e3b3c776e4f9f3952">Unit::GetHealth</a></div><div class="ttdeci">uint32 GetHealth() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1029</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00107">CONFIG_DIE_COMMAND_MODE</a>, <a class="el" href="../../#l00810">Unit::DealDamage()</a>, <a class="el" href="../../#l00248">DIRECT_DAMAGE</a>, <a class="el" href="../../#l01029">Unit::GetHealth()</a>, <a class="el" href="../../#l01030">Unit::GetMaxHealth()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00373">WorldSession::GetSecurity()</a>, <a class="el" href="../../#l00385">ChatHandler::getSelectedUnit()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00818">Unit::GetTarget()</a>, <a class="el" href="../../#l00056">ChatHandler::HasLowerSecurity()</a>, <a class="el" href="../../#l01654">Unit::IsAlive()</a>, <a class="el" href="../../#l00204">Object::IsCreature()</a>, <a class="el" href="../../#l00200">Object::IsPlayer()</a>, <a class="el" href="../../#l17702">Unit::Kill()</a>, <a class="el" href="../../#l00031">LANG_SELECT_CHAR_OR_CREATURE</a>, <a class="el" href="../../#l03806">Creature::LowerPlayerDamageReq()</a>, <a class="el" href="../../#l00061">SEC_CONSOLE</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00297">SPELL_SCHOOL_MASK_NORMAL</a>, <a class="el" href="../../#l00442">sWorld</a>, <a class="el" href="../../#l00205">Object::ToCreature()</a>, and <a class="el" href="../../#l00201">Object::ToPlayer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="abc24c4ac9a5c0ae7b27d6d6af2edba53" name="abc24c4ac9a5c0ae7b27d6d6af2edba53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc24c4ac9a5c0ae7b27d6d6af2edba53">&#9670;&#160;</a></span>HandleDismountCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleDismountCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1184</span>    {</div>
<div class="line"><span class="lineno"> 1185</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1186</span> </div>
<div class="line"><span class="lineno"> 1187</span>        <span class="comment">// If player is not mounted, so go out :)</span></div>
<div class="line"><span class="lineno"> 1188</span>        <span class="keywordflow">if</span> (!player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#aa8ff700c8aec70f3ab1e1385262959b1">IsMounted</a>())</div>
<div class="line"><span class="lineno"> 1189</span>        {</div>
<div class="line"><span class="lineno"> 1190</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9810ad6b1b39fb1b133ac10147bde89b">LANG_CHAR_NON_MOUNTED</a>);</div>
<div class="line"><span class="lineno"> 1191</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1192</span>        }</div>
<div class="line"><span class="lineno"> 1193</span> </div>
<div class="line"><span class="lineno"> 1194</span>        <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a85b547eedd208db5f9dddc5f75a1a211">IsInFlight</a>())</div>
<div class="line"><span class="lineno"> 1195</span>        {</div>
<div class="line"><span class="lineno"> 1196</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa3a60e22a05e0a8c433c0e4bd5b60705">LANG_YOU_IN_FLIGHT</a>);</div>
<div class="line"><span class="lineno"> 1197</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1198</span>        }</div>
<div class="line"><span class="lineno"> 1199</span> </div>
<div class="line"><span class="lineno"> 1200</span>        player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a4c786d459751c90df99fb7f1526e43e7">Dismount</a>();</div>
<div class="line"><span class="lineno"> 1201</span>        player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#ad6df47a81f5f5f147e68211ee935b398">RemoveAurasByType</a>(<a class="code hl_enumvalue" href="../../d8/db1/a03098.html#a538cdc259460b365f406fe0b3a981799a8cec8a45f78b8555b8f13b8b00995acf">SPELL_AURA_MOUNTED</a>);</div>
<div class="line"><span class="lineno"> 1202</span>        player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#ab30ea03b94379b25f1d75ea879b4a61c">SetSpeed</a>(<a class="code hl_enumvalue" href="../../d8/dbe/a03521.html#af91f7580a89722b7dc45a018bb46fce4ad231571a48b7742c2a432eb7a8a849de">MOVE_RUN</a>, 1, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1203</span>        player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#ab30ea03b94379b25f1d75ea879b4a61c">SetSpeed</a>(<a class="code hl_enumvalue" href="../../d8/dbe/a03521.html#af91f7580a89722b7dc45a018bb46fce4a2461b4a7be489c54989eff2c87ae1961">MOVE_FLIGHT</a>, 1, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1204</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1205</span>    }</div>
<div class="ttc" id="aa03098_html_a538cdc259460b365f406fe0b3a981799a8cec8a45f78b8555b8f13b8b00995acf"><div class="ttname"><a href="../../d8/db1/a03098.html#a538cdc259460b365f406fe0b3a981799a8cec8a45f78b8555b8f13b8b00995acf">SPELL_AURA_MOUNTED</a></div><div class="ttdeci">@ SPELL_AURA_MOUNTED</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:141</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa9810ad6b1b39fb1b133ac10147bde89b"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9810ad6b1b39fb1b133ac10147bde89b">LANG_CHAR_NON_MOUNTED</a></div><div class="ttdeci">@ LANG_CHAR_NON_MOUNTED</div><div class="ttdef"><b>Definition:</b> Language.h:54</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaa3a60e22a05e0a8c433c0e4bd5b60705"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa3a60e22a05e0a8c433c0e4bd5b60705">LANG_YOU_IN_FLIGHT</a></div><div class="ttdeci">@ LANG_YOU_IN_FLIGHT</div><div class="ttdef"><b>Definition:</b> Language.h:50</div></div>
<div class="ttc" id="aa03521_html_af91f7580a89722b7dc45a018bb46fce4a2461b4a7be489c54989eff2c87ae1961"><div class="ttname"><a href="../../d8/dbe/a03521.html#af91f7580a89722b7dc45a018bb46fce4a2461b4a7be489c54989eff2c87ae1961">MOVE_FLIGHT</a></div><div class="ttdeci">@ MOVE_FLIGHT</div><div class="ttdef"><b>Definition:</b> UnitDefines.h:355</div></div>
<div class="ttc" id="aa03521_html_af91f7580a89722b7dc45a018bb46fce4ad231571a48b7742c2a432eb7a8a849de"><div class="ttname"><a href="../../d8/dbe/a03521.html#af91f7580a89722b7dc45a018bb46fce4ad231571a48b7742c2a432eb7a8a849de">MOVE_RUN</a></div><div class="ttdeci">@ MOVE_RUN</div><div class="ttdef"><b>Definition:</b> UnitDefines.h:350</div></div>
<div class="ttc" id="aa08598_html_a4c786d459751c90df99fb7f1526e43e7"><div class="ttname"><a href="../../d4/d46/a08598.html#a4c786d459751c90df99fb7f1526e43e7">Unit::Dismount</a></div><div class="ttdeci">void Dismount()</div><div class="ttdef"><b>Definition:</b> Unit.cpp:13524</div></div>
<div class="ttc" id="aa08598_html_aa8ff700c8aec70f3ab1e1385262959b1"><div class="ttname"><a href="../../d4/d46/a08598.html#aa8ff700c8aec70f3ab1e1385262959b1">Unit::IsMounted</a></div><div class="ttdeci">bool IsMounted() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1747</div></div>
<div class="ttc" id="aa08598_html_ab30ea03b94379b25f1d75ea879b4a61c"><div class="ttname"><a href="../../d4/d46/a08598.html#ab30ea03b94379b25f1d75ea879b4a61c">Unit::SetSpeed</a></div><div class="ttdeci">void SetSpeed(UnitMoveType mtype, float rate, bool forced=false)</div><div class="ttdef"><b>Definition:</b> Unit.cpp:14429</div></div>
<div class="ttc" id="aa08598_html_ad6df47a81f5f5f147e68211ee935b398"><div class="ttname"><a href="../../d4/d46/a08598.html#ad6df47a81f5f5f147e68211ee935b398">Unit::RemoveAurasByType</a></div><div class="ttdeci">void RemoveAurasByType(AuraType auraType, ObjectGuid casterGUID=ObjectGuid::Empty, Aura *except=nullptr, bool negative=true, bool positive=true)</div><div class="ttdef"><b>Definition:</b> Unit.cpp:5110</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l13524">Unit::Dismount()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l01572">Unit::IsInFlight()</a>, <a class="el" href="../../#l01747">Unit::IsMounted()</a>, <a class="el" href="../../#l00054">LANG_CHAR_NON_MOUNTED</a>, <a class="el" href="../../#l00050">LANG_YOU_IN_FLIGHT</a>, <a class="el" href="../../#l00355">MOVE_FLIGHT</a>, <a class="el" href="../../#l00350">MOVE_RUN</a>, <a class="el" href="../../#l05110">Unit::RemoveAurasByType()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l14429">Unit::SetSpeed()</a>, and <a class="el" href="../../#l00141">SPELL_AURA_MOUNTED</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="adc6779a70c7a79a7bd08a419d62edb88" name="adc6779a70c7a79a7bd08a419d62edb88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc6779a70c7a79a7bd08a419d62edb88">&#9670;&#160;</a></span>HandleFlushArenaPointsCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleFlushArenaPointsCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2856</span>    {</div>
<div class="line"><span class="lineno"> 2857</span>        <a class="code hl_define" href="../../df/d28/a03821.html#a94afc7262fb2f00293dc80de8ba547df">sArenaTeamMgr</a>-&gt;DistributeArenaPoints();</div>
<div class="line"><span class="lineno"> 2858</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2859</span>    }</div>
<div class="ttc" id="aa03821_html_a94afc7262fb2f00293dc80de8ba547df"><div class="ttname"><a href="../../df/d28/a03821.html#a94afc7262fb2f00293dc80de8ba547df">sArenaTeamMgr</a></div><div class="ttdeci">#define sArenaTeamMgr</div><div class="ttdef"><b>Definition:</b> ArenaTeamMgr.h:67</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00067">sArenaTeamMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="ae63e89580f430cffe62afdf4fb2ff882" name="ae63e89580f430cffe62afdf4fb2ff882"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae63e89580f430cffe62afdf4fb2ff882">&#9670;&#160;</a></span>HandleFreezeCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleFreezeCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2862</span>    {</div>
<div class="line"><span class="lineno"> 2863</span>        <a class="code hl_class" href="../../d8/d56/a07846.html">Creature</a>* creatureTarget = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#affa04b48f8ce2a0c11b9e245e200f68b">getSelectedCreature</a>();</div>
<div class="line"><span class="lineno"> 2864</span> </div>
<div class="line"><span class="lineno"> 2865</span>        <span class="keywordflow">if</span> (!target &amp;&amp; !creatureTarget)</div>
<div class="line"><span class="lineno"> 2866</span>        {</div>
<div class="line"><span class="lineno"> 2867</span>            target = <a class="code hl_function" href="../../de/d8a/a07550.html#a617834cc8474970950b45066f2e86dbd">PlayerIdentifier::FromTargetOrSelf</a>(handler);</div>
<div class="line"><span class="lineno"> 2868</span>        }</div>
<div class="line"><span class="lineno"> 2869</span> </div>
<div class="line"><span class="lineno"> 2870</span>        <span class="keywordflow">if</span> (!target &amp;&amp; !creatureTarget)</div>
<div class="line"><span class="lineno"> 2871</span>        {</div>
<div class="line"><span class="lineno"> 2872</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa1cac46a5a2ceca2a1ae8dddf8ad930a">LANG_SELECT_CHAR_OR_CREATURE</a>);</div>
<div class="line"><span class="lineno"> 2873</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2874</span>        }</div>
<div class="line"><span class="lineno"> 2875</span> </div>
<div class="line"><span class="lineno"> 2876</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* playerTarget = target-&gt;GetConnectedPlayer();</div>
<div class="line"><span class="lineno"> 2877</span>        <span class="keywordflow">if</span> (playerTarget &amp;&amp; !creatureTarget)</div>
<div class="line"><span class="lineno"> 2878</span>        {</div>
<div class="line"><span class="lineno"> 2879</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aac30233fa0480c7475421ffeb2263f24b">LANG_COMMAND_FREEZE</a>, target-&gt;GetName());</div>
<div class="line"><span class="lineno"> 2880</span> </div>
<div class="line"><span class="lineno"> 2881</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d5/d44/a10966.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_define" href="../../d8/d96/a03116.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellInfo(<a class="code hl_variable" href="../../d2/d4c/a01307.html#a181bdc61e4eb1d21db975ca0227cb086">SPELL_FREEZE</a>))</div>
<div class="line"><span class="lineno"> 2882</span>            {</div>
<div class="line"><span class="lineno"> 2883</span>                <a class="code hl_function" href="../../d1/dfa/a10862.html#a9637e205c147457e50b47efe0f8f7904">Aura::TryRefreshStackOrCreate</a>(spellInfo, <a class="code hl_define" href="../../d7/d14/a02750.html#a3ac65d8635b4379f0d5b75a0e2dfd9c8">MAX_EFFECT_MASK</a>, playerTarget, playerTarget);</div>
<div class="line"><span class="lineno"> 2884</span>            }</div>
<div class="line"><span class="lineno"> 2885</span> </div>
<div class="line"><span class="lineno"> 2886</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2887</span>        }</div>
<div class="line"><span class="lineno"> 2888</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (creatureTarget &amp;&amp; creatureTarget-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a5ea3f54af571493f7889220724667189">IsAlive</a>())</div>
<div class="line"><span class="lineno"> 2889</span>        {</div>
<div class="line"><span class="lineno"> 2890</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aac30233fa0480c7475421ffeb2263f24b">LANG_COMMAND_FREEZE</a>, <a class="code hl_function" href="../../d2/d4c/a01307.html#aaedbdfd3cae227b11684151f41e3b977">GetLocalizeCreatureName</a>(creatureTarget, handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a6cfa4cd171866cacb272e996aa75e487">GetSessionDbcLocale</a>()));</div>
<div class="line"><span class="lineno"> 2891</span> </div>
<div class="line"><span class="lineno"> 2892</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d5/d44/a10966.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_define" href="../../d8/d96/a03116.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellInfo(<a class="code hl_variable" href="../../d2/d4c/a01307.html#a181bdc61e4eb1d21db975ca0227cb086">SPELL_FREEZE</a>))</div>
<div class="line"><span class="lineno"> 2893</span>            {</div>
<div class="line"><span class="lineno"> 2894</span>                <a class="code hl_function" href="../../d1/dfa/a10862.html#a9637e205c147457e50b47efe0f8f7904">Aura::TryRefreshStackOrCreate</a>(spellInfo, <a class="code hl_define" href="../../d7/d14/a02750.html#a3ac65d8635b4379f0d5b75a0e2dfd9c8">MAX_EFFECT_MASK</a>, creatureTarget, creatureTarget);</div>
<div class="line"><span class="lineno"> 2895</span>            }</div>
<div class="line"><span class="lineno"> 2896</span> </div>
<div class="line"><span class="lineno"> 2897</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2898</span>        }</div>
<div class="line"><span class="lineno"> 2899</span> </div>
<div class="line"><span class="lineno"> 2900</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa1cac46a5a2ceca2a1ae8dddf8ad930a">LANG_SELECT_CHAR_OR_CREATURE</a>);</div>
<div class="line"><span class="lineno"> 2901</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2902</span>    }</div>
<div class="ttc" id="aa01307_html_a181bdc61e4eb1d21db975ca0227cb086"><div class="ttname"><a href="../../d2/d4c/a01307.html#a181bdc61e4eb1d21db975ca0227cb086">SPELL_FREEZE</a></div><div class="ttdeci">constexpr auto SPELL_FREEZE</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:56</div></div>
<div class="ttc" id="aa01307_html_aaedbdfd3cae227b11684151f41e3b977"><div class="ttname"><a href="../../d2/d4c/a01307.html#aaedbdfd3cae227b11684151f41e3b977">GetLocalizeCreatureName</a></div><div class="ttdeci">std::string const GetLocalizeCreatureName(Creature *creature, LocaleConstant locale)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:58</div></div>
<div class="ttc" id="aa03116_html_aa21e14d8e1145507b746a69b5487109d"><div class="ttname"><a href="../../d8/d96/a03116.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a></div><div class="ttdeci">#define sSpellMgr</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:825</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aac30233fa0480c7475421ffeb2263f24b"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aac30233fa0480c7475421ffeb2263f24b">LANG_COMMAND_FREEZE</a></div><div class="ttdeci">@ LANG_COMMAND_FREEZE</div><div class="ttdef"><b>Definition:</b> Language.h:1046</div></div>
<div class="ttc" id="aa07362_html_a6cfa4cd171866cacb272e996aa75e487"><div class="ttname"><a href="../../d4/d99/a07362.html#a6cfa4cd171866cacb272e996aa75e487">ChatHandler::GetSessionDbcLocale</a></div><div class="ttdeci">virtual LocaleConstant GetSessionDbcLocale() const</div><div class="ttdef"><b>Definition:</b> Chat.cpp:869</div></div>
<div class="ttc" id="aa10966_html"><div class="ttname"><a href="../../d5/d44/a10966.html">SpellInfo</a></div><div class="ttdef"><b>Definition:</b> SpellInfo.h:316</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00184">Acore::ChatCommands::PlayerIdentifier::FromTargetOrSelf()</a>, <a class="el" href="../../#l00058">GetLocalizeCreatureName()</a>, <a class="el" href="../../#l00409">ChatHandler::getSelectedCreature()</a>, <a class="el" href="../../#l00869">ChatHandler::GetSessionDbcLocale()</a>, <a class="el" href="../../#l01654">Unit::IsAlive()</a>, <a class="el" href="../../#l01046">LANG_COMMAND_FREEZE</a>, <a class="el" href="../../#l00031">LANG_SELECT_CHAR_OR_CREATURE</a>, <a class="el" href="../../#l01637">MAX_EFFECT_MASK</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00056">SPELL_FREEZE</a>, <a class="el" href="../../#l00825">sSpellMgr</a>, and <a class="el" href="../../#l00326">Aura::TryRefreshStackOrCreate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="ad7a445556e92c64ab769cb2e3631a993" name="ad7a445556e92c64ab769cb2e3631a993"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7a445556e92c64ab769cb2e3631a993">&#9670;&#160;</a></span>HandleGetDistanceCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleGetDistanceCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1264</span>    {</div>
<div class="line"><span class="lineno"> 1265</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno"> 1266</span>        {</div>
<div class="line"><span class="lineno"> 1267</span>            target = <a class="code hl_function" href="../../de/d8a/a07550.html#a617834cc8474970950b45066f2e86dbd">PlayerIdentifier::FromTargetOrSelf</a>(handler);</div>
<div class="line"><span class="lineno"> 1268</span>        }</div>
<div class="line"><span class="lineno"> 1269</span> </div>
<div class="line"><span class="lineno"> 1270</span>        <a class="code hl_class" href="../../de/d0d/a08250.html">WorldObject</a>* <span class="keywordtype">object</span> = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ae88a523ef51a6d51d38a8d524e49b179">getSelectedUnit</a>();</div>
<div class="line"><span class="lineno"> 1271</span> </div>
<div class="line"><span class="lineno"> 1272</span>        <span class="keywordflow">if</span> (!<span class="keywordtype">object</span> &amp;&amp; !target)</div>
<div class="line"><span class="lineno"> 1273</span>        {</div>
<div class="line"><span class="lineno"> 1274</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1275</span>        }</div>
<div class="line"><span class="lineno"> 1276</span> </div>
<div class="line"><span class="lineno"> 1277</span>        <span class="keywordflow">if</span> (!<span class="keywordtype">object</span> &amp;&amp; target &amp;&amp; target-&gt;IsConnected())</div>
<div class="line"><span class="lineno"> 1278</span>        {</div>
<div class="line"><span class="lineno"> 1279</span>            <span class="keywordtype">object</span> = target-&gt;GetConnectedPlayer();</div>
<div class="line"><span class="lineno"> 1280</span>        }</div>
<div class="line"><span class="lineno"> 1281</span> </div>
<div class="line"><span class="lineno"> 1282</span>        <span class="keywordflow">if</span> (!<span class="keywordtype">object</span>)</div>
<div class="line"><span class="lineno"> 1283</span>        {</div>
<div class="line"><span class="lineno"> 1284</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1285</span>        }</div>
<div class="line"><span class="lineno"> 1286</span> </div>
<div class="line"><span class="lineno"> 1287</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaf5cdebf05a888e398f2ea5e9727f4fb7">LANG_DISTANCE</a>, handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#acaa0cccbbb9cac74080c8279a571a68c">GetDistance</a>(<span class="keywordtype">object</span>), handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a73f3c7fa817faebff6b2752ba3bb1a50">GetDistance2d</a>(<span class="keywordtype">object</span>), handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#a45b83c2b057421d190c01b819b513cdc">GetExactDist</a>(<span class="keywordtype">object</span>), handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#a2c4639bb74233e1c02c99c465e28895e">GetExactDist2d</a>(<span class="keywordtype">object</span>));</div>
<div class="line"><span class="lineno"> 1288</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1289</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaf5cdebf05a888e398f2ea5e9727f4fb7"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaf5cdebf05a888e398f2ea5e9727f4fb7">LANG_DISTANCE</a></div><div class="ttdeci">@ LANG_DISTANCE</div><div class="ttdef"><b>Definition:</b> Language.h:544</div></div>
<div class="ttc" id="aa08250_html"><div class="ttname"><a href="../../de/d0d/a08250.html">WorldObject</a></div><div class="ttdef"><b>Definition:</b> Object.h:410</div></div>
<div class="ttc" id="aa08250_html_a73f3c7fa817faebff6b2752ba3bb1a50"><div class="ttname"><a href="../../de/d0d/a08250.html#a73f3c7fa817faebff6b2752ba3bb1a50">WorldObject::GetDistance2d</a></div><div class="ttdeci">float GetDistance2d(WorldObject const *obj) const</div><div class="ttdef"><b>Definition:</b> Object.cpp:1274</div></div>
<div class="ttc" id="aa08250_html_acaa0cccbbb9cac74080c8279a571a68c"><div class="ttname"><a href="../../de/d0d/a08250.html#acaa0cccbbb9cac74080c8279a571a68c">WorldObject::GetDistance</a></div><div class="ttdeci">float GetDistance(WorldObject const *obj) const</div><div class="ttdef"><b>Definition:</b> Object.cpp:1256</div></div>
<div class="ttc" id="aa08294_html_a2c4639bb74233e1c02c99c465e28895e"><div class="ttname"><a href="../../d8/d21/a08294.html#a2c4639bb74233e1c02c99c465e28895e">Position::GetExactDist2d</a></div><div class="ttdeci">float GetExactDist2d(const float x, const float y) const</div><div class="ttdef"><b>Definition:</b> Position.h:165</div></div>
<div class="ttc" id="aa08294_html_a45b83c2b057421d190c01b819b513cdc"><div class="ttname"><a href="../../d8/d21/a08294.html#a45b83c2b057421d190c01b819b513cdc">Position::GetExactDist</a></div><div class="ttdeci">float GetExactDist(float x, float y, float z) const</div><div class="ttdef"><b>Definition:</b> Position.h:177</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00184">Acore::ChatCommands::PlayerIdentifier::FromTargetOrSelf()</a>, <a class="el" href="../../#l01256">WorldObject::GetDistance()</a>, <a class="el" href="../../#l01274">WorldObject::GetDistance2d()</a>, <a class="el" href="../../#l00177">Position::GetExactDist()</a>, <a class="el" href="../../#l00165">Position::GetExactDist2d()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00385">ChatHandler::getSelectedUnit()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00544">LANG_DISTANCE</a>, and <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a976eb9aeee44fb1fabd801b3a3b88903" name="a976eb9aeee44fb1fabd801b3a3b88903"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a976eb9aeee44fb1fabd801b3a3b88903">&#9670;&#160;</a></span>HandleGPSCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleGPSCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  544</span>    {</div>
<div class="line"><span class="lineno">  545</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno">  546</span>        {</div>
<div class="line"><span class="lineno">  547</span>            target = <a class="code hl_function" href="../../de/d8a/a07550.html#a617834cc8474970950b45066f2e86dbd">PlayerIdentifier::FromTargetOrSelf</a>(handler);</div>
<div class="line"><span class="lineno">  548</span>        }</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>        <a class="code hl_class" href="../../de/d0d/a08250.html">WorldObject</a>* <span class="keywordtype">object</span> = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ae88a523ef51a6d51d38a8d524e49b179">getSelectedUnit</a>();</div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span>        <span class="keywordflow">if</span> (!<span class="keywordtype">object</span> &amp;&amp; !target)</div>
<div class="line"><span class="lineno">  553</span>        {</div>
<div class="line"><span class="lineno">  554</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  555</span>        }</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span>        <span class="keywordflow">if</span> (!<span class="keywordtype">object</span> &amp;&amp; target &amp;&amp; target-&gt;IsConnected())</div>
<div class="line"><span class="lineno">  558</span>        {</div>
<div class="line"><span class="lineno">  559</span>            <span class="keywordtype">object</span> = target-&gt;GetConnectedPlayer();</div>
<div class="line"><span class="lineno">  560</span>        }</div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>        <span class="keywordflow">if</span> (!<span class="keywordtype">object</span>)</div>
<div class="line"><span class="lineno">  563</span>        {</div>
<div class="line"><span class="lineno">  564</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  565</span>        }</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>        <a class="code hl_struct" href="../../d2/df8/a08902.html">Cell</a> cell(<a class="code hl_function" href="../../d8/d20/a04686.html#af056a475dba505792191bc6e8c3370a5">Acore::ComputeCellCoord</a>(object-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ad5577c934d9e845b44759b67c534c3e8">GetPositionX</a>(), object-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ae79fc664f6cd027f5d49f6c7df8e4c9e">GetPositionY</a>()));</div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId, areaId;</div>
<div class="line"><span class="lineno">  570</span>        <span class="keywordtype">object</span>-&gt;GetZoneAndAreaId(zoneId, areaId);</div>
<div class="line"><span class="lineno">  571</span> </div>
<div class="line"><span class="lineno">  572</span>        <a class="code hl_struct" href="../../de/dbb/a27906.html">MapEntry</a> <span class="keyword">const</span>* mapEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#acbe166cef01fbaa320231e8ef42b25c6">sMapStore</a>.LookupEntry(object-&gt;<a class="code hl_function" href="../../d6/da3/a08310.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">GetMapId</a>());</div>
<div class="line"><span class="lineno">  573</span>        <a class="code hl_struct" href="../../dc/d28/a27670.html">AreaTableEntry</a> <span class="keyword">const</span>* zoneEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>.LookupEntry(zoneId);</div>
<div class="line"><span class="lineno">  574</span>        <a class="code hl_struct" href="../../dc/d28/a27670.html">AreaTableEntry</a> <span class="keyword">const</span>* areaEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>.LookupEntry(areaId);</div>
<div class="line"><span class="lineno">  575</span> </div>
<div class="line"><span class="lineno">  576</span>        <span class="keywordtype">float</span> zoneX = <span class="keywordtype">object</span>-&gt;GetPositionX();</div>
<div class="line"><span class="lineno">  577</span>        <span class="keywordtype">float</span> zoneY = <span class="keywordtype">object</span>-&gt;GetPositionY();</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>        <a class="code hl_function" href="../../d7/da2/a03704.html#a3102be8c4050f49639a6748f21fa55a1">Map2ZoneCoordinates</a>(zoneX, zoneY, zoneId);</div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>        <span class="keywordtype">float</span> groundZ = <span class="keywordtype">object</span>-&gt;GetMapHeight(object-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ad5577c934d9e845b44759b67c534c3e8">GetPositionX</a>(), object-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ae79fc664f6cd027f5d49f6c7df8e4c9e">GetPositionY</a>(), <a class="code hl_define" href="../../d2/d4c/a02828.html#a9059fa76eb5e8e86f870405d63e72c4c">MAX_HEIGHT</a>);</div>
<div class="line"><span class="lineno">  582</span>        <span class="keywordtype">float</span> floorZ = <span class="keywordtype">object</span>-&gt;GetMapHeight(object-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ad5577c934d9e845b44759b67c534c3e8">GetPositionX</a>(), object-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ae79fc664f6cd027f5d49f6c7df8e4c9e">GetPositionY</a>(), object-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#a4e813a59345a6275e8b87b96be03e60b">GetPositionZ</a>());</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>        <a class="code hl_struct" href="../../dd/d2b/a08922.html">GridCoord</a> gridCoord = <a class="code hl_function" href="../../d8/d20/a04686.html#a4bbdd5e55a789ab8b861c1205f122b0e">Acore::ComputeGridCoord</a>(object-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ad5577c934d9e845b44759b67c534c3e8">GetPositionX</a>(), object-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ae79fc664f6cd027f5d49f6c7df8e4c9e">GetPositionY</a>());</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span>        <span class="comment">// 63? WHY?</span></div>
<div class="line"><span class="lineno">  587</span>        <span class="keywordtype">int</span> gridX = 63 - gridCoord.<a class="code hl_variable" href="../../dd/d2b/a08922.html#a101dd71af6a2cba18140aea2e502ef8b">x_coord</a>;</div>
<div class="line"><span class="lineno">  588</span>        <span class="keywordtype">int</span> gridY = 63 - gridCoord.<a class="code hl_variable" href="../../dd/d2b/a08922.html#aacae12844cc0c0d70e26b137ad28f700">y_coord</a>;</div>
<div class="line"><span class="lineno">  589</span> </div>
<div class="line"><span class="lineno">  590</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> haveMap = <a class="code hl_function" href="../../df/dae/a09618.html#af4bc8b9c0155e3bf0becfcd7223047ca">Map::ExistMap</a>(object-&gt;<a class="code hl_function" href="../../d6/da3/a08310.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">GetMapId</a>(), gridX, gridY) ? 1 : 0;</div>
<div class="line"><span class="lineno">  591</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> haveVMap = <a class="code hl_function" href="../../df/dae/a09618.html#ae9af486229f55ffc58fb8d908b203771">Map::ExistVMap</a>(object-&gt;<a class="code hl_function" href="../../d6/da3/a08310.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">GetMapId</a>(), gridX, gridY) ? 1 : 0;</div>
<div class="line"><span class="lineno">  592</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> haveMMAP = <a class="code hl_function" href="../../dd/d60/a04878.html#aa7571dc833ba0d2dc6d8bc7bc4b47cdd">MMAP::MMapFactory::createOrGetMMapMgr</a>()-&gt;<a class="code hl_function" href="../../d1/d58/a04886.html#aeae84fe910639b71a40949de59e41c91">GetNavMesh</a>(handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../d6/da3/a08310.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">GetMapId</a>()) ? 1 : 0;</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>        <span class="keywordflow">if</span> (haveVMap)</div>
<div class="line"><span class="lineno">  595</span>        {</div>
<div class="line"><span class="lineno">  596</span>            <span class="keywordflow">if</span> (object-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7173e6e4dbc3b94da8fc25e791ff6c0e">IsOutdoors</a>())</div>
<div class="line"><span class="lineno">  597</span>            {</div>
<div class="line"><span class="lineno">  598</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;You are outdoors&quot;</span>);</div>
<div class="line"><span class="lineno">  599</span>            }</div>
<div class="line"><span class="lineno">  600</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  601</span>            {</div>
<div class="line"><span class="lineno">  602</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;You are indoors&quot;</span>);</div>
<div class="line"><span class="lineno">  603</span>            }</div>
<div class="line"><span class="lineno">  604</span>        }</div>
<div class="line"><span class="lineno">  605</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  606</span>        {</div>
<div class="line"><span class="lineno">  607</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;no VMAP available for area info&quot;</span>);</div>
<div class="line"><span class="lineno">  608</span>        }</div>
<div class="line"><span class="lineno">  609</span> </div>
<div class="line"><span class="lineno">  610</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aadf2c1878a614ff53bd58e412f5b27a3b">LANG_MAP_POSITION</a>,</div>
<div class="line"><span class="lineno">  611</span>                                 object-&gt;<a class="code hl_function" href="../../d6/da3/a08310.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">GetMapId</a>(), (mapEntry ? mapEntry-&gt;<a class="code hl_variable" href="../../de/dbb/a27906.html#a91e885a7b5d19824156187fb749f449b">name</a>[handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a6cfa4cd171866cacb272e996aa75e487">GetSessionDbcLocale</a>()] : <span class="stringliteral">&quot;&lt;unknown&gt;&quot;</span>),</div>
<div class="line"><span class="lineno">  612</span>                                 zoneId, (zoneEntry ? zoneEntry-&gt;<a class="code hl_variable" href="../../dc/d28/a27670.html#a87653e6b7f7368a59af7adaf77a49e10">area_name</a>[handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a6cfa4cd171866cacb272e996aa75e487">GetSessionDbcLocale</a>()] : <span class="stringliteral">&quot;&lt;unknown&gt;&quot;</span>),</div>
<div class="line"><span class="lineno">  613</span>                                 areaId, (areaEntry ? areaEntry-&gt;<a class="code hl_variable" href="../../dc/d28/a27670.html#a87653e6b7f7368a59af7adaf77a49e10">area_name</a>[handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a6cfa4cd171866cacb272e996aa75e487">GetSessionDbcLocale</a>()] : <span class="stringliteral">&quot;&lt;unknown&gt;&quot;</span>),</div>
<div class="line"><span class="lineno">  614</span>                                 object-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a0a471b58ac8905281008aa4a730c4093">GetPhaseMask</a>(),</div>
<div class="line"><span class="lineno">  615</span>                                 object-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ad5577c934d9e845b44759b67c534c3e8">GetPositionX</a>(), object-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ae79fc664f6cd027f5d49f6c7df8e4c9e">GetPositionY</a>(), object-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#a4e813a59345a6275e8b87b96be03e60b">GetPositionZ</a>(), object-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#a74cabfb8f441acb38e1abd5bf6ecdc84">GetOrientation</a>(),</div>
<div class="line"><span class="lineno">  616</span>                                 cell.GridX(), cell.GridY(), cell.CellX(), cell.CellY(), object-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a664e99edd35c98e8eb7f67476aa8082d">GetInstanceId</a>(),</div>
<div class="line"><span class="lineno">  617</span>                                 zoneX, zoneY, groundZ, floorZ, haveMap, haveVMap, haveMMAP);</div>
<div class="line"><span class="lineno">  618</span> </div>
<div class="line"><span class="lineno">  619</span>        <a class="code hl_struct" href="../../d0/d13/a09590.html">LiquidData</a> <span class="keyword">const</span>&amp; liquidData = <span class="keywordtype">object</span>-&gt;GetLiquidData();</div>
<div class="line"><span class="lineno">  620</span> </div>
<div class="line"><span class="lineno">  621</span>        <span class="keywordflow">if</span> (liquidData.<a class="code hl_variable" href="../../d0/d13/a09590.html#acb79cdfb4221f158ce9b29127591a8a9">Status</a>)</div>
<div class="line"><span class="lineno">  622</span>        {</div>
<div class="line"><span class="lineno">  623</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa3ed2a9aac397318e9454e6b908ed41be">LANG_LIQUID_STATUS</a>, liquidData.<a class="code hl_variable" href="../../d0/d13/a09590.html#a7c596e921e383bbdbdacbcd4307fe380">Level</a>, liquidData.<a class="code hl_variable" href="../../d0/d13/a09590.html#ad84c7763a6253db7ae6117ecc7144f1d">DepthLevel</a>, liquidData.<a class="code hl_variable" href="../../d0/d13/a09590.html#abfed22cb0e920067c0f86a0083ef4ab6">Entry</a>, liquidData.<a class="code hl_variable" href="../../d0/d13/a09590.html#aa0903ec4233bcfa34494cea5068cd19c">Flags</a>, liquidData.<a class="code hl_variable" href="../../d0/d13/a09590.html#acb79cdfb4221f158ce9b29127591a8a9">Status</a>);</div>
<div class="line"><span class="lineno">  624</span>        }</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>        <span class="keywordflow">if</span> (object-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a9ffd4691b1ebdb5011e800739b4dd4f5">GetTransport</a>())</div>
<div class="line"><span class="lineno">  627</span>        {</div>
<div class="line"><span class="lineno">  628</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Transport offset: {:0.2f}, {:0.2f}, {:0.2f}, {:0.2f}&quot;</span>, object-&gt;<a class="code hl_variable" href="../../de/d0d/a08250.html#ad7f9a1627d3568f34c381027145f39ee">m_movementInfo</a>.<a class="code hl_variable" href="../../d6/dc8/a08226.html#ac2b0f738ec695f4c9f032daad3e1f041">transport</a>.<a class="code hl_variable" href="../../d3/d07/a08230.html#adff317cbf0c2d159d8ffddf52b4751b3">pos</a>.<a class="code hl_function" href="../../d8/d21/a08294.html#ad5577c934d9e845b44759b67c534c3e8">GetPositionX</a>(), object-&gt;<a class="code hl_variable" href="../../de/d0d/a08250.html#ad7f9a1627d3568f34c381027145f39ee">m_movementInfo</a>.<a class="code hl_variable" href="../../d6/dc8/a08226.html#ac2b0f738ec695f4c9f032daad3e1f041">transport</a>.<a class="code hl_variable" href="../../d3/d07/a08230.html#adff317cbf0c2d159d8ffddf52b4751b3">pos</a>.<a class="code hl_function" href="../../d8/d21/a08294.html#ae79fc664f6cd027f5d49f6c7df8e4c9e">GetPositionY</a>(), object-&gt;<a class="code hl_variable" href="../../de/d0d/a08250.html#ad7f9a1627d3568f34c381027145f39ee">m_movementInfo</a>.<a class="code hl_variable" href="../../d6/dc8/a08226.html#ac2b0f738ec695f4c9f032daad3e1f041">transport</a>.<a class="code hl_variable" href="../../d3/d07/a08230.html#adff317cbf0c2d159d8ffddf52b4751b3">pos</a>.<a class="code hl_function" href="../../d8/d21/a08294.html#a4e813a59345a6275e8b87b96be03e60b">GetPositionZ</a>(), object-&gt;<a class="code hl_variable" href="../../de/d0d/a08250.html#ad7f9a1627d3568f34c381027145f39ee">m_movementInfo</a>.<a class="code hl_variable" href="../../d6/dc8/a08226.html#ac2b0f738ec695f4c9f032daad3e1f041">transport</a>.<a class="code hl_variable" href="../../d3/d07/a08230.html#adff317cbf0c2d159d8ffddf52b4751b3">pos</a>.<a class="code hl_function" href="../../d8/d21/a08294.html#a74cabfb8f441acb38e1abd5bf6ecdc84">GetOrientation</a>());</div>
<div class="line"><span class="lineno">  629</span>        }</div>
<div class="line"><span class="lineno">  630</span> </div>
<div class="line"><span class="lineno">  631</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  632</span>    }</div>
<div class="ttc" id="aa02828_html_a9059fa76eb5e8e86f870405d63e72c4c"><div class="ttname"><a href="../../d2/d4c/a02828.html#a9059fa76eb5e8e86f870405d63e72c4c">MAX_HEIGHT</a></div><div class="ttdeci">#define MAX_HEIGHT</div><div class="ttdef"><b>Definition:</b> Map.h:162</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa3ed2a9aac397318e9454e6b908ed41be"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa3ed2a9aac397318e9454e6b908ed41be">LANG_LIQUID_STATUS</a></div><div class="ttdeci">@ LANG_LIQUID_STATUS</div><div class="ttdef"><b>Definition:</b> Language.h:215</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aadf2c1878a614ff53bd58e412f5b27a3b"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aadf2c1878a614ff53bd58e412f5b27a3b">LANG_MAP_POSITION</a></div><div class="ttdeci">@ LANG_MAP_POSITION</div><div class="ttdef"><b>Definition:</b> Language.h:133</div></div>
<div class="ttc" id="aa03704_html_a3102be8c4050f49639a6748f21fa55a1"><div class="ttname"><a href="../../d7/da2/a03704.html#a3102be8c4050f49639a6748f21fa55a1">Map2ZoneCoordinates</a></div><div class="ttdeci">void Map2ZoneCoordinates(float &amp;x, float &amp;y, uint32 zone)</div><div class="ttdef"><b>Definition:</b> DBCStores.cpp:748</div></div>
<div class="ttc" id="aa03704_html_acbe166cef01fbaa320231e8ef42b25c6"><div class="ttname"><a href="../../d7/da2/a03704.html#acbe166cef01fbaa320231e8ef42b25c6">sMapStore</a></div><div class="ttdeci">DBCStorage&lt; MapEntry &gt; sMapStore(MapEntryfmt)</div></div>
<div class="ttc" id="aa03704_html_aedcdbef7c215330459e17b2f224ff0e3"><div class="ttname"><a href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a></div><div class="ttdeci">DBCStorage&lt; AreaTableEntry &gt; sAreaTableStore(AreaTableEntryfmt)</div></div>
<div class="ttc" id="aa04686_html_a4bbdd5e55a789ab8b861c1205f122b0e"><div class="ttname"><a href="../../d8/d20/a04686.html#a4bbdd5e55a789ab8b861c1205f122b0e">Acore::ComputeGridCoord</a></div><div class="ttdeci">GridCoord ComputeGridCoord(float x, float y)</div><div class="ttdef"><b>Definition:</b> GridDefines.h:185</div></div>
<div class="ttc" id="aa04686_html_af056a475dba505792191bc6e8c3370a5"><div class="ttname"><a href="../../d8/d20/a04686.html#af056a475dba505792191bc6e8c3370a5">Acore::ComputeCellCoord</a></div><div class="ttdeci">CellCoord ComputeCellCoord(float x, float y)</div><div class="ttdef"><b>Definition:</b> GridDefines.h:190</div></div>
<div class="ttc" id="aa04878_html_aa7571dc833ba0d2dc6d8bc7bc4b47cdd"><div class="ttname"><a href="../../dd/d60/a04878.html#aa7571dc833ba0d2dc6d8bc7bc4b47cdd">MMAP::MMapFactory::createOrGetMMapMgr</a></div><div class="ttdeci">static MMapMgr * createOrGetMMapMgr()</div><div class="ttdef"><b>Definition:</b> MMapFactory.cpp:27</div></div>
<div class="ttc" id="aa04886_html_aeae84fe910639b71a40949de59e41c91"><div class="ttname"><a href="../../d1/d58/a04886.html#aeae84fe910639b71a40949de59e41c91">MMAP::MMapMgr::GetNavMesh</a></div><div class="ttdeci">dtNavMesh const * GetNavMesh(uint32 mapId)</div><div class="ttdef"><b>Definition:</b> MMapMgr.cpp:306</div></div>
<div class="ttc" id="aa08226_html_ac2b0f738ec695f4c9f032daad3e1f041"><div class="ttname"><a href="../../d6/dc8/a08226.html#ac2b0f738ec695f4c9f032daad3e1f041">MovementInfo::transport</a></div><div class="ttdeci">struct MovementInfo::TransportInfo transport</div></div>
<div class="ttc" id="aa08230_html_adff317cbf0c2d159d8ffddf52b4751b3"><div class="ttname"><a href="../../d3/d07/a08230.html#adff317cbf0c2d159d8ffddf52b4751b3">MovementInfo::TransportInfo::pos</a></div><div class="ttdeci">Position pos</div><div class="ttdef"><b>Definition:</b> Object.h:302</div></div>
<div class="ttc" id="aa08250_html_a0a471b58ac8905281008aa4a730c4093"><div class="ttname"><a href="../../de/d0d/a08250.html#a0a471b58ac8905281008aa4a730c4093">WorldObject::GetPhaseMask</a></div><div class="ttdeci">uint32 GetPhaseMask() const</div><div class="ttdef"><b>Definition:</b> Object.h:451</div></div>
<div class="ttc" id="aa08250_html_a664e99edd35c98e8eb7f67476aa8082d"><div class="ttname"><a href="../../de/d0d/a08250.html#a664e99edd35c98e8eb7f67476aa8082d">WorldObject::GetInstanceId</a></div><div class="ttdeci">uint32 GetInstanceId() const</div><div class="ttdef"><b>Definition:</b> Object.h:448</div></div>
<div class="ttc" id="aa08250_html_a7173e6e4dbc3b94da8fc25e791ff6c0e"><div class="ttname"><a href="../../de/d0d/a08250.html#a7173e6e4dbc3b94da8fc25e791ff6c0e">WorldObject::IsOutdoors</a></div><div class="ttdeci">bool IsOutdoors() const</div><div class="ttdef"><b>Definition:</b> Object.cpp:3184</div></div>
<div class="ttc" id="aa08250_html_a9ffd4691b1ebdb5011e800739b4dd4f5"><div class="ttname"><a href="../../de/d0d/a08250.html#a9ffd4691b1ebdb5011e800739b4dd4f5">WorldObject::GetTransport</a></div><div class="ttdeci">Transport * GetTransport() const</div><div class="ttdef"><b>Definition:</b> Object.h:597</div></div>
<div class="ttc" id="aa08250_html_ad7f9a1627d3568f34c381027145f39ee"><div class="ttname"><a href="../../de/d0d/a08250.html#ad7f9a1627d3568f34c381027145f39ee">WorldObject::m_movementInfo</a></div><div class="ttdeci">MovementInfo m_movementInfo</div><div class="ttdef"><b>Definition:</b> Object.h:607</div></div>
<div class="ttc" id="aa08310_html_a2682e56ae4f0ce4b517a8ba3cd2798b1"><div class="ttname"><a href="../../d6/da3/a08310.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">WorldLocation::GetMapId</a></div><div class="ttdeci">uint32 GetMapId() const</div><div class="ttdef"><b>Definition:</b> Position.h:275</div></div>
<div class="ttc" id="aa08902_html"><div class="ttname"><a href="../../d2/df8/a08902.html">Cell</a></div><div class="ttdef"><b>Definition:</b> Cell.h:45</div></div>
<div class="ttc" id="aa08922_html"><div class="ttname"><a href="../../dd/d2b/a08922.html">CoordPair</a></div><div class="ttdef"><b>Definition:</b> GridDefines.h:85</div></div>
<div class="ttc" id="aa08922_html_a101dd71af6a2cba18140aea2e502ef8b"><div class="ttname"><a href="../../dd/d2b/a08922.html#a101dd71af6a2cba18140aea2e502ef8b">CoordPair::x_coord</a></div><div class="ttdeci">uint32 x_coord</div><div class="ttdef"><b>Definition:</b> GridDefines.h:152</div></div>
<div class="ttc" id="aa08922_html_aacae12844cc0c0d70e26b137ad28f700"><div class="ttname"><a href="../../dd/d2b/a08922.html#aacae12844cc0c0d70e26b137ad28f700">CoordPair::y_coord</a></div><div class="ttdeci">uint32 y_coord</div><div class="ttdef"><b>Definition:</b> GridDefines.h:153</div></div>
<div class="ttc" id="aa09590_html"><div class="ttname"><a href="../../d0/d13/a09590.html">LiquidData</a></div><div class="ttdef"><b>Definition:</b> Map.h:169</div></div>
<div class="ttc" id="aa09590_html_a7c596e921e383bbdbdacbcd4307fe380"><div class="ttname"><a href="../../d0/d13/a09590.html#a7c596e921e383bbdbdacbcd4307fe380">LiquidData::Level</a></div><div class="ttdeci">float Level</div><div class="ttdef"><b>Definition:</b> Map.h:174</div></div>
<div class="ttc" id="aa09590_html_aa0903ec4233bcfa34494cea5068cd19c"><div class="ttname"><a href="../../d0/d13/a09590.html#aa0903ec4233bcfa34494cea5068cd19c">LiquidData::Flags</a></div><div class="ttdeci">uint32 Flags</div><div class="ttdef"><b>Definition:</b> Map.h:173</div></div>
<div class="ttc" id="aa09590_html_abfed22cb0e920067c0f86a0083ef4ab6"><div class="ttname"><a href="../../d0/d13/a09590.html#abfed22cb0e920067c0f86a0083ef4ab6">LiquidData::Entry</a></div><div class="ttdeci">uint32 Entry</div><div class="ttdef"><b>Definition:</b> Map.h:172</div></div>
<div class="ttc" id="aa09590_html_acb79cdfb4221f158ce9b29127591a8a9"><div class="ttname"><a href="../../d0/d13/a09590.html#acb79cdfb4221f158ce9b29127591a8a9">LiquidData::Status</a></div><div class="ttdeci">LiquidStatus Status</div><div class="ttdef"><b>Definition:</b> Map.h:176</div></div>
<div class="ttc" id="aa09590_html_ad84c7763a6253db7ae6117ecc7144f1d"><div class="ttname"><a href="../../d0/d13/a09590.html#ad84c7763a6253db7ae6117ecc7144f1d">LiquidData::DepthLevel</a></div><div class="ttdeci">float DepthLevel</div><div class="ttdef"><b>Definition:</b> Map.h:175</div></div>
<div class="ttc" id="aa09618_html_ae9af486229f55ffc58fb8d908b203771"><div class="ttname"><a href="../../df/dae/a09618.html#ae9af486229f55ffc58fb8d908b203771">Map::ExistVMap</a></div><div class="ttdeci">static bool ExistVMap(uint32 mapid, int gx, int gy)</div><div class="ttdef"><b>Definition:</b> Map.cpp:119</div></div>
<div class="ttc" id="aa09618_html_af4bc8b9c0155e3bf0becfcd7223047ca"><div class="ttname"><a href="../../df/dae/a09618.html#af4bc8b9c0155e3bf0becfcd7223047ca">Map::ExistMap</a></div><div class="ttdeci">static bool ExistMap(uint32 mapid, int gx, int gy)</div><div class="ttdef"><b>Definition:</b> Map.cpp:88</div></div>
<div class="ttc" id="aa27670_html"><div class="ttname"><a href="../../dc/d28/a27670.html">AreaTableEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:518</div></div>
<div class="ttc" id="aa27670_html_a87653e6b7f7368a59af7adaf77a49e10"><div class="ttname"><a href="../../dc/d28/a27670.html#a87653e6b7f7368a59af7adaf77a49e10">AreaTableEntry::area_name</a></div><div class="ttdeci">char const  * area_name[16]</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:526</div></div>
<div class="ttc" id="aa27906_html"><div class="ttname"><a href="../../de/dbb/a27906.html">MapEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1324</div></div>
<div class="ttc" id="aa27906_html_a91e885a7b5d19824156187fb749f449b"><div class="ttname"><a href="../../de/dbb/a27906.html#a91e885a7b5d19824156187fb749f449b">MapEntry::name</a></div><div class="ttdeci">char const  * name[16]</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1330</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00526">AreaTableEntry::area_name</a>, <a class="el" href="../../#l00069">Cell::CellX()</a>, <a class="el" href="../../#l00070">Cell::CellY()</a>, <a class="el" href="../../#l00190">Acore::ComputeCellCoord()</a>, <a class="el" href="../../#l00185">Acore::ComputeGridCoord()</a>, <a class="el" href="../../#l00027">MMAP::MMapFactory::createOrGetMMapMgr()</a>, <a class="el" href="../../#l00175">LiquidData::DepthLevel</a>, <a class="el" href="../../#l00172">LiquidData::Entry</a>, <a class="el" href="../../#l00088">Map::ExistMap()</a>, <a class="el" href="../../#l00119">Map::ExistVMap()</a>, <a class="el" href="../../#l00173">LiquidData::Flags</a>, <a class="el" href="../../#l00184">Acore::ChatCommands::PlayerIdentifier::FromTargetOrSelf()</a>, <a class="el" href="../../#l00448">WorldObject::GetInstanceId()</a>, <a class="el" href="../../#l00275">WorldLocation::GetMapId()</a>, <a class="el" href="../../#l00306">MMAP::MMapMgr::GetNavMesh()</a>, <a class="el" href="../../#l00119">Position::GetOrientation()</a>, <a class="el" href="../../#l00451">WorldObject::GetPhaseMask()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00116">Position::GetPositionX()</a>, <a class="el" href="../../#l00117">Position::GetPositionY()</a>, <a class="el" href="../../#l00118">Position::GetPositionZ()</a>, <a class="el" href="../../#l00385">ChatHandler::getSelectedUnit()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00869">ChatHandler::GetSessionDbcLocale()</a>, <a class="el" href="../../#l00597">WorldObject::GetTransport()</a>, <a class="el" href="../../#l00071">Cell::GridX()</a>, <a class="el" href="../../#l00072">Cell::GridY()</a>, <a class="el" href="../../#l03184">WorldObject::IsOutdoors()</a>, <a class="el" href="../../#l00215">LANG_LIQUID_STATUS</a>, <a class="el" href="../../#l00133">LANG_MAP_POSITION</a>, <a class="el" href="../../#l00174">LiquidData::Level</a>, <a class="el" href="../../#l00607">WorldObject::m_movementInfo</a>, <a class="el" href="../../#l00748">Map2ZoneCoordinates()</a>, <a class="el" href="../../#l00162">MAX_HEIGHT</a>, <a class="el" href="../../#l01330">MapEntry::name</a>, <a class="el" href="../../#l00302">MovementInfo::TransportInfo::pos</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>, <a class="el" href="../../d7/da2/a03704.html#acbe166cef01fbaa320231e8ef42b25c6">sMapStore</a>, <a class="el" href="../../#l00176">LiquidData::Status</a>, <a class="el" href="../../d6/dc8/a08226.html#ac2b0f738ec695f4c9f032daad3e1f041">MovementInfo::transport</a>, <a class="el" href="../../#l00152">CoordPair&lt; LIMIT &gt;::x_coord</a>, and <a class="el" href="../../#l00153">CoordPair&lt; LIMIT &gt;::y_coord</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="acb839c6d840c7a8f9b0c01435420b0ad" name="acb839c6d840c7a8f9b0c01435420b0ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb839c6d840c7a8f9b0c01435420b0ad">&#9670;&#160;</a></span>HandleGroupSummonCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleGroupSummonCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1011</span>    {</div>
<div class="line"><span class="lineno"> 1012</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno"> 1013</span>        {</div>
<div class="line"><span class="lineno"> 1014</span>            target = <a class="code hl_function" href="../../de/d8a/a07550.html#a617834cc8474970950b45066f2e86dbd">PlayerIdentifier::FromTargetOrSelf</a>(handler);</div>
<div class="line"><span class="lineno"> 1015</span>        }</div>
<div class="line"><span class="lineno"> 1016</span> </div>
<div class="line"><span class="lineno"> 1017</span>        <span class="keywordflow">if</span> (!target || !target-&gt;IsConnected())</div>
<div class="line"><span class="lineno"> 1018</span>        {</div>
<div class="line"><span class="lineno"> 1019</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1020</span>        }</div>
<div class="line"><span class="lineno"> 1021</span> </div>
<div class="line"><span class="lineno"> 1022</span>        <span class="comment">// check online security</span></div>
<div class="line"><span class="lineno"> 1023</span>        <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#afacb4b59756372ec32810be0d46da49c">HasLowerSecurity</a>(target-&gt;GetConnectedPlayer()))</div>
<div class="line"><span class="lineno"> 1024</span>        {</div>
<div class="line"><span class="lineno"> 1025</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1026</span>        }</div>
<div class="line"><span class="lineno"> 1027</span> </div>
<div class="line"><span class="lineno"> 1028</span>        <span class="keyword">auto</span> targetPlayer = target-&gt;GetConnectedPlayer();</div>
<div class="line"><span class="lineno"> 1029</span> </div>
<div class="line"><span class="lineno"> 1030</span>        <a class="code hl_class" href="../../da/d5b/a09282.html">Group</a>* group = targetPlayer-&gt;GetGroup();</div>
<div class="line"><span class="lineno"> 1031</span> </div>
<div class="line"><span class="lineno"> 1032</span>        std::string nameLink = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a52c15179ec3eff1b6bb9551d96a8b901">playerLink</a>(target-&gt;GetName());</div>
<div class="line"><span class="lineno"> 1033</span> </div>
<div class="line"><span class="lineno"> 1034</span>        <span class="keywordflow">if</span> (!group)</div>
<div class="line"><span class="lineno"> 1035</span>        {</div>
<div class="line"><span class="lineno"> 1036</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa3ce6ad5923b24caf00ca2d8d3fb4599c">LANG_NOT_IN_GROUP</a>, nameLink);</div>
<div class="line"><span class="lineno"> 1037</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1038</span>        }</div>
<div class="line"><span class="lineno"> 1039</span> </div>
<div class="line"><span class="lineno"> 1040</span>        <a class="code hl_class" href="../../df/dae/a09618.html">Map</a>* gmMap = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1013c27be4347a1b1a4a986a07456deb">GetMap</a>();</div>
<div class="line"><span class="lineno"> 1041</span>        <span class="keywordtype">bool</span> toInstance = gmMap-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#aae3a929aefb05046ef304ffba10aae71">Instanceable</a>();</div>
<div class="line"><span class="lineno"> 1042</span> </div>
<div class="line"><span class="lineno"> 1043</span>        <span class="comment">// we are in instance, and can summon only player in our group with us as lead</span></div>
<div class="line"><span class="lineno"> 1044</span>        <span class="keywordflow">if</span> (toInstance &amp;&amp; (</div>
<div class="line"><span class="lineno"> 1045</span>                    !handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>() || (group-&gt;<a class="code hl_function" href="../../da/d5b/a09282.html#ae13d8553fff889200d9ab2fa660adc5b">GetLeaderGUID</a>() != handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()) ||</div>
<div class="line"><span class="lineno"> 1046</span>                    (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>()-&gt;<a class="code hl_function" href="../../da/d5b/a09282.html#ae13d8553fff889200d9ab2fa660adc5b">GetLeaderGUID</a>() != handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>())))</div>
<div class="line"><span class="lineno"> 1047</span>            <span class="comment">// the last check is a bit excessive, but let it be, just in case</span></div>
<div class="line"><span class="lineno"> 1048</span>        {</div>
<div class="line"><span class="lineno"> 1049</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa922ff41a014813a8291fe49818f36fd2">LANG_CANNOT_SUMMON_TO_INST</a>);</div>
<div class="line"><span class="lineno"> 1050</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1051</span>        }</div>
<div class="line"><span class="lineno"> 1052</span> </div>
<div class="line"><span class="lineno"> 1053</span>        <span class="keywordflow">for</span> (<a class="code hl_class" href="../../dc/d37/a09294.html">GroupReference</a>* itr = group-&gt;<a class="code hl_function" href="../../da/d5b/a09282.html#ab86a2772b15a7f7a72703b7a5593cb1e">GetFirstMember</a>(); itr != <span class="keyword">nullptr</span>; itr = itr-&gt;<a class="code hl_function" href="../../dc/d37/a09294.html#a6f8f406f1209dd7060904d40f5424b41">next</a>())</div>
<div class="line"><span class="lineno"> 1054</span>        {</div>
<div class="line"><span class="lineno"> 1055</span>            <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = itr-&gt;GetSource();</div>
<div class="line"><span class="lineno"> 1056</span> </div>
<div class="line"><span class="lineno"> 1057</span>            <span class="keywordflow">if</span> (!player || player == handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>() || !player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>())</div>
<div class="line"><span class="lineno"> 1058</span>            {</div>
<div class="line"><span class="lineno"> 1059</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1060</span>            }</div>
<div class="line"><span class="lineno"> 1061</span> </div>
<div class="line"><span class="lineno"> 1062</span>            <span class="comment">// check online security</span></div>
<div class="line"><span class="lineno"> 1063</span>            <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#afacb4b59756372ec32810be0d46da49c">HasLowerSecurity</a>(player))</div>
<div class="line"><span class="lineno"> 1064</span>            {</div>
<div class="line"><span class="lineno"> 1065</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1066</span>            }</div>
<div class="line"><span class="lineno"> 1067</span> </div>
<div class="line"><span class="lineno"> 1068</span>            std::string plNameLink = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a0e2b0a9da9e25f17c2f995505eeea940">GetNameLink</a>(player);</div>
<div class="line"><span class="lineno"> 1069</span> </div>
<div class="line"><span class="lineno"> 1070</span>            <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#af66560315fcbe492a24137bc8d96dd94">IsBeingTeleported</a>())</div>
<div class="line"><span class="lineno"> 1071</span>            {</div>
<div class="line"><span class="lineno"> 1072</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa3e5510ae8145e38bf177092840252466">LANG_IS_TELEPORTED</a>, plNameLink);</div>
<div class="line"><span class="lineno"> 1073</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1074</span>            }</div>
<div class="line"><span class="lineno"> 1075</span> </div>
<div class="line"><span class="lineno"> 1076</span>            <span class="keywordflow">if</span> (toInstance)</div>
<div class="line"><span class="lineno"> 1077</span>            {</div>
<div class="line"><span class="lineno"> 1078</span>                <a class="code hl_class" href="../../df/dae/a09618.html">Map</a>* playerMap = player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1013c27be4347a1b1a4a986a07456deb">GetMap</a>();</div>
<div class="line"><span class="lineno"> 1079</span> </div>
<div class="line"><span class="lineno"> 1080</span>                <span class="keywordflow">if</span> (playerMap-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#aae3a929aefb05046ef304ffba10aae71">Instanceable</a>() &amp;&amp; playerMap-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#ae0451da49ca7ce3b856f38870c451e44">GetInstanceId</a>() != gmMap-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#ae0451da49ca7ce3b856f38870c451e44">GetInstanceId</a>())</div>
<div class="line"><span class="lineno"> 1081</span>                {</div>
<div class="line"><span class="lineno"> 1082</span>                    <span class="comment">// cannot summon from instance to instance</span></div>
<div class="line"><span class="lineno"> 1083</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa922ff41a014813a8291fe49818f36fd2">LANG_CANNOT_SUMMON_TO_INST</a>, plNameLink);</div>
<div class="line"><span class="lineno"> 1084</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1085</span>                }</div>
<div class="line"><span class="lineno"> 1086</span>            }</div>
<div class="line"><span class="lineno"> 1087</span> </div>
<div class="line"><span class="lineno"> 1088</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1458d1b4d2d24ff028a2625674284bf2">LANG_SUMMONING</a>, plNameLink, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1089</span>            <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#acfb8fb0453dd4025de15a909f78b206c">needReportToTarget</a>(player))</div>
<div class="line"><span class="lineno"> 1090</span>            {</div>
<div class="line"><span class="lineno"> 1091</span>                <a class="code hl_class" href="../../d4/d99/a07362.html">ChatHandler</a>(player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()).<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab0735d34e9aa3a9e892a4b92172b730f">LANG_SUMMONED_BY</a>, handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a0e2b0a9da9e25f17c2f995505eeea940">GetNameLink</a>());</div>
<div class="line"><span class="lineno"> 1092</span>            }</div>
<div class="line"><span class="lineno"> 1093</span> </div>
<div class="line"><span class="lineno"> 1094</span>            <span class="comment">// stop flight if need</span></div>
<div class="line"><span class="lineno"> 1095</span>            <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a85b547eedd208db5f9dddc5f75a1a211">IsInFlight</a>())</div>
<div class="line"><span class="lineno"> 1096</span>            {</div>
<div class="line"><span class="lineno"> 1097</span>                player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a4a04a3f22c3b0d6f4933993ac0cc7aa4">GetMotionMaster</a>()-&gt;<a class="code hl_function" href="../../d8/dc2/a09730.html#a6717ae922b894d482bf6358aa99bacb4">MovementExpired</a>();</div>
<div class="line"><span class="lineno"> 1098</span>                player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ae8ffeb918f113b64fd8831e357aea875">CleanupAfterTaxiFlight</a>();</div>
<div class="line"><span class="lineno"> 1099</span>            }</div>
<div class="line"><span class="lineno"> 1100</span>            <span class="comment">// save only in non-flight case</span></div>
<div class="line"><span class="lineno"> 1101</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1102</span>            {</div>
<div class="line"><span class="lineno"> 1103</span>                player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a73666fc2dd6eab0f34626a0811925fab">SaveRecallPosition</a>();</div>
<div class="line"><span class="lineno"> 1104</span>            }</div>
<div class="line"><span class="lineno"> 1105</span> </div>
<div class="line"><span class="lineno"> 1106</span>            <span class="comment">// before GM</span></div>
<div class="line"><span class="lineno"> 1107</span>            <span class="keywordtype">float</span> x, y, z;</div>
<div class="line"><span class="lineno"> 1108</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7b65f5354be0a698bf59435f5434709a">GetClosePoint</a>(x, y, z, player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#ae3ccd7ee8fcb156805c61b83e5c016ae">GetObjectSize</a>());</div>
<div class="line"><span class="lineno"> 1109</span>            player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#aa2eae30c1e0af118b9a6b5db0a1929b7">TeleportTo</a>(handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../d6/da3/a08310.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">GetMapId</a>(), x, y, z, player-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#a74cabfb8f441acb38e1abd5bf6ecdc84">GetOrientation</a>(), 0, handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>());</div>
<div class="line"><span class="lineno"> 1110</span>        }</div>
<div class="line"><span class="lineno"> 1111</span> </div>
<div class="line"><span class="lineno"> 1112</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1113</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa1458d1b4d2d24ff028a2625674284bf2"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1458d1b4d2d24ff028a2625674284bf2">LANG_SUMMONING</a></div><div class="ttdeci">@ LANG_SUMMONING</div><div class="ttdef"><b>Definition:</b> Language.h:140</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa3ce6ad5923b24caf00ca2d8d3fb4599c"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa3ce6ad5923b24caf00ca2d8d3fb4599c">LANG_NOT_IN_GROUP</a></div><div class="ttdeci">@ LANG_NOT_IN_GROUP</div><div class="ttdef"><b>Definition:</b> Language.h:149</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa3e5510ae8145e38bf177092840252466"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa3e5510ae8145e38bf177092840252466">LANG_IS_TELEPORTED</a></div><div class="ttdeci">@ LANG_IS_TELEPORTED</div><div class="ttdef"><b>Definition:</b> Language.h:134</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa922ff41a014813a8291fe49818f36fd2"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa922ff41a014813a8291fe49818f36fd2">LANG_CANNOT_SUMMON_TO_INST</a></div><div class="ttdeci">@ LANG_CANNOT_SUMMON_TO_INST</div><div class="ttdef"><b>Definition:</b> Language.h:135</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aab0735d34e9aa3a9e892a4b92172b730f"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab0735d34e9aa3a9e892a4b92172b730f">LANG_SUMMONED_BY</a></div><div class="ttdeci">@ LANG_SUMMONED_BY</div><div class="ttdef"><b>Definition:</b> Language.h:141</div></div>
<div class="ttc" id="aa07362_html"><div class="ttname"><a href="../../d4/d99/a07362.html">ChatHandler</a></div><div class="ttdef"><b>Definition:</b> Chat.h:37</div></div>
<div class="ttc" id="aa07362_html_acfb8fb0453dd4025de15a909f78b206c"><div class="ttname"><a href="../../d4/d99/a07362.html#acfb8fb0453dd4025de15a909f78b206c">ChatHandler::needReportToTarget</a></div><div class="ttdeci">virtual bool needReportToTarget(Player *chr) const</div><div class="ttdef"><b>Definition:</b> Chat.cpp:863</div></div>
<div class="ttc" id="aa08250_html_a7b65f5354be0a698bf59435f5434709a"><div class="ttname"><a href="../../de/d0d/a08250.html#a7b65f5354be0a698bf59435f5434709a">WorldObject::GetClosePoint</a></div><div class="ttdeci">bool GetClosePoint(float &amp;x, float &amp;y, float &amp;z, float size, float distance2d=0, float angle=0, WorldObject const *forWho=nullptr, bool force=false) const</div><div class="ttdef"><b>Definition:</b> Object.cpp:2712</div></div>
<div class="ttc" id="aa08250_html_ae3ccd7ee8fcb156805c61b83e5c016ae"><div class="ttname"><a href="../../de/d0d/a08250.html#ae3ccd7ee8fcb156805c61b83e5c016ae">WorldObject::GetObjectSize</a></div><div class="ttdeci">float GetObjectSize() const</div><div class="ttdef"><b>Definition:</b> Object.cpp:2784</div></div>
<div class="ttc" id="aa08466_html_af66560315fcbe492a24137bc8d96dd94"><div class="ttname"><a href="../../dc/d06/a08466.html#af66560315fcbe492a24137bc8d96dd94">Player::IsBeingTeleported</a></div><div class="ttdeci">bool IsBeingTeleported() const</div><div class="ttdef"><b>Definition:</b> Player.h:2093</div></div>
<div class="ttc" id="aa09282_html"><div class="ttname"><a href="../../da/d5b/a09282.html">Group</a></div><div class="ttdef"><b>Definition:</b> Group.h:169</div></div>
<div class="ttc" id="aa09282_html_ab86a2772b15a7f7a72703b7a5593cb1e"><div class="ttname"><a href="../../da/d5b/a09282.html#ab86a2772b15a7f7a72703b7a5593cb1e">Group::GetFirstMember</a></div><div class="ttdeci">GroupReference * GetFirstMember()</div><div class="ttdef"><b>Definition:</b> Group.h:243</div></div>
<div class="ttc" id="aa09282_html_ae13d8553fff889200d9ab2fa660adc5b"><div class="ttname"><a href="../../da/d5b/a09282.html#ae13d8553fff889200d9ab2fa660adc5b">Group::GetLeaderGUID</a></div><div class="ttdeci">ObjectGuid GetLeaderGUID() const</div><div class="ttdef"><b>Definition:</b> Group.cpp:2292</div></div>
<div class="ttc" id="aa09294_html"><div class="ttname"><a href="../../dc/d37/a09294.html">GroupReference</a></div><div class="ttdef"><b>Definition:</b> GroupReference.h:27</div></div>
<div class="ttc" id="aa09294_html_a6f8f406f1209dd7060904d40f5424b41"><div class="ttname"><a href="../../dc/d37/a09294.html#a6f8f406f1209dd7060904d40f5424b41">GroupReference::next</a></div><div class="ttdeci">GroupReference * next()</div><div class="ttdef"><b>Definition:</b> GroupReference.h:36</div></div>
<div class="ttc" id="aa09618_html_aae3a929aefb05046ef304ffba10aae71"><div class="ttname"><a href="../../df/dae/a09618.html#aae3a929aefb05046ef304ffba10aae71">Map::Instanceable</a></div><div class="ttdeci">bool Instanceable() const</div><div class="ttdef"><b>Definition:</b> Map.h:445</div></div>
<div class="ttc" id="aa09618_html_ae0451da49ca7ce3b856f38870c451e44"><div class="ttname"><a href="../../df/dae/a09618.html#ae0451da49ca7ce3b856f38870c451e44">Map::GetInstanceId</a></div><div class="ttdeci">uint32 GetInstanceId() const</div><div class="ttdef"><b>Definition:</b> Map.h:417</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l10462">Player::CleanupAfterTaxiFlight()</a>, <a class="el" href="../../#l00184">Acore::ChatCommands::PlayerIdentifier::FromTargetOrSelf()</a>, <a class="el" href="../../#l02712">WorldObject::GetClosePoint()</a>, <a class="el" href="../../#l00243">Group::GetFirstMember()</a>, <a class="el" href="../../#l02471">Player::GetGroup()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00417">Map::GetInstanceId()</a>, <a class="el" href="../../#l02292">Group::GetLeaderGUID()</a>, <a class="el" href="../../#l00536">WorldObject::GetMap()</a>, <a class="el" href="../../#l00275">WorldLocation::GetMapId()</a>, <a class="el" href="../../#l01620">Unit::GetMotionMaster()</a>, <a class="el" href="../../#l00198">ChatHandler::GetNameLink()</a>, <a class="el" href="../../#l02784">WorldObject::GetObjectSize()</a>, <a class="el" href="../../#l00119">Position::GetOrientation()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l02001">Player::GetSession()</a>, <a class="el" href="../../#l00056">ChatHandler::HasLowerSecurity()</a>, <a class="el" href="../../#l00445">Map::Instanceable()</a>, <a class="el" href="../../#l02093">Player::IsBeingTeleported()</a>, <a class="el" href="../../#l01572">Unit::IsInFlight()</a>, <a class="el" href="../../#l00135">LANG_CANNOT_SUMMON_TO_INST</a>, <a class="el" href="../../#l00134">LANG_IS_TELEPORTED</a>, <a class="el" href="../../#l00149">LANG_NOT_IN_GROUP</a>, <a class="el" href="../../#l00141">LANG_SUMMONED_BY</a>, <a class="el" href="../../#l00140">LANG_SUMMONING</a>, <a class="el" href="../../#l00180">MotionMaster::MovementExpired()</a>, <a class="el" href="../../#l00863">ChatHandler::needReportToTarget()</a>, <a class="el" href="../../#l00036">GroupReference::next()</a>, <a class="el" href="../../#l00231">ChatHandler::playerLink()</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l05678">Player::SaveRecallPosition()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, and <a class="el" href="../../#l01334">Player::TeleportTo()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a893eed58f98ae465302ffb0ba5bd2aeb" name="a893eed58f98ae465302ffb0ba5bd2aeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a893eed58f98ae465302ffb0ba5bd2aeb">&#9670;&#160;</a></span>HandleGUIDCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleGUIDCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1208</span>    {</div>
<div class="line"><span class="lineno"> 1209</span>        <a class="code hl_class" href="../../d4/df2/a08266.html">ObjectGuid</a> guid = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#af387d5e18806e37f65ebc3408c0b8712">GetTarget</a>();</div>
<div class="line"><span class="lineno"> 1210</span> </div>
<div class="line"><span class="lineno"> 1211</span>        <span class="keywordflow">if</span> (!guid)</div>
<div class="line"><span class="lineno"> 1212</span>        {</div>
<div class="line"><span class="lineno"> 1213</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaeb6804b4a04d2c3de360a841201e502d">LANG_NO_SELECTION</a>);</div>
<div class="line"><span class="lineno"> 1214</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1215</span>        }</div>
<div class="line"><span class="lineno"> 1216</span> </div>
<div class="line"><span class="lineno"> 1217</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9a7f66d766b1f9de78347014150bfc70">LANG_OBJECT_GUID</a>, guid.<a class="code hl_function" href="../../d4/df2/a08266.html#a78f5fb47e3b35addf8984000c175125b">ToString</a>());</div>
<div class="line"><span class="lineno"> 1218</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1219</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa9a7f66d766b1f9de78347014150bfc70"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9a7f66d766b1f9de78347014150bfc70">LANG_OBJECT_GUID</a></div><div class="ttdeci">@ LANG_OBJECT_GUID</div><div class="ttdef"><b>Definition:</b> Language.h:238</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaeb6804b4a04d2c3de360a841201e502d"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaeb6804b4a04d2c3de360a841201e502d">LANG_NO_SELECTION</a></div><div class="ttdeci">@ LANG_NO_SELECTION</div><div class="ttdef"><b>Definition:</b> Language.h:237</div></div>
<div class="ttc" id="aa08266_html"><div class="ttname"><a href="../../d4/df2/a08266.html">ObjectGuid</a></div><div class="ttdef"><b>Definition:</b> ObjectGuid.h:118</div></div>
<div class="ttc" id="aa08266_html_a78f5fb47e3b35addf8984000c175125b"><div class="ttname"><a href="../../d4/df2/a08266.html#a78f5fb47e3b35addf8984000c175125b">ObjectGuid::ToString</a></div><div class="ttdeci">std::string ToString() const</div><div class="ttdef"><b>Definition:</b> ObjectGuid.cpp:47</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00818">Unit::GetTarget()</a>, <a class="el" href="../../#l00237">LANG_NO_SELECTION</a>, <a class="el" href="../../#l00238">LANG_OBJECT_GUID</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, and <a class="el" href="../../#l00047">ObjectGuid::ToString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a7b504cc3fd2d0bdbea7682a05b73d883" name="a7b504cc3fd2d0bdbea7682a05b73d883"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b504cc3fd2d0bdbea7682a05b73d883">&#9670;&#160;</a></span>HandleHelpCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleHelpCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/dd6/a07534.html">Tail</a>&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1222</span>    {</div>
<div class="line"><span class="lineno"> 1223</span>        <a class="code hl_function" href="../../dc/d43/a04727.html#a81e8830ce306f6cfbcd04c92d3e0cc7f">Acore::ChatCommands::SendCommandHelpFor</a>(*handler, cmd);</div>
<div class="line"><span class="lineno"> 1224</span> </div>
<div class="line"><span class="lineno"> 1225</span>        <span class="keywordflow">if</span> (cmd.empty())</div>
<div class="line"><span class="lineno"> 1226</span>        {</div>
<div class="line"><span class="lineno"> 1227</span>            <a class="code hl_function" href="../../dc/d43/a04727.html#a81e8830ce306f6cfbcd04c92d3e0cc7f">Acore::ChatCommands::SendCommandHelpFor</a>(*handler, <span class="stringliteral">&quot;help&quot;</span>);</div>
<div class="line"><span class="lineno"> 1228</span>        }</div>
<div class="line"><span class="lineno"> 1229</span> </div>
<div class="line"><span class="lineno"> 1230</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1231</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00533">Acore::ChatCommands::SendCommandHelpFor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a9e7b862a123dde0893edf87bd3dfddda" name="a9e7b862a123dde0893edf87bd3dfddda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e7b862a123dde0893edf87bd3dfddda">&#9670;&#160;</a></span>HandleHideAreaCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleHideAreaCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>areaID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1655</span>    {</div>
<div class="line"><span class="lineno"> 1656</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* playerTarget = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ad948d4d7a2fe777df9d02f40201bcf4a">getSelectedPlayer</a>();</div>
<div class="line"><span class="lineno"> 1657</span>        <span class="keywordflow">if</span> (!playerTarget)</div>
<div class="line"><span class="lineno"> 1658</span>        {</div>
<div class="line"><span class="lineno"> 1659</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9943964d247b2fcae268e3664268f291">LANG_NO_CHAR_SELECTED</a>);</div>
<div class="line"><span class="lineno"> 1660</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1661</span>        }</div>
<div class="line"><span class="lineno"> 1662</span> </div>
<div class="line"><span class="lineno"> 1663</span>        <a class="code hl_struct" href="../../dc/d28/a27670.html">AreaTableEntry</a> <span class="keyword">const</span>* area = <a class="code hl_variable" href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>.LookupEntry(areaID);</div>
<div class="line"><span class="lineno"> 1664</span>        <span class="keywordflow">if</span> (!area)</div>
<div class="line"><span class="lineno"> 1665</span>        {</div>
<div class="line"><span class="lineno"> 1666</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaba84876eafcef3a821f7a2a52fd3497e">LANG_BAD_VALUE</a>);</div>
<div class="line"><span class="lineno"> 1667</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1668</span>        }</div>
<div class="line"><span class="lineno"> 1669</span> </div>
<div class="line"><span class="lineno"> 1670</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> offset = area-&gt;<a class="code hl_variable" href="../../dc/d28/a27670.html#a78cf3009cd0fe49dc7870c7f65c79251">exploreFlag</a> / 32;</div>
<div class="line"><span class="lineno"> 1671</span>        <span class="keywordflow">if</span> (offset &gt;= <a class="code hl_define" href="../../d7/d13/a03365.html#adc637ac719fdefb939a974c01dc7c838">PLAYER_EXPLORED_ZONES_SIZE</a>)</div>
<div class="line"><span class="lineno"> 1672</span>        {</div>
<div class="line"><span class="lineno"> 1673</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaba84876eafcef3a821f7a2a52fd3497e">LANG_BAD_VALUE</a>);</div>
<div class="line"><span class="lineno"> 1674</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1675</span>        }</div>
<div class="line"><span class="lineno"> 1676</span> </div>
<div class="line"><span class="lineno"> 1677</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> val = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>((1 &lt;&lt; (area-&gt;<a class="code hl_variable" href="../../dc/d28/a27670.html#a78cf3009cd0fe49dc7870c7f65c79251">exploreFlag</a> % 32)));</div>
<div class="line"><span class="lineno"> 1678</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> currFields = playerTarget-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#a3264388b9f92da9de7641477b3dc77f9">GetUInt32Value</a>(<a class="code hl_enumvalue" href="../../dc/d14/a03479.html#a0e42dc606678c9df7884e1aad621e881a4300b4c04026380554f09e7de22940a3">PLAYER_EXPLORED_ZONES_1</a> + offset);</div>
<div class="line"><span class="lineno"> 1679</span>        playerTarget-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#ac2bd94b573bcf5e80cba886a8e2f540f">SetUInt32Value</a>(<a class="code hl_enumvalue" href="../../dc/d14/a03479.html#a0e42dc606678c9df7884e1aad621e881a4300b4c04026380554f09e7de22940a3">PLAYER_EXPLORED_ZONES_1</a> + offset, <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>((currFields ^ val)));</div>
<div class="line"><span class="lineno"> 1680</span> </div>
<div class="line"><span class="lineno"> 1681</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa5b6a8a950c89d37607b75bd5f586f353">LANG_UNEXPLORE_AREA</a>);</div>
<div class="line"><span class="lineno"> 1682</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1683</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa5b6a8a950c89d37607b75bd5f586f353"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa5b6a8a950c89d37607b75bd5f586f353">LANG_UNEXPLORE_AREA</a></div><div class="ttdeci">@ LANG_UNEXPLORE_AREA</div><div class="ttdef"><b>Definition:</b> Language.h:617</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa9943964d247b2fcae268e3664268f291"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9943964d247b2fcae268e3664268f291">LANG_NO_CHAR_SELECTED</a></div><div class="ttdeci">@ LANG_NO_CHAR_SELECTED</div><div class="ttdef"><b>Definition:</b> Language.h:148</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaba84876eafcef3a821f7a2a52fd3497e"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaba84876eafcef3a821f7a2a52fd3497e">LANG_BAD_VALUE</a></div><div class="ttdeci">@ LANG_BAD_VALUE</div><div class="ttdef"><b>Definition:</b> Language.h:147</div></div>
<div class="ttc" id="aa03365_html_adc637ac719fdefb939a974c01dc7c838"><div class="ttname"><a href="../../d7/d13/a03365.html#adc637ac719fdefb939a974c01dc7c838">PLAYER_EXPLORED_ZONES_SIZE</a></div><div class="ttdeci">#define PLAYER_EXPLORED_ZONES_SIZE</div><div class="ttdef"><b>Definition:</b> Player.h:72</div></div>
<div class="ttc" id="aa03479_html_a0e42dc606678c9df7884e1aad621e881a4300b4c04026380554f09e7de22940a3"><div class="ttname"><a href="../../dc/d14/a03479.html#a0e42dc606678c9df7884e1aad621e881a4300b4c04026380554f09e7de22940a3">PLAYER_EXPLORED_ZONES_1</a></div><div class="ttdeci">@ PLAYER_EXPLORED_ZONES_1</div><div class="ttdef"><b>Definition:</b> UpdateFields.h:357</div></div>
<div class="ttc" id="aa07362_html_ac1ed346507097817b3f8e00f0ae657a0"><div class="ttname"><a href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">ChatHandler::SendSysMessage</a></div><div class="ttdeci">virtual void SendSysMessage(std::string_view str, bool escapeCharacters=false)</div><div class="ttdef"><b>Definition:</b> Chat.cpp:159</div></div>
<div class="ttc" id="aa08218_html_a3264388b9f92da9de7641477b3dc77f9"><div class="ttname"><a href="../../de/d68/a08218.html#a3264388b9f92da9de7641477b3dc77f9">Object::GetUInt32Value</a></div><div class="ttdeci">uint32 GetUInt32Value(uint16 index) const</div><div class="ttdef"><b>Definition:</b> Object.cpp:305</div></div>
<div class="ttc" id="aa08598_html_ac2bd94b573bcf5e80cba886a8e2f540f"><div class="ttname"><a href="../../d4/d46/a08598.html#ac2bd94b573bcf5e80cba886a8e2f540f">Unit::SetUInt32Value</a></div><div class="ttdeci">void SetUInt32Value(uint16 index, uint32 value)</div><div class="ttdef"><b>Definition:</b> Unit.cpp:21316</div></div>
<div class="ttc" id="aa27670_html_a78cf3009cd0fe49dc7870c7f65c79251"><div class="ttname"><a href="../../dc/d28/a27670.html#a78cf3009cd0fe49dc7870c7f65c79251">AreaTableEntry::exploreFlag</a></div><div class="ttdeci">uint32 exploreFlag</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:522</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00522">AreaTableEntry::exploreFlag</a>, <a class="el" href="../../#l00373">ChatHandler::getSelectedPlayer()</a>, <a class="el" href="../../#l00305">Object::GetUInt32Value()</a>, <a class="el" href="../../#l00147">LANG_BAD_VALUE</a>, <a class="el" href="../../#l00148">LANG_NO_CHAR_SELECTED</a>, <a class="el" href="../../#l00617">LANG_UNEXPLORE_AREA</a>, <a class="el" href="../../#l00357">PLAYER_EXPLORED_ZONES_1</a>, <a class="el" href="../../#l00072">PLAYER_EXPLORED_ZONES_SIZE</a>, <a class="el" href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00159">ChatHandler::SendSysMessage()</a>, and <a class="el" href="../../#l21316">Unit::SetUInt32Value()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a9a0b496f5b28147e85de872ffb1dc13c" name="a9a0b496f5b28147e85de872ffb1dc13c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a0b496f5b28147e85de872ffb1dc13c">&#9670;&#160;</a></span>HandleKickPlayerCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleKickPlayerCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; std::string_view &gt;&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1368</span>    {</div>
<div class="line"><span class="lineno"> 1369</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno"> 1370</span>        {</div>
<div class="line"><span class="lineno"> 1371</span>            target = <a class="code hl_function" href="../../de/d8a/a07550.html#a617834cc8474970950b45066f2e86dbd">PlayerIdentifier::FromTargetOrSelf</a>(handler);</div>
<div class="line"><span class="lineno"> 1372</span>        }</div>
<div class="line"><span class="lineno"> 1373</span> </div>
<div class="line"><span class="lineno"> 1374</span>        <span class="keywordflow">if</span> (!target || !target-&gt;IsConnected())</div>
<div class="line"><span class="lineno"> 1375</span>        {</div>
<div class="line"><span class="lineno"> 1376</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1377</span>        }</div>
<div class="line"><span class="lineno"> 1378</span> </div>
<div class="line"><span class="lineno"> 1379</span>        <span class="keyword">auto</span> targetPlayer = target-&gt;GetConnectedPlayer();</div>
<div class="line"><span class="lineno"> 1380</span> </div>
<div class="line"><span class="lineno"> 1381</span>        <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>() &amp;&amp; target-&gt;GetGUID() == handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>())</div>
<div class="line"><span class="lineno"> 1382</span>        {</div>
<div class="line"><span class="lineno"> 1383</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa0068a8afe63c9cbfaa6eb327f41756db">LANG_COMMAND_KICKSELF</a>);</div>
<div class="line"><span class="lineno"> 1384</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1385</span>        }</div>
<div class="line"><span class="lineno"> 1386</span> </div>
<div class="line"><span class="lineno"> 1387</span>        <span class="comment">// check online security</span></div>
<div class="line"><span class="lineno"> 1388</span>        <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#afacb4b59756372ec32810be0d46da49c">HasLowerSecurity</a>(targetPlayer))</div>
<div class="line"><span class="lineno"> 1389</span>        {</div>
<div class="line"><span class="lineno"> 1390</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1391</span>        }</div>
<div class="line"><span class="lineno"> 1392</span> </div>
<div class="line"><span class="lineno"> 1393</span>        std::string kickReasonStr = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa166fddb474c3c2541a233c247da39721">LANG_NO_REASON</a>);</div>
<div class="line"><span class="lineno"> 1394</span>        <span class="keywordflow">if</span> (reason &amp;&amp; !reason-&gt;empty())</div>
<div class="line"><span class="lineno"> 1395</span>        {</div>
<div class="line"><span class="lineno"> 1396</span>            kickReasonStr = std::string{ *reason };</div>
<div class="line"><span class="lineno"> 1397</span>        }</div>
<div class="line"><span class="lineno"> 1398</span> </div>
<div class="line"><span class="lineno"> 1399</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getBoolConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0a02200bc8c424790bdc9b233b9ac36b1d">CONFIG_SHOW_KICK_IN_WORLD</a>))</div>
<div class="line"><span class="lineno"> 1400</span>        {</div>
<div class="line"><span class="lineno"> 1401</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ad04fd84539ea2ab1596b40f2efdd906e">SendWorldText</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa01beea14b6896b96475c883c7d6bc61a">LANG_COMMAND_KICKMESSAGE_WORLD</a>, (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>() ? handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#adc5517d80512262fe3b6c1c887bacba8">GetPlayerName</a>() : <span class="stringliteral">&quot;Server&quot;</span>), target-&gt;GetName(), kickReasonStr);</div>
<div class="line"><span class="lineno"> 1402</span>        }</div>
<div class="line"><span class="lineno"> 1403</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1404</span>        {</div>
<div class="line"><span class="lineno"> 1405</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aacc7a120d2ee611a5e98c1ff3b86566b3">LANG_COMMAND_KICKMESSAGE</a>, target-&gt;GetName());</div>
<div class="line"><span class="lineno"> 1406</span>        }</div>
<div class="line"><span class="lineno"> 1407</span> </div>
<div class="line"><span class="lineno"> 1408</span>        targetPlayer-&gt;GetSession()-&gt;KickPlayer(<span class="stringliteral">&quot;HandleKickPlayerCommand&quot;</span>);</div>
<div class="line"><span class="lineno"> 1409</span> </div>
<div class="line"><span class="lineno"> 1410</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1411</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa0068a8afe63c9cbfaa6eb327f41756db"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa0068a8afe63c9cbfaa6eb327f41756db">LANG_COMMAND_KICKSELF</a></div><div class="ttdeci">@ LANG_COMMAND_KICKSELF</div><div class="ttdef"><b>Definition:</b> Language.h:326</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa01beea14b6896b96475c883c7d6bc61a"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa01beea14b6896b96475c883c7d6bc61a">LANG_COMMAND_KICKMESSAGE_WORLD</a></div><div class="ttdeci">@ LANG_COMMAND_KICKMESSAGE_WORLD</div><div class="ttdef"><b>Definition:</b> Language.h:1285</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa166fddb474c3c2541a233c247da39721"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa166fddb474c3c2541a233c247da39721">LANG_NO_REASON</a></div><div class="ttdeci">@ LANG_NO_REASON</div><div class="ttdef"><b>Definition:</b> Language.h:807</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aacc7a120d2ee611a5e98c1ff3b86566b3"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aacc7a120d2ee611a5e98c1ff3b86566b3">LANG_COMMAND_KICKMESSAGE</a></div><div class="ttdeci">@ LANG_COMMAND_KICKMESSAGE</div><div class="ttdef"><b>Definition:</b> Language.h:327</div></div>
<div class="ttc" id="aa03317_html_a1b4b88c03b7d0124998b4c22e957baf0a02200bc8c424790bdc9b233b9ac36b1d"><div class="ttname"><a href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0a02200bc8c424790bdc9b233b9ac36b1d">CONFIG_SHOW_KICK_IN_WORLD</a></div><div class="ttdeci">@ CONFIG_SHOW_KICK_IN_WORLD</div><div class="ttdef"><b>Definition:</b> IWorld.h:131</div></div>
<div class="ttc" id="aa07362_html_ad04fd84539ea2ab1596b40f2efdd906e"><div class="ttname"><a href="../../d4/d99/a07362.html#ad04fd84539ea2ab1596b40f2efdd906e">ChatHandler::SendWorldText</a></div><div class="ttdeci">void SendWorldText(std::string_view str)</div><div class="ttdef"><b>Definition:</b> Chat.cpp:130</div></div>
<div class="ttc" id="aa10810_html_adc5517d80512262fe3b6c1c887bacba8"><div class="ttname"><a href="../../d9/d7c/a10810.html#adc5517d80512262fe3b6c1c887bacba8">WorldSession::GetPlayerName</a></div><div class="ttdeci">std::string const &amp; GetPlayerName() const</div><div class="ttdef"><b>Definition:</b> WorldSession.cpp:184</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00131">CONFIG_SHOW_KICK_IN_WORLD</a>, <a class="el" href="../../#l00184">Acore::ChatCommands::PlayerIdentifier::FromTargetOrSelf()</a>, <a class="el" href="../../#l00040">ChatHandler::GetAcoreString()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00184">WorldSession::GetPlayerName()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00056">ChatHandler::HasLowerSecurity()</a>, <a class="el" href="../../#l00327">LANG_COMMAND_KICKMESSAGE</a>, <a class="el" href="../../#l01285">LANG_COMMAND_KICKMESSAGE_WORLD</a>, <a class="el" href="../../#l00326">LANG_COMMAND_KICKSELF</a>, <a class="el" href="../../#l00807">LANG_NO_REASON</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00130">ChatHandler::SendWorldText()</a>, and <a class="el" href="../../#l00442">sWorld</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a1e662354fcd4e6c8afb136a524729a99" name="a1e662354fcd4e6c8afb136a524729a99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e662354fcd4e6c8afb136a524729a99">&#9670;&#160;</a></span>HandleLinkGraveCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleLinkGraveCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>graveyardId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; std::string_view &gt;&#160;</td>
          <td class="paramname"><em>team</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1496</span>    {</div>
<div class="line"><span class="lineno"> 1497</span>        <a class="code hl_enumeration" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a> teamId;</div>
<div class="line"><span class="lineno"> 1498</span> </div>
<div class="line"><span class="lineno"> 1499</span>        <span class="keywordflow">if</span> (!team)</div>
<div class="line"><span class="lineno"> 1500</span>        {</div>
<div class="line"><span class="lineno"> 1501</span>            teamId = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a1d009932a5dde84d818f627cfcfe3fe5">TEAM_NEUTRAL</a>;</div>
<div class="line"><span class="lineno"> 1502</span>        }</div>
<div class="line"><span class="lineno"> 1503</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/dee/a00383.html#a131b997858d0d4c6825222d64948db73">StringEqualI</a>(team-&gt;substr(0, 6), <span class="stringliteral">&quot;horde&quot;</span>))</div>
<div class="line"><span class="lineno"> 1504</span>        {</div>
<div class="line"><span class="lineno"> 1505</span>            teamId = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>;</div>
<div class="line"><span class="lineno"> 1506</span>        }</div>
<div class="line"><span class="lineno"> 1507</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/dee/a00383.html#a131b997858d0d4c6825222d64948db73">StringEqualI</a>(team-&gt;substr(0, 9), <span class="stringliteral">&quot;alliance&quot;</span>))</div>
<div class="line"><span class="lineno"> 1508</span>        {</div>
<div class="line"><span class="lineno"> 1509</span>            teamId = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>;</div>
<div class="line"><span class="lineno"> 1510</span>        }</div>
<div class="line"><span class="lineno"> 1511</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1512</span>        {</div>
<div class="line"><span class="lineno"> 1513</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1514</span>        }</div>
<div class="line"><span class="lineno"> 1515</span> </div>
<div class="line"><span class="lineno"> 1516</span>        <a class="code hl_struct" href="../../d5/d58/a09698.html">GraveyardStruct</a> <span class="keyword">const</span>* graveyard = <a class="code hl_define" href="../../d0/d9f/a03152.html#ac68c2a63982a6142e1931450d7b6115c">sGraveyard</a>-&gt;GetGraveyard(graveyardId);</div>
<div class="line"><span class="lineno"> 1517</span> </div>
<div class="line"><span class="lineno"> 1518</span>        <span class="keywordflow">if</span> (!graveyard)</div>
<div class="line"><span class="lineno"> 1519</span>        {</div>
<div class="line"><span class="lineno"> 1520</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa48fb143dc53a87cd8636a9de94d5467e">LANG_COMMAND_GRAVEYARDNOEXIST</a>, graveyardId);</div>
<div class="line"><span class="lineno"> 1521</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1522</span>        }</div>
<div class="line"><span class="lineno"> 1523</span> </div>
<div class="line"><span class="lineno"> 1524</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1525</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId = player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>();</div>
<div class="line"><span class="lineno"> 1526</span> </div>
<div class="line"><span class="lineno"> 1527</span>        <a class="code hl_struct" href="../../dc/d28/a27670.html">AreaTableEntry</a> <span class="keyword">const</span>* areaEntry = <a class="code hl_variable" href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>.LookupEntry(zoneId);</div>
<div class="line"><span class="lineno"> 1528</span>        <span class="keywordflow">if</span> (!areaEntry || areaEntry-&gt;<a class="code hl_variable" href="../../dc/d28/a27670.html#a3b4f9e187629db5ced9a06c601fc7f78">zone</a> != 0)</div>
<div class="line"><span class="lineno"> 1529</span>        {</div>
<div class="line"><span class="lineno"> 1530</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa66111d84224b9a34ae0ac62dbb27c817">LANG_COMMAND_GRAVEYARDWRONGZONE</a>, graveyardId, zoneId);</div>
<div class="line"><span class="lineno"> 1531</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1532</span>        }</div>
<div class="line"><span class="lineno"> 1533</span> </div>
<div class="line"><span class="lineno"> 1534</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d0/d9f/a03152.html#ac68c2a63982a6142e1931450d7b6115c">sGraveyard</a>-&gt;AddGraveyardLink(graveyardId, zoneId, teamId))</div>
<div class="line"><span class="lineno"> 1535</span>        {</div>
<div class="line"><span class="lineno"> 1536</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa93de864f376501cb1ec32d9c73617508">LANG_COMMAND_GRAVEYARDLINKED</a>, graveyardId, zoneId);</div>
<div class="line"><span class="lineno"> 1537</span>        }</div>
<div class="line"><span class="lineno"> 1538</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1539</span>        {</div>
<div class="line"><span class="lineno"> 1540</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa086b8019411b9ff3f5a37729f7f0b17f">LANG_COMMAND_GRAVEYARDALRLINKED</a>, graveyardId, zoneId);</div>
<div class="line"><span class="lineno"> 1541</span>        }</div>
<div class="line"><span class="lineno"> 1542</span> </div>
<div class="line"><span class="lineno"> 1543</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1544</span>    }</div>
<div class="ttc" id="aa00383_html_a131b997858d0d4c6825222d64948db73"><div class="ttname"><a href="../../da/dee/a00383.html#a131b997858d0d4c6825222d64948db73">StringEqualI</a></div><div class="ttdeci">bool StringEqualI(std::string_view a, std::string_view b)</div><div class="ttdef"><b>Definition:</b> Util.cpp:592</div></div>
<div class="ttc" id="aa02771_html_abfb349736a7699bdfcdb134035ef7865"><div class="ttname"><a href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a></div><div class="ttdeci">TeamId</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:759</div></div>
<div class="ttc" id="aa02771_html_abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e"><div class="ttname"><a href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a></div><div class="ttdeci">@ TEAM_ALLIANCE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:760</div></div>
<div class="ttc" id="aa02771_html_abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a"><div class="ttname"><a href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a></div><div class="ttdeci">@ TEAM_HORDE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:761</div></div>
<div class="ttc" id="aa03152_html_ac68c2a63982a6142e1931450d7b6115c"><div class="ttname"><a href="../../d0/d9f/a03152.html#ac68c2a63982a6142e1931450d7b6115c">sGraveyard</a></div><div class="ttdeci">#define sGraveyard</div><div class="ttdef"><b>Definition:</b> GameGraveyard.h:74</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa086b8019411b9ff3f5a37729f7f0b17f"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa086b8019411b9ff3f5a37729f7f0b17f">LANG_COMMAND_GRAVEYARDALRLINKED</a></div><div class="ttdeci">@ LANG_COMMAND_GRAVEYARDALRLINKED</div><div class="ttdef"><b>Definition:</b> Language.h:482</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa48fb143dc53a87cd8636a9de94d5467e"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa48fb143dc53a87cd8636a9de94d5467e">LANG_COMMAND_GRAVEYARDNOEXIST</a></div><div class="ttdeci">@ LANG_COMMAND_GRAVEYARDNOEXIST</div><div class="ttdef"><b>Definition:</b> Language.h:481</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa66111d84224b9a34ae0ac62dbb27c817"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa66111d84224b9a34ae0ac62dbb27c817">LANG_COMMAND_GRAVEYARDWRONGZONE</a></div><div class="ttdeci">@ LANG_COMMAND_GRAVEYARDWRONGZONE</div><div class="ttdef"><b>Definition:</b> Language.h:484</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa93de864f376501cb1ec32d9c73617508"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa93de864f376501cb1ec32d9c73617508">LANG_COMMAND_GRAVEYARDLINKED</a></div><div class="ttdeci">@ LANG_COMMAND_GRAVEYARDLINKED</div><div class="ttdef"><b>Definition:</b> Language.h:483</div></div>
<div class="ttc" id="aa09698_html"><div class="ttname"><a href="../../d5/d58/a09698.html">GraveyardStruct</a></div><div class="ttdef"><b>Definition:</b> GameGraveyard.h:27</div></div>
<div class="ttc" id="aa27670_html_a3b4f9e187629db5ced9a06c601fc7f78"><div class="ttname"><a href="../../dc/d28/a27670.html#a3b4f9e187629db5ced9a06c601fc7f78">AreaTableEntry::zone</a></div><div class="ttdeci">uint32 zone</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:521</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l03159">WorldObject::GetZoneId()</a>, <a class="el" href="../../#l00482">LANG_COMMAND_GRAVEYARDALRLINKED</a>, <a class="el" href="../../#l00483">LANG_COMMAND_GRAVEYARDLINKED</a>, <a class="el" href="../../#l00481">LANG_COMMAND_GRAVEYARDNOEXIST</a>, <a class="el" href="../../#l00484">LANG_COMMAND_GRAVEYARDWRONGZONE</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00074">sGraveyard</a>, <a class="el" href="../../#l00592">StringEqualI()</a>, <a class="el" href="../../#l00760">TEAM_ALLIANCE</a>, <a class="el" href="../../#l00761">TEAM_HORDE</a>, <a class="el" href="../../#l00762">TEAM_NEUTRAL</a>, and <a class="el" href="../../#l00521">AreaTableEntry::zone</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a6fdb1d0dc5f558a4a35a08e77901a8bf" name="a6fdb1d0dc5f558a4a35a08e77901a8bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fdb1d0dc5f558a4a35a08e77901a8bf">&#9670;&#160;</a></span>HandleMailBoxCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleMailBoxCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3010</span>    {</div>
<div class="line"><span class="lineno"> 3011</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 3012</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#aa9a93e7e9225ac1972872ae207b5bce8">SendShowMailBox</a>(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno"> 3013</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3014</span>    }</div>
<div class="ttc" id="aa10810_html_aa9a93e7e9225ac1972872ae207b5bce8"><div class="ttname"><a href="../../d9/d7c/a10810.html#aa9a93e7e9225ac1972872ae207b5bce8">WorldSession::SendShowMailBox</a></div><div class="ttdeci">void SendShowMailBox(ObjectGuid guid)</div><div class="ttdef"><b>Definition:</b> NPCHandler.cpp:72</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, and <a class="el" href="../../#l00072">WorldSession::SendShowMailBox()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="adc0ef6940602615062c716204c333f98" name="adc0ef6940602615062c716204c333f98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc0ef6940602615062c716204c333f98">&#9670;&#160;</a></span>HandleMaxSkillCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleMaxSkillCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1879</span>    {</div>
<div class="line"><span class="lineno"> 1880</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* SelectedPlayer = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ad948d4d7a2fe777df9d02f40201bcf4a">getSelectedPlayer</a>();</div>
<div class="line"><span class="lineno"> 1881</span>        <span class="keywordflow">if</span> (!SelectedPlayer)</div>
<div class="line"><span class="lineno"> 1882</span>        {</div>
<div class="line"><span class="lineno"> 1883</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9943964d247b2fcae268e3664268f291">LANG_NO_CHAR_SELECTED</a>);</div>
<div class="line"><span class="lineno"> 1884</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1885</span>        }</div>
<div class="line"><span class="lineno"> 1886</span> </div>
<div class="line"><span class="lineno"> 1887</span>        <span class="comment">// each skills that have max skill value dependent from level seted to current level max skill value</span></div>
<div class="line"><span class="lineno"> 1888</span>        SelectedPlayer-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a3352777b1a4a392b13eef29856cebdc3">UpdateSkillsToMaxSkillsForLevel</a>();</div>
<div class="line"><span class="lineno"> 1889</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1890</span>    }</div>
<div class="ttc" id="aa08466_html_a3352777b1a4a392b13eef29856cebdc3"><div class="ttname"><a href="../../dc/d06/a08466.html#a3352777b1a4a392b13eef29856cebdc3">Player::UpdateSkillsToMaxSkillsForLevel</a></div><div class="ttdeci">void UpdateSkillsToMaxSkillsForLevel()</div><div class="ttdef"><b>Definition:</b> PlayerUpdates.cpp:1087</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00373">ChatHandler::getSelectedPlayer()</a>, <a class="el" href="../../#l00148">LANG_NO_CHAR_SELECTED</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, and <a class="el" href="../../#l01087">Player::UpdateSkillsToMaxSkillsForLevel()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a868fb733d2531f127d31b6ba88d4b446" name="a868fb733d2531f127d31b6ba88d4b446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a868fb733d2531f127d31b6ba88d4b446">&#9670;&#160;</a></span>HandleMovegensCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleMovegensCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2648</span>    {</div>
<div class="line"><span class="lineno"> 2649</span>        <a class="code hl_class" href="../../d4/d46/a08598.html">Unit</a>* unit = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ae88a523ef51a6d51d38a8d524e49b179">getSelectedUnit</a>();</div>
<div class="line"><span class="lineno"> 2650</span>        <span class="keywordflow">if</span> (!unit)</div>
<div class="line"><span class="lineno"> 2651</span>        {</div>
<div class="line"><span class="lineno"> 2652</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa1cac46a5a2ceca2a1ae8dddf8ad930a">LANG_SELECT_CHAR_OR_CREATURE</a>);</div>
<div class="line"><span class="lineno"> 2653</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2654</span>        }</div>
<div class="line"><span class="lineno"> 2655</span> </div>
<div class="line"><span class="lineno"> 2656</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaefea813e5d9ed505c0a814b4df069456">LANG_MOVEGENS_LIST</a>, (unit-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#a1b9ed00e8d7ac5fed698ef6431905296">IsPlayer</a>() ? <span class="stringliteral">&quot;Player&quot;</span> : <span class="stringliteral">&quot;Creature&quot;</span>), unit-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>().<a class="code hl_function" href="../../d4/df2/a08266.html#a78f5fb47e3b35addf8984000c175125b">ToString</a>());</div>
<div class="line"><span class="lineno"> 2657</span> </div>
<div class="line"><span class="lineno"> 2658</span>        <a class="code hl_class" href="../../d8/dc2/a09730.html">MotionMaster</a>* motionMaster = unit-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a4a04a3f22c3b0d6f4933993ac0cc7aa4">GetMotionMaster</a>();</div>
<div class="line"><span class="lineno"> 2659</span>        <span class="keywordtype">float</span> x, y, z;</div>
<div class="line"><span class="lineno"> 2660</span>        motionMaster-&gt;<a class="code hl_function" href="../../d8/dc2/a09730.html#ab8dd6cc77c73d04fef110e14b0735023">GetDestination</a>(x, y, z);</div>
<div class="line"><span class="lineno"> 2661</span> </div>
<div class="line"><span class="lineno"> 2662</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; <a class="code hl_enumvalue" href="../../d2/df3/a03890.html#a42f80f4e5d95e3ba656adbee43cfc3f5a99e3f1c482d8a964a3613986a34658b5">MAX_MOTION_SLOT</a>; ++i)</div>
<div class="line"><span class="lineno"> 2663</span>        {</div>
<div class="line"><span class="lineno"> 2664</span>            <a class="code hl_class" href="../../d0/d60/a09734.html">MovementGenerator</a>* movementGenerator = motionMaster-&gt;<a class="code hl_function" href="../../d8/dc2/a09730.html#a6467513eb801179256c4bf899268f33a">GetMotionSlot</a>(i);</div>
<div class="line"><span class="lineno"> 2665</span>            <span class="keywordflow">if</span> (!movementGenerator)</div>
<div class="line"><span class="lineno"> 2666</span>            {</div>
<div class="line"><span class="lineno"> 2667</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<span class="stringliteral">&quot;Empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 2668</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2669</span>            }</div>
<div class="line"><span class="lineno"> 2670</span> </div>
<div class="line"><span class="lineno"> 2671</span>            <span class="keywordflow">switch</span> (movementGenerator-&gt;<a class="code hl_function" href="../../d0/d60/a09734.html#a60bac341b438ea7258986f234a952324">GetMovementGeneratorType</a>())</div>
<div class="line"><span class="lineno"> 2672</span>            {</div>
<div class="line"><span class="lineno"> 2673</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9a35e951ebafcab180b4bd926e5760803e">IDLE_MOTION_TYPE</a>:</div>
<div class="line"><span class="lineno"> 2674</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4c486d808b005dc4af0c9b14c4455349">LANG_MOVEGENS_IDLE</a>);</div>
<div class="line"><span class="lineno"> 2675</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2676</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9aec7cad6c9576df1fca0eb4fa073e5ff2">RANDOM_MOTION_TYPE</a>:</div>
<div class="line"><span class="lineno"> 2677</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa964671043eb0f09766b9d9450778a59">LANG_MOVEGENS_RANDOM</a>);</div>
<div class="line"><span class="lineno"> 2678</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2679</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9a6158029efb794f0a586a62f35cef5ae9">WAYPOINT_MOTION_TYPE</a>:</div>
<div class="line"><span class="lineno"> 2680</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab12c94b91d2f261590035324a01690a9">LANG_MOVEGENS_WAYPOINT</a>);</div>
<div class="line"><span class="lineno"> 2681</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2682</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9ae9aa98899960f240ae2de52288b2dbd6">ANIMAL_RANDOM_MOTION_TYPE</a>:</div>
<div class="line"><span class="lineno"> 2683</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aabb939c31afc593ac893f21b408aad3b7">LANG_MOVEGENS_ANIMAL_RANDOM</a>);</div>
<div class="line"><span class="lineno"> 2684</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2685</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9aaf0253f8d6a3f2a5219bcf9db3494611">CONFUSED_MOTION_TYPE</a>:</div>
<div class="line"><span class="lineno"> 2686</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4f392fcd22cfdab6305e89201a8a053e">LANG_MOVEGENS_CONFUSED</a>);</div>
<div class="line"><span class="lineno"> 2687</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2688</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9a4a7484b1c685865cef43981b61d3a881">CHASE_MOTION_TYPE</a>:</div>
<div class="line"><span class="lineno"> 2689</span>                {</div>
<div class="line"><span class="lineno"> 2690</span>                    <a class="code hl_class" href="../../d4/d46/a08598.html">Unit</a>* target = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2691</span>                    <span class="keywordflow">if</span> (unit-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#a1b9ed00e8d7ac5fed698ef6431905296">IsPlayer</a>())</div>
<div class="line"><span class="lineno"> 2692</span>                    {</div>
<div class="line"><span class="lineno"> 2693</span>                        target = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="../../d6/d8e/a09814.html">ChaseMovementGenerator&lt;Player&gt;</a> const*<span class="keyword">&gt;</span>(movementGenerator)-&gt;GetTarget();</div>
<div class="line"><span class="lineno"> 2694</span>                    }</div>
<div class="line"><span class="lineno"> 2695</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2696</span>                    {</div>
<div class="line"><span class="lineno"> 2697</span>                        target = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="../../d6/d8e/a09814.html">ChaseMovementGenerator&lt;Creature&gt;</a> const*<span class="keyword">&gt;</span>(movementGenerator)-&gt;GetTarget();</div>
<div class="line"><span class="lineno"> 2698</span>                    }</div>
<div class="line"><span class="lineno"> 2699</span> </div>
<div class="line"><span class="lineno"> 2700</span>                    <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno"> 2701</span>                    {</div>
<div class="line"><span class="lineno"> 2702</span>                        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aac4be1bc51c08f54a5e95d1c38f7e7b1c">LANG_MOVEGENS_CHASE_NULL</a>);</div>
<div class="line"><span class="lineno"> 2703</span>                    }</div>
<div class="line"><span class="lineno"> 2704</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (target-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#a1b9ed00e8d7ac5fed698ef6431905296">IsPlayer</a>())</div>
<div class="line"><span class="lineno"> 2705</span>                    {</div>
<div class="line"><span class="lineno"> 2706</span>                        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa475649faf6110b5440c56295d2120333">LANG_MOVEGENS_CHASE_PLAYER</a>, target-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>(), target-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>().<a class="code hl_function" href="../../d4/df2/a08266.html#a78f5fb47e3b35addf8984000c175125b">ToString</a>());</div>
<div class="line"><span class="lineno"> 2707</span>                    }</div>
<div class="line"><span class="lineno"> 2708</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2709</span>                    {</div>
<div class="line"><span class="lineno"> 2710</span>                        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9c3204dae7487968810cbb963a263f16">LANG_MOVEGENS_CHASE_CREATURE</a>, target-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>(), target-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>().<a class="code hl_function" href="../../d4/df2/a08266.html#a78f5fb47e3b35addf8984000c175125b">ToString</a>());</div>
<div class="line"><span class="lineno"> 2711</span>                    }</div>
<div class="line"><span class="lineno"> 2712</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2713</span>                }</div>
<div class="line"><span class="lineno"> 2714</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9ae99e76e1e80feb6d7ff6e1df01e98e9c">FOLLOW_MOTION_TYPE</a>:</div>
<div class="line"><span class="lineno"> 2715</span>                {</div>
<div class="line"><span class="lineno"> 2716</span>                    <a class="code hl_class" href="../../d4/d46/a08598.html">Unit</a>* target = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 2717</span>                    <span class="keywordflow">if</span> (unit-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#a1b9ed00e8d7ac5fed698ef6431905296">IsPlayer</a>())</div>
<div class="line"><span class="lineno"> 2718</span>                    {</div>
<div class="line"><span class="lineno"> 2719</span>                        target = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="../../d1/da1/a09818.html">FollowMovementGenerator&lt;Player&gt;</a> const*<span class="keyword">&gt;</span>(movementGenerator)-&gt;GetTarget();</div>
<div class="line"><span class="lineno"> 2720</span>                    }</div>
<div class="line"><span class="lineno"> 2721</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2722</span>                    {</div>
<div class="line"><span class="lineno"> 2723</span>                        target = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="../../d1/da1/a09818.html">FollowMovementGenerator&lt;Creature&gt;</a> const*<span class="keyword">&gt;</span>(movementGenerator)-&gt;GetTarget();</div>
<div class="line"><span class="lineno"> 2724</span>                    }</div>
<div class="line"><span class="lineno"> 2725</span> </div>
<div class="line"><span class="lineno"> 2726</span>                    <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno"> 2727</span>                    {</div>
<div class="line"><span class="lineno"> 2728</span>                        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa5428fb471c5f1f039dda6991adffc32c">LANG_MOVEGENS_FOLLOW_NULL</a>);</div>
<div class="line"><span class="lineno"> 2729</span>                    }</div>
<div class="line"><span class="lineno"> 2730</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (target-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#a1b9ed00e8d7ac5fed698ef6431905296">IsPlayer</a>())</div>
<div class="line"><span class="lineno"> 2731</span>                    {</div>
<div class="line"><span class="lineno"> 2732</span>                        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa02b6e8a70836d76e3364beede42cbcf0">LANG_MOVEGENS_FOLLOW_PLAYER</a>, target-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>(), target-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>().<a class="code hl_function" href="../../d4/df2/a08266.html#a78f5fb47e3b35addf8984000c175125b">ToString</a>());</div>
<div class="line"><span class="lineno"> 2733</span>                    }</div>
<div class="line"><span class="lineno"> 2734</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2735</span>                    {</div>
<div class="line"><span class="lineno"> 2736</span>                        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa53ba0fdb01ca0dfd0596b1ba46b93862">LANG_MOVEGENS_FOLLOW_CREATURE</a>, target-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>(), target-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>().<a class="code hl_function" href="../../d4/df2/a08266.html#a78f5fb47e3b35addf8984000c175125b">ToString</a>());</div>
<div class="line"><span class="lineno"> 2737</span>                    }</div>
<div class="line"><span class="lineno"> 2738</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2739</span>                }</div>
<div class="line"><span class="lineno"> 2740</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9ab50c687899070d507c7858b481807426">HOME_MOTION_TYPE</a>:</div>
<div class="line"><span class="lineno"> 2741</span>                {</div>
<div class="line"><span class="lineno"> 2742</span>                    <span class="keywordflow">if</span> (unit-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#aacc8ee332f66effdc0d77c126dae1961">IsCreature</a>())</div>
<div class="line"><span class="lineno"> 2743</span>                    {</div>
<div class="line"><span class="lineno"> 2744</span>                        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aae4a02cd6d48186fb054856e95c54adbd">LANG_MOVEGENS_HOME_CREATURE</a>, x, y, z);</div>
<div class="line"><span class="lineno"> 2745</span>                    }</div>
<div class="line"><span class="lineno"> 2746</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2747</span>                    {</div>
<div class="line"><span class="lineno"> 2748</span>                        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaef4e6ed65692521bbcff2f3229bf36d2">LANG_MOVEGENS_HOME_PLAYER</a>);</div>
<div class="line"><span class="lineno"> 2749</span>                    }</div>
<div class="line"><span class="lineno"> 2750</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2751</span>                }</div>
<div class="line"><span class="lineno"> 2752</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9ad1cbffaeac9c9f09b8aeedbaadef54f4">FLIGHT_MOTION_TYPE</a>:</div>
<div class="line"><span class="lineno"> 2753</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aac9bb9628f71f71ad54f143f515318d6e">LANG_MOVEGENS_FLIGHT</a>);</div>
<div class="line"><span class="lineno"> 2754</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2755</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9ad05105e19ca15912eceb8a1d856c7467">POINT_MOTION_TYPE</a>:</div>
<div class="line"><span class="lineno"> 2756</span>                {</div>
<div class="line"><span class="lineno"> 2757</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab34cfee640471400addd37af93fc57eb">LANG_MOVEGENS_POINT</a>, x, y, z);</div>
<div class="line"><span class="lineno"> 2758</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2759</span>                }</div>
<div class="line"><span class="lineno"> 2760</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9a96bdbc5913c5eb73d6eb7b28bbe9b05e">FLEEING_MOTION_TYPE</a>:</div>
<div class="line"><span class="lineno"> 2761</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaf997291ff69ff377e5e5cf689d58a25e">LANG_MOVEGENS_FEAR</a>);</div>
<div class="line"><span class="lineno"> 2762</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2763</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9a35aa056191b760ab18515a11f00f1759">DISTRACT_MOTION_TYPE</a>:</div>
<div class="line"><span class="lineno"> 2764</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa61d6289bb089c51c91586967d3793e16">LANG_MOVEGENS_DISTRACT</a>);</div>
<div class="line"><span class="lineno"> 2765</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2766</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9af4917c7ba7d6e157bc3b8c59773cc6ac">EFFECT_MOTION_TYPE</a>:</div>
<div class="line"><span class="lineno"> 2767</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa0ddf028c299eb04de58a1f82e78220ca">LANG_MOVEGENS_EFFECT</a>);</div>
<div class="line"><span class="lineno"> 2768</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2769</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2770</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa21c5ef44acf89fc1cfe3b19f1c89fb90">LANG_MOVEGENS_UNKNOWN</a>, movementGenerator-&gt;<a class="code hl_function" href="../../d0/d60/a09734.html#a60bac341b438ea7258986f234a952324">GetMovementGeneratorType</a>());</div>
<div class="line"><span class="lineno"> 2771</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2772</span>            }</div>
<div class="line"><span class="lineno"> 2773</span>        }</div>
<div class="line"><span class="lineno"> 2774</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2775</span>    }</div>
<div class="ttc" id="aa00497_html_a15a8d014fadf85c99a2268d8cbd00767"><div class="ttname"><a href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a></div><div class="ttdeci">std::uint8_t uint8</div><div class="ttdef"><b>Definition:</b> Define.h:109</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa02b6e8a70836d76e3364beede42cbcf0"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa02b6e8a70836d76e3364beede42cbcf0">LANG_MOVEGENS_FOLLOW_PLAYER</a></div><div class="ttdeci">@ LANG_MOVEGENS_FOLLOW_PLAYER</div><div class="ttdef"><b>Definition:</b> Language.h:928</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa0ddf028c299eb04de58a1f82e78220ca"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa0ddf028c299eb04de58a1f82e78220ca">LANG_MOVEGENS_EFFECT</a></div><div class="ttdeci">@ LANG_MOVEGENS_EFFECT</div><div class="ttdef"><b>Definition:</b> Language.h:931</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa21c5ef44acf89fc1cfe3b19f1c89fb90"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa21c5ef44acf89fc1cfe3b19f1c89fb90">LANG_MOVEGENS_UNKNOWN</a></div><div class="ttdeci">@ LANG_MOVEGENS_UNKNOWN</div><div class="ttdef"><b>Definition:</b> Language.h:584</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa475649faf6110b5440c56295d2120333"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa475649faf6110b5440c56295d2120333">LANG_MOVEGENS_CHASE_PLAYER</a></div><div class="ttdeci">@ LANG_MOVEGENS_CHASE_PLAYER</div><div class="ttdef"><b>Definition:</b> Language.h:578</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa4c486d808b005dc4af0c9b14c4455349"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4c486d808b005dc4af0c9b14c4455349">LANG_MOVEGENS_IDLE</a></div><div class="ttdeci">@ LANG_MOVEGENS_IDLE</div><div class="ttdef"><b>Definition:</b> Language.h:573</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa4f392fcd22cfdab6305e89201a8a053e"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4f392fcd22cfdab6305e89201a8a053e">LANG_MOVEGENS_CONFUSED</a></div><div class="ttdeci">@ LANG_MOVEGENS_CONFUSED</div><div class="ttdef"><b>Definition:</b> Language.h:577</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa53ba0fdb01ca0dfd0596b1ba46b93862"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa53ba0fdb01ca0dfd0596b1ba46b93862">LANG_MOVEGENS_FOLLOW_CREATURE</a></div><div class="ttdeci">@ LANG_MOVEGENS_FOLLOW_CREATURE</div><div class="ttdef"><b>Definition:</b> Language.h:929</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa5428fb471c5f1f039dda6991adffc32c"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa5428fb471c5f1f039dda6991adffc32c">LANG_MOVEGENS_FOLLOW_NULL</a></div><div class="ttdeci">@ LANG_MOVEGENS_FOLLOW_NULL</div><div class="ttdef"><b>Definition:</b> Language.h:930</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa61d6289bb089c51c91586967d3793e16"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa61d6289bb089c51c91586967d3793e16">LANG_MOVEGENS_DISTRACT</a></div><div class="ttdeci">@ LANG_MOVEGENS_DISTRACT</div><div class="ttdef"><b>Definition:</b> Language.h:652</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa9c3204dae7487968810cbb963a263f16"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9c3204dae7487968810cbb963a263f16">LANG_MOVEGENS_CHASE_CREATURE</a></div><div class="ttdeci">@ LANG_MOVEGENS_CHASE_CREATURE</div><div class="ttdef"><b>Definition:</b> Language.h:579</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaa964671043eb0f09766b9d9450778a59"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa964671043eb0f09766b9d9450778a59">LANG_MOVEGENS_RANDOM</a></div><div class="ttdeci">@ LANG_MOVEGENS_RANDOM</div><div class="ttdef"><b>Definition:</b> Language.h:574</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aab12c94b91d2f261590035324a01690a9"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab12c94b91d2f261590035324a01690a9">LANG_MOVEGENS_WAYPOINT</a></div><div class="ttdeci">@ LANG_MOVEGENS_WAYPOINT</div><div class="ttdef"><b>Definition:</b> Language.h:575</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aab34cfee640471400addd37af93fc57eb"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab34cfee640471400addd37af93fc57eb">LANG_MOVEGENS_POINT</a></div><div class="ttdeci">@ LANG_MOVEGENS_POINT</div><div class="ttdef"><b>Definition:</b> Language.h:650</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aabb939c31afc593ac893f21b408aad3b7"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aabb939c31afc593ac893f21b408aad3b7">LANG_MOVEGENS_ANIMAL_RANDOM</a></div><div class="ttdeci">@ LANG_MOVEGENS_ANIMAL_RANDOM</div><div class="ttdef"><b>Definition:</b> Language.h:576</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aac4be1bc51c08f54a5e95d1c38f7e7b1c"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aac4be1bc51c08f54a5e95d1c38f7e7b1c">LANG_MOVEGENS_CHASE_NULL</a></div><div class="ttdeci">@ LANG_MOVEGENS_CHASE_NULL</div><div class="ttdef"><b>Definition:</b> Language.h:580</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aac9bb9628f71f71ad54f143f515318d6e"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aac9bb9628f71f71ad54f143f515318d6e">LANG_MOVEGENS_FLIGHT</a></div><div class="ttdeci">@ LANG_MOVEGENS_FLIGHT</div><div class="ttdef"><b>Definition:</b> Language.h:583</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aae4a02cd6d48186fb054856e95c54adbd"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aae4a02cd6d48186fb054856e95c54adbd">LANG_MOVEGENS_HOME_CREATURE</a></div><div class="ttdeci">@ LANG_MOVEGENS_HOME_CREATURE</div><div class="ttdef"><b>Definition:</b> Language.h:581</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaef4e6ed65692521bbcff2f3229bf36d2"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaef4e6ed65692521bbcff2f3229bf36d2">LANG_MOVEGENS_HOME_PLAYER</a></div><div class="ttdeci">@ LANG_MOVEGENS_HOME_PLAYER</div><div class="ttdef"><b>Definition:</b> Language.h:582</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaefea813e5d9ed505c0a814b4df069456"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaefea813e5d9ed505c0a814b4df069456">LANG_MOVEGENS_LIST</a></div><div class="ttdeci">@ LANG_MOVEGENS_LIST</div><div class="ttdef"><b>Definition:</b> Language.h:572</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaf997291ff69ff377e5e5cf689d58a25e"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaf997291ff69ff377e5e5cf689d58a25e">LANG_MOVEGENS_FEAR</a></div><div class="ttdeci">@ LANG_MOVEGENS_FEAR</div><div class="ttdef"><b>Definition:</b> Language.h:651</div></div>
<div class="ttc" id="aa03890_html_a42f80f4e5d95e3ba656adbee43cfc3f5a99e3f1c482d8a964a3613986a34658b5"><div class="ttname"><a href="../../d2/df3/a03890.html#a42f80f4e5d95e3ba656adbee43cfc3f5a99e3f1c482d8a964a3613986a34658b5">MAX_MOTION_SLOT</a></div><div class="ttdeci">@ MAX_MOTION_SLOT</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:66</div></div>
<div class="ttc" id="aa03890_html_a4f12806b915efea564eae942207002f9a35aa056191b760ab18515a11f00f1759"><div class="ttname"><a href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9a35aa056191b760ab18515a11f00f1759">DISTRACT_MOTION_TYPE</a></div><div class="ttdeci">@ DISTRACT_MOTION_TYPE</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:50</div></div>
<div class="ttc" id="aa03890_html_a4f12806b915efea564eae942207002f9a35e951ebafcab180b4bd926e5760803e"><div class="ttname"><a href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9a35e951ebafcab180b4bd926e5760803e">IDLE_MOTION_TYPE</a></div><div class="ttdeci">@ IDLE_MOTION_TYPE</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:39</div></div>
<div class="ttc" id="aa03890_html_a4f12806b915efea564eae942207002f9a4a7484b1c685865cef43981b61d3a881"><div class="ttname"><a href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9a4a7484b1c685865cef43981b61d3a881">CHASE_MOTION_TYPE</a></div><div class="ttdeci">@ CHASE_MOTION_TYPE</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:45</div></div>
<div class="ttc" id="aa03890_html_a4f12806b915efea564eae942207002f9a6158029efb794f0a586a62f35cef5ae9"><div class="ttname"><a href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9a6158029efb794f0a586a62f35cef5ae9">WAYPOINT_MOTION_TYPE</a></div><div class="ttdeci">@ WAYPOINT_MOTION_TYPE</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:41</div></div>
<div class="ttc" id="aa03890_html_a4f12806b915efea564eae942207002f9a96bdbc5913c5eb73d6eb7b28bbe9b05e"><div class="ttname"><a href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9a96bdbc5913c5eb73d6eb7b28bbe9b05e">FLEEING_MOTION_TYPE</a></div><div class="ttdeci">@ FLEEING_MOTION_TYPE</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:49</div></div>
<div class="ttc" id="aa03890_html_a4f12806b915efea564eae942207002f9aaf0253f8d6a3f2a5219bcf9db3494611"><div class="ttname"><a href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9aaf0253f8d6a3f2a5219bcf9db3494611">CONFUSED_MOTION_TYPE</a></div><div class="ttdeci">@ CONFUSED_MOTION_TYPE</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:44</div></div>
<div class="ttc" id="aa03890_html_a4f12806b915efea564eae942207002f9ab50c687899070d507c7858b481807426"><div class="ttname"><a href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9ab50c687899070d507c7858b481807426">HOME_MOTION_TYPE</a></div><div class="ttdeci">@ HOME_MOTION_TYPE</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:46</div></div>
<div class="ttc" id="aa03890_html_a4f12806b915efea564eae942207002f9ad05105e19ca15912eceb8a1d856c7467"><div class="ttname"><a href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9ad05105e19ca15912eceb8a1d856c7467">POINT_MOTION_TYPE</a></div><div class="ttdeci">@ POINT_MOTION_TYPE</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:48</div></div>
<div class="ttc" id="aa03890_html_a4f12806b915efea564eae942207002f9ad1cbffaeac9c9f09b8aeedbaadef54f4"><div class="ttname"><a href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9ad1cbffaeac9c9f09b8aeedbaadef54f4">FLIGHT_MOTION_TYPE</a></div><div class="ttdeci">@ FLIGHT_MOTION_TYPE</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:47</div></div>
<div class="ttc" id="aa03890_html_a4f12806b915efea564eae942207002f9ae99e76e1e80feb6d7ff6e1df01e98e9c"><div class="ttname"><a href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9ae99e76e1e80feb6d7ff6e1df01e98e9c">FOLLOW_MOTION_TYPE</a></div><div class="ttdeci">@ FOLLOW_MOTION_TYPE</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:54</div></div>
<div class="ttc" id="aa03890_html_a4f12806b915efea564eae942207002f9ae9aa98899960f240ae2de52288b2dbd6"><div class="ttname"><a href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9ae9aa98899960f240ae2de52288b2dbd6">ANIMAL_RANDOM_MOTION_TYPE</a></div><div class="ttdeci">@ ANIMAL_RANDOM_MOTION_TYPE</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:43</div></div>
<div class="ttc" id="aa03890_html_a4f12806b915efea564eae942207002f9aec7cad6c9576df1fca0eb4fa073e5ff2"><div class="ttname"><a href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9aec7cad6c9576df1fca0eb4fa073e5ff2">RANDOM_MOTION_TYPE</a></div><div class="ttdeci">@ RANDOM_MOTION_TYPE</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:40</div></div>
<div class="ttc" id="aa03890_html_a4f12806b915efea564eae942207002f9af4917c7ba7d6e157bc3b8c59773cc6ac"><div class="ttname"><a href="../../d2/df3/a03890.html#a4f12806b915efea564eae942207002f9af4917c7ba7d6e157bc3b8c59773cc6ac">EFFECT_MOTION_TYPE</a></div><div class="ttdeci">@ EFFECT_MOTION_TYPE</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:56</div></div>
<div class="ttc" id="aa08250_html_a7e67658eb5aa058bc7f46bf6b11a797c"><div class="ttname"><a href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">WorldObject::GetName</a></div><div class="ttdeci">std::string const &amp; GetName() const</div><div class="ttdef"><b>Definition:</b> Object.h:463</div></div>
<div class="ttc" id="aa09730_html"><div class="ttname"><a href="../../d8/dc2/a09730.html">MotionMaster</a></div><div class="ttdef"><b>Definition:</b> MotionMaster.h:112</div></div>
<div class="ttc" id="aa09730_html_a6467513eb801179256c4bf899268f33a"><div class="ttname"><a href="../../d8/dc2/a09730.html#a6467513eb801179256c4bf899268f33a">MotionMaster::GetMotionSlot</a></div><div class="ttdeci">_Ty GetMotionSlot(int slot) const</div><div class="ttdef"><b>Definition:</b> MotionMaster.h:155</div></div>
<div class="ttc" id="aa09730_html_ab8dd6cc77c73d04fef110e14b0735023"><div class="ttname"><a href="../../d8/dc2/a09730.html#ab8dd6cc77c73d04fef110e14b0735023">MotionMaster::GetDestination</a></div><div class="ttdeci">bool GetDestination(float &amp;x, float &amp;y, float &amp;z)</div><div class="ttdef"><b>Definition:</b> MotionMaster.cpp:962</div></div>
<div class="ttc" id="aa09734_html"><div class="ttname"><a href="../../d0/d60/a09734.html">MovementGenerator</a></div><div class="ttdef"><b>Definition:</b> MovementGenerator.h:28</div></div>
<div class="ttc" id="aa09734_html_a60bac341b438ea7258986f234a952324"><div class="ttname"><a href="../../d0/d60/a09734.html#a60bac341b438ea7258986f234a952324">MovementGenerator::GetMovementGeneratorType</a></div><div class="ttdeci">virtual MovementGeneratorType GetMovementGeneratorType()=0</div></div>
<div class="ttc" id="aa09814_html"><div class="ttname"><a href="../../d6/d8e/a09814.html">ChaseMovementGenerator</a></div><div class="ttdef"><b>Definition:</b> TargetedMovementGenerator.h:39</div></div>
<div class="ttc" id="aa09818_html"><div class="ttname"><a href="../../d1/da1/a09818.html">FollowMovementGenerator</a></div><div class="ttdef"><b>Definition:</b> TargetedMovementGenerator.h:76</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00043">ANIMAL_RANDOM_MOTION_TYPE</a>, <a class="el" href="../../#l00045">CHASE_MOTION_TYPE</a>, <a class="el" href="../../#l00044">CONFUSED_MOTION_TYPE</a>, <a class="el" href="../../#l00050">DISTRACT_MOTION_TYPE</a>, <a class="el" href="../../#l00056">EFFECT_MOTION_TYPE</a>, <a class="el" href="../../#l00049">FLEEING_MOTION_TYPE</a>, <a class="el" href="../../#l00047">FLIGHT_MOTION_TYPE</a>, <a class="el" href="../../#l00054">FOLLOW_MOTION_TYPE</a>, <a class="el" href="../../#l00962">MotionMaster::GetDestination()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l01620">Unit::GetMotionMaster()</a>, <a class="el" href="../../#l00155">MotionMaster::GetMotionSlot()</a>, <a class="el" href="../../d0/d60/a09734.html#a60bac341b438ea7258986f234a952324">MovementGenerator::GetMovementGeneratorType()</a>, <a class="el" href="../../#l00463">WorldObject::GetName()</a>, <a class="el" href="../../#l00385">ChatHandler::getSelectedUnit()</a>, <a class="el" href="../../#l00046">HOME_MOTION_TYPE</a>, <a class="el" href="../../#l00039">IDLE_MOTION_TYPE</a>, <a class="el" href="../../#l00204">Object::IsCreature()</a>, <a class="el" href="../../#l00200">Object::IsPlayer()</a>, <a class="el" href="../../#l00576">LANG_MOVEGENS_ANIMAL_RANDOM</a>, <a class="el" href="../../#l00579">LANG_MOVEGENS_CHASE_CREATURE</a>, <a class="el" href="../../#l00580">LANG_MOVEGENS_CHASE_NULL</a>, <a class="el" href="../../#l00578">LANG_MOVEGENS_CHASE_PLAYER</a>, <a class="el" href="../../#l00577">LANG_MOVEGENS_CONFUSED</a>, <a class="el" href="../../#l00652">LANG_MOVEGENS_DISTRACT</a>, <a class="el" href="../../#l00931">LANG_MOVEGENS_EFFECT</a>, <a class="el" href="../../#l00651">LANG_MOVEGENS_FEAR</a>, <a class="el" href="../../#l00583">LANG_MOVEGENS_FLIGHT</a>, <a class="el" href="../../#l00929">LANG_MOVEGENS_FOLLOW_CREATURE</a>, <a class="el" href="../../#l00930">LANG_MOVEGENS_FOLLOW_NULL</a>, <a class="el" href="../../#l00928">LANG_MOVEGENS_FOLLOW_PLAYER</a>, <a class="el" href="../../#l00581">LANG_MOVEGENS_HOME_CREATURE</a>, <a class="el" href="../../#l00582">LANG_MOVEGENS_HOME_PLAYER</a>, <a class="el" href="../../#l00573">LANG_MOVEGENS_IDLE</a>, <a class="el" href="../../#l00572">LANG_MOVEGENS_LIST</a>, <a class="el" href="../../#l00650">LANG_MOVEGENS_POINT</a>, <a class="el" href="../../#l00574">LANG_MOVEGENS_RANDOM</a>, <a class="el" href="../../#l00584">LANG_MOVEGENS_UNKNOWN</a>, <a class="el" href="../../#l00575">LANG_MOVEGENS_WAYPOINT</a>, <a class="el" href="../../#l00031">LANG_SELECT_CHAR_OR_CREATURE</a>, <a class="el" href="../../#l00066">MAX_MOTION_SLOT</a>, <a class="el" href="../../#l00048">POINT_MOTION_TYPE</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00040">RANDOM_MOTION_TYPE</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00159">ChatHandler::SendSysMessage()</a>, <a class="el" href="../../#l00047">ObjectGuid::ToString()</a>, and <a class="el" href="../../#l00041">WAYPOINT_MOTION_TYPE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="af6dd391539dfcb985388805735c0c82e" name="af6dd391539dfcb985388805735c0c82e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6dd391539dfcb985388805735c0c82e">&#9670;&#160;</a></span>HandleMuteCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleMuteCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt;&#160;</td>
          <td class="paramname"><em>player</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>notSpeakTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/dd6/a07534.html">Tail</a>&#160;</td>
          <td class="paramname"><em>muteReason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2424</span>    {</div>
<div class="line"><span class="lineno"> 2425</span>        std::string muteReasonStr{ muteReason };</div>
<div class="line"><span class="lineno"> 2426</span> </div>
<div class="line"><span class="lineno"> 2427</span>        <span class="keywordflow">if</span> (notSpeakTime.empty())</div>
<div class="line"><span class="lineno"> 2428</span>        {</div>
<div class="line"><span class="lineno"> 2429</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2430</span>        }</div>
<div class="line"><span class="lineno"> 2431</span> </div>
<div class="line"><span class="lineno"> 2432</span>        <span class="keywordflow">if</span> (Acore::StringTo&lt;int32&gt;(notSpeakTime).value_or(0) &lt; 0)</div>
<div class="line"><span class="lineno"> 2433</span>        {</div>
<div class="line"><span class="lineno"> 2434</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaba84876eafcef3a821f7a2a52fd3497e">LANG_BAD_VALUE</a>);</div>
<div class="line"><span class="lineno"> 2435</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2436</span>        }</div>
<div class="line"><span class="lineno"> 2437</span> </div>
<div class="line"><span class="lineno"> 2438</span>        <span class="keywordflow">if</span> (muteReason.empty())</div>
<div class="line"><span class="lineno"> 2439</span>        {</div>
<div class="line"><span class="lineno"> 2440</span>            muteReasonStr = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa166fddb474c3c2541a233c247da39721">LANG_NO_REASON</a>);</div>
<div class="line"><span class="lineno"> 2441</span>        }</div>
<div class="line"><span class="lineno"> 2442</span> </div>
<div class="line"><span class="lineno"> 2443</span>        <span class="keywordflow">if</span> (!player)</div>
<div class="line"><span class="lineno"> 2444</span>        {</div>
<div class="line"><span class="lineno"> 2445</span>            player = <a class="code hl_function" href="../../de/d8a/a07550.html#aea33fb49551ebc0f687f3d24dc3dfbea">PlayerIdentifier::FromTarget</a>(handler);</div>
<div class="line"><span class="lineno"> 2446</span>        }</div>
<div class="line"><span class="lineno"> 2447</span> </div>
<div class="line"><span class="lineno"> 2448</span>        <span class="keywordflow">if</span> (!player)</div>
<div class="line"><span class="lineno"> 2449</span>        {</div>
<div class="line"><span class="lineno"> 2450</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaab2e8907c804b742a54d115d079d86a6">LANG_PLAYER_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno"> 2451</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2452</span>        }</div>
<div class="line"><span class="lineno"> 2453</span> </div>
<div class="line"><span class="lineno"> 2454</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* target = player-&gt;GetConnectedPlayer();</div>
<div class="line"><span class="lineno"> 2455</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId = target ? target-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>() : <a class="code hl_define" href="../../d4/d7f/a04124.html#a7a32c898b33d6163d83a32f46d58517c">sCharacterCache</a>-&gt;GetCharacterAccountIdByGuid(player-&gt;GetGUID());</div>
<div class="line"><span class="lineno"> 2456</span> </div>
<div class="line"><span class="lineno"> 2457</span>        <span class="comment">// find only player from same account if any</span></div>
<div class="line"><span class="lineno"> 2458</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno"> 2459</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d9/d7c/a10810.html">WorldSession</a>* session = <a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;FindSession(accountId))</div>
<div class="line"><span class="lineno"> 2460</span>            {</div>
<div class="line"><span class="lineno"> 2461</span>                target = session-&gt;GetPlayer();</div>
<div class="line"><span class="lineno"> 2462</span>            }</div>
<div class="line"><span class="lineno"> 2463</span> </div>
<div class="line"><span class="lineno"> 2464</span>        <span class="comment">// must have strong lesser security level</span></div>
<div class="line"><span class="lineno"> 2465</span>        <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#afacb4b59756372ec32810be0d46da49c">HasLowerSecurity</a>(target, player-&gt;GetGUID(), <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 2466</span>        {</div>
<div class="line"><span class="lineno"> 2467</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2468</span>        }</div>
<div class="line"><span class="lineno"> 2469</span> </div>
<div class="line"><span class="lineno"> 2470</span>        <a class="code hl_class" href="../../d4/d20/a05586.html">LoginDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fba8b27690680e6fdcd34e8544e0d7334bc">LOGIN_UPD_MUTE_TIME</a>);</div>
<div class="line"><span class="lineno"> 2471</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> muteDuration = <a class="code hl_function" href="../../da/dee/a00383.html#a6afbc7b52fa1fe844f66ffcf8230ff93">TimeStringToSecs</a>(notSpeakTime);</div>
<div class="line"><span class="lineno"> 2472</span>        <span class="keywordflow">if</span> (muteDuration &lt;= 0)</div>
<div class="line"><span class="lineno"> 2473</span>        {</div>
<div class="line"><span class="lineno"> 2474</span>            muteDuration = Acore::StringTo&lt;int32&gt;(notSpeakTime).value_or(0);</div>
<div class="line"><span class="lineno"> 2475</span>        }</div>
<div class="line"><span class="lineno"> 2476</span> </div>
<div class="line"><span class="lineno"> 2477</span>        <span class="keywordflow">if</span> (muteDuration &lt;= 0)</div>
<div class="line"><span class="lineno"> 2478</span>        {</div>
<div class="line"><span class="lineno"> 2479</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaba84876eafcef3a821f7a2a52fd3497e">LANG_BAD_VALUE</a>);</div>
<div class="line"><span class="lineno"> 2480</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2481</span>        }</div>
<div class="line"><span class="lineno"> 2482</span> </div>
<div class="line"><span class="lineno"> 2483</span>        std::string muteBy = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 2484</span>        <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>())</div>
<div class="line"><span class="lineno"> 2485</span>        {</div>
<div class="line"><span class="lineno"> 2486</span>            muteBy = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#adc5517d80512262fe3b6c1c887bacba8">GetPlayerName</a>();</div>
<div class="line"><span class="lineno"> 2487</span>        }</div>
<div class="line"><span class="lineno"> 2488</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2489</span>        {</div>
<div class="line"><span class="lineno"> 2490</span>            muteBy = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9e5cc5caa329718ff252d57a95eec268">LANG_CONSOLE</a>);</div>
<div class="line"><span class="lineno"> 2491</span>        }</div>
<div class="line"><span class="lineno"> 2492</span> </div>
<div class="line"><span class="lineno"> 2493</span>        <span class="keywordflow">if</span> (target)</div>
<div class="line"><span class="lineno"> 2494</span>        {</div>
<div class="line"><span class="lineno"> 2495</span>            <span class="comment">// Target is online, mute will be in effect right away.</span></div>
<div class="line"><span class="lineno"> 2496</span>            <a class="code hl_typedef" href="../../d4/d1e/a00497.html#ad7a3bd3be7bd59e7fb6337fcbc956eb1">int64</a> muteTime = <a class="code hl_function" href="../../d0/dfa/a04759.html#adbe1785d1327dedf2ac403b7cc8e99c2">GameTime::GetGameTime</a>().count() + muteDuration;</div>
<div class="line"><span class="lineno"> 2497</span>            target-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_variable" href="../../d9/d7c/a10810.html#add117187a32a871148dfadd7e4526e81">m_muteTime</a> = muteTime;</div>
<div class="line"><span class="lineno"> 2498</span>            stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, muteTime);</div>
<div class="line"><span class="lineno"> 2499</span>            std::string nameLink = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a52c15179ec3eff1b6bb9551d96a8b901">playerLink</a>(player-&gt;GetName());</div>
<div class="line"><span class="lineno"> 2500</span> </div>
<div class="line"><span class="lineno"> 2501</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getBoolConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0a2da2ed1cdeab6b9d8b9ba79721526602">CONFIG_SHOW_MUTE_IN_WORLD</a>))</div>
<div class="line"><span class="lineno"> 2502</span>            {</div>
<div class="line"><span class="lineno"> 2503</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ad04fd84539ea2ab1596b40f2efdd906e">SendWorldText</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa8f0f9ad2eed610603133a8546bb0e0df">LANG_COMMAND_MUTEMESSAGE_WORLD</a>, muteBy, nameLink, <a class="code hl_function" href="../../da/dee/a00383.html#a0b4910c611cea4a1b2812dac5456c5a8">secsToTimeString</a>(muteDuration, <span class="keyword">true</span>), muteReasonStr);</div>
<div class="line"><span class="lineno"> 2504</span>            }</div>
<div class="line"><span class="lineno"> 2505</span> </div>
<div class="line"><span class="lineno"> 2506</span>            <a class="code hl_class" href="../../d4/d99/a07362.html">ChatHandler</a>(target-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()).<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa62e8e743f4075ba92776814a9b66999b">LANG_YOUR_CHAT_DISABLED</a>, <a class="code hl_function" href="../../da/dee/a00383.html#a0b4910c611cea4a1b2812dac5456c5a8">secsToTimeString</a>(muteDuration, <span class="keyword">true</span>), muteBy, muteReasonStr);</div>
<div class="line"><span class="lineno"> 2507</span>        }</div>
<div class="line"><span class="lineno"> 2508</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2509</span>        {</div>
<div class="line"><span class="lineno"> 2510</span>            <span class="comment">// Target is offline, mute will be in effect starting from the next login.</span></div>
<div class="line"><span class="lineno"> 2511</span>            stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, -<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(muteDuration));</div>
<div class="line"><span class="lineno"> 2512</span>        }</div>
<div class="line"><span class="lineno"> 2513</span> </div>
<div class="line"><span class="lineno"> 2514</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, muteReasonStr);</div>
<div class="line"><span class="lineno"> 2515</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(2, muteBy);</div>
<div class="line"><span class="lineno"> 2516</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(3, accountId);</div>
<div class="line"><span class="lineno"> 2517</span>        <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno"> 2518</span> </div>
<div class="line"><span class="lineno"> 2519</span>        stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fbaf7004bdc476a7b03e67ebe29f129309b">LOGIN_INS_ACCOUNT_MUTE</a>);</div>
<div class="line"><span class="lineno"> 2520</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno"> 2521</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, muteDuration / <a class="code hl_variable" href="../../d4/d51/a00017.html#afacf27522adfacf698390ddafc53fa30">MINUTE</a>);</div>
<div class="line"><span class="lineno"> 2522</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(2, muteBy);</div>
<div class="line"><span class="lineno"> 2523</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(3, muteReasonStr);</div>
<div class="line"><span class="lineno"> 2524</span>        <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno"> 2525</span> </div>
<div class="line"><span class="lineno"> 2526</span>        std::string nameLink = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a52c15179ec3eff1b6bb9551d96a8b901">playerLink</a>(player-&gt;GetName());</div>
<div class="line"><span class="lineno"> 2527</span> </div>
<div class="line"><span class="lineno"> 2528</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getBoolConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0a2da2ed1cdeab6b9d8b9ba79721526602">CONFIG_SHOW_MUTE_IN_WORLD</a>) &amp;&amp; !target)</div>
<div class="line"><span class="lineno"> 2529</span>        {</div>
<div class="line"><span class="lineno"> 2530</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ad04fd84539ea2ab1596b40f2efdd906e">SendWorldText</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa8f0f9ad2eed610603133a8546bb0e0df">LANG_COMMAND_MUTEMESSAGE_WORLD</a>, muteBy, nameLink, <a class="code hl_function" href="../../da/dee/a00383.html#a0b4910c611cea4a1b2812dac5456c5a8">secsToTimeString</a>(muteDuration, <span class="keyword">true</span>), muteReasonStr);</div>
<div class="line"><span class="lineno"> 2531</span>        }</div>
<div class="line"><span class="lineno"> 2532</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2533</span>        {</div>
<div class="line"><span class="lineno"> 2534</span>            <span class="comment">// pussywizard: notify all online GMs</span></div>
<div class="line"><span class="lineno"> 2535</span>            std::shared_lock&lt;std::shared_mutex&gt; lock(*<a class="code hl_class" href="../../d1/d2b/a08686.html">HashMapHolder&lt;Player&gt;::GetLock</a>());</div>
<div class="line"><span class="lineno"> 2536</span>            <a class="code hl_typedef" href="../../d1/d2b/a08686.html#a8fa5f0aca9316901f42b2df8251c5a5d">HashMapHolder&lt;Player&gt;::MapType</a> <span class="keyword">const</span>&amp; m = <a class="code hl_function" href="../../d4/da9/a04736.html#a868ecab21b3e6e3ac68beed32f4ea793">ObjectAccessor::GetPlayers</a>();</div>
<div class="line"><span class="lineno"> 2537</span>            <span class="keywordflow">for</span> (<a class="code hl_class" href="../../d1/d2b/a08686.html">HashMapHolder&lt;Player&gt;::MapType::const_iterator</a> itr = m.begin(); itr != m.end(); ++itr)</div>
<div class="line"><span class="lineno"> 2538</span>                <span class="keywordflow">if</span> (itr-&gt;second-&gt;GetSession()-&gt;GetSecurity())</div>
<div class="line"><span class="lineno"> 2539</span>                    <a class="code hl_class" href="../../d4/d99/a07362.html">ChatHandler</a>(itr-&gt;second-&gt;GetSession()).<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(target ? <a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa93d71e0f56e14b473b08abc156cbbe2e">LANG_YOU_DISABLE_CHAT</a> : <a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa3cafb3cad897b8145d3328edf27efa75">LANG_COMMAND_DISABLE_CHAT_DELAYED</a>,</div>
<div class="line"><span class="lineno"> 2540</span>                            (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>() ? handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#adc5517d80512262fe3b6c1c887bacba8">GetPlayerName</a>() : handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9e5cc5caa329718ff252d57a95eec268">LANG_CONSOLE</a>)), nameLink, <a class="code hl_function" href="../../da/dee/a00383.html#a0b4910c611cea4a1b2812dac5456c5a8">secsToTimeString</a>(muteDuration, <span class="keyword">true</span>), muteReasonStr);</div>
<div class="line"><span class="lineno"> 2541</span>        }</div>
<div class="line"><span class="lineno"> 2542</span> </div>
<div class="line"><span class="lineno"> 2543</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2544</span>    }</div>
<div class="ttc" id="aa00017_html_afacf27522adfacf698390ddafc53fa30"><div class="ttname"><a href="../../d4/d51/a00017.html#afacf27522adfacf698390ddafc53fa30">MINUTE</a></div><div class="ttdeci">constexpr auto MINUTE</div><div class="ttdef"><b>Definition:</b> Common.h:47</div></div>
<div class="ttc" id="aa00383_html_a0b4910c611cea4a1b2812dac5456c5a8"><div class="ttname"><a href="../../da/dee/a00383.html#a0b4910c611cea4a1b2812dac5456c5a8">secsToTimeString</a></div><div class="ttdeci">std::string secsToTimeString(uint64 timeInSecs, bool shortText)</div><div class="ttdef"><b>Definition:</b> Util.cpp:73</div></div>
<div class="ttc" id="aa00383_html_a6afbc7b52fa1fe844f66ffcf8230ff93"><div class="ttname"><a href="../../da/dee/a00383.html#a6afbc7b52fa1fe844f66ffcf8230ff93">TimeStringToSecs</a></div><div class="ttdeci">uint32 TimeStringToSecs(const std::string &amp;timestring)</div><div class="ttdef"><b>Definition:</b> Util.cpp:163</div></div>
<div class="ttc" id="aa00497_html_ad7a3bd3be7bd59e7fb6337fcbc956eb1"><div class="ttname"><a href="../../d4/d1e/a00497.html#ad7a3bd3be7bd59e7fb6337fcbc956eb1">int64</a></div><div class="ttdeci">std::int64_t int64</div><div class="ttdef"><b>Definition:</b> Define.h:102</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa3cafb3cad897b8145d3328edf27efa75"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa3cafb3cad897b8145d3328edf27efa75">LANG_COMMAND_DISABLE_CHAT_DELAYED</a></div><div class="ttdeci">@ LANG_COMMAND_DISABLE_CHAT_DELAYED</div><div class="ttdef"><b>Definition:</b> Language.h:328</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa62e8e743f4075ba92776814a9b66999b"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa62e8e743f4075ba92776814a9b66999b">LANG_YOUR_CHAT_DISABLED</a></div><div class="ttdeci">@ LANG_YOUR_CHAT_DISABLED</div><div class="ttdef"><b>Definition:</b> Language.h:340</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa8f0f9ad2eed610603133a8546bb0e0df"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa8f0f9ad2eed610603133a8546bb0e0df">LANG_COMMAND_MUTEMESSAGE_WORLD</a></div><div class="ttdeci">@ LANG_COMMAND_MUTEMESSAGE_WORLD</div><div class="ttdef"><b>Definition:</b> Language.h:1288</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa93d71e0f56e14b473b08abc156cbbe2e"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa93d71e0f56e14b473b08abc156cbbe2e">LANG_YOU_DISABLE_CHAT</a></div><div class="ttdeci">@ LANG_YOU_DISABLE_CHAT</div><div class="ttdef"><b>Definition:</b> Language.h:341</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa9e5cc5caa329718ff252d57a95eec268"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9e5cc5caa329718ff252d57a95eec268">LANG_CONSOLE</a></div><div class="ttdeci">@ LANG_CONSOLE</div><div class="ttdef"><b>Definition:</b> Language.h:1086</div></div>
<div class="ttc" id="aa03317_html_a1b4b88c03b7d0124998b4c22e957baf0a2da2ed1cdeab6b9d8b9ba79721526602"><div class="ttname"><a href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0a2da2ed1cdeab6b9d8b9ba79721526602">CONFIG_SHOW_MUTE_IN_WORLD</a></div><div class="ttdeci">@ CONFIG_SHOW_MUTE_IN_WORLD</div><div class="ttdef"><b>Definition:</b> IWorld.h:132</div></div>
<div class="ttc" id="aa04124_html_a7a32c898b33d6163d83a32f46d58517c"><div class="ttname"><a href="../../d4/d7f/a04124.html#a7a32c898b33d6163d83a32f46d58517c">sCharacterCache</a></div><div class="ttdeci">#define sCharacterCache</div><div class="ttdef"><b>Definition:</b> CharacterCache.h:83</div></div>
<div class="ttc" id="aa04550_html_a2bc6eef17d8ecd1b7027058f5fecc9fba8b27690680e6fdcd34e8544e0d7334bc"><div class="ttname"><a href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fba8b27690680e6fdcd34e8544e0d7334bc">LOGIN_UPD_MUTE_TIME</a></div><div class="ttdeci">@ LOGIN_UPD_MUTE_TIME</div><div class="ttdef"><b>Definition:</b> LoginDatabase.h:72</div></div>
<div class="ttc" id="aa04550_html_a2bc6eef17d8ecd1b7027058f5fecc9fbaf7004bdc476a7b03e67ebe29f129309b"><div class="ttname"><a href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fbaf7004bdc476a7b03e67ebe29f129309b">LOGIN_INS_ACCOUNT_MUTE</a></div><div class="ttdeci">@ LOGIN_INS_ACCOUNT_MUTE</div><div class="ttdef"><b>Definition:</b> LoginDatabase.h:111</div></div>
<div class="ttc" id="aa04601_html_a2cf25eafe7f2f73b61ccde11d55daf0c"><div class="ttname"><a href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a></div><div class="ttdeci">DatabaseWorkerPool&lt; LoginDatabaseConnection &gt; LoginDatabase</div><div class="ttdoc">Accessor to the realm/login database.</div><div class="ttdef"><b>Definition:</b> DatabaseEnv.cpp:22</div></div>
<div class="ttc" id="aa04736_html_a868ecab21b3e6e3ac68beed32f4ea793"><div class="ttname"><a href="../../d4/da9/a04736.html#a868ecab21b3e6e3ac68beed32f4ea793">ObjectAccessor::GetPlayers</a></div><div class="ttdeci">HashMapHolder&lt; Player &gt;::MapType const &amp; GetPlayers()</div><div class="ttdef"><b>Definition:</b> ObjectAccessor.cpp:75</div></div>
<div class="ttc" id="aa04759_html_adbe1785d1327dedf2ac403b7cc8e99c2"><div class="ttname"><a href="../../d0/dfa/a04759.html#adbe1785d1327dedf2ac403b7cc8e99c2">GameTime::GetGameTime</a></div><div class="ttdeci">Seconds GetGameTime()</div><div class="ttdef"><b>Definition:</b> GameTime.cpp:38</div></div>
<div class="ttc" id="aa05586_html"><div class="ttname"><a href="../../d4/d20/a05586.html">PreparedStatement</a></div><div class="ttdef"><b>Definition:</b> PreparedStatement.h:157</div></div>
<div class="ttc" id="aa05718_html_a52fc2e65042c1db51f0923725a0f0ed0"><div class="ttname"><a href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">PreparedStatementBase::SetData</a></div><div class="ttdeci">Acore::Types::is_default&lt; T &gt; SetData(const uint8 index, T value)</div><div class="ttdef"><b>Definition:</b> PreparedStatement.h:77</div></div>
<div class="ttc" id="aa08686_html"><div class="ttname"><a href="../../d1/d2b/a08686.html">HashMapHolder</a></div><div class="ttdef"><b>Definition:</b> ObjectAccessor.h:41</div></div>
<div class="ttc" id="aa08686_html_a8fa5f0aca9316901f42b2df8251c5a5d"><div class="ttname"><a href="../../d1/d2b/a08686.html#a8fa5f0aca9316901f42b2df8251c5a5d">HashMapHolder::MapType</a></div><div class="ttdeci">std::unordered_map&lt; ObjectGuid, T * &gt; MapType</div><div class="ttdef"><b>Definition:</b> ObjectAccessor.h:47</div></div>
<div class="ttc" id="aa10810_html_a9fa5510daf576fe281d1961430902dd9"><div class="ttname"><a href="../../d9/d7c/a10810.html#a9fa5510daf576fe281d1961430902dd9">WorldSession::GetAccountId</a></div><div class="ttdeci">uint32 GetAccountId() const</div><div class="ttdef"><b>Definition:</b> WorldSession.h:375</div></div>
<div class="ttc" id="aa10810_html_add117187a32a871148dfadd7e4526e81"><div class="ttname"><a href="../../d9/d7c/a10810.html#add117187a32a871148dfadd7e4526e81">WorldSession::m_muteTime</a></div><div class="ttdeci">time_t m_muteTime</div><div class="ttdef"><b>Definition:</b> WorldSession.h:508</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00132">CONFIG_SHOW_MUTE_IN_WORLD</a>, <a class="el" href="../../#l00138">Acore::ChatCommands::PlayerIdentifier::FromTarget()</a>, <a class="el" href="../../#l00375">WorldSession::GetAccountId()</a>, <a class="el" href="../../#l00040">ChatHandler::GetAcoreString()</a>, <a class="el" href="../../#l00038">GameTime::GetGameTime()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00184">WorldSession::GetPlayerName()</a>, <a class="el" href="../../#l00075">ObjectAccessor::GetPlayers()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l02001">Player::GetSession()</a>, <a class="el" href="../../#l00056">ChatHandler::HasLowerSecurity()</a>, <a class="el" href="../../#l00147">LANG_BAD_VALUE</a>, <a class="el" href="../../#l00328">LANG_COMMAND_DISABLE_CHAT_DELAYED</a>, <a class="el" href="../../#l01288">LANG_COMMAND_MUTEMESSAGE_WORLD</a>, <a class="el" href="../../#l01086">LANG_CONSOLE</a>, <a class="el" href="../../#l00807">LANG_NO_REASON</a>, <a class="el" href="../../#l00539">LANG_PLAYER_NOT_FOUND</a>, <a class="el" href="../../#l00341">LANG_YOU_DISABLE_CHAT</a>, <a class="el" href="../../#l00340">LANG_YOUR_CHAT_DISABLED</a>, <a class="el" href="../../#l00111">LOGIN_INS_ACCOUNT_MUTE</a>, <a class="el" href="../../#l00072">LOGIN_UPD_MUTE_TIME</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, <a class="el" href="../../#l00508">WorldSession::m_muteTime</a>, <a class="el" href="../../#l00047">MINUTE</a>, <a class="el" href="../../#l00231">ChatHandler::playerLink()</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00083">sCharacterCache</a>, <a class="el" href="../../#l00073">secsToTimeString()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00130">ChatHandler::SendWorldText()</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, <a class="el" href="../../#l00442">sWorld</a>, and <a class="el" href="../../#l00163">TimeStringToSecs()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="af11cc1d015103bed5d1d2391f46d1df1" name="af11cc1d015103bed5d1d2391f46d1df1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af11cc1d015103bed5d1d2391f46d1df1">&#9670;&#160;</a></span>HandleMuteInfoCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleMuteInfoCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>accountName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2607</span>    {</div>
<div class="line"><span class="lineno"> 2608</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../da/dee/a00383.html#a589bbb62b3f6aadebe49b4140446fb57">Utf8ToUpperOnlyLatin</a>(accountName))</div>
<div class="line"><span class="lineno"> 2609</span>        {</div>
<div class="line"><span class="lineno"> 2610</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaca743710cf32d24958f1af55bf852dcf">LANG_ACCOUNT_NOT_EXIST</a>, accountName);</div>
<div class="line"><span class="lineno"> 2611</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2612</span>        }</div>
<div class="line"><span class="lineno"> 2613</span> </div>
<div class="line"><span class="lineno"> 2614</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId = <a class="code hl_function" href="../../d9/d82/a04718.html#aa215c9a96c37b8a5d76d980ecf8de114">AccountMgr::GetId</a>(accountName);</div>
<div class="line"><span class="lineno"> 2615</span>        <span class="keywordflow">if</span> (!accountId)</div>
<div class="line"><span class="lineno"> 2616</span>        {</div>
<div class="line"><span class="lineno"> 2617</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaca743710cf32d24958f1af55bf852dcf">LANG_ACCOUNT_NOT_EXIST</a>, accountName);</div>
<div class="line"><span class="lineno"> 2618</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2619</span>        }</div>
<div class="line"><span class="lineno"> 2620</span> </div>
<div class="line"><span class="lineno"> 2621</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/d57/a11474.html#a84d8e28f6d75e913e9cca02785997967">HandleMuteInfoHelper</a>(handler, accountId, accountName.c_str());</div>
<div class="line"><span class="lineno"> 2622</span>    }</div>
<div class="ttc" id="aa00383_html_a589bbb62b3f6aadebe49b4140446fb57"><div class="ttname"><a href="../../da/dee/a00383.html#a589bbb62b3f6aadebe49b4140446fb57">Utf8ToUpperOnlyLatin</a></div><div class="ttdeci">bool Utf8ToUpperOnlyLatin(std::string &amp;utf8String)</div><div class="ttdef"><b>Definition:</b> Util.cpp:532</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaca743710cf32d24958f1af55bf852dcf"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaca743710cf32d24958f1af55bf852dcf">LANG_ACCOUNT_NOT_EXIST</a></div><div class="ttdeci">@ LANG_ACCOUNT_NOT_EXIST</div><div class="ttdef"><b>Definition:</b> Language.h:442</div></div>
<div class="ttc" id="aa04718_html_aa215c9a96c37b8a5d76d980ecf8de114"><div class="ttname"><a href="../../d9/d82/a04718.html#aa215c9a96c37b8a5d76d980ecf8de114">AccountMgr::GetId</a></div><div class="ttdeci">uint32 GetId(std::string const &amp;username)</div><div class="ttdef"><b>Definition:</b> AccountMgr.cpp:229</div></div>
<div class="ttc" id="aa11474_html_a84d8e28f6d75e913e9cca02785997967"><div class="ttname"><a href="../../d4/d57/a11474.html#a84d8e28f6d75e913e9cca02785997967">misc_commandscript::HandleMuteInfoHelper</a></div><div class="ttdeci">static bool HandleMuteInfoHelper(ChatHandler *handler, uint32 accountId, char const *accountName)</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:2625</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00229">AccountMgr::GetId()</a>, <a class="el" href="../../#l02625">HandleMuteInfoHelper()</a>, <a class="el" href="../../#l00442">LANG_ACCOUNT_NOT_EXIST</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, and <a class="el" href="../../#l00532">Utf8ToUpperOnlyLatin()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a84d8e28f6d75e913e9cca02785997967" name="a84d8e28f6d75e913e9cca02785997967"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84d8e28f6d75e913e9cca02785997967">&#9670;&#160;</a></span>HandleMuteInfoHelper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleMuteInfoHelper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>accountId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>accountName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2626</span>    {</div>
<div class="line"><span class="lineno"> 2627</span>        <a class="code hl_class" href="../../d4/d20/a05586.html">LoginDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fba6e7b185b0b5245ea3949beacebf1dc96">LOGIN_SEL_ACCOUNT_MUTE_INFO</a>);</div>
<div class="line"><span class="lineno"> 2628</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accountId);</div>
<div class="line"><span class="lineno"> 2629</span>        <a class="code hl_typedef" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(stmt);</div>
<div class="line"><span class="lineno"> 2630</span> </div>
<div class="line"><span class="lineno"> 2631</span>        <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno"> 2632</span>        {</div>
<div class="line"><span class="lineno"> 2633</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaaf1fe2b24e7864f5597c7eeab0972a94">LANG_COMMAND_MUTEHISTORY_EMPTY</a>, accountName);</div>
<div class="line"><span class="lineno"> 2634</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2635</span>        }</div>
<div class="line"><span class="lineno"> 2636</span> </div>
<div class="line"><span class="lineno"> 2637</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aabf0c6a8ab9edb68d95ef292e3653a609">LANG_COMMAND_MUTEHISTORY</a>, accountName);</div>
<div class="line"><span class="lineno"> 2638</span>        <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 2639</span>        {</div>
<div class="line"><span class="lineno"> 2640</span>            <a class="code hl_class" href="../../d4/dff/a05618.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 2641</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaab64869759eedb0f6feb69604f805654">LANG_COMMAND_MUTEHISTORY_OUTPUT</a>, <a class="code hl_function" href="../../d4/d03/a04711.html#a7a7a22a2c3d65e66ce24c63b7d5877c1">Acore::Time::TimeToHumanReadable</a>(<a class="code hl_typedef" href="../../dc/d84/a00338.html#a3cd82f1c195a0b935b4d66b02a41acd8">Seconds</a>(fields[0].Get&lt;uint32&gt;())), fields[1].Get&lt;uint32&gt;(), fields[2].Get&lt;std::string&gt;(), fields[3].Get&lt;std::string&gt;());</div>
<div class="line"><span class="lineno"> 2642</span>        } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno"> 2643</span> </div>
<div class="line"><span class="lineno"> 2644</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2645</span>    }</div>
<div class="ttc" id="aa00338_html_a3cd82f1c195a0b935b4d66b02a41acd8"><div class="ttname"><a href="../../dc/d84/a00338.html#a3cd82f1c195a0b935b4d66b02a41acd8">Seconds</a></div><div class="ttdeci">std::chrono::seconds Seconds</div><div class="ttdoc">Seconds shorthand typedef.</div><div class="ttdef"><b>Definition:</b> Duration.h:30</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaab64869759eedb0f6feb69604f805654"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaab64869759eedb0f6feb69604f805654">LANG_COMMAND_MUTEHISTORY_OUTPUT</a></div><div class="ttdeci">@ LANG_COMMAND_MUTEHISTORY_OUTPUT</div><div class="ttdef"><b>Definition:</b> Language.h:1112</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaaf1fe2b24e7864f5597c7eeab0972a94"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaaf1fe2b24e7864f5597c7eeab0972a94">LANG_COMMAND_MUTEHISTORY_EMPTY</a></div><div class="ttdeci">@ LANG_COMMAND_MUTEHISTORY_EMPTY</div><div class="ttdef"><b>Definition:</b> Language.h:1111</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aabf0c6a8ab9edb68d95ef292e3653a609"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aabf0c6a8ab9edb68d95ef292e3653a609">LANG_COMMAND_MUTEHISTORY</a></div><div class="ttdeci">@ LANG_COMMAND_MUTEHISTORY</div><div class="ttdef"><b>Definition:</b> Language.h:1110</div></div>
<div class="ttc" id="aa04550_html_a2bc6eef17d8ecd1b7027058f5fecc9fba6e7b185b0b5245ea3949beacebf1dc96"><div class="ttname"><a href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fba6e7b185b0b5245ea3949beacebf1dc96">LOGIN_SEL_ACCOUNT_MUTE_INFO</a></div><div class="ttdeci">@ LOGIN_SEL_ACCOUNT_MUTE_INFO</div><div class="ttdef"><b>Definition:</b> LoginDatabase.h:112</div></div>
<div class="ttc" id="aa04589_html_ac6110b8d867b5f84f677555d07037acb"><div class="ttname"><a href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a></div><div class="ttdeci">std::shared_ptr&lt; PreparedResultSet &gt; PreparedQueryResult</div><div class="ttdef"><b>Definition:</b> DatabaseEnvFwd.h:45</div></div>
<div class="ttc" id="aa04711_html_a7a7a22a2c3d65e66ce24c63b7d5877c1"><div class="ttname"><a href="../../d4/d03/a04711.html#a7a7a22a2c3d65e66ce24c63b7d5877c1">Acore::Time::TimeToHumanReadable</a></div><div class="ttdeci">AC_COMMON_API std::string TimeToHumanReadable(Seconds time=0s, std::string_view fmt={})</div><div class="ttdef"><b>Definition:</b> Timer.cpp:287</div></div>
<div class="ttc" id="aa05618_html"><div class="ttname"><a href="../../d4/dff/a05618.html">Field</a></div><div class="ttdoc">Class used to access individual fields of database query result.</div><div class="ttdef"><b>Definition:</b> Field.h:98</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01110">LANG_COMMAND_MUTEHISTORY</a>, <a class="el" href="../../#l01111">LANG_COMMAND_MUTEHISTORY_EMPTY</a>, <a class="el" href="../../#l01112">LANG_COMMAND_MUTEHISTORY_OUTPUT</a>, <a class="el" href="../../#l00112">LOGIN_SEL_ACCOUNT_MUTE_INFO</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, and <a class="el" href="../../#l00287">Acore::Time::TimeToHumanReadable()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l02606">HandleMuteInfoCommand()</a>.</p>

</div>
</div>
<a id="a85a9c32bf77c68bb63952acacabc4003" name="a85a9c32bf77c68bb63952acacabc4003"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85a9c32bf77c68bb63952acacabc4003">&#9670;&#160;</a></span>HandleNearGraveCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleNearGraveCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; std::string_view &gt;&#160;</td>
          <td class="paramname"><em>team</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1547</span>    {</div>
<div class="line"><span class="lineno"> 1548</span>        <a class="code hl_enumeration" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a> teamId;</div>
<div class="line"><span class="lineno"> 1549</span> </div>
<div class="line"><span class="lineno"> 1550</span>        <span class="keywordflow">if</span> (!team)</div>
<div class="line"><span class="lineno"> 1551</span>        {</div>
<div class="line"><span class="lineno"> 1552</span>            teamId = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a1d009932a5dde84d818f627cfcfe3fe5">TEAM_NEUTRAL</a>;</div>
<div class="line"><span class="lineno"> 1553</span>        }</div>
<div class="line"><span class="lineno"> 1554</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/dee/a00383.html#a131b997858d0d4c6825222d64948db73">StringEqualI</a>(team-&gt;substr(0, 6), <span class="stringliteral">&quot;horde&quot;</span>))</div>
<div class="line"><span class="lineno"> 1555</span>        {</div>
<div class="line"><span class="lineno"> 1556</span>            teamId = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>;</div>
<div class="line"><span class="lineno"> 1557</span>        }</div>
<div class="line"><span class="lineno"> 1558</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/dee/a00383.html#a131b997858d0d4c6825222d64948db73">StringEqualI</a>(team-&gt;substr(0, 9), <span class="stringliteral">&quot;alliance&quot;</span>))</div>
<div class="line"><span class="lineno"> 1559</span>        {</div>
<div class="line"><span class="lineno"> 1560</span>            teamId = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>;</div>
<div class="line"><span class="lineno"> 1561</span>        }</div>
<div class="line"><span class="lineno"> 1562</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1563</span>        {</div>
<div class="line"><span class="lineno"> 1564</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1565</span>        }</div>
<div class="line"><span class="lineno"> 1566</span> </div>
<div class="line"><span class="lineno"> 1567</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1568</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zone_id = player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>();</div>
<div class="line"><span class="lineno"> 1569</span> </div>
<div class="line"><span class="lineno"> 1570</span>        <a class="code hl_struct" href="../../d5/d58/a09698.html">GraveyardStruct</a> <span class="keyword">const</span>* graveyard = <a class="code hl_define" href="../../d0/d9f/a03152.html#ac68c2a63982a6142e1931450d7b6115c">sGraveyard</a>-&gt;GetClosestGraveyard(player, teamId);</div>
<div class="line"><span class="lineno"> 1571</span> </div>
<div class="line"><span class="lineno"> 1572</span>        <span class="keywordflow">if</span> (graveyard)</div>
<div class="line"><span class="lineno"> 1573</span>        {</div>
<div class="line"><span class="lineno"> 1574</span>            <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> graveyardId = graveyard-&gt;<a class="code hl_variable" href="../../d5/d58/a09698.html#a3bd2bf63526b6ee4a15cf7a2244ff06b">ID</a>;</div>
<div class="line"><span class="lineno"> 1575</span> </div>
<div class="line"><span class="lineno"> 1576</span>            <a class="code hl_struct" href="../../d4/d01/a09702.html">GraveyardData</a> <span class="keyword">const</span>* data = <a class="code hl_define" href="../../d0/d9f/a03152.html#ac68c2a63982a6142e1931450d7b6115c">sGraveyard</a>-&gt;FindGraveyardData(graveyardId, zone_id);</div>
<div class="line"><span class="lineno"> 1577</span>            <span class="keywordflow">if</span> (!data)</div>
<div class="line"><span class="lineno"> 1578</span>            {</div>
<div class="line"><span class="lineno"> 1579</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aadb8e10c1f6a828f064fcd9c7e4f958e9">LANG_COMMAND_GRAVEYARDERROR</a>, graveyardId);</div>
<div class="line"><span class="lineno"> 1580</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1581</span>            }</div>
<div class="line"><span class="lineno"> 1582</span> </div>
<div class="line"><span class="lineno"> 1583</span>            std::string team_name = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab7bb67224da521e0bea8305f57624f1c">LANG_COMMAND_GRAVEYARD_NOTEAM</a>);</div>
<div class="line"><span class="lineno"> 1584</span> </div>
<div class="line"><span class="lineno"> 1585</span>            <span class="keywordflow">if</span> (data-&gt;<a class="code hl_variable" href="../../d4/d01/a09702.html#a287b04900d70f8ff8c6f6542edbd40a6">teamId</a> == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a1d009932a5dde84d818f627cfcfe3fe5">TEAM_NEUTRAL</a>)</div>
<div class="line"><span class="lineno"> 1586</span>            {</div>
<div class="line"><span class="lineno"> 1587</span>                team_name = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaf7e2e0cd6bb1422d01a440f017412139">LANG_COMMAND_GRAVEYARD_ANY</a>);</div>
<div class="line"><span class="lineno"> 1588</span>            }</div>
<div class="line"><span class="lineno"> 1589</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data-&gt;<a class="code hl_variable" href="../../d4/d01/a09702.html#a287b04900d70f8ff8c6f6542edbd40a6">teamId</a> == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>)</div>
<div class="line"><span class="lineno"> 1590</span>            {</div>
<div class="line"><span class="lineno"> 1591</span>                team_name = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaf62301a2597c5955463cbd488af8c956">LANG_COMMAND_GRAVEYARD_HORDE</a>);</div>
<div class="line"><span class="lineno"> 1592</span>            }</div>
<div class="line"><span class="lineno"> 1593</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data-&gt;<a class="code hl_variable" href="../../d4/d01/a09702.html#a287b04900d70f8ff8c6f6542edbd40a6">teamId</a> == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>)</div>
<div class="line"><span class="lineno"> 1594</span>            {</div>
<div class="line"><span class="lineno"> 1595</span>                team_name = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1fa978c00f702ef08af9c82a52b54e0e">LANG_COMMAND_GRAVEYARD_ALLIANCE</a>);</div>
<div class="line"><span class="lineno"> 1596</span>            }</div>
<div class="line"><span class="lineno"> 1597</span> </div>
<div class="line"><span class="lineno"> 1598</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa6b7a962fec6d7b945456ba94b722c303">LANG_COMMAND_GRAVEYARDNEAREST</a>, graveyardId, team_name, zone_id);</div>
<div class="line"><span class="lineno"> 1599</span>        }</div>
<div class="line"><span class="lineno"> 1600</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1601</span>        {</div>
<div class="line"><span class="lineno"> 1602</span>            std::string team_name;</div>
<div class="line"><span class="lineno"> 1603</span> </div>
<div class="line"><span class="lineno"> 1604</span>            <span class="keywordflow">if</span> (teamId == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a1d009932a5dde84d818f627cfcfe3fe5">TEAM_NEUTRAL</a>)</div>
<div class="line"><span class="lineno"> 1605</span>            {</div>
<div class="line"><span class="lineno"> 1606</span>                team_name = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaf7e2e0cd6bb1422d01a440f017412139">LANG_COMMAND_GRAVEYARD_ANY</a>);</div>
<div class="line"><span class="lineno"> 1607</span>            }</div>
<div class="line"><span class="lineno"> 1608</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (teamId == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>)</div>
<div class="line"><span class="lineno"> 1609</span>            {</div>
<div class="line"><span class="lineno"> 1610</span>                team_name = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaf62301a2597c5955463cbd488af8c956">LANG_COMMAND_GRAVEYARD_HORDE</a>);</div>
<div class="line"><span class="lineno"> 1611</span>            }</div>
<div class="line"><span class="lineno"> 1612</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (teamId == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>)</div>
<div class="line"><span class="lineno"> 1613</span>            {</div>
<div class="line"><span class="lineno"> 1614</span>                team_name = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1fa978c00f702ef08af9c82a52b54e0e">LANG_COMMAND_GRAVEYARD_ALLIANCE</a>);</div>
<div class="line"><span class="lineno"> 1615</span>            }</div>
<div class="line"><span class="lineno"> 1616</span> </div>
<div class="line"><span class="lineno"> 1617</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa2401ee49371de26e4ec487584a9f85e5">LANG_COMMAND_ZONENOGRAFACTION</a>, zone_id, team_name);</div>
<div class="line"><span class="lineno"> 1618</span>        }</div>
<div class="line"><span class="lineno"> 1619</span> </div>
<div class="line"><span class="lineno"> 1620</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1621</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa1fa978c00f702ef08af9c82a52b54e0e"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1fa978c00f702ef08af9c82a52b54e0e">LANG_COMMAND_GRAVEYARD_ALLIANCE</a></div><div class="ttdeci">@ LANG_COMMAND_GRAVEYARD_ALLIANCE</div><div class="ttdef"><b>Definition:</b> Language.h:489</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa2401ee49371de26e4ec487584a9f85e5"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa2401ee49371de26e4ec487584a9f85e5">LANG_COMMAND_ZONENOGRAFACTION</a></div><div class="ttdeci">@ LANG_COMMAND_ZONENOGRAFACTION</div><div class="ttdef"><b>Definition:</b> Language.h:493</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa6b7a962fec6d7b945456ba94b722c303"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa6b7a962fec6d7b945456ba94b722c303">LANG_COMMAND_GRAVEYARDNEAREST</a></div><div class="ttdeci">@ LANG_COMMAND_GRAVEYARDNEAREST</div><div class="ttdef"><b>Definition:</b> Language.h:491</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aab7bb67224da521e0bea8305f57624f1c"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab7bb67224da521e0bea8305f57624f1c">LANG_COMMAND_GRAVEYARD_NOTEAM</a></div><div class="ttdeci">@ LANG_COMMAND_GRAVEYARD_NOTEAM</div><div class="ttdef"><b>Definition:</b> Language.h:487</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aadb8e10c1f6a828f064fcd9c7e4f958e9"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aadb8e10c1f6a828f064fcd9c7e4f958e9">LANG_COMMAND_GRAVEYARDERROR</a></div><div class="ttdeci">@ LANG_COMMAND_GRAVEYARDERROR</div><div class="ttdef"><b>Definition:</b> Language.h:486</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaf62301a2597c5955463cbd488af8c956"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaf62301a2597c5955463cbd488af8c956">LANG_COMMAND_GRAVEYARD_HORDE</a></div><div class="ttdeci">@ LANG_COMMAND_GRAVEYARD_HORDE</div><div class="ttdef"><b>Definition:</b> Language.h:490</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaf7e2e0cd6bb1422d01a440f017412139"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaf7e2e0cd6bb1422d01a440f017412139">LANG_COMMAND_GRAVEYARD_ANY</a></div><div class="ttdeci">@ LANG_COMMAND_GRAVEYARD_ANY</div><div class="ttdef"><b>Definition:</b> Language.h:488</div></div>
<div class="ttc" id="aa09698_html_a3bd2bf63526b6ee4a15cf7a2244ff06b"><div class="ttname"><a href="../../d5/d58/a09698.html#a3bd2bf63526b6ee4a15cf7a2244ff06b">GraveyardStruct::ID</a></div><div class="ttdeci">uint32 ID</div><div class="ttdef"><b>Definition:</b> GameGraveyard.h:28</div></div>
<div class="ttc" id="aa09702_html"><div class="ttname"><a href="../../d4/d01/a09702.html">GraveyardData</a></div><div class="ttdef"><b>Definition:</b> GameGraveyard.h:38</div></div>
<div class="ttc" id="aa09702_html_a287b04900d70f8ff8c6f6542edbd40a6"><div class="ttname"><a href="../../d4/d01/a09702.html#a287b04900d70f8ff8c6f6542edbd40a6">GraveyardData::teamId</a></div><div class="ttdeci">TeamId teamId</div><div class="ttdef"><b>Definition:</b> GameGraveyard.h:40</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00040">ChatHandler::GetAcoreString()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l03159">WorldObject::GetZoneId()</a>, <a class="el" href="../../#l00028">GraveyardStruct::ID</a>, <a class="el" href="../../#l00489">LANG_COMMAND_GRAVEYARD_ALLIANCE</a>, <a class="el" href="../../#l00488">LANG_COMMAND_GRAVEYARD_ANY</a>, <a class="el" href="../../#l00490">LANG_COMMAND_GRAVEYARD_HORDE</a>, <a class="el" href="../../#l00487">LANG_COMMAND_GRAVEYARD_NOTEAM</a>, <a class="el" href="../../#l00486">LANG_COMMAND_GRAVEYARDERROR</a>, <a class="el" href="../../#l00491">LANG_COMMAND_GRAVEYARDNEAREST</a>, <a class="el" href="../../#l00493">LANG_COMMAND_ZONENOGRAFACTION</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00074">sGraveyard</a>, <a class="el" href="../../#l00592">StringEqualI()</a>, <a class="el" href="../../#l00760">TEAM_ALLIANCE</a>, <a class="el" href="../../#l00761">TEAM_HORDE</a>, <a class="el" href="../../#l00762">TEAM_NEUTRAL</a>, and <a class="el" href="../../#l00040">GraveyardData::teamId</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a54c43e9d181f5b5bd06f229609264f64" name="a54c43e9d181f5b5bd06f229609264f64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54c43e9d181f5b5bd06f229609264f64">&#9670;&#160;</a></span>HandlePInfoCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandlePInfoCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1937</span>    {</div>
<div class="line"><span class="lineno"> 1938</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno"> 1939</span>        {</div>
<div class="line"><span class="lineno"> 1940</span>            target = <a class="code hl_function" href="../../de/d8a/a07550.html#a617834cc8474970950b45066f2e86dbd">PlayerIdentifier::FromTargetOrSelf</a>(handler);</div>
<div class="line"><span class="lineno"> 1941</span>        }</div>
<div class="line"><span class="lineno"> 1942</span> </div>
<div class="line"><span class="lineno"> 1943</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno"> 1944</span>        {</div>
<div class="line"><span class="lineno"> 1945</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1946</span>        }</div>
<div class="line"><span class="lineno"> 1947</span> </div>
<div class="line"><span class="lineno"> 1948</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* playerTarget = target-&gt;GetConnectedPlayer();</div>
<div class="line"><span class="lineno"> 1949</span> </div>
<div class="line"><span class="lineno"> 1950</span>        <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* stmt = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1951</span>        <a class="code hl_class" href="../../d4/d20/a05586.html">LoginDatabasePreparedStatement</a>* loginStmt = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1952</span> </div>
<div class="line"><span class="lineno"> 1953</span>        <span class="comment">// Account data print variables</span></div>
<div class="line"><span class="lineno"> 1954</span>        std::string userName          = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa22cd5243b77a38ed3c6386d7d74665cb">LANG_ERROR</a>);</div>
<div class="line"><span class="lineno"> 1955</span>        <a class="code hl_typedef" href="../../d4/df2/a08266.html#aa278d50613c05dc1333df5185a6993eb">ObjectGuid::LowType</a> lowguid   = target-&gt;GetGUID().GetCounter();</div>
<div class="line"><span class="lineno"> 1956</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accId                  = 0;</div>
<div class="line"><span class="lineno"> 1957</span>        std::string eMail             = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa22cd5243b77a38ed3c6386d7d74665cb">LANG_ERROR</a>);</div>
<div class="line"><span class="lineno"> 1958</span>        std::string regMail           = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa22cd5243b77a38ed3c6386d7d74665cb">LANG_ERROR</a>);</div>
<div class="line"><span class="lineno"> 1959</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> security               = 0;</div>
<div class="line"><span class="lineno"> 1960</span>        std::string lastIp            = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa22cd5243b77a38ed3c6386d7d74665cb">LANG_ERROR</a>);</div>
<div class="line"><span class="lineno"> 1961</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> locked                  = 0;</div>
<div class="line"><span class="lineno"> 1962</span>        std::string lastLogin         = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa22cd5243b77a38ed3c6386d7d74665cb">LANG_ERROR</a>);</div>
<div class="line"><span class="lineno"> 1963</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> failedLogins           = 0;</div>
<div class="line"><span class="lineno"> 1964</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> latency                = 0;</div>
<div class="line"><span class="lineno"> 1965</span>        std::string OS                = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1b2398bce8898222347ea0c6814531f2">LANG_UNKNOWN</a>);</div>
<div class="line"><span class="lineno"> 1966</span> </div>
<div class="line"><span class="lineno"> 1967</span>        <span class="comment">// Mute data print variables</span></div>
<div class="line"><span class="lineno"> 1968</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#ad7a3bd3be7bd59e7fb6337fcbc956eb1">int64</a> muteTime                = -1;</div>
<div class="line"><span class="lineno"> 1969</span>        std::string muteReason        = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa166fddb474c3c2541a233c247da39721">LANG_NO_REASON</a>);</div>
<div class="line"><span class="lineno"> 1970</span>        std::string muteBy            = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1b2398bce8898222347ea0c6814531f2">LANG_UNKNOWN</a>);</div>
<div class="line"><span class="lineno"> 1971</span> </div>
<div class="line"><span class="lineno"> 1972</span>        <span class="comment">// Ban data print variables</span></div>
<div class="line"><span class="lineno"> 1973</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#ad7a3bd3be7bd59e7fb6337fcbc956eb1">int64</a> banTime                 = -1;</div>
<div class="line"><span class="lineno"> 1974</span>        std::string banType           = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1b2398bce8898222347ea0c6814531f2">LANG_UNKNOWN</a>);</div>
<div class="line"><span class="lineno"> 1975</span>        std::string banReason         = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa166fddb474c3c2541a233c247da39721">LANG_NO_REASON</a>);</div>
<div class="line"><span class="lineno"> 1976</span>        std::string bannedBy          = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1b2398bce8898222347ea0c6814531f2">LANG_UNKNOWN</a>);</div>
<div class="line"><span class="lineno"> 1977</span> </div>
<div class="line"><span class="lineno"> 1978</span>        <span class="comment">// Character data print variables</span></div>
<div class="line"><span class="lineno"> 1979</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> raceid, classid           = 0; <span class="comment">//RACE_NONE, CLASS_NONE</span></div>
<div class="line"><span class="lineno"> 1980</span>        std::string raceStr, classStr   = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1b2398bce8898222347ea0c6814531f2">LANG_UNKNOWN</a>);</div>
<div class="line"><span class="lineno"> 1981</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> gender                    = 0;</div>
<div class="line"><span class="lineno"> 1982</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a3bb8a71f4ae9af551f71e9eb2c9c3325">int8</a> locale                     = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a6cfa4cd171866cacb272e996aa75e487">GetSessionDbcLocale</a>();</div>
<div class="line"><span class="lineno"> 1983</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> totalPlayerTime          = 0;</div>
<div class="line"><span class="lineno"> 1984</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> level                     = 0;</div>
<div class="line"><span class="lineno"> 1985</span>        std::string alive               = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa22cd5243b77a38ed3c6386d7d74665cb">LANG_ERROR</a>);</div>
<div class="line"><span class="lineno"> 1986</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> money                    = 0;</div>
<div class="line"><span class="lineno"> 1987</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> xp                       = 0;</div>
<div class="line"><span class="lineno"> 1988</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> xptotal                  = 0;</div>
<div class="line"><span class="lineno"> 1989</span> </div>
<div class="line"><span class="lineno"> 1990</span>        <span class="comment">// Position data print</span></div>
<div class="line"><span class="lineno"> 1991</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> mapId;</div>
<div class="line"><span class="lineno"> 1992</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> areaId;</div>
<div class="line"><span class="lineno"> 1993</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> <a class="code hl_enumeration" href="../../d2/d50/a02081.html#a4432ad5c680b2372adf2f56998516c6d">phase</a>            = 0;</div>
<div class="line"><span class="lineno"> 1994</span>        <span class="keywordtype">char</span> <span class="keyword">const</span>* areaName    = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1995</span>        <span class="keywordtype">char</span> <span class="keyword">const</span>* zoneName    = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1996</span> </div>
<div class="line"><span class="lineno"> 1997</span>        <span class="comment">// Guild data print variables defined so that they exist, but are not necessarily used</span></div>
<div class="line"><span class="lineno"> 1998</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> guildId           = 0;</div>
<div class="line"><span class="lineno"> 1999</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> guildRankId        = 0;</div>
<div class="line"><span class="lineno"> 2000</span>        std::string guildName;</div>
<div class="line"><span class="lineno"> 2001</span>        std::string guildRank;</div>
<div class="line"><span class="lineno"> 2002</span>        std::string note;</div>
<div class="line"><span class="lineno"> 2003</span>        std::string officeNote;</div>
<div class="line"><span class="lineno"> 2004</span> </div>
<div class="line"><span class="lineno"> 2005</span>        <span class="comment">// get additional information from Player object</span></div>
<div class="line"><span class="lineno"> 2006</span>        <span class="keywordflow">if</span> (playerTarget)</div>
<div class="line"><span class="lineno"> 2007</span>        {</div>
<div class="line"><span class="lineno"> 2008</span>            <span class="comment">// check online security</span></div>
<div class="line"><span class="lineno"> 2009</span>            <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#afacb4b59756372ec32810be0d46da49c">HasLowerSecurity</a>(playerTarget))</div>
<div class="line"><span class="lineno"> 2010</span>            {</div>
<div class="line"><span class="lineno"> 2011</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2012</span>            }</div>
<div class="line"><span class="lineno"> 2013</span> </div>
<div class="line"><span class="lineno"> 2014</span>            accId             = playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>();</div>
<div class="line"><span class="lineno"> 2015</span>            money             = playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#aa5ecbc83f83472a98aac1cff3497e806">GetMoney</a>();</div>
<div class="line"><span class="lineno"> 2016</span>            totalPlayerTime   = playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a462174f8ff0ef1903ff3000bd8d2d67f">GetTotalPlayedTime</a>();</div>
<div class="line"><span class="lineno"> 2017</span>            level             = playerTarget-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#af4767dc4f1480f7c0527db4efe2643d9">GetLevel</a>();</div>
<div class="line"><span class="lineno"> 2018</span>            latency           = playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#aba0d5c49bc78f449da94cca0dee6e685">GetLatency</a>();</div>
<div class="line"><span class="lineno"> 2019</span>            raceid            = playerTarget-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a60368071d6d8e6a23977ea4b44249de1">getRace</a>();</div>
<div class="line"><span class="lineno"> 2020</span>            classid           = playerTarget-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a58a507ebe628930b8a506144b364d84b">getClass</a>();</div>
<div class="line"><span class="lineno"> 2021</span>            muteTime          = playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_variable" href="../../d9/d7c/a10810.html#add117187a32a871148dfadd7e4526e81">m_muteTime</a>;</div>
<div class="line"><span class="lineno"> 2022</span>            mapId             = playerTarget-&gt;<a class="code hl_function" href="../../d6/da3/a08310.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">GetMapId</a>();</div>
<div class="line"><span class="lineno"> 2023</span>            areaId            = playerTarget-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#acdd585ef58eb876c506389ff96a4fbd9">GetAreaId</a>();</div>
<div class="line"><span class="lineno"> 2024</span>            alive             = playerTarget-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a5ea3f54af571493f7889220724667189">IsAlive</a>() ? handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa028fb1be7f6c7216cb4d75a46500a479">LANG_YES</a>) : handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa894ce059e50db03335ca3ce3838430eb">LANG_NO</a>);</div>
<div class="line"><span class="lineno"> 2025</span>            gender            = playerTarget-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a0d13935c40d0392f7f7b5a34540461b2">getGender</a>();</div>
<div class="line"><span class="lineno"> 2026</span>            <a class="code hl_enumeration" href="../../d2/d50/a02081.html#a4432ad5c680b2372adf2f56998516c6d">phase</a>             = playerTarget-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a0a471b58ac8905281008aa4a730c4093">GetPhaseMask</a>();</div>
<div class="line"><span class="lineno"> 2027</span>        }</div>
<div class="line"><span class="lineno"> 2028</span>        <span class="comment">// get additional information from DB</span></div>
<div class="line"><span class="lineno"> 2029</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2030</span>        {</div>
<div class="line"><span class="lineno"> 2031</span>            <span class="comment">// check offline security</span></div>
<div class="line"><span class="lineno"> 2032</span>            <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#afacb4b59756372ec32810be0d46da49c">HasLowerSecurity</a>(<span class="keyword">nullptr</span>, target-&gt;GetGUID()))</div>
<div class="line"><span class="lineno"> 2033</span>            {</div>
<div class="line"><span class="lineno"> 2034</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2035</span>            }</div>
<div class="line"><span class="lineno"> 2036</span> </div>
<div class="line"><span class="lineno"> 2037</span>            <span class="comment">// Query informations from the DB</span></div>
<div class="line"><span class="lineno"> 2038</span>            stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7ab5ac5b27e4462959c743c4e75bd62cce">CHAR_SEL_CHAR_PINFO</a>);</div>
<div class="line"><span class="lineno"> 2039</span>            stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, lowguid);</div>
<div class="line"><span class="lineno"> 2040</span>            <a class="code hl_typedef" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> charInfoResult = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(stmt);</div>
<div class="line"><span class="lineno"> 2041</span> </div>
<div class="line"><span class="lineno"> 2042</span>            <span class="keywordflow">if</span> (!charInfoResult)</div>
<div class="line"><span class="lineno"> 2043</span>            {</div>
<div class="line"><span class="lineno"> 2044</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2045</span>            }</div>
<div class="line"><span class="lineno"> 2046</span> </div>
<div class="line"><span class="lineno"> 2047</span>            <a class="code hl_class" href="../../d4/dff/a05618.html">Field</a>* fields      = charInfoResult-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 2048</span>            totalPlayerTime    = fields[0].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2049</span>            level              = fields[1].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;();</div>
<div class="line"><span class="lineno"> 2050</span>            money              = fields[2].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2051</span>            accId              = fields[3].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2052</span>            raceid             = fields[4].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;();</div>
<div class="line"><span class="lineno"> 2053</span>            classid            = fields[5].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;();</div>
<div class="line"><span class="lineno"> 2054</span>            mapId              = fields[6].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a>&gt;();</div>
<div class="line"><span class="lineno"> 2055</span>            areaId             = fields[7].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a>&gt;();</div>
<div class="line"><span class="lineno"> 2056</span>            gender             = fields[8].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;();</div>
<div class="line"><span class="lineno"> 2057</span>            <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> health      = fields[9].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2058</span>            <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> playerFlags = fields[10].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2059</span> </div>
<div class="line"><span class="lineno"> 2060</span>            <span class="keywordflow">if</span> (!health || playerFlags &amp; <a class="code hl_enumvalue" href="../../d7/d13/a03365.html#a3ff501fa2c348b8887c3e9eac3ab7dcda8972cf61a8fe94379d50f9b737894863">PLAYER_FLAGS_GHOST</a>)</div>
<div class="line"><span class="lineno"> 2061</span>            {</div>
<div class="line"><span class="lineno"> 2062</span>                alive = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa894ce059e50db03335ca3ce3838430eb">LANG_NO</a>);</div>
<div class="line"><span class="lineno"> 2063</span>            }</div>
<div class="line"><span class="lineno"> 2064</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2065</span>            {</div>
<div class="line"><span class="lineno"> 2066</span>                alive = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa028fb1be7f6c7216cb4d75a46500a479">LANG_YES</a>);</div>
<div class="line"><span class="lineno"> 2067</span>            }</div>
<div class="line"><span class="lineno"> 2068</span>        }</div>
<div class="line"><span class="lineno"> 2069</span> </div>
<div class="line"><span class="lineno"> 2070</span>        <span class="comment">// Query the prepared statement for login data</span></div>
<div class="line"><span class="lineno"> 2071</span>        loginStmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fba44e737c1cd125eaccab2769989e87736">LOGIN_SEL_PINFO</a>);</div>
<div class="line"><span class="lineno"> 2072</span>        loginStmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>(<a class="code hl_variable" href="../../d2/db6/a04681.html#gab842e78f86995775c494437356620779">realm</a>.<a class="code hl_variable" href="../../df/deb/a28146.html#ab0ccda7e7a58eee0965261767f3ee2ee">Id</a>.<a class="code hl_variable" href="../../d6/dcc/a28142.html#a31af0d9064a295b1579fce3c80217bfd">Realm</a>));</div>
<div class="line"><span class="lineno"> 2073</span>        loginStmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, accId);</div>
<div class="line"><span class="lineno"> 2074</span> </div>
<div class="line"><span class="lineno"> 2075</span>        <a class="code hl_typedef" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> accInfoResult = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(loginStmt);</div>
<div class="line"><span class="lineno"> 2076</span>        <span class="keywordflow">if</span> (accInfoResult)</div>
<div class="line"><span class="lineno"> 2077</span>        {</div>
<div class="line"><span class="lineno"> 2078</span>            <a class="code hl_class" href="../../d4/dff/a05618.html">Field</a>* fields = accInfoResult-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 2079</span>            userName      = fields[0].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 2080</span>            security      = fields[1].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;();</div>
<div class="line"><span class="lineno"> 2081</span> </div>
<div class="line"><span class="lineno"> 2082</span>            <span class="comment">// Only fetch these fields if commander has sufficient rights)</span></div>
<div class="line"><span class="lineno"> 2083</span>            <span class="keywordflow">if</span> (!handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>() || handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>() &gt;= <a class="code hl_enumeration" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7">AccountTypes</a>(security))</div>
<div class="line"><span class="lineno"> 2084</span>            {</div>
<div class="line"><span class="lineno"> 2085</span>                eMail     = fields[2].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 2086</span>                regMail   = fields[3].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 2087</span>                lastIp    = fields[4].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 2088</span>                lastLogin = fields[5].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 2089</span> </div>
<div class="line"><span class="lineno"> 2090</span>                <span class="keywordflow">if</span> (<a class="code hl_struct" href="../../d7/d03/a05230.html">IpLocationRecord</a> <span class="keyword">const</span>* location = <a class="code hl_define" href="../../d9/d01/a00227.html#a85e62bd98f395189fea9c9514d44fc31">sIPLocation</a>-&gt;GetLocationRecord(lastIp))</div>
<div class="line"><span class="lineno"> 2091</span>                {</div>
<div class="line"><span class="lineno"> 2092</span>                    lastIp.append(<span class="stringliteral">&quot; (&quot;</span>);</div>
<div class="line"><span class="lineno"> 2093</span>                    lastIp.append(location-&gt;CountryName);</div>
<div class="line"><span class="lineno"> 2094</span>                    lastIp.append(<span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><span class="lineno"> 2095</span>                }</div>
<div class="line"><span class="lineno"> 2096</span>            }</div>
<div class="line"><span class="lineno"> 2097</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2098</span>            {</div>
<div class="line"><span class="lineno"> 2099</span>                eMail     = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa39753763054ee805bb2419de11b3af2d">LANG_UNAUTHORIZED</a>);</div>
<div class="line"><span class="lineno"> 2100</span>                regMail   = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa39753763054ee805bb2419de11b3af2d">LANG_UNAUTHORIZED</a>);</div>
<div class="line"><span class="lineno"> 2101</span>                lastIp    = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa39753763054ee805bb2419de11b3af2d">LANG_UNAUTHORIZED</a>);</div>
<div class="line"><span class="lineno"> 2102</span>                lastLogin = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa39753763054ee805bb2419de11b3af2d">LANG_UNAUTHORIZED</a>);</div>
<div class="line"><span class="lineno"> 2103</span>            }</div>
<div class="line"><span class="lineno"> 2104</span> </div>
<div class="line"><span class="lineno"> 2105</span>            muteTime      = fields[6].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>&gt;();</div>
<div class="line"><span class="lineno"> 2106</span>            muteReason    = fields[7].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 2107</span>            muteBy        = fields[8].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 2108</span>            failedLogins  = fields[9].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2109</span>            locked        = fields[10].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&gt;();</div>
<div class="line"><span class="lineno"> 2110</span>            OS            = fields[11].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 2111</span>        }</div>
<div class="line"><span class="lineno"> 2112</span> </div>
<div class="line"><span class="lineno"> 2113</span>        <span class="comment">// Creates a chat link to the character. Returns nameLink</span></div>
<div class="line"><span class="lineno"> 2114</span>        std::string nameLink = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a52c15179ec3eff1b6bb9551d96a8b901">playerLink</a>(target-&gt;GetName());</div>
<div class="line"><span class="lineno"> 2115</span> </div>
<div class="line"><span class="lineno"> 2116</span>        <span class="comment">// Returns banType, banTime, bannedBy, banreason</span></div>
<div class="line"><span class="lineno"> 2117</span>        <a class="code hl_class" href="../../d4/d20/a05586.html">LoginDatabasePreparedStatement</a>* banQuery = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fbabd4ae1668c54c02e007187d029719583">LOGIN_SEL_PINFO_BANS</a>);</div>
<div class="line"><span class="lineno"> 2118</span>        banQuery-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, accId);</div>
<div class="line"><span class="lineno"> 2119</span> </div>
<div class="line"><span class="lineno"> 2120</span>        <a class="code hl_typedef" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> accBannedResult = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(banQuery);</div>
<div class="line"><span class="lineno"> 2121</span>        <span class="keywordflow">if</span> (!accBannedResult)</div>
<div class="line"><span class="lineno"> 2122</span>        {</div>
<div class="line"><span class="lineno"> 2123</span>            banType = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa18b33e5c6c078c9eec42f687e95e6369">LANG_CHARACTER</a>);</div>
<div class="line"><span class="lineno"> 2124</span>            stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7ae387723bce14567a213e47f596d350a2">CHAR_SEL_PINFO_BANS</a>);</div>
<div class="line"><span class="lineno"> 2125</span>            stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, lowguid);</div>
<div class="line"><span class="lineno"> 2126</span>            accBannedResult = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(stmt);</div>
<div class="line"><span class="lineno"> 2127</span>        }</div>
<div class="line"><span class="lineno"> 2128</span> </div>
<div class="line"><span class="lineno"> 2129</span>        <span class="keywordflow">if</span> (accBannedResult)</div>
<div class="line"><span class="lineno"> 2130</span>        {</div>
<div class="line"><span class="lineno"> 2131</span>            <a class="code hl_class" href="../../d4/dff/a05618.html">Field</a>* fields = accBannedResult-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 2132</span>            banTime       = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#ad7a3bd3be7bd59e7fb6337fcbc956eb1">int64</a>(fields[1].Get&lt;uint64&gt;() ? 0 : fields[0].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno"> 2133</span>            bannedBy      = fields[2].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 2134</span>            banReason     = fields[3].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 2135</span>        }</div>
<div class="line"><span class="lineno"> 2136</span> </div>
<div class="line"><span class="lineno"> 2137</span>        <span class="comment">// Can be used to query data from World database</span></div>
<div class="line"><span class="lineno"> 2138</span>        <a class="code hl_class" href="../../d4/d20/a05586.html">WorldDatabasePreparedStatement</a>* xpQuery = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d1/d56/a04544.html#a736c0fca3c789518de967ddf4d44fc32a4a1aa08675589bbe24eec3a349a6d0f0">WORLD_SEL_REQ_XP</a>);</div>
<div class="line"><span class="lineno"> 2139</span>        xpQuery-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, level);</div>
<div class="line"><span class="lineno"> 2140</span> </div>
<div class="line"><span class="lineno"> 2141</span>        <a class="code hl_typedef" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> xpResult = <a class="code hl_variable" href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a>.Query(xpQuery);</div>
<div class="line"><span class="lineno"> 2142</span>        <span class="keywordflow">if</span> (xpResult)</div>
<div class="line"><span class="lineno"> 2143</span>        {</div>
<div class="line"><span class="lineno"> 2144</span>            <a class="code hl_class" href="../../d4/dff/a05618.html">Field</a>* fields = xpResult-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 2145</span>            xptotal       = fields[0].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2146</span>        }</div>
<div class="line"><span class="lineno"> 2147</span> </div>
<div class="line"><span class="lineno"> 2148</span>        <span class="comment">// Can be used to query data from Characters database</span></div>
<div class="line"><span class="lineno"> 2149</span>        <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* charXpQuery = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a03591e9179e17b3b79cd9943b93a2ce2">CHAR_SEL_PINFO_XP</a>);</div>
<div class="line"><span class="lineno"> 2150</span>        charXpQuery-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, lowguid);</div>
<div class="line"><span class="lineno"> 2151</span> </div>
<div class="line"><span class="lineno"> 2152</span>        <a class="code hl_typedef" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> charXpResult = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(charXpQuery);</div>
<div class="line"><span class="lineno"> 2153</span>        <span class="keywordflow">if</span> (charXpResult)</div>
<div class="line"><span class="lineno"> 2154</span>        {</div>
<div class="line"><span class="lineno"> 2155</span>            <a class="code hl_class" href="../../d4/dff/a05618.html">Field</a>* fields = charXpResult-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 2156</span>            xp = fields[0].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2157</span>            <a class="code hl_typedef" href="../../d4/df2/a08266.html#aa278d50613c05dc1333df5185a6993eb">ObjectGuid::LowType</a> gguid = fields[1].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2158</span> </div>
<div class="line"><span class="lineno"> 2159</span>            <span class="keywordflow">if</span> (gguid != 0)</div>
<div class="line"><span class="lineno"> 2160</span>            {</div>
<div class="line"><span class="lineno"> 2161</span>                <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* guildQuery = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a83f0ff512aa13dafb1f4c2e6fe010b1c">CHAR_SEL_GUILD_MEMBER_EXTENDED</a>);</div>
<div class="line"><span class="lineno"> 2162</span>                guildQuery-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, lowguid);</div>
<div class="line"><span class="lineno"> 2163</span> </div>
<div class="line"><span class="lineno"> 2164</span>                <a class="code hl_typedef" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> guildInfoResult = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(guildQuery);</div>
<div class="line"><span class="lineno"> 2165</span>                <span class="keywordflow">if</span> (guildInfoResult)</div>
<div class="line"><span class="lineno"> 2166</span>                {</div>
<div class="line"><span class="lineno"> 2167</span>                    <a class="code hl_class" href="../../d4/dff/a05618.html">Field</a>* guildInfoFields  = guildInfoResult-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 2168</span>                    guildId        = guildInfoFields[0].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno"> 2169</span>                    guildName      = guildInfoFields[1].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 2170</span>                    guildRank      = guildInfoFields[2].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 2171</span>                    note           = guildInfoFields[3].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 2172</span>                    officeNote     = guildInfoFields[4].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno"> 2173</span>                }</div>
<div class="line"><span class="lineno"> 2174</span>            }</div>
<div class="line"><span class="lineno"> 2175</span>        }</div>
<div class="line"><span class="lineno"> 2176</span> </div>
<div class="line"><span class="lineno"> 2177</span>        <span class="comment">// Initiate output</span></div>
<div class="line"><span class="lineno"> 2178</span>        <span class="comment">// Output I. LANG_PINFO_PLAYER</span></div>
<div class="line"><span class="lineno"> 2179</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4fa108aa564c24d2fd604f68b72a75df">LANG_PINFO_PLAYER</a>, playerTarget ? <span class="stringliteral">&quot;&quot;</span> : handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa2f8454a92c002a48dbae2db747f1c101">LANG_OFFLINE</a>), nameLink, target-&gt;GetGUID().ToString());</div>
<div class="line"><span class="lineno"> 2180</span> </div>
<div class="line"><span class="lineno"> 2181</span>        <span class="comment">// Output II. LANG_PINFO_GM_ACTIVE if character is gamemaster</span></div>
<div class="line"><span class="lineno"> 2182</span>        <span class="keywordflow">if</span> (playerTarget &amp;&amp; playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a9f23cae8a3da0345a05c2a2bfedc2fe2">IsGameMaster</a>())</div>
<div class="line"><span class="lineno"> 2183</span>        {</div>
<div class="line"><span class="lineno"> 2184</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aac074c7e572d781b495be66fd1e3a0b2d">LANG_PINFO_GM_ACTIVE</a>);</div>
<div class="line"><span class="lineno"> 2185</span>        }</div>
<div class="line"><span class="lineno"> 2186</span> </div>
<div class="line"><span class="lineno"> 2187</span>        <span class="comment">// Output III. LANG_PINFO_BANNED if ban exists and is applied</span></div>
<div class="line"><span class="lineno"> 2188</span>        <span class="keywordflow">if</span> (banTime &gt;= 0)</div>
<div class="line"><span class="lineno"> 2189</span>        {</div>
<div class="line"><span class="lineno"> 2190</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaaadbd27c05488d45fcd66170cf66e6e3">LANG_PINFO_BANNED</a>, banType, banReason, banTime &gt; 0 ? <a class="code hl_function" href="../../da/dee/a00383.html#a0b4910c611cea4a1b2812dac5456c5a8">secsToTimeString</a>(banTime - <a class="code hl_function" href="../../d0/dfa/a04759.html#adbe1785d1327dedf2ac403b7cc8e99c2">GameTime::GetGameTime</a>().count(), <span class="keyword">true</span>) : handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa236d064a878776ee2a1adc4868db5e11">LANG_PERMANENTLY</a>), bannedBy);</div>
<div class="line"><span class="lineno"> 2191</span>        }</div>
<div class="line"><span class="lineno"> 2192</span> </div>
<div class="line"><span class="lineno"> 2193</span>        <span class="comment">// Output IV. LANG_PINFO_MUTED if mute is applied</span></div>
<div class="line"><span class="lineno"> 2194</span>        <span class="keywordflow">if</span> (muteTime &gt; 0)</div>
<div class="line"><span class="lineno"> 2195</span>        {</div>
<div class="line"><span class="lineno"> 2196</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aafb98fe06d5243d6967ff167b5bec83fd">LANG_PINFO_MUTED</a>, muteReason, <a class="code hl_function" href="../../da/dee/a00383.html#a0b4910c611cea4a1b2812dac5456c5a8">secsToTimeString</a>(muteTime - <a class="code hl_function" href="../../d0/dfa/a04759.html#adbe1785d1327dedf2ac403b7cc8e99c2">GameTime::GetGameTime</a>().count(), <span class="keyword">true</span>), muteBy);</div>
<div class="line"><span class="lineno"> 2197</span>        }</div>
<div class="line"><span class="lineno"> 2198</span> </div>
<div class="line"><span class="lineno"> 2199</span>        <span class="comment">// Output V. LANG_PINFO_ACC_ACCOUNT</span></div>
<div class="line"><span class="lineno"> 2200</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab76bbfae2342454d9b4965c3296d008a">LANG_PINFO_ACC_ACCOUNT</a>, userName, accId, security);</div>
<div class="line"><span class="lineno"> 2201</span> </div>
<div class="line"><span class="lineno"> 2202</span>        <span class="comment">// Output VI. LANG_PINFO_ACC_LASTLOGIN</span></div>
<div class="line"><span class="lineno"> 2203</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa17be4c9d0473244bc460895abe2d0ca9">LANG_PINFO_ACC_LASTLOGIN</a>, lastLogin, failedLogins);</div>
<div class="line"><span class="lineno"> 2204</span> </div>
<div class="line"><span class="lineno"> 2205</span>        <span class="comment">// Output VII. LANG_PINFO_ACC_OS</span></div>
<div class="line"><span class="lineno"> 2206</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa571c774a92f7c7b6e9a817bb523ab381">LANG_PINFO_ACC_OS</a>, OS, latency);</div>
<div class="line"><span class="lineno"> 2207</span> </div>
<div class="line"><span class="lineno"> 2208</span>        <span class="comment">// Output VIII. LANG_PINFO_ACC_REGMAILS</span></div>
<div class="line"><span class="lineno"> 2209</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaba3a5493d9bec70630d1fa0646644c46">LANG_PINFO_ACC_REGMAILS</a>, regMail, eMail);</div>
<div class="line"><span class="lineno"> 2210</span> </div>
<div class="line"><span class="lineno"> 2211</span>        <span class="comment">// Output IX. LANG_PINFO_ACC_IP</span></div>
<div class="line"><span class="lineno"> 2212</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9d6d9302af0c01ee1aacac10d7f0209e">LANG_PINFO_ACC_IP</a>, lastIp, locked ? handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa028fb1be7f6c7216cb4d75a46500a479">LANG_YES</a>) : handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa894ce059e50db03335ca3ce3838430eb">LANG_NO</a>));</div>
<div class="line"><span class="lineno"> 2213</span> </div>
<div class="line"><span class="lineno"> 2214</span>        <span class="comment">// Output X. LANG_PINFO_CHR_LEVEL</span></div>
<div class="line"><span class="lineno"> 2215</span>        <span class="keywordflow">if</span> (level != <a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41a6684273cdd36b9b8215844fc51358ae1">CONFIG_MAX_PLAYER_LEVEL</a>))</div>
<div class="line"><span class="lineno"> 2216</span>        {</div>
<div class="line"><span class="lineno"> 2217</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa340d3136cfd06aaf5334242fa55da0b8">LANG_PINFO_CHR_LEVEL_LOW</a>, level, xp, xptotal, (xptotal - xp));</div>
<div class="line"><span class="lineno"> 2218</span>        }</div>
<div class="line"><span class="lineno"> 2219</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2220</span>        {</div>
<div class="line"><span class="lineno"> 2221</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa8909cf23e36ea844d07b79c64ba59f84">LANG_PINFO_CHR_LEVEL_HIGH</a>, level);</div>
<div class="line"><span class="lineno"> 2222</span>        }</div>
<div class="line"><span class="lineno"> 2223</span> </div>
<div class="line"><span class="lineno"> 2224</span>        <span class="comment">// Output XI. LANG_PINFO_CHR_RACE</span></div>
<div class="line"><span class="lineno"> 2225</span>        <span class="keywordflow">switch</span> (raceid)</div>
<div class="line"><span class="lineno"> 2226</span>        {</div>
<div class="line"><span class="lineno"> 2227</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80ab70d874fe662deadb3bc53be59d896e7">RACE_HUMAN</a>:</div>
<div class="line"><span class="lineno"> 2228</span>                raceStr = <span class="stringliteral">&quot;Human&quot;</span>;</div>
<div class="line"><span class="lineno"> 2229</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2230</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80a446767743ece0d95b9bbe498ef1476b5">RACE_ORC</a>:</div>
<div class="line"><span class="lineno"> 2231</span>                raceStr = <span class="stringliteral">&quot;Orc&quot;</span>;</div>
<div class="line"><span class="lineno"> 2232</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2233</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80aa205d146ad42dcf361e62da3e2b2afec">RACE_DWARF</a>:</div>
<div class="line"><span class="lineno"> 2234</span>                raceStr = <span class="stringliteral">&quot;Dwarf&quot;</span>;</div>
<div class="line"><span class="lineno"> 2235</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2236</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80a9ef7a57e61b0f05d7d1e50b0de89820c">RACE_NIGHTELF</a>:</div>
<div class="line"><span class="lineno"> 2237</span>                raceStr = <span class="stringliteral">&quot;Night Elf&quot;</span>;</div>
<div class="line"><span class="lineno"> 2238</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2239</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80a2b9d8ca3a451a2bd60b29614cbc6b167">RACE_UNDEAD_PLAYER</a>:</div>
<div class="line"><span class="lineno"> 2240</span>                raceStr = <span class="stringliteral">&quot;Undead&quot;</span>;</div>
<div class="line"><span class="lineno"> 2241</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2242</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80af53d3825f30ea6b3545ddc8f8d5e6938">RACE_TAUREN</a>:</div>
<div class="line"><span class="lineno"> 2243</span>                raceStr = <span class="stringliteral">&quot;Tauren&quot;</span>;</div>
<div class="line"><span class="lineno"> 2244</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2245</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80aa8a1dc88cc120a9a5b25d1f651d08538">RACE_GNOME</a>:</div>
<div class="line"><span class="lineno"> 2246</span>                raceStr = <span class="stringliteral">&quot;Gnome&quot;</span>;</div>
<div class="line"><span class="lineno"> 2247</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2248</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80a101b985cb59bea5d2463ab04e339feaa">RACE_TROLL</a>:</div>
<div class="line"><span class="lineno"> 2249</span>                raceStr = <span class="stringliteral">&quot;Troll&quot;</span>;</div>
<div class="line"><span class="lineno"> 2250</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2251</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80aa1357e803e964cc4737c2820e4ed1c7b">RACE_BLOODELF</a>:</div>
<div class="line"><span class="lineno"> 2252</span>                raceStr = <span class="stringliteral">&quot;Blood Elf&quot;</span>;</div>
<div class="line"><span class="lineno"> 2253</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2254</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80a612f7cbe8f6ee425f6de12163d36f08d">RACE_DRAENEI</a>:</div>
<div class="line"><span class="lineno"> 2255</span>                raceStr = <span class="stringliteral">&quot;Draenei&quot;</span>;</div>
<div class="line"><span class="lineno"> 2256</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2257</span>        }</div>
<div class="line"><span class="lineno"> 2258</span> </div>
<div class="line"><span class="lineno"> 2259</span>        <span class="keywordflow">switch</span> (classid)</div>
<div class="line"><span class="lineno"> 2260</span>        {</div>
<div class="line"><span class="lineno"> 2261</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa679de5e410197d42cea53f371aba7f59">CLASS_WARRIOR</a>:</div>
<div class="line"><span class="lineno"> 2262</span>                classStr = <span class="stringliteral">&quot;Warrior&quot;</span>;</div>
<div class="line"><span class="lineno"> 2263</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2264</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfaaaf23b801cec5bfa54bd93650af67128">CLASS_PALADIN</a>:</div>
<div class="line"><span class="lineno"> 2265</span>                classStr = <span class="stringliteral">&quot;Paladin&quot;</span>;</div>
<div class="line"><span class="lineno"> 2266</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2267</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa1c7c740a229946b31a477913e2e38fd8">CLASS_HUNTER</a>:</div>
<div class="line"><span class="lineno"> 2268</span>                classStr = <span class="stringliteral">&quot;Hunter&quot;</span>;</div>
<div class="line"><span class="lineno"> 2269</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2270</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfac6e894dcb39c03655545f42f6c39d454">CLASS_ROGUE</a>:</div>
<div class="line"><span class="lineno"> 2271</span>                classStr = <span class="stringliteral">&quot;Rogue&quot;</span>;</div>
<div class="line"><span class="lineno"> 2272</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2273</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa59ec961e807113e366431dfb1b0d5fcc">CLASS_PRIEST</a>:</div>
<div class="line"><span class="lineno"> 2274</span>                classStr = <span class="stringliteral">&quot;Priest&quot;</span>;</div>
<div class="line"><span class="lineno"> 2275</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2276</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058">CLASS_DEATH_KNIGHT</a>:</div>
<div class="line"><span class="lineno"> 2277</span>                classStr = <span class="stringliteral">&quot;Death Knight&quot;</span>;</div>
<div class="line"><span class="lineno"> 2278</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2279</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa3e5a6df9e9af2516746e51a4a03062a1">CLASS_SHAMAN</a>:</div>
<div class="line"><span class="lineno"> 2280</span>                classStr = <span class="stringliteral">&quot;Shaman&quot;</span>;</div>
<div class="line"><span class="lineno"> 2281</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2282</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa753aca2f522c3d903449c3f79244a63f">CLASS_MAGE</a>:</div>
<div class="line"><span class="lineno"> 2283</span>                classStr = <span class="stringliteral">&quot;Mage&quot;</span>;</div>
<div class="line"><span class="lineno"> 2284</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2285</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa72922255ea5f13ce70f2c5cec3e33369">CLASS_WARLOCK</a>:</div>
<div class="line"><span class="lineno"> 2286</span>                classStr = <span class="stringliteral">&quot;Warlock&quot;</span>;</div>
<div class="line"><span class="lineno"> 2287</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2288</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa312316ea844ad336fad9eb5a00348636">CLASS_DRUID</a>:</div>
<div class="line"><span class="lineno"> 2289</span>                classStr = <span class="stringliteral">&quot;Druid&quot;</span>;</div>
<div class="line"><span class="lineno"> 2290</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2291</span>        }</div>
<div class="line"><span class="lineno"> 2292</span> </div>
<div class="line"><span class="lineno"> 2293</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa447db7fa6a3a6cd01c9df66aeb1c13cc">LANG_PINFO_CHR_RACE</a>, (gender == 0 ? handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa6000f475c065898c05a19f02cd164df4">LANG_CHARACTER_GENDER_MALE</a>) : handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa062db88f381574ec00474b33724121a7">LANG_CHARACTER_GENDER_FEMALE</a>)), raceStr, classStr);</div>
<div class="line"><span class="lineno"> 2294</span> </div>
<div class="line"><span class="lineno"> 2295</span>        <span class="comment">// Output XII. LANG_PINFO_CHR_ALIVE</span></div>
<div class="line"><span class="lineno"> 2296</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1391e19ecc1fd7244f0cb83b59ad93ae">LANG_PINFO_CHR_ALIVE</a>, alive);</div>
<div class="line"><span class="lineno"> 2297</span> </div>
<div class="line"><span class="lineno"> 2298</span>        <span class="comment">// Output XIII. LANG_PINFO_CHR_PHASE if player is not in GM mode (GM is in every phase)</span></div>
<div class="line"><span class="lineno"> 2299</span>        <span class="keywordflow">if</span> (playerTarget &amp;&amp; !playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a9f23cae8a3da0345a05c2a2bfedc2fe2">IsGameMaster</a>()) <span class="comment">// IsInWorld() returns false on loadingscreen, so it&#39;s more</span></div>
<div class="line"><span class="lineno"> 2300</span>        {</div>
<div class="line"><span class="lineno"> 2301</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa20afee3f7aeb0dc4f3cdc3a23fc0c2f1">LANG_PINFO_CHR_PHASE</a>, <a class="code hl_enumeration" href="../../d2/d50/a02081.html#a4432ad5c680b2372adf2f56998516c6d">phase</a>);    <span class="comment">// precise than just target (safer ?).</span></div>
<div class="line"><span class="lineno"> 2302</span>        }</div>
<div class="line"><span class="lineno"> 2303</span> </div>
<div class="line"><span class="lineno"> 2304</span>        <span class="comment">// However, as we usually just require a target here, we use target instead.</span></div>
<div class="line"><span class="lineno"> 2305</span>        <span class="comment">// Output XIV. LANG_PINFO_CHR_MONEY</span></div>
<div class="line"><span class="lineno"> 2306</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> gold = money / <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aa61850c8cc16fdf9ea749bfde3adb448aa7790837e9c1f7cb78b55743b9a67623">GOLD</a>;</div>
<div class="line"><span class="lineno"> 2307</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> silv = (money % <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aa61850c8cc16fdf9ea749bfde3adb448aa7790837e9c1f7cb78b55743b9a67623">GOLD</a>) / <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aa61850c8cc16fdf9ea749bfde3adb448a6c87736f9fe31c8d2650db184cb2097f">SILVER</a>;</div>
<div class="line"><span class="lineno"> 2308</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> copp = (money % <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aa61850c8cc16fdf9ea749bfde3adb448aa7790837e9c1f7cb78b55743b9a67623">GOLD</a>) % <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aa61850c8cc16fdf9ea749bfde3adb448a6c87736f9fe31c8d2650db184cb2097f">SILVER</a>;</div>
<div class="line"><span class="lineno"> 2309</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa76a906ccf089ab0144f33dac3767a8c5">LANG_PINFO_CHR_MONEY</a>, gold, silv, copp);</div>
<div class="line"><span class="lineno"> 2310</span> </div>
<div class="line"><span class="lineno"> 2311</span>        <span class="comment">// Position data</span></div>
<div class="line"><span class="lineno"> 2312</span>        <a class="code hl_struct" href="../../de/dbb/a27906.html">MapEntry</a> <span class="keyword">const</span>* map = <a class="code hl_variable" href="../../d7/da2/a03704.html#acbe166cef01fbaa320231e8ef42b25c6">sMapStore</a>.LookupEntry(mapId);</div>
<div class="line"><span class="lineno"> 2313</span>        <a class="code hl_struct" href="../../dc/d28/a27670.html">AreaTableEntry</a> <span class="keyword">const</span>* area = <a class="code hl_variable" href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>.LookupEntry(areaId);</div>
<div class="line"><span class="lineno"> 2314</span> </div>
<div class="line"><span class="lineno"> 2315</span>        <span class="keywordflow">if</span> (area)</div>
<div class="line"><span class="lineno"> 2316</span>        {</div>
<div class="line"><span class="lineno"> 2317</span>            zoneName = area-&gt;<a class="code hl_variable" href="../../dc/d28/a27670.html#a87653e6b7f7368a59af7adaf77a49e10">area_name</a>[locale];</div>
<div class="line"><span class="lineno"> 2318</span> </div>
<div class="line"><span class="lineno"> 2319</span>            <a class="code hl_struct" href="../../dc/d28/a27670.html">AreaTableEntry</a> <span class="keyword">const</span>* zone = <a class="code hl_variable" href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>.LookupEntry(area-&gt;<a class="code hl_variable" href="../../dc/d28/a27670.html#a3b4f9e187629db5ced9a06c601fc7f78">zone</a>);</div>
<div class="line"><span class="lineno"> 2320</span>            <span class="keywordflow">if</span> (zone)</div>
<div class="line"><span class="lineno"> 2321</span>            {</div>
<div class="line"><span class="lineno"> 2322</span>                areaName = zoneName;</div>
<div class="line"><span class="lineno"> 2323</span>                zoneName = zone-&gt;<a class="code hl_variable" href="../../dc/d28/a27670.html#a87653e6b7f7368a59af7adaf77a49e10">area_name</a>[locale];</div>
<div class="line"><span class="lineno"> 2324</span>            }</div>
<div class="line"><span class="lineno"> 2325</span>        }</div>
<div class="line"><span class="lineno"> 2326</span> </div>
<div class="line"><span class="lineno"> 2327</span>        <span class="keywordflow">if</span> (!zoneName)</div>
<div class="line"><span class="lineno"> 2328</span>        {</div>
<div class="line"><span class="lineno"> 2329</span>            zoneName = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1b2398bce8898222347ea0c6814531f2">LANG_UNKNOWN</a>);</div>
<div class="line"><span class="lineno"> 2330</span>        }</div>
<div class="line"><span class="lineno"> 2331</span> </div>
<div class="line"><span class="lineno"> 2332</span>        <span class="keywordflow">if</span> (areaName)</div>
<div class="line"><span class="lineno"> 2333</span>        {</div>
<div class="line"><span class="lineno"> 2334</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4723e1e3f6b7e5de59bfa04bfbfc5a2c">LANG_PINFO_CHR_MAP_WITH_AREA</a>, map-&gt;<a class="code hl_variable" href="../../de/dbb/a27906.html#a91e885a7b5d19824156187fb749f449b">name</a>[locale], zoneName, areaName);</div>
<div class="line"><span class="lineno"> 2335</span>        }</div>
<div class="line"><span class="lineno"> 2336</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2337</span>        {</div>
<div class="line"><span class="lineno"> 2338</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa93f3fad6f89f69db573d234ef0fce1b2">LANG_PINFO_CHR_MAP</a>, map-&gt;<a class="code hl_variable" href="../../de/dbb/a27906.html#a91e885a7b5d19824156187fb749f449b">name</a>[locale], zoneName);</div>
<div class="line"><span class="lineno"> 2339</span>        }</div>
<div class="line"><span class="lineno"> 2340</span> </div>
<div class="line"><span class="lineno"> 2341</span>        <span class="comment">// Output XVII. - XVIX. if they are not empty</span></div>
<div class="line"><span class="lineno"> 2342</span>        <span class="keywordflow">if</span> (!guildName.empty())</div>
<div class="line"><span class="lineno"> 2343</span>        {</div>
<div class="line"><span class="lineno"> 2344</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aad25e9fdd661abd3aa1295007268062e0">LANG_PINFO_CHR_GUILD</a>, guildName, guildId);</div>
<div class="line"><span class="lineno"> 2345</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab3d36444043be11214d607304ee5d770">LANG_PINFO_CHR_GUILD_RANK</a>, guildRank, <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(guildRankId));</div>
<div class="line"><span class="lineno"> 2346</span> </div>
<div class="line"><span class="lineno"> 2347</span>            <span class="keywordflow">if</span> (!note.empty())</div>
<div class="line"><span class="lineno"> 2348</span>            {</div>
<div class="line"><span class="lineno"> 2349</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa0fb1f617a00dde99a0d7b902f2fcd241">LANG_PINFO_CHR_GUILD_NOTE</a>, note);</div>
<div class="line"><span class="lineno"> 2350</span>            }</div>
<div class="line"><span class="lineno"> 2351</span> </div>
<div class="line"><span class="lineno"> 2352</span>            <span class="keywordflow">if</span> (!officeNote.empty())</div>
<div class="line"><span class="lineno"> 2353</span>            {</div>
<div class="line"><span class="lineno"> 2354</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aade91977a980330ba0b60501fd7c3d177">LANG_PINFO_CHR_GUILD_ONOTE</a>, officeNote);</div>
<div class="line"><span class="lineno"> 2355</span>            }</div>
<div class="line"><span class="lineno"> 2356</span>        }</div>
<div class="line"><span class="lineno"> 2357</span> </div>
<div class="line"><span class="lineno"> 2358</span>        <span class="comment">// Output XX. LANG_PINFO_CHR_PLAYEDTIME</span></div>
<div class="line"><span class="lineno"> 2359</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa35b5f483481ebda6ec5d23a53ce01a24">LANG_PINFO_CHR_PLAYEDTIME</a>, (<a class="code hl_function" href="../../da/dee/a00383.html#a0b4910c611cea4a1b2812dac5456c5a8">secsToTimeString</a>(totalPlayerTime, <span class="keyword">true</span>)));</div>
<div class="line"><span class="lineno"> 2360</span> </div>
<div class="line"><span class="lineno"> 2361</span>        <span class="comment">// Mail Data - an own query, because it may or may not be useful.</span></div>
<div class="line"><span class="lineno"> 2362</span>        <span class="comment">// SQL: &quot;SELECT SUM(CASE WHEN (checked &amp; 1) THEN 1 ELSE 0 END) AS &#39;readmail&#39;, COUNT(*) AS &#39;totalmail&#39; FROM mail WHERE `receiver` = ?&quot;</span></div>
<div class="line"><span class="lineno"> 2363</span>        <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* mailQuery = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7ad387f18d87d71d7c7d9fb2aefab3be8d">CHAR_SEL_PINFO_MAILS</a>);</div>
<div class="line"><span class="lineno"> 2364</span>        mailQuery-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, lowguid);</div>
<div class="line"><span class="lineno"> 2365</span> </div>
<div class="line"><span class="lineno"> 2366</span>        <a class="code hl_typedef" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> mailInfoResult = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(mailQuery);</div>
<div class="line"><span class="lineno"> 2367</span>        <span class="keywordflow">if</span> (mailInfoResult)</div>
<div class="line"><span class="lineno"> 2368</span>        {</div>
<div class="line"><span class="lineno"> 2369</span>            <a class="code hl_class" href="../../d4/dff/a05618.html">Field</a>* fields         = mailInfoResult-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 2370</span>            <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> readmail       = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(fields[0].Get&lt;double&gt;());</div>
<div class="line"><span class="lineno"> 2371</span>            <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> totalmail      = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(fields[1].Get&lt;uint64&gt;());</div>
<div class="line"><span class="lineno"> 2372</span> </div>
<div class="line"><span class="lineno"> 2373</span>            <span class="comment">// Output XXI. LANG_INFO_CHR_MAILS if at least one mail is given</span></div>
<div class="line"><span class="lineno"> 2374</span>            <span class="keywordflow">if</span> (totalmail &gt;= 1)</div>
<div class="line"><span class="lineno"> 2375</span>            {</div>
<div class="line"><span class="lineno"> 2376</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aac45af96fc046d95505a408ad59ad5901">LANG_PINFO_CHR_MAILS</a>, readmail, totalmail);</div>
<div class="line"><span class="lineno"> 2377</span>            }</div>
<div class="line"><span class="lineno"> 2378</span>        }</div>
<div class="line"><span class="lineno"> 2379</span> </div>
<div class="line"><span class="lineno"> 2380</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2381</span>    }</div>
<div class="ttc" id="aa00017_html_adaa1cabfe05f8df3c272bdcfd89cdac7"><div class="ttname"><a href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7">AccountTypes</a></div><div class="ttdeci">AccountTypes</div><div class="ttdef"><b>Definition:</b> Common.h:56</div></div>
<div class="ttc" id="aa00227_html_a85e62bd98f395189fea9c9514d44fc31"><div class="ttname"><a href="../../d9/d01/a00227.html#a85e62bd98f395189fea9c9514d44fc31">sIPLocation</a></div><div class="ttdeci">#define sIPLocation</div><div class="ttdef"><b>Definition:</b> IPLocation.h:49</div></div>
<div class="ttc" id="aa00497_html_a3bb8a71f4ae9af551f71e9eb2c9c3325"><div class="ttname"><a href="../../d4/d1e/a00497.html#a3bb8a71f4ae9af551f71e9eb2c9c3325">int8</a></div><div class="ttdeci">std::int8_t int8</div><div class="ttdef"><b>Definition:</b> Define.h:105</div></div>
<div class="ttc" id="aa00497_html_ac4dd6ce78ce3b840c53bd4b3c63ed09b"><div class="ttname"><a href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a></div><div class="ttdeci">std::uint64_t uint64</div><div class="ttdef"><b>Definition:</b> Define.h:106</div></div>
<div class="ttc" id="aa00497_html_ad9c79638db63f1dfe2b085743b5cbf7b"><div class="ttname"><a href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a></div><div class="ttdeci">std::uint16_t uint16</div><div class="ttdef"><b>Definition:</b> Define.h:108</div></div>
<div class="ttc" id="aa02081_html_a4432ad5c680b2372adf2f56998516c6d"><div class="ttname"><a href="../../d2/d50/a02081.html#a4432ad5c680b2372adf2f56998516c6d">phase</a></div><div class="ttdeci">phase</div><div class="ttdef"><b>Definition:</b> boss_skadi.cpp:103</div></div>
<div class="ttc" id="aa02771_html_a86e4e3df7a5142175aa5df522d3346cfa1c7c740a229946b31a477913e2e38fd8"><div class="ttname"><a href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa1c7c740a229946b31a477913e2e38fd8">CLASS_HUNTER</a></div><div class="ttdeci">@ CLASS_HUNTER</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:143</div></div>
<div class="ttc" id="aa02771_html_a86e4e3df7a5142175aa5df522d3346cfa312316ea844ad336fad9eb5a00348636"><div class="ttname"><a href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa312316ea844ad336fad9eb5a00348636">CLASS_DRUID</a></div><div class="ttdeci">@ CLASS_DRUID</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:151</div></div>
<div class="ttc" id="aa02771_html_a86e4e3df7a5142175aa5df522d3346cfa3e5a6df9e9af2516746e51a4a03062a1"><div class="ttname"><a href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa3e5a6df9e9af2516746e51a4a03062a1">CLASS_SHAMAN</a></div><div class="ttdeci">@ CLASS_SHAMAN</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:147</div></div>
<div class="ttc" id="aa02771_html_a86e4e3df7a5142175aa5df522d3346cfa59ec961e807113e366431dfb1b0d5fcc"><div class="ttname"><a href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa59ec961e807113e366431dfb1b0d5fcc">CLASS_PRIEST</a></div><div class="ttdeci">@ CLASS_PRIEST</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:145</div></div>
<div class="ttc" id="aa02771_html_a86e4e3df7a5142175aa5df522d3346cfa679de5e410197d42cea53f371aba7f59"><div class="ttname"><a href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa679de5e410197d42cea53f371aba7f59">CLASS_WARRIOR</a></div><div class="ttdeci">@ CLASS_WARRIOR</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:141</div></div>
<div class="ttc" id="aa02771_html_a86e4e3df7a5142175aa5df522d3346cfa72922255ea5f13ce70f2c5cec3e33369"><div class="ttname"><a href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa72922255ea5f13ce70f2c5cec3e33369">CLASS_WARLOCK</a></div><div class="ttdeci">@ CLASS_WARLOCK</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:149</div></div>
<div class="ttc" id="aa02771_html_a86e4e3df7a5142175aa5df522d3346cfa753aca2f522c3d903449c3f79244a63f"><div class="ttname"><a href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa753aca2f522c3d903449c3f79244a63f">CLASS_MAGE</a></div><div class="ttdeci">@ CLASS_MAGE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:148</div></div>
<div class="ttc" id="aa02771_html_a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058"><div class="ttname"><a href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058">CLASS_DEATH_KNIGHT</a></div><div class="ttdeci">@ CLASS_DEATH_KNIGHT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:146</div></div>
<div class="ttc" id="aa02771_html_a86e4e3df7a5142175aa5df522d3346cfaaaf23b801cec5bfa54bd93650af67128"><div class="ttname"><a href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfaaaf23b801cec5bfa54bd93650af67128">CLASS_PALADIN</a></div><div class="ttdeci">@ CLASS_PALADIN</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:142</div></div>
<div class="ttc" id="aa02771_html_a86e4e3df7a5142175aa5df522d3346cfac6e894dcb39c03655545f42f6c39d454"><div class="ttname"><a href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfac6e894dcb39c03655545f42f6c39d454">CLASS_ROGUE</a></div><div class="ttdeci">@ CLASS_ROGUE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:144</div></div>
<div class="ttc" id="aa02771_html_aa61850c8cc16fdf9ea749bfde3adb448a6c87736f9fe31c8d2650db184cb2097f"><div class="ttname"><a href="../../d0/dbd/a02771.html#aa61850c8cc16fdf9ea749bfde3adb448a6c87736f9fe31c8d2650db184cb2097f">SILVER</a></div><div class="ttdeci">@ SILVER</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:252</div></div>
<div class="ttc" id="aa02771_html_aa61850c8cc16fdf9ea749bfde3adb448aa7790837e9c1f7cb78b55743b9a67623"><div class="ttname"><a href="../../d0/dbd/a02771.html#aa61850c8cc16fdf9ea749bfde3adb448aa7790837e9c1f7cb78b55743b9a67623">GOLD</a></div><div class="ttdeci">@ GOLD</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:253</div></div>
<div class="ttc" id="aa02771_html_abece64758d84aa91fa2b6bb82123cc80a101b985cb59bea5d2463ab04e339feaa"><div class="ttname"><a href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80a101b985cb59bea5d2463ab04e339feaa">RACE_TROLL</a></div><div class="ttdeci">@ RACE_TROLL</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:78</div></div>
<div class="ttc" id="aa02771_html_abece64758d84aa91fa2b6bb82123cc80a2b9d8ca3a451a2bd60b29614cbc6b167"><div class="ttname"><a href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80a2b9d8ca3a451a2bd60b29614cbc6b167">RACE_UNDEAD_PLAYER</a></div><div class="ttdeci">@ RACE_UNDEAD_PLAYER</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:75</div></div>
<div class="ttc" id="aa02771_html_abece64758d84aa91fa2b6bb82123cc80a446767743ece0d95b9bbe498ef1476b5"><div class="ttname"><a href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80a446767743ece0d95b9bbe498ef1476b5">RACE_ORC</a></div><div class="ttdeci">@ RACE_ORC</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:72</div></div>
<div class="ttc" id="aa02771_html_abece64758d84aa91fa2b6bb82123cc80a612f7cbe8f6ee425f6de12163d36f08d"><div class="ttname"><a href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80a612f7cbe8f6ee425f6de12163d36f08d">RACE_DRAENEI</a></div><div class="ttdeci">@ RACE_DRAENEI</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:81</div></div>
<div class="ttc" id="aa02771_html_abece64758d84aa91fa2b6bb82123cc80a9ef7a57e61b0f05d7d1e50b0de89820c"><div class="ttname"><a href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80a9ef7a57e61b0f05d7d1e50b0de89820c">RACE_NIGHTELF</a></div><div class="ttdeci">@ RACE_NIGHTELF</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:74</div></div>
<div class="ttc" id="aa02771_html_abece64758d84aa91fa2b6bb82123cc80aa1357e803e964cc4737c2820e4ed1c7b"><div class="ttname"><a href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80aa1357e803e964cc4737c2820e4ed1c7b">RACE_BLOODELF</a></div><div class="ttdeci">@ RACE_BLOODELF</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:80</div></div>
<div class="ttc" id="aa02771_html_abece64758d84aa91fa2b6bb82123cc80aa205d146ad42dcf361e62da3e2b2afec"><div class="ttname"><a href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80aa205d146ad42dcf361e62da3e2b2afec">RACE_DWARF</a></div><div class="ttdeci">@ RACE_DWARF</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:73</div></div>
<div class="ttc" id="aa02771_html_abece64758d84aa91fa2b6bb82123cc80aa8a1dc88cc120a9a5b25d1f651d08538"><div class="ttname"><a href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80aa8a1dc88cc120a9a5b25d1f651d08538">RACE_GNOME</a></div><div class="ttdeci">@ RACE_GNOME</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:77</div></div>
<div class="ttc" id="aa02771_html_abece64758d84aa91fa2b6bb82123cc80ab70d874fe662deadb3bc53be59d896e7"><div class="ttname"><a href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80ab70d874fe662deadb3bc53be59d896e7">RACE_HUMAN</a></div><div class="ttdeci">@ RACE_HUMAN</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:71</div></div>
<div class="ttc" id="aa02771_html_abece64758d84aa91fa2b6bb82123cc80af53d3825f30ea6b3545ddc8f8d5e6938"><div class="ttname"><a href="../../d0/dbd/a02771.html#abece64758d84aa91fa2b6bb82123cc80af53d3825f30ea6b3545ddc8f8d5e6938">RACE_TAUREN</a></div><div class="ttdeci">@ RACE_TAUREN</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:76</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa028fb1be7f6c7216cb4d75a46500a479"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa028fb1be7f6c7216cb4d75a46500a479">LANG_YES</a></div><div class="ttdeci">@ LANG_YES</div><div class="ttdef"><b>Definition:</b> Language.h:451</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa062db88f381574ec00474b33724121a7"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa062db88f381574ec00474b33724121a7">LANG_CHARACTER_GENDER_FEMALE</a></div><div class="ttdeci">@ LANG_CHARACTER_GENDER_FEMALE</div><div class="ttdef"><b>Definition:</b> Language.h:812</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa0fb1f617a00dde99a0d7b902f2fcd241"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa0fb1f617a00dde99a0d7b902f2fcd241">LANG_PINFO_CHR_GUILD_NOTE</a></div><div class="ttdeci">@ LANG_PINFO_CHR_GUILD_NOTE</div><div class="ttdef"><b>Definition:</b> Language.h:802</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa1391e19ecc1fd7244f0cb83b59ad93ae"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1391e19ecc1fd7244f0cb83b59ad93ae">LANG_PINFO_CHR_ALIVE</a></div><div class="ttdeci">@ LANG_PINFO_CHR_ALIVE</div><div class="ttdef"><b>Definition:</b> Language.h:796</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa17be4c9d0473244bc460895abe2d0ca9"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa17be4c9d0473244bc460895abe2d0ca9">LANG_PINFO_ACC_LASTLOGIN</a></div><div class="ttdeci">@ LANG_PINFO_ACC_LASTLOGIN</div><div class="ttdef"><b>Definition:</b> Language.h:790</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa18b33e5c6c078c9eec42f687e95e6369"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa18b33e5c6c078c9eec42f687e95e6369">LANG_CHARACTER</a></div><div class="ttdeci">@ LANG_CHARACTER</div><div class="ttdef"><b>Definition:</b> Language.h:1087</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa1b2398bce8898222347ea0c6814531f2"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1b2398bce8898222347ea0c6814531f2">LANG_UNKNOWN</a></div><div class="ttdeci">@ LANG_UNKNOWN</div><div class="ttdef"><b>Definition:</b> Language.h:77</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa20afee3f7aeb0dc4f3cdc3a23fc0c2f1"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa20afee3f7aeb0dc4f3cdc3a23fc0c2f1">LANG_PINFO_CHR_PHASE</a></div><div class="ttdeci">@ LANG_PINFO_CHR_PHASE</div><div class="ttdef"><b>Definition:</b> Language.h:797</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa22cd5243b77a38ed3c6386d7d74665cb"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa22cd5243b77a38ed3c6386d7d74665cb">LANG_ERROR</a></div><div class="ttdeci">@ LANG_ERROR</div><div class="ttdef"><b>Definition:</b> Language.h:78</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa236d064a878776ee2a1adc4868db5e11"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa236d064a878776ee2a1adc4868db5e11">LANG_PERMANENTLY</a></div><div class="ttdeci">@ LANG_PERMANENTLY</div><div class="ttdef"><b>Definition:</b> Language.h:1088</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa2f8454a92c002a48dbae2db747f1c101"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa2f8454a92c002a48dbae2db747f1c101">LANG_OFFLINE</a></div><div class="ttdeci">@ LANG_OFFLINE</div><div class="ttdef"><b>Definition:</b> Language.h:69</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa340d3136cfd06aaf5334242fa55da0b8"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa340d3136cfd06aaf5334242fa55da0b8">LANG_PINFO_CHR_LEVEL_LOW</a></div><div class="ttdeci">@ LANG_PINFO_CHR_LEVEL_LOW</div><div class="ttdef"><b>Definition:</b> Language.h:794</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa35b5f483481ebda6ec5d23a53ce01a24"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa35b5f483481ebda6ec5d23a53ce01a24">LANG_PINFO_CHR_PLAYEDTIME</a></div><div class="ttdeci">@ LANG_PINFO_CHR_PLAYEDTIME</div><div class="ttdef"><b>Definition:</b> Language.h:804</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa39753763054ee805bb2419de11b3af2d"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa39753763054ee805bb2419de11b3af2d">LANG_UNAUTHORIZED</a></div><div class="ttdeci">@ LANG_UNAUTHORIZED</div><div class="ttdef"><b>Definition:</b> Language.h:808</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa447db7fa6a3a6cd01c9df66aeb1c13cc"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa447db7fa6a3a6cd01c9df66aeb1c13cc">LANG_PINFO_CHR_RACE</a></div><div class="ttdeci">@ LANG_PINFO_CHR_RACE</div><div class="ttdef"><b>Definition:</b> Language.h:795</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa4723e1e3f6b7e5de59bfa04bfbfc5a2c"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4723e1e3f6b7e5de59bfa04bfbfc5a2c">LANG_PINFO_CHR_MAP_WITH_AREA</a></div><div class="ttdeci">@ LANG_PINFO_CHR_MAP_WITH_AREA</div><div class="ttdef"><b>Definition:</b> Language.h:809</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa4fa108aa564c24d2fd604f68b72a75df"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4fa108aa564c24d2fd604f68b72a75df">LANG_PINFO_PLAYER</a></div><div class="ttdeci">@ LANG_PINFO_PLAYER</div><div class="ttdef"><b>Definition:</b> Language.h:785</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa571c774a92f7c7b6e9a817bb523ab381"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa571c774a92f7c7b6e9a817bb523ab381">LANG_PINFO_ACC_OS</a></div><div class="ttdeci">@ LANG_PINFO_ACC_OS</div><div class="ttdef"><b>Definition:</b> Language.h:791</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa6000f475c065898c05a19f02cd164df4"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa6000f475c065898c05a19f02cd164df4">LANG_CHARACTER_GENDER_MALE</a></div><div class="ttdeci">@ LANG_CHARACTER_GENDER_MALE</div><div class="ttdef"><b>Definition:</b> Language.h:811</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa76a906ccf089ab0144f33dac3767a8c5"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa76a906ccf089ab0144f33dac3767a8c5">LANG_PINFO_CHR_MONEY</a></div><div class="ttdeci">@ LANG_PINFO_CHR_MONEY</div><div class="ttdef"><b>Definition:</b> Language.h:798</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa8909cf23e36ea844d07b79c64ba59f84"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa8909cf23e36ea844d07b79c64ba59f84">LANG_PINFO_CHR_LEVEL_HIGH</a></div><div class="ttdeci">@ LANG_PINFO_CHR_LEVEL_HIGH</div><div class="ttdef"><b>Definition:</b> Language.h:806</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa894ce059e50db03335ca3ce3838430eb"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa894ce059e50db03335ca3ce3838430eb">LANG_NO</a></div><div class="ttdeci">@ LANG_NO</div><div class="ttdef"><b>Definition:</b> Language.h:452</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa93f3fad6f89f69db573d234ef0fce1b2"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa93f3fad6f89f69db573d234ef0fce1b2">LANG_PINFO_CHR_MAP</a></div><div class="ttdeci">@ LANG_PINFO_CHR_MAP</div><div class="ttdef"><b>Definition:</b> Language.h:799</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa9d6d9302af0c01ee1aacac10d7f0209e"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9d6d9302af0c01ee1aacac10d7f0209e">LANG_PINFO_ACC_IP</a></div><div class="ttdeci">@ LANG_PINFO_ACC_IP</div><div class="ttdef"><b>Definition:</b> Language.h:793</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaaadbd27c05488d45fcd66170cf66e6e3"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaaadbd27c05488d45fcd66170cf66e6e3">LANG_PINFO_BANNED</a></div><div class="ttdeci">@ LANG_PINFO_BANNED</div><div class="ttdef"><b>Definition:</b> Language.h:787</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aab3d36444043be11214d607304ee5d770"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab3d36444043be11214d607304ee5d770">LANG_PINFO_CHR_GUILD_RANK</a></div><div class="ttdeci">@ LANG_PINFO_CHR_GUILD_RANK</div><div class="ttdef"><b>Definition:</b> Language.h:801</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aab76bbfae2342454d9b4965c3296d008a"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab76bbfae2342454d9b4965c3296d008a">LANG_PINFO_ACC_ACCOUNT</a></div><div class="ttdeci">@ LANG_PINFO_ACC_ACCOUNT</div><div class="ttdef"><b>Definition:</b> Language.h:789</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaba3a5493d9bec70630d1fa0646644c46"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaba3a5493d9bec70630d1fa0646644c46">LANG_PINFO_ACC_REGMAILS</a></div><div class="ttdeci">@ LANG_PINFO_ACC_REGMAILS</div><div class="ttdef"><b>Definition:</b> Language.h:792</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aac074c7e572d781b495be66fd1e3a0b2d"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aac074c7e572d781b495be66fd1e3a0b2d">LANG_PINFO_GM_ACTIVE</a></div><div class="ttdeci">@ LANG_PINFO_GM_ACTIVE</div><div class="ttdef"><b>Definition:</b> Language.h:786</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aac45af96fc046d95505a408ad59ad5901"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aac45af96fc046d95505a408ad59ad5901">LANG_PINFO_CHR_MAILS</a></div><div class="ttdeci">@ LANG_PINFO_CHR_MAILS</div><div class="ttdef"><b>Definition:</b> Language.h:805</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aad25e9fdd661abd3aa1295007268062e0"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aad25e9fdd661abd3aa1295007268062e0">LANG_PINFO_CHR_GUILD</a></div><div class="ttdeci">@ LANG_PINFO_CHR_GUILD</div><div class="ttdef"><b>Definition:</b> Language.h:800</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aade91977a980330ba0b60501fd7c3d177"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aade91977a980330ba0b60501fd7c3d177">LANG_PINFO_CHR_GUILD_ONOTE</a></div><div class="ttdeci">@ LANG_PINFO_CHR_GUILD_ONOTE</div><div class="ttdef"><b>Definition:</b> Language.h:803</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aafb98fe06d5243d6967ff167b5bec83fd"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aafb98fe06d5243d6967ff167b5bec83fd">LANG_PINFO_MUTED</a></div><div class="ttdeci">@ LANG_PINFO_MUTED</div><div class="ttdef"><b>Definition:</b> Language.h:788</div></div>
<div class="ttc" id="aa03317_html_a17aac4c166ebe43e3b8fdccf9e012e41a6684273cdd36b9b8215844fc51358ae1"><div class="ttname"><a href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41a6684273cdd36b9b8215844fc51358ae1">CONFIG_MAX_PLAYER_LEVEL</a></div><div class="ttdeci">@ CONFIG_MAX_PLAYER_LEVEL</div><div class="ttdef"><b>Definition:</b> IWorld.h:236</div></div>
<div class="ttc" id="aa03365_html_a3ff501fa2c348b8887c3e9eac3ab7dcda8972cf61a8fe94379d50f9b737894863"><div class="ttname"><a href="../../d7/d13/a03365.html#a3ff501fa2c348b8887c3e9eac3ab7dcda8972cf61a8fe94379d50f9b737894863">PLAYER_FLAGS_GHOST</a></div><div class="ttdeci">@ PLAYER_FLAGS_GHOST</div><div class="ttdef"><b>Definition:</b> Player.h:483</div></div>
<div class="ttc" id="aa04544_html_a736c0fca3c789518de967ddf4d44fc32a4a1aa08675589bbe24eec3a349a6d0f0"><div class="ttname"><a href="../../d1/d56/a04544.html#a736c0fca3c789518de967ddf4d44fc32a4a1aa08675589bbe24eec3a349a6d0f0">WORLD_SEL_REQ_XP</a></div><div class="ttdeci">@ WORLD_SEL_REQ_XP</div><div class="ttdef"><b>Definition:</b> WorldDatabase.h:102</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a03591e9179e17b3b79cd9943b93a2ce2"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a03591e9179e17b3b79cd9943b93a2ce2">CHAR_SEL_PINFO_XP</a></div><div class="ttdeci">@ CHAR_SEL_PINFO_XP</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:336</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a83f0ff512aa13dafb1f4c2e6fe010b1c"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a83f0ff512aa13dafb1f4c2e6fe010b1c">CHAR_SEL_GUILD_MEMBER_EXTENDED</a></div><div class="ttdeci">@ CHAR_SEL_GUILD_MEMBER_EXTENDED</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:146</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7ab5ac5b27e4462959c743c4e75bd62cce"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7ab5ac5b27e4462959c743c4e75bd62cce">CHAR_SEL_CHAR_PINFO</a></div><div class="ttdeci">@ CHAR_SEL_CHAR_PINFO</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:335</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7ad387f18d87d71d7c7d9fb2aefab3be8d"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7ad387f18d87d71d7c7d9fb2aefab3be8d">CHAR_SEL_PINFO_MAILS</a></div><div class="ttdeci">@ CHAR_SEL_PINFO_MAILS</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:337</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7ae387723bce14567a213e47f596d350a2"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7ae387723bce14567a213e47f596d350a2">CHAR_SEL_PINFO_BANS</a></div><div class="ttdeci">@ CHAR_SEL_PINFO_BANS</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:338</div></div>
<div class="ttc" id="aa04550_html_a2bc6eef17d8ecd1b7027058f5fecc9fba44e737c1cd125eaccab2769989e87736"><div class="ttname"><a href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fba44e737c1cd125eaccab2769989e87736">LOGIN_SEL_PINFO</a></div><div class="ttdeci">@ LOGIN_SEL_PINFO</div><div class="ttdef"><b>Definition:</b> LoginDatabase.h:88</div></div>
<div class="ttc" id="aa04550_html_a2bc6eef17d8ecd1b7027058f5fecc9fbabd4ae1668c54c02e007187d029719583"><div class="ttname"><a href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fbabd4ae1668c54c02e007187d029719583">LOGIN_SEL_PINFO_BANS</a></div><div class="ttdeci">@ LOGIN_SEL_PINFO_BANS</div><div class="ttdef"><b>Definition:</b> LoginDatabase.h:89</div></div>
<div class="ttc" id="aa04601_html_a7e7534bc66d79434bd280b77cb124eec"><div class="ttname"><a href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a></div><div class="ttdeci">DatabaseWorkerPool&lt; CharacterDatabaseConnection &gt; CharacterDatabase</div><div class="ttdoc">Accessor to the character database.</div><div class="ttdef"><b>Definition:</b> DatabaseEnv.cpp:21</div></div>
<div class="ttc" id="aa04601_html_afa9a6509f9913c9c7dd3081523badd7c"><div class="ttname"><a href="../../d8/d7c/a04601.html#afa9a6509f9913c9c7dd3081523badd7c">WorldDatabase</a></div><div class="ttdeci">DatabaseWorkerPool&lt; WorldDatabaseConnection &gt; WorldDatabase</div><div class="ttdoc">Accessor to the world database.</div><div class="ttdef"><b>Definition:</b> DatabaseEnv.cpp:20</div></div>
<div class="ttc" id="aa04681_html_gab842e78f86995775c494437356620779"><div class="ttname"><a href="../../d2/db6/a04681.html#gab842e78f86995775c494437356620779">realm</a></div><div class="ttdeci">Realm realm</div><div class="ttdef"><b>Definition:</b> World.cpp:106</div></div>
<div class="ttc" id="aa05230_html"><div class="ttname"><a href="../../d7/d03/a05230.html">IpLocationRecord</a></div><div class="ttdef"><b>Definition:</b> IPLocation.h:23</div></div>
<div class="ttc" id="aa05618_html_aae507d21d3570ffdaf1643ba02946f01"><div class="ttname"><a href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Field::Get</a></div><div class="ttdeci">std::enable_if_t&lt; std::is_arithmetic_v&lt; T &gt;, T &gt; Get() const</div><div class="ttdef"><b>Definition:</b> Field.h:112</div></div>
<div class="ttc" id="aa08250_html_acdd585ef58eb876c506389ff96a4fbd9"><div class="ttname"><a href="../../de/d0d/a08250.html#acdd585ef58eb876c506389ff96a4fbd9">WorldObject::GetAreaId</a></div><div class="ttdeci">uint32 GetAreaId() const</div><div class="ttdef"><b>Definition:</b> Object.cpp:3167</div></div>
<div class="ttc" id="aa08266_html_aa278d50613c05dc1333df5185a6993eb"><div class="ttname"><a href="../../d4/df2/a08266.html#aa278d50613c05dc1333df5185a6993eb">ObjectGuid::LowType</a></div><div class="ttdeci">uint32 LowType</div><div class="ttdef"><b>Definition:</b> ObjectGuid.h:122</div></div>
<div class="ttc" id="aa08466_html_a462174f8ff0ef1903ff3000bd8d2d67f"><div class="ttname"><a href="../../dc/d06/a08466.html#a462174f8ff0ef1903ff3000bd8d2d67f">Player::GetTotalPlayedTime</a></div><div class="ttdeci">uint32 GetTotalPlayedTime()</div><div class="ttdef"><b>Definition:</b> Player.h:1203</div></div>
<div class="ttc" id="aa08466_html_aa5ecbc83f83472a98aac1cff3497e806"><div class="ttname"><a href="../../dc/d06/a08466.html#aa5ecbc83f83472a98aac1cff3497e806">Player::GetMoney</a></div><div class="ttdeci">uint32 GetMoney() const</div><div class="ttdef"><b>Definition:</b> Player.h:1616</div></div>
<div class="ttc" id="aa08598_html_a0d13935c40d0392f7f7b5a34540461b2"><div class="ttname"><a href="../../d4/d46/a08598.html#a0d13935c40d0392f7f7b5a34540461b2">Unit::getGender</a></div><div class="ttdeci">uint8 getGender() const</div><div class="ttdef"><b>Definition:</b> Unit.h:805</div></div>
<div class="ttc" id="aa08598_html_a58a507ebe628930b8a506144b364d84b"><div class="ttname"><a href="../../d4/d46/a08598.html#a58a507ebe628930b8a506144b364d84b">Unit::getClass</a></div><div class="ttdeci">uint8 getClass() const</div><div class="ttdef"><b>Definition:</b> Unit.h:800</div></div>
<div class="ttc" id="aa08598_html_a60368071d6d8e6a23977ea4b44249de1"><div class="ttname"><a href="../../d4/d46/a08598.html#a60368071d6d8e6a23977ea4b44249de1">Unit::getRace</a></div><div class="ttdeci">uint8 getRace(bool original=false) const</div><div class="ttdef"><b>Definition:</b> Unit.cpp:21006</div></div>
<div class="ttc" id="aa08598_html_af4767dc4f1480f7c0527db4efe2643d9"><div class="ttname"><a href="../../d4/d46/a08598.html#af4767dc4f1480f7c0527db4efe2643d9">Unit::GetLevel</a></div><div class="ttdeci">uint8 GetLevel() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1024</div></div>
<div class="ttc" id="aa10810_html_aba0d5c49bc78f449da94cca0dee6e685"><div class="ttname"><a href="../../d9/d7c/a10810.html#aba0d5c49bc78f449da94cca0dee6e685">WorldSession::GetLatency</a></div><div class="ttdeci">uint32 GetLatency() const</div><div class="ttdef"><b>Definition:</b> WorldSession.h:516</div></div>
<div class="ttc" id="aa28142_html_a31af0d9064a295b1579fce3c80217bfd"><div class="ttname"><a href="../../d6/dcc/a28142.html#a31af0d9064a295b1579fce3c80217bfd">RealmHandle::Realm</a></div><div class="ttdeci">uint32 Realm</div><div class="ttdef"><b>Definition:</b> Realm.h:43</div></div>
<div class="ttc" id="aa28146_html_ab0ccda7e7a58eee0965261767f3ee2ee"><div class="ttname"><a href="../../df/deb/a28146.html#ab0ccda7e7a58eee0965261767f3ee2ee">Realm::Id</a></div><div class="ttdeci">RealmHandle Id</div><div class="ttdef"><b>Definition:</b> Realm.h:69</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00526">AreaTableEntry::area_name</a>, <a class="el" href="../../#l00335">CHAR_SEL_CHAR_PINFO</a>, <a class="el" href="../../#l00146">CHAR_SEL_GUILD_MEMBER_EXTENDED</a>, <a class="el" href="../../#l00338">CHAR_SEL_PINFO_BANS</a>, <a class="el" href="../../#l00337">CHAR_SEL_PINFO_MAILS</a>, <a class="el" href="../../#l00336">CHAR_SEL_PINFO_XP</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00146">CLASS_DEATH_KNIGHT</a>, <a class="el" href="../../#l00151">CLASS_DRUID</a>, <a class="el" href="../../#l00143">CLASS_HUNTER</a>, <a class="el" href="../../#l00148">CLASS_MAGE</a>, <a class="el" href="../../#l00142">CLASS_PALADIN</a>, <a class="el" href="../../#l00145">CLASS_PRIEST</a>, <a class="el" href="../../#l00144">CLASS_ROGUE</a>, <a class="el" href="../../#l00147">CLASS_SHAMAN</a>, <a class="el" href="../../#l00149">CLASS_WARLOCK</a>, <a class="el" href="../../#l00141">CLASS_WARRIOR</a>, <a class="el" href="../../#l00236">CONFIG_MAX_PLAYER_LEVEL</a>, <a class="el" href="../../#l00184">Acore::ChatCommands::PlayerIdentifier::FromTargetOrSelf()</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00375">WorldSession::GetAccountId()</a>, <a class="el" href="../../#l00040">ChatHandler::GetAcoreString()</a>, <a class="el" href="../../#l03167">WorldObject::GetAreaId()</a>, <a class="el" href="../../#l00800">Unit::getClass()</a>, <a class="el" href="../../#l00038">GameTime::GetGameTime()</a>, <a class="el" href="../../#l00805">Unit::getGender()</a>, <a class="el" href="../../#l00516">WorldSession::GetLatency()</a>, <a class="el" href="../../#l01024">Unit::GetLevel()</a>, <a class="el" href="../../#l00275">WorldLocation::GetMapId()</a>, <a class="el" href="../../#l01616">Player::GetMoney()</a>, <a class="el" href="../../#l00451">WorldObject::GetPhaseMask()</a>, <a class="el" href="../../#l21006">Unit::getRace()</a>, <a class="el" href="../../#l00373">WorldSession::GetSecurity()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l02001">Player::GetSession()</a>, <a class="el" href="../../#l00869">ChatHandler::GetSessionDbcLocale()</a>, <a class="el" href="../../#l01203">Player::GetTotalPlayedTime()</a>, <a class="el" href="../../#l00253">GOLD</a>, <a class="el" href="../../#l00056">ChatHandler::HasLowerSecurity()</a>, <a class="el" href="../../#l00069">Realm::Id</a>, <a class="el" href="../../#l01654">Unit::IsAlive()</a>, <a class="el" href="../../#l01175">Player::IsGameMaster()</a>, <a class="el" href="../../#l01087">LANG_CHARACTER</a>, <a class="el" href="../../#l00812">LANG_CHARACTER_GENDER_FEMALE</a>, <a class="el" href="../../#l00811">LANG_CHARACTER_GENDER_MALE</a>, <a class="el" href="../../#l00078">LANG_ERROR</a>, <a class="el" href="../../#l00452">LANG_NO</a>, <a class="el" href="../../#l00807">LANG_NO_REASON</a>, <a class="el" href="../../#l00069">LANG_OFFLINE</a>, <a class="el" href="../../#l01088">LANG_PERMANENTLY</a>, <a class="el" href="../../#l00789">LANG_PINFO_ACC_ACCOUNT</a>, <a class="el" href="../../#l00793">LANG_PINFO_ACC_IP</a>, <a class="el" href="../../#l00790">LANG_PINFO_ACC_LASTLOGIN</a>, <a class="el" href="../../#l00791">LANG_PINFO_ACC_OS</a>, <a class="el" href="../../#l00792">LANG_PINFO_ACC_REGMAILS</a>, <a class="el" href="../../#l00787">LANG_PINFO_BANNED</a>, <a class="el" href="../../#l00796">LANG_PINFO_CHR_ALIVE</a>, <a class="el" href="../../#l00800">LANG_PINFO_CHR_GUILD</a>, <a class="el" href="../../#l00802">LANG_PINFO_CHR_GUILD_NOTE</a>, <a class="el" href="../../#l00803">LANG_PINFO_CHR_GUILD_ONOTE</a>, <a class="el" href="../../#l00801">LANG_PINFO_CHR_GUILD_RANK</a>, <a class="el" href="../../#l00806">LANG_PINFO_CHR_LEVEL_HIGH</a>, <a class="el" href="../../#l00794">LANG_PINFO_CHR_LEVEL_LOW</a>, <a class="el" href="../../#l00805">LANG_PINFO_CHR_MAILS</a>, <a class="el" href="../../#l00799">LANG_PINFO_CHR_MAP</a>, <a class="el" href="../../#l00809">LANG_PINFO_CHR_MAP_WITH_AREA</a>, <a class="el" href="../../#l00798">LANG_PINFO_CHR_MONEY</a>, <a class="el" href="../../#l00797">LANG_PINFO_CHR_PHASE</a>, <a class="el" href="../../#l00804">LANG_PINFO_CHR_PLAYEDTIME</a>, <a class="el" href="../../#l00795">LANG_PINFO_CHR_RACE</a>, <a class="el" href="../../#l00786">LANG_PINFO_GM_ACTIVE</a>, <a class="el" href="../../#l00788">LANG_PINFO_MUTED</a>, <a class="el" href="../../#l00785">LANG_PINFO_PLAYER</a>, <a class="el" href="../../#l00808">LANG_UNAUTHORIZED</a>, <a class="el" href="../../#l00077">LANG_UNKNOWN</a>, <a class="el" href="../../#l00451">LANG_YES</a>, <a class="el" href="../../#l00088">LOGIN_SEL_PINFO</a>, <a class="el" href="../../#l00089">LOGIN_SEL_PINFO_BANS</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, <a class="el" href="../../#l00508">WorldSession::m_muteTime</a>, <a class="el" href="../../#l01330">MapEntry::name</a>, <a class="el" href="../../#l00483">PLAYER_FLAGS_GHOST</a>, <a class="el" href="../../#l00231">ChatHandler::playerLink()</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00080">RACE_BLOODELF</a>, <a class="el" href="../../#l00081">RACE_DRAENEI</a>, <a class="el" href="../../#l00073">RACE_DWARF</a>, <a class="el" href="../../#l00077">RACE_GNOME</a>, <a class="el" href="../../#l00071">RACE_HUMAN</a>, <a class="el" href="../../#l00074">RACE_NIGHTELF</a>, <a class="el" href="../../#l00072">RACE_ORC</a>, <a class="el" href="../../#l00076">RACE_TAUREN</a>, <a class="el" href="../../#l00078">RACE_TROLL</a>, <a class="el" href="../../#l00075">RACE_UNDEAD_PLAYER</a>, <a class="el" href="../../#l00106">realm</a>, <a class="el" href="../../#l00043">RealmHandle::Realm</a>, <a class="el" href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>, <a class="el" href="../../#l00073">secsToTimeString()</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, <a class="el" href="../../#l00252">SILVER</a>, <a class="el" href="../../#l00049">sIPLocation</a>, <a class="el" href="../../d7/da2/a03704.html#acbe166cef01fbaa320231e8ef42b25c6">sMapStore</a>, <a class="el" href="../../#l00442">sWorld</a>, <a class="el" href="../../#l00102">WORLD_SEL_REQ_XP</a>, <a class="el" href="../../#l00020">WorldDatabase</a>, and <a class="el" href="../../#l00521">AreaTableEntry::zone</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a1fb21e495d53983db29793dc5ecb8a41" name="a1fb21e495d53983db29793dc5ecb8a41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fb21e495d53983db29793dc5ecb8a41">&#9670;&#160;</a></span>HandlePlayAllCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandlePlayAllCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>soundId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2947</span>    {</div>
<div class="line"><span class="lineno"> 2948</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d7/da2/a03704.html#a90cc67b85dd55c6764bdf3abe8cba7b0">sSoundEntriesStore</a>.LookupEntry(soundId))</div>
<div class="line"><span class="lineno"> 2949</span>        {</div>
<div class="line"><span class="lineno"> 2950</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaaf8a7736b05cd80f87ff4736293d9e16">LANG_SOUND_NOT_EXIST</a>, soundId);</div>
<div class="line"><span class="lineno"> 2951</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2952</span>        }</div>
<div class="line"><span class="lineno"> 2953</span> </div>
<div class="line"><span class="lineno"> 2954</span>        <a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;SendGlobalMessage(<a class="code hl_class" href="../../d4/d44/a10574.html">WorldPackets::Misc::Playsound</a>(soundId).Write());</div>
<div class="line"><span class="lineno"> 2955</span> </div>
<div class="line"><span class="lineno"> 2956</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa3b4d5b95be1d3a619581bc6bb991c8f5">LANG_COMMAND_PLAYED_TO_ALL</a>, soundId);</div>
<div class="line"><span class="lineno"> 2957</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2958</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa3b4d5b95be1d3a619581bc6bb991c8f5"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa3b4d5b95be1d3a619581bc6bb991c8f5">LANG_COMMAND_PLAYED_TO_ALL</a></div><div class="ttdeci">@ LANG_COMMAND_PLAYED_TO_ALL</div><div class="ttdef"><b>Definition:</b> Language.h:1055</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaaf8a7736b05cd80f87ff4736293d9e16"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaaf8a7736b05cd80f87ff4736293d9e16">LANG_SOUND_NOT_EXIST</a></div><div class="ttdeci">@ LANG_SOUND_NOT_EXIST</div><div class="ttdef"><b>Definition:</b> Language.h:210</div></div>
<div class="ttc" id="aa03704_html_a90cc67b85dd55c6764bdf3abe8cba7b0"><div class="ttname"><a href="../../d7/da2/a03704.html#a90cc67b85dd55c6764bdf3abe8cba7b0">sSoundEntriesStore</a></div><div class="ttdeci">DBCStorage&lt; SoundEntriesEntry &gt; sSoundEntriesStore(SoundEntriesfmt)</div></div>
<div class="ttc" id="aa10574_html"><div class="ttname"><a href="../../d4/d44/a10574.html">WorldPackets::Misc::Playsound</a></div><div class="ttdef"><b>Definition:</b> MiscPackets.h:85</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01055">LANG_COMMAND_PLAYED_TO_ALL</a>, <a class="el" href="../../#l00210">LANG_SOUND_NOT_EXIST</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../d7/da2/a03704.html#a90cc67b85dd55c6764bdf3abe8cba7b0">sSoundEntriesStore</a>, and <a class="el" href="../../#l00442">sWorld</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="af7e879af94a5c48cd3c1194fdc118ec8" name="af7e879af94a5c48cd3c1194fdc118ec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7e879af94a5c48cd3c1194fdc118ec8">&#9670;&#160;</a></span>HandlePossessCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandlePossessCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2961</span>    {</div>
<div class="line"><span class="lineno"> 2962</span>        <a class="code hl_class" href="../../d4/d46/a08598.html">Unit</a>* unit = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ae88a523ef51a6d51d38a8d524e49b179">getSelectedUnit</a>();</div>
<div class="line"><span class="lineno"> 2963</span>        <span class="keywordflow">if</span> (!unit)</div>
<div class="line"><span class="lineno"> 2964</span>        {</div>
<div class="line"><span class="lineno"> 2965</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2966</span>        }</div>
<div class="line"><span class="lineno"> 2967</span> </div>
<div class="line"><span class="lineno"> 2968</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(unit, 530, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2969</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2970</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01167">Unit::CastSpell()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00385">ChatHandler::getSelectedUnit()</a>, and <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="aa5ec52269526f61a24fd77f262e0373f" name="aa5ec52269526f61a24fd77f262e0373f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5ec52269526f61a24fd77f262e0373f">&#9670;&#160;</a></span>HandleRecallCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleRecallCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1292</span>    {</div>
<div class="line"><span class="lineno"> 1293</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno"> 1294</span>        {</div>
<div class="line"><span class="lineno"> 1295</span>            target = <a class="code hl_function" href="../../de/d8a/a07550.html#a617834cc8474970950b45066f2e86dbd">PlayerIdentifier::FromTargetOrSelf</a>(handler);</div>
<div class="line"><span class="lineno"> 1296</span>        }</div>
<div class="line"><span class="lineno"> 1297</span> </div>
<div class="line"><span class="lineno"> 1298</span>        <span class="keywordflow">if</span> (!target || !target-&gt;IsConnected())</div>
<div class="line"><span class="lineno"> 1299</span>        {</div>
<div class="line"><span class="lineno"> 1300</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1301</span>        }</div>
<div class="line"><span class="lineno"> 1302</span> </div>
<div class="line"><span class="lineno"> 1303</span>        <span class="keyword">auto</span> targetPlayer = target-&gt;GetConnectedPlayer();</div>
<div class="line"><span class="lineno"> 1304</span> </div>
<div class="line"><span class="lineno"> 1305</span>        <span class="comment">// check online security</span></div>
<div class="line"><span class="lineno"> 1306</span>        <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#afacb4b59756372ec32810be0d46da49c">HasLowerSecurity</a>(targetPlayer))</div>
<div class="line"><span class="lineno"> 1307</span>        {</div>
<div class="line"><span class="lineno"> 1308</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1309</span>        }</div>
<div class="line"><span class="lineno"> 1310</span> </div>
<div class="line"><span class="lineno"> 1311</span>        <span class="keywordflow">if</span> (targetPlayer-&gt;IsBeingTeleported())</div>
<div class="line"><span class="lineno"> 1312</span>        {</div>
<div class="line"><span class="lineno"> 1313</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa3e5510ae8145e38bf177092840252466">LANG_IS_TELEPORTED</a>, handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a52c15179ec3eff1b6bb9551d96a8b901">playerLink</a>(target-&gt;GetName()));</div>
<div class="line"><span class="lineno"> 1314</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1315</span>        }</div>
<div class="line"><span class="lineno"> 1316</span> </div>
<div class="line"><span class="lineno"> 1317</span>        <span class="comment">// stop flight if need</span></div>
<div class="line"><span class="lineno"> 1318</span>        <span class="keywordflow">if</span> (targetPlayer-&gt;IsInFlight())</div>
<div class="line"><span class="lineno"> 1319</span>        {</div>
<div class="line"><span class="lineno"> 1320</span>            targetPlayer-&gt;GetMotionMaster()-&gt;MovementExpired();</div>
<div class="line"><span class="lineno"> 1321</span>            targetPlayer-&gt;CleanupAfterTaxiFlight();</div>
<div class="line"><span class="lineno"> 1322</span>        }</div>
<div class="line"><span class="lineno"> 1323</span> </div>
<div class="line"><span class="lineno"> 1324</span>        targetPlayer-&gt;TeleportTo(targetPlayer-&gt;m_recallMap, targetPlayer-&gt;m_recallX, targetPlayer-&gt;m_recallY, targetPlayer-&gt;m_recallZ, targetPlayer-&gt;m_recallO);</div>
<div class="line"><span class="lineno"> 1325</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1326</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00184">Acore::ChatCommands::PlayerIdentifier::FromTargetOrSelf()</a>, <a class="el" href="../../#l00056">ChatHandler::HasLowerSecurity()</a>, <a class="el" href="../../#l00134">LANG_IS_TELEPORTED</a>, <a class="el" href="../../#l00231">ChatHandler::playerLink()</a>, and <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a2ef3d2c57dc4d1d9c43b6c99ef535214" name="a2ef3d2c57dc4d1d9c43b6c99ef535214"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ef3d2c57dc4d1d9c43b6c99ef535214">&#9670;&#160;</a></span>HandleRespawnAllCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleRespawnAllCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2408</span>    {</div>
<div class="line"><span class="lineno"> 2409</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 2410</span> </div>
<div class="line"><span class="lineno"> 2411</span>        <a class="code hl_class" href="../../dd/d2b/a08922.html">CellCoord</a> p(<a class="code hl_function" href="../../d8/d20/a04686.html#af056a475dba505792191bc6e8c3370a5">Acore::ComputeCellCoord</a>(player-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ad5577c934d9e845b44759b67c534c3e8">GetPositionX</a>(), player-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ae79fc664f6cd027f5d49f6c7df8e4c9e">GetPositionY</a>()));</div>
<div class="line"><span class="lineno"> 2412</span>        <a class="code hl_struct" href="../../d2/df8/a08902.html">Cell</a> cell(p);</div>
<div class="line"><span class="lineno"> 2413</span>        cell.SetNoCreate();</div>
<div class="line"><span class="lineno"> 2414</span> </div>
<div class="line"><span class="lineno"> 2415</span>        <a class="code hl_class" href="../../dc/d3e/a09066.html">Acore::RespawnDo</a> u_do;</div>
<div class="line"><span class="lineno"> 2416</span>        <a class="code hl_struct" href="../../d2/dd5/a08986.html">Acore::WorldObjectWorker&lt;Acore::RespawnDo&gt;</a> worker(player, u_do);</div>
<div class="line"><span class="lineno"> 2417</span>        <a class="code hl_function" href="../../d2/df8/a08902.html#a7040fac6edc9c2b742ff1d91f786afa0">Cell::VisitGridObjects</a>(player, worker, player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a3cce686d74d3ab3890a7de391698a106">GetGridActivationRange</a>());</div>
<div class="line"><span class="lineno"> 2418</span> </div>
<div class="line"><span class="lineno"> 2419</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2420</span>    }</div>
<div class="ttc" id="aa08250_html_a3cce686d74d3ab3890a7de391698a106"><div class="ttname"><a href="../../de/d0d/a08250.html#a3cce686d74d3ab3890a7de391698a106">WorldObject::GetGridActivationRange</a></div><div class="ttdeci">float GetGridActivationRange() const</div><div class="ttdef"><b>Definition:</b> Object.cpp:1634</div></div>
<div class="ttc" id="aa08902_html_a7040fac6edc9c2b742ff1d91f786afa0"><div class="ttname"><a href="../../d2/df8/a08902.html#a7040fac6edc9c2b742ff1d91f786afa0">Cell::VisitGridObjects</a></div><div class="ttdeci">static void VisitGridObjects(WorldObject const *obj, T &amp;visitor, float radius, bool dont_load=true)</div><div class="ttdef"><b>Definition:</b> CellImpl.h:178</div></div>
<div class="ttc" id="aa08986_html"><div class="ttname"><a href="../../d2/dd5/a08986.html">Acore::WorldObjectWorker</a></div><div class="ttdef"><b>Definition:</b> GridNotifiers.h:260</div></div>
<div class="ttc" id="aa09066_html"><div class="ttname"><a href="../../dc/d3e/a09066.html">Acore::RespawnDo</a></div><div class="ttdef"><b>Definition:</b> GridNotifiers.h:645</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00190">Acore::ComputeCellCoord()</a>, <a class="el" href="../../#l01634">WorldObject::GetGridActivationRange()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00116">Position::GetPositionX()</a>, <a class="el" href="../../#l00117">Position::GetPositionY()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00074">Cell::SetNoCreate()</a>, and <a class="el" href="../../#l00178">Cell::VisitGridObjects()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a7dfc18f4db20a1c86c6481bc13ace63c" name="a7dfc18f4db20a1c86c6481bc13ace63c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dfc18f4db20a1c86c6481bc13ace63c">&#9670;&#160;</a></span>HandleRespawnCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleRespawnCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2384</span>    {</div>
<div class="line"><span class="lineno"> 2385</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 2386</span> </div>
<div class="line"><span class="lineno"> 2387</span>        <a class="code hl_class" href="../../d4/d46/a08598.html">Unit</a>* target = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ae88a523ef51a6d51d38a8d524e49b179">getSelectedUnit</a>();</div>
<div class="line"><span class="lineno"> 2388</span>        <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#af387d5e18806e37f65ebc3408c0b8712">GetTarget</a>() &amp;&amp; target)</div>
<div class="line"><span class="lineno"> 2389</span>        {</div>
<div class="line"><span class="lineno"> 2390</span>            <span class="keywordflow">if</span> (!target-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#aacc8ee332f66effdc0d77c126dae1961">IsCreature</a>() || target-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a4ad2fdcc45e2c3c85ad59ff49268b58c">IsPet</a>())</div>
<div class="line"><span class="lineno"> 2391</span>            {</div>
<div class="line"><span class="lineno"> 2392</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa0ec66ab7b9eb5b35afd1b9c020082a06">LANG_SELECT_CREATURE</a>);</div>
<div class="line"><span class="lineno"> 2393</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2394</span>            }</div>
<div class="line"><span class="lineno"> 2395</span> </div>
<div class="line"><span class="lineno"> 2396</span>            <span class="keywordflow">if</span> (target-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#afd7aa5f7719cba4d967bb7f009582d2f">isDead</a>())</div>
<div class="line"><span class="lineno"> 2397</span>            {</div>
<div class="line"><span class="lineno"> 2398</span>                target-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ab0e2ef1ac1daa91476f749e0ec6ad3c6">ToCreature</a>()-&gt;<a class="code hl_function" href="../../d8/d56/a07846.html#a1277512afd7e270a9d0b4acd90c17550">Respawn</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2399</span>            }</div>
<div class="line"><span class="lineno"> 2400</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2401</span>        }</div>
<div class="line"><span class="lineno"> 2402</span> </div>
<div class="line"><span class="lineno"> 2403</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa0ec66ab7b9eb5b35afd1b9c020082a06">LANG_SELECT_CREATURE</a>);</div>
<div class="line"><span class="lineno"> 2404</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2405</span>    }</div>
<div class="ttc" id="aa07846_html_a1277512afd7e270a9d0b4acd90c17550"><div class="ttname"><a href="../../d8/d56/a07846.html#a1277512afd7e270a9d0b4acd90c17550">Creature::Respawn</a></div><div class="ttdeci">void Respawn(bool force=false)</div><div class="ttdef"><b>Definition:</b> Creature.cpp:2035</div></div>
<div class="ttc" id="aa08598_html_a4ad2fdcc45e2c3c85ad59ff49268b58c"><div class="ttname"><a href="../../d4/d46/a08598.html#a4ad2fdcc45e2c3c85ad59ff49268b58c">Unit::IsPet</a></div><div class="ttdeci">bool IsPet() const</div><div class="ttdef"><b>Definition:</b> Unit.h:754</div></div>
<div class="ttc" id="aa08598_html_afd7aa5f7719cba4d967bb7f009582d2f"><div class="ttname"><a href="../../d4/d46/a08598.html#afd7aa5f7719cba4d967bb7f009582d2f">Unit::isDead</a></div><div class="ttdeci">bool isDead() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1656</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00385">ChatHandler::getSelectedUnit()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00818">Unit::GetTarget()</a>, <a class="el" href="../../#l00204">Object::IsCreature()</a>, <a class="el" href="../../#l01656">Unit::isDead()</a>, <a class="el" href="../../#l00754">Unit::IsPet()</a>, <a class="el" href="../../#l00032">LANG_SELECT_CREATURE</a>, <a class="el" href="../../#l02035">Creature::Respawn()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, and <a class="el" href="../../#l00205">Object::ToCreature()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a595d4e333cd2ac536317fee558bde24d" name="a595d4e333cd2ac536317fee558bde24d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a595d4e333cd2ac536317fee558bde24d">&#9670;&#160;</a></span>HandleReviveCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleReviveCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1159</span>    {</div>
<div class="line"><span class="lineno"> 1160</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno"> 1161</span>            target = <a class="code hl_function" href="../../de/d8a/a07550.html#a617834cc8474970950b45066f2e86dbd">PlayerIdentifier::FromTargetOrSelf</a>(handler);</div>
<div class="line"><span class="lineno"> 1162</span> </div>
<div class="line"><span class="lineno"> 1163</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno"> 1164</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1165</span> </div>
<div class="line"><span class="lineno"> 1166</span>        <span class="keywordflow">if</span> (target-&gt;IsConnected())</div>
<div class="line"><span class="lineno"> 1167</span>        {</div>
<div class="line"><span class="lineno"> 1168</span>            <span class="keyword">auto</span> targetPlayer = target-&gt;GetConnectedPlayer();</div>
<div class="line"><span class="lineno"> 1169</span>            targetPlayer-&gt;RemoveAurasDueToSpell(27827); <span class="comment">// Spirit of Redemption</span></div>
<div class="line"><span class="lineno"> 1170</span>            targetPlayer-&gt;ResurrectPlayer(!<a class="code hl_function" href="../../d9/d82/a04718.html#a63751f144cb7acb57fc20f0caf5e7043">AccountMgr::IsPlayerAccount</a>(targetPlayer-&gt;GetSession()-&gt;GetSecurity()) ? 1.0f : 0.5f);</div>
<div class="line"><span class="lineno"> 1171</span>            targetPlayer-&gt;SpawnCorpseBones();</div>
<div class="line"><span class="lineno"> 1172</span>            targetPlayer-&gt;SaveToDB(<span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1173</span>        }</div>
<div class="line"><span class="lineno"> 1174</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1175</span>        {</div>
<div class="line"><span class="lineno"> 1176</span>            <a class="code hl_typedef" href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a> trans(<span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 1177</span>            <a class="code hl_function" href="../../dc/d06/a08466.html#a10b9dfe90e710927d7e8320281a07310">Player::OfflineResurrect</a>(target-&gt;GetGUID(), trans);</div>
<div class="line"><span class="lineno"> 1178</span>        }</div>
<div class="line"><span class="lineno"> 1179</span> </div>
<div class="line"><span class="lineno"> 1180</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1181</span>    }</div>
<div class="ttc" id="aa04589_html_a96bac9a371212c6bab7a9448214666c0"><div class="ttname"><a href="../../d3/d24/a04589.html#a96bac9a371212c6bab7a9448214666c0">CharacterDatabaseTransaction</a></div><div class="ttdeci">SQLTransaction&lt; CharacterDatabaseConnection &gt; CharacterDatabaseTransaction</div><div class="ttdef"><b>Definition:</b> DatabaseEnvFwd.h:69</div></div>
<div class="ttc" id="aa08466_html_a10b9dfe90e710927d7e8320281a07310"><div class="ttname"><a href="../../dc/d06/a08466.html#a10b9dfe90e710927d7e8320281a07310">Player::OfflineResurrect</a></div><div class="ttdeci">static void OfflineResurrect(ObjectGuid const guid, CharacterDatabaseTransaction trans)</div><div class="ttdef"><b>Definition:</b> Player.cpp:4601</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00184">Acore::ChatCommands::PlayerIdentifier::FromTargetOrSelf()</a>, <a class="el" href="../../#l00305">AccountMgr::IsPlayerAccount()</a>, and <a class="el" href="../../#l04601">Player::OfflineResurrect()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a92ddb1f96431d4067143d389992d20da" name="a92ddb1f96431d4067143d389992d20da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92ddb1f96431d4067143d389992d20da">&#9670;&#160;</a></span>HandleSaveAllCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleSaveAllCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1360</span>    {</div>
<div class="line"><span class="lineno"> 1361</span>        <a class="code hl_function" href="../../d4/da9/a04736.html#a0fba0222d2e46026727c6e898a7f35bc">ObjectAccessor::SaveAllPlayers</a>();</div>
<div class="line"><span class="lineno"> 1362</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa33bee015d4e1ad0ea631497010af1d90">LANG_PLAYERS_SAVED</a>);</div>
<div class="line"><span class="lineno"> 1363</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1364</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa33bee015d4e1ad0ea631497010af1d90"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa33bee015d4e1ad0ea631497010af1d90">LANG_PLAYERS_SAVED</a></div><div class="ttdeci">@ LANG_PLAYERS_SAVED</div><div class="ttdef"><b>Definition:</b> Language.h:47</div></div>
<div class="ttc" id="aa04736_html_a0fba0222d2e46026727c6e898a7f35bc"><div class="ttname"><a href="../../d4/da9/a04736.html#a0fba0222d2e46026727c6e898a7f35bc">ObjectAccessor::SaveAllPlayers</a></div><div class="ttdeci">void SaveAllPlayers()</div><div class="ttdef"><b>Definition:</b> ObjectAccessor.cpp:262</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00047">LANG_PLAYERS_SAVED</a>, <a class="el" href="../../#l00262">ObjectAccessor::SaveAllPlayers()</a>, and <a class="el" href="../../#l00159">ChatHandler::SendSysMessage()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a1a7e0ef2e2a69e5a27f891a588f7ec96" name="a1a7e0ef2e2a69e5a27f891a588f7ec96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a7e0ef2e2a69e5a27f891a588f7ec96">&#9670;&#160;</a></span>HandleSaveCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleSaveCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1329</span>    {</div>
<div class="line"><span class="lineno"> 1330</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 1331</span> </div>
<div class="line"><span class="lineno"> 1332</span>        <span class="comment">// save GM account without delay and output message</span></div>
<div class="line"><span class="lineno"> 1333</span>        <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>() &gt;= <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>)</div>
<div class="line"><span class="lineno"> 1334</span>        {</div>
<div class="line"><span class="lineno"> 1335</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* target = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ad948d4d7a2fe777df9d02f40201bcf4a">getSelectedPlayer</a>())</div>
<div class="line"><span class="lineno"> 1336</span>            {</div>
<div class="line"><span class="lineno"> 1337</span>                target-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a017c8a9f126945990cedc63b5567af0b">SaveToDB</a>(<span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1338</span>            }</div>
<div class="line"><span class="lineno"> 1339</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1340</span>            {</div>
<div class="line"><span class="lineno"> 1341</span>                player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a017c8a9f126945990cedc63b5567af0b">SaveToDB</a>(<span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1342</span>            }</div>
<div class="line"><span class="lineno"> 1343</span> </div>
<div class="line"><span class="lineno"> 1344</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa55dbb9b7b244d46c99ed25a4a056e292">LANG_PLAYER_SAVED</a>);</div>
<div class="line"><span class="lineno"> 1345</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1346</span>        }</div>
<div class="line"><span class="lineno"> 1347</span> </div>
<div class="line"><span class="lineno"> 1348</span>        <span class="comment">// save if the player has last been saved over 20 seconds ago</span></div>
<div class="line"><span class="lineno"> 1349</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> saveInterval = <a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getIntConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41a8f219114d513d1cef30abd697b1a1563">CONFIG_INTERVAL_SAVE</a>);</div>
<div class="line"><span class="lineno"> 1350</span>        <span class="keywordflow">if</span> (saveInterval == 0 || (saveInterval &gt; 20 * <a class="code hl_variable" href="../../d4/d51/a00017.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a> &amp;&amp; player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a1843098226f063082a2f7f4296bee764">GetSaveTimer</a>() &lt;= saveInterval - 20 * <a class="code hl_variable" href="../../d4/d51/a00017.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>))</div>
<div class="line"><span class="lineno"> 1351</span>        {</div>
<div class="line"><span class="lineno"> 1352</span>            player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a017c8a9f126945990cedc63b5567af0b">SaveToDB</a>(<span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1353</span>        }</div>
<div class="line"><span class="lineno"> 1354</span> </div>
<div class="line"><span class="lineno"> 1355</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1356</span>    }</div>
<div class="ttc" id="aa00017_html_a84190f79c8167211609f67284e066c58"><div class="ttname"><a href="../../d4/d51/a00017.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a></div><div class="ttdeci">constexpr auto IN_MILLISECONDS</div><div class="ttdef"><b>Definition:</b> Common.h:53</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa55dbb9b7b244d46c99ed25a4a056e292"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa55dbb9b7b244d46c99ed25a4a056e292">LANG_PLAYER_SAVED</a></div><div class="ttdeci">@ LANG_PLAYER_SAVED</div><div class="ttdef"><b>Definition:</b> Language.h:46</div></div>
<div class="ttc" id="aa03317_html_a17aac4c166ebe43e3b8fdccf9e012e41a8f219114d513d1cef30abd697b1a1563"><div class="ttname"><a href="../../d8/ddd/a03317.html#a17aac4c166ebe43e3b8fdccf9e012e41a8f219114d513d1cef30abd697b1a1563">CONFIG_INTERVAL_SAVE</a></div><div class="ttdeci">@ CONFIG_INTERVAL_SAVE</div><div class="ttdef"><b>Definition:</b> IWorld.h:214</div></div>
<div class="ttc" id="aa08466_html_a017c8a9f126945990cedc63b5567af0b"><div class="ttname"><a href="../../dc/d06/a08466.html#a017c8a9f126945990cedc63b5567af0b">Player::SaveToDB</a></div><div class="ttdeci">void SaveToDB(bool create, bool logout)</div><div class="ttdef"><b>Definition:</b> PlayerStorage.cpp:7049</div></div>
<div class="ttc" id="aa08466_html_a1843098226f063082a2f7f4296bee764"><div class="ttname"><a href="../../dc/d06/a08466.html#a1843098226f063082a2f7f4296bee764">Player::GetSaveTimer</a></div><div class="ttdeci">uint32 GetSaveTimer() const</div><div class="ttdef"><b>Definition:</b> Player.h:2358</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00214">CONFIG_INTERVAL_SAVE</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l02358">Player::GetSaveTimer()</a>, <a class="el" href="../../#l00373">WorldSession::GetSecurity()</a>, <a class="el" href="../../#l00373">ChatHandler::getSelectedPlayer()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00053">IN_MILLISECONDS</a>, <a class="el" href="../../#l00046">LANG_PLAYER_SAVED</a>, <a class="el" href="../../#l07049">Player::SaveToDB()</a>, <a class="el" href="../../#l00059">SEC_GAMEMASTER</a>, <a class="el" href="../../#l00159">ChatHandler::SendSysMessage()</a>, and <a class="el" href="../../#l00442">sWorld</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a9eff551590f4e09fcf4daa0f929e130e" name="a9eff551590f4e09fcf4daa0f929e130e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eff551590f4e09fcf4daa0f929e130e">&#9670;&#160;</a></span>HandleSetSkillCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleSetSkillCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/de0/a07562.html">Variant</a>&lt; <a class="el" href="../../d4/d28/a07554.html">Hyperlink</a>&lt; skill &gt;, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> &gt;&#160;</td>
          <td class="paramname"><em>skillId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> &gt;&#160;</td>
          <td class="paramname"><em>maxPureSkill</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1893</span>    {</div>
<div class="line"><span class="lineno"> 1894</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> skillID = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(skillId);</div>
<div class="line"><span class="lineno"> 1895</span> </div>
<div class="line"><span class="lineno"> 1896</span>        <span class="keywordflow">if</span> (skillID &lt;= 0)</div>
<div class="line"><span class="lineno"> 1897</span>        {</div>
<div class="line"><span class="lineno"> 1898</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa8081d8a0a18bd9219c8de92a9d6d30f7">LANG_INVALID_SKILL_ID</a>, skillID);</div>
<div class="line"><span class="lineno"> 1899</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1900</span>        }</div>
<div class="line"><span class="lineno"> 1901</span> </div>
<div class="line"><span class="lineno"> 1902</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* target = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ad948d4d7a2fe777df9d02f40201bcf4a">getSelectedPlayer</a>();</div>
<div class="line"><span class="lineno"> 1903</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno"> 1904</span>        {</div>
<div class="line"><span class="lineno"> 1905</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9943964d247b2fcae268e3664268f291">LANG_NO_CHAR_SELECTED</a>);</div>
<div class="line"><span class="lineno"> 1906</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1907</span>        }</div>
<div class="line"><span class="lineno"> 1908</span> </div>
<div class="line"><span class="lineno"> 1909</span>        <a class="code hl_struct" href="../../d5/de1/a27966.html">SkillLineEntry</a> <span class="keyword">const</span>* skillLine = <a class="code hl_variable" href="../../d7/da2/a03704.html#ab4bb35cde6511a56d8b9d23f4290f8e7">sSkillLineStore</a>.LookupEntry(skillID);</div>
<div class="line"><span class="lineno"> 1910</span>        <span class="keywordflow">if</span> (!skillLine)</div>
<div class="line"><span class="lineno"> 1911</span>        {</div>
<div class="line"><span class="lineno"> 1912</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa8081d8a0a18bd9219c8de92a9d6d30f7">LANG_INVALID_SKILL_ID</a>, <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(skillID));</div>
<div class="line"><span class="lineno"> 1913</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1914</span>        }</div>
<div class="line"><span class="lineno"> 1915</span> </div>
<div class="line"><span class="lineno"> 1916</span>        <span class="keywordtype">bool</span> targetHasSkill = target-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a2b7579cb973f79b2886702c96721f594">GetSkillValue</a>(skillID);</div>
<div class="line"><span class="lineno"> 1917</span> </div>
<div class="line"><span class="lineno"> 1918</span>        <span class="comment">// If our target does not yet have the skill they are trying to add to them, the chosen level also becomes</span></div>
<div class="line"><span class="lineno"> 1919</span>        <span class="comment">// the max level of the new profession.</span></div>
<div class="line"><span class="lineno"> 1920</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> max = maxPureSkill ? *maxPureSkill : targetHasSkill ? target-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a814794cf889c0329eb727156456061fa">GetPureMaxSkillValue</a>(skillID) : <a class="code hl_typedef" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a>(level);</div>
<div class="line"><span class="lineno"> 1921</span> </div>
<div class="line"><span class="lineno"> 1922</span>        <span class="keywordflow">if</span> (level &lt;= 0 || level &gt; max || max &lt;= 0)</div>
<div class="line"><span class="lineno"> 1923</span>        {</div>
<div class="line"><span class="lineno"> 1924</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1925</span>        }</div>
<div class="line"><span class="lineno"> 1926</span> </div>
<div class="line"><span class="lineno"> 1927</span>        <span class="comment">// If the player has the skill, we get the current skill step. If they don&#39;t have the skill, we</span></div>
<div class="line"><span class="lineno"> 1928</span>        <span class="comment">// add the skill to the player&#39;s book with step 1 (which is the first rank, in most cases something</span></div>
<div class="line"><span class="lineno"> 1929</span>        <span class="comment">// like &#39;Apprentice &lt;skill&gt;&#39;.</span></div>
<div class="line"><span class="lineno"> 1930</span>        target-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a82eea9619dc957ba42e31316d873ef7b">SetSkill</a>(skillID, targetHasSkill ? target-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a7b8538569f37cc999726b58e11c50552">GetSkillStep</a>(skillID) : 1, level, max);</div>
<div class="line"><span class="lineno"> 1931</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaea971dc28064d3f3518788bed72a00c6">LANG_SET_SKILL</a>, skillID, skillLine-&gt;<a class="code hl_variable" href="../../d5/de1/a27966.html#afb5e77ab4f6faa132ca62f7664dce116">name</a>[handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a6cfa4cd171866cacb272e996aa75e487">GetSessionDbcLocale</a>()], handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a0e2b0a9da9e25f17c2f995505eeea940">GetNameLink</a>(target), level, max);</div>
<div class="line"><span class="lineno"> 1932</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1933</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa8081d8a0a18bd9219c8de92a9d6d30f7"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa8081d8a0a18bd9219c8de92a9d6d30f7">LANG_INVALID_SKILL_ID</a></div><div class="ttdeci">@ LANG_INVALID_SKILL_ID</div><div class="ttdef"><b>Definition:</b> Language.h:525</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaea971dc28064d3f3518788bed72a00c6"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaea971dc28064d3f3518788bed72a00c6">LANG_SET_SKILL</a></div><div class="ttdeci">@ LANG_SET_SKILL</div><div class="ttdef"><b>Definition:</b> Language.h:522</div></div>
<div class="ttc" id="aa03704_html_ab4bb35cde6511a56d8b9d23f4290f8e7"><div class="ttname"><a href="../../d7/da2/a03704.html#ab4bb35cde6511a56d8b9d23f4290f8e7">sSkillLineStore</a></div><div class="ttdeci">DBCStorage&lt; SkillLineEntry &gt; sSkillLineStore(SkillLinefmt)</div></div>
<div class="ttc" id="aa08466_html_a2b7579cb973f79b2886702c96721f594"><div class="ttname"><a href="../../dc/d06/a08466.html#a2b7579cb973f79b2886702c96721f594">Player::GetSkillValue</a></div><div class="ttdeci">uint16 GetSkillValue(uint32 skill) const</div><div class="ttdef"><b>Definition:</b> Player.cpp:5468</div></div>
<div class="ttc" id="aa08466_html_a7b8538569f37cc999726b58e11c50552"><div class="ttname"><a href="../../dc/d06/a08466.html#a7b8538569f37cc999726b58e11c50552">Player::GetSkillStep</a></div><div class="ttdeci">uint16 GetSkillStep(uint16 skill) const</div><div class="ttdef"><b>Definition:</b> Player.cpp:5456</div></div>
<div class="ttc" id="aa08466_html_a814794cf889c0329eb727156456061fa"><div class="ttname"><a href="../../dc/d06/a08466.html#a814794cf889c0329eb727156456061fa">Player::GetPureMaxSkillValue</a></div><div class="ttdeci">uint16 GetPureMaxSkillValue(uint32 skill) const</div><div class="ttdef"><b>Definition:</b> Player.cpp:5503</div></div>
<div class="ttc" id="aa08466_html_a82eea9619dc957ba42e31316d873ef7b"><div class="ttname"><a href="../../dc/d06/a08466.html#a82eea9619dc957ba42e31316d873ef7b">Player::SetSkill</a></div><div class="ttdeci">void SetSkill(uint16 id, uint16 step, uint16 currVal, uint16 maxVal)</div><div class="ttdef"><b>Definition:</b> Player.cpp:5347</div></div>
<div class="ttc" id="aa27966_html"><div class="ttname"><a href="../../d5/de1/a27966.html">SkillLineEntry</a></div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1582</div></div>
<div class="ttc" id="aa27966_html_afb5e77ab4f6faa132ca62f7664dce116"><div class="ttname"><a href="../../d5/de1/a27966.html#afb5e77ab4f6faa132ca62f7664dce116">SkillLineEntry::name</a></div><div class="ttdeci">char const  * name[16]</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1586</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00198">ChatHandler::GetNameLink()</a>, <a class="el" href="../../#l05503">Player::GetPureMaxSkillValue()</a>, <a class="el" href="../../#l00373">ChatHandler::getSelectedPlayer()</a>, <a class="el" href="../../#l00869">ChatHandler::GetSessionDbcLocale()</a>, <a class="el" href="../../#l05456">Player::GetSkillStep()</a>, <a class="el" href="../../#l05468">Player::GetSkillValue()</a>, <a class="el" href="../../#l00525">LANG_INVALID_SKILL_ID</a>, <a class="el" href="../../#l00148">LANG_NO_CHAR_SELECTED</a>, <a class="el" href="../../#l00522">LANG_SET_SKILL</a>, <a class="el" href="../../#l01586">SkillLineEntry::name</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l05347">Player::SetSkill()</a>, and <a class="el" href="../../d7/da2/a03704.html#ab4bb35cde6511a56d8b9d23f4290f8e7">sSkillLineStore</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a451aaca8aeba632f498b8d5b3e65936d" name="a451aaca8aeba632f498b8d5b3e65936d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a451aaca8aeba632f498b8d5b3e65936d">&#9670;&#160;</a></span>HandleShowAreaCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleShowAreaCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>areaID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1624</span>    {</div>
<div class="line"><span class="lineno"> 1625</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* playerTarget = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ad948d4d7a2fe777df9d02f40201bcf4a">getSelectedPlayer</a>();</div>
<div class="line"><span class="lineno"> 1626</span>        <span class="keywordflow">if</span> (!playerTarget)</div>
<div class="line"><span class="lineno"> 1627</span>        {</div>
<div class="line"><span class="lineno"> 1628</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9943964d247b2fcae268e3664268f291">LANG_NO_CHAR_SELECTED</a>);</div>
<div class="line"><span class="lineno"> 1629</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1630</span>        }</div>
<div class="line"><span class="lineno"> 1631</span> </div>
<div class="line"><span class="lineno"> 1632</span>        <a class="code hl_struct" href="../../dc/d28/a27670.html">AreaTableEntry</a> <span class="keyword">const</span>* area = <a class="code hl_variable" href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>.LookupEntry(areaID);</div>
<div class="line"><span class="lineno"> 1633</span>        <span class="keywordflow">if</span> (!area)</div>
<div class="line"><span class="lineno"> 1634</span>        {</div>
<div class="line"><span class="lineno"> 1635</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaba84876eafcef3a821f7a2a52fd3497e">LANG_BAD_VALUE</a>);</div>
<div class="line"><span class="lineno"> 1636</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1637</span>        }</div>
<div class="line"><span class="lineno"> 1638</span> </div>
<div class="line"><span class="lineno"> 1639</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> offset = area-&gt;<a class="code hl_variable" href="../../dc/d28/a27670.html#a78cf3009cd0fe49dc7870c7f65c79251">exploreFlag</a> / 32;</div>
<div class="line"><span class="lineno"> 1640</span>        <span class="keywordflow">if</span> (offset &gt;= <a class="code hl_define" href="../../d7/d13/a03365.html#adc637ac719fdefb939a974c01dc7c838">PLAYER_EXPLORED_ZONES_SIZE</a>)</div>
<div class="line"><span class="lineno"> 1641</span>        {</div>
<div class="line"><span class="lineno"> 1642</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaba84876eafcef3a821f7a2a52fd3497e">LANG_BAD_VALUE</a>);</div>
<div class="line"><span class="lineno"> 1643</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1644</span>        }</div>
<div class="line"><span class="lineno"> 1645</span> </div>
<div class="line"><span class="lineno"> 1646</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> val = <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>((1 &lt;&lt; (area-&gt;<a class="code hl_variable" href="../../dc/d28/a27670.html#a78cf3009cd0fe49dc7870c7f65c79251">exploreFlag</a> % 32)));</div>
<div class="line"><span class="lineno"> 1647</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> currFields = playerTarget-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#a3264388b9f92da9de7641477b3dc77f9">GetUInt32Value</a>(<a class="code hl_enumvalue" href="../../dc/d14/a03479.html#a0e42dc606678c9df7884e1aad621e881a4300b4c04026380554f09e7de22940a3">PLAYER_EXPLORED_ZONES_1</a> + offset);</div>
<div class="line"><span class="lineno"> 1648</span>        playerTarget-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#ac2bd94b573bcf5e80cba886a8e2f540f">SetUInt32Value</a>(<a class="code hl_enumvalue" href="../../dc/d14/a03479.html#a0e42dc606678c9df7884e1aad621e881a4300b4c04026380554f09e7de22940a3">PLAYER_EXPLORED_ZONES_1</a> + offset, <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>((currFields | val)));</div>
<div class="line"><span class="lineno"> 1649</span> </div>
<div class="line"><span class="lineno"> 1650</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab7b8c542cd61bcbdf905513914301c92">LANG_EXPLORE_AREA</a>);</div>
<div class="line"><span class="lineno"> 1651</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1652</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aab7b8c542cd61bcbdf905513914301c92"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab7b8c542cd61bcbdf905513914301c92">LANG_EXPLORE_AREA</a></div><div class="ttdeci">@ LANG_EXPLORE_AREA</div><div class="ttdef"><b>Definition:</b> Language.h:616</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00522">AreaTableEntry::exploreFlag</a>, <a class="el" href="../../#l00373">ChatHandler::getSelectedPlayer()</a>, <a class="el" href="../../#l00305">Object::GetUInt32Value()</a>, <a class="el" href="../../#l00147">LANG_BAD_VALUE</a>, <a class="el" href="../../#l00616">LANG_EXPLORE_AREA</a>, <a class="el" href="../../#l00148">LANG_NO_CHAR_SELECTED</a>, <a class="el" href="../../#l00357">PLAYER_EXPLORED_ZONES_1</a>, <a class="el" href="../../#l00072">PLAYER_EXPLORED_ZONES_SIZE</a>, <a class="el" href="../../d7/da2/a03704.html#aedcdbef7c215330459e17b2f224ff0e3">sAreaTableStore</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00159">ChatHandler::SendSysMessage()</a>, and <a class="el" href="../../#l21316">Unit::SetUInt32Value()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a2efa08fa367c12e1ab4dad7c3cd12c4c" name="a2efa08fa367c12e1ab4dad7c3cd12c4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2efa08fa367c12e1ab4dad7c3cd12c4c">&#9670;&#160;</a></span>HandleSkirmishCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleSkirmishCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string_view &gt;&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  156</span>    {</div>
<div class="line"><span class="lineno">  157</span>        <span class="keyword">auto</span> tokens = args;</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>        <span class="keywordflow">if</span> (args.empty() || !tokens.size())</div>
<div class="line"><span class="lineno">  160</span>        {</div>
<div class="line"><span class="lineno">  161</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#aaabf84568161763e66bf375c14f100c5">SetSentErrorMessage</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  162</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  163</span>        }</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>        <span class="keyword">auto</span> tokensItr = tokens.begin();</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>        std::vector&lt;BattlegroundTypeId&gt; allowedArenas;</div>
<div class="line"><span class="lineno">  168</span>        std::string_view arenasStr = *(tokensItr++);</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>        <span class="keyword">auto</span> arenaTokens = <a class="code hl_function" href="../../d8/d20/a04686.html#a6b121485ace4118b9006db1fb89f90f2">Acore::Tokenize</a>(arenasStr, <span class="charliteral">&#39;,&#39;</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  171</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; arenaName : arenaTokens)</div>
<div class="line"><span class="lineno">  172</span>        {</div>
<div class="line"><span class="lineno">  173</span>            <span class="keywordflow">if</span> (arenaName == <span class="stringliteral">&quot;all&quot;</span>)</div>
<div class="line"><span class="lineno">  174</span>            {</div>
<div class="line"><span class="lineno">  175</span>                <span class="keywordflow">if</span> (arenaTokens.size() &gt; 1)</div>
<div class="line"><span class="lineno">  176</span>                {</div>
<div class="line"><span class="lineno">  177</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<span class="stringliteral">&quot;Invalid [arena] specified.&quot;</span>);</div>
<div class="line"><span class="lineno">  178</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  179</span>                }</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>                allowedArenas.emplace_back(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2a8ccad7cdcbecb335e9e70e42a7b2ca09">BATTLEGROUND_NA</a>);</div>
<div class="line"><span class="lineno">  182</span>                allowedArenas.emplace_back(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2a35deca0cfa55a395a03288d6124dcd6e">BATTLEGROUND_BE</a>);</div>
<div class="line"><span class="lineno">  183</span>                allowedArenas.emplace_back(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2ad0217c97de424bee8bc929cfde0342cd">BATTLEGROUND_RL</a>);</div>
<div class="line"><span class="lineno">  184</span>                allowedArenas.emplace_back(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2aa95254a62f3cfc9b9f50b077a0e4eecc">BATTLEGROUND_DS</a>);</div>
<div class="line"><span class="lineno">  185</span>                allowedArenas.emplace_back(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2a82612bfec8fc545e3dad4c220abcded5">BATTLEGROUND_RV</a>);</div>
<div class="line"><span class="lineno">  186</span>            }</div>
<div class="line"><span class="lineno">  187</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (arenaName == <span class="stringliteral">&quot;NA&quot;</span>)</div>
<div class="line"><span class="lineno">  188</span>            {</div>
<div class="line"><span class="lineno">  189</span>                allowedArenas.emplace_back(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2a8ccad7cdcbecb335e9e70e42a7b2ca09">BATTLEGROUND_NA</a>);</div>
<div class="line"><span class="lineno">  190</span>            }</div>
<div class="line"><span class="lineno">  191</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (arenaName == <span class="stringliteral">&quot;BE&quot;</span>)</div>
<div class="line"><span class="lineno">  192</span>            {</div>
<div class="line"><span class="lineno">  193</span>                allowedArenas.emplace_back(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2a35deca0cfa55a395a03288d6124dcd6e">BATTLEGROUND_BE</a>);</div>
<div class="line"><span class="lineno">  194</span>            }</div>
<div class="line"><span class="lineno">  195</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (arenaName == <span class="stringliteral">&quot;RL&quot;</span>)</div>
<div class="line"><span class="lineno">  196</span>            {</div>
<div class="line"><span class="lineno">  197</span>                allowedArenas.emplace_back(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2ad0217c97de424bee8bc929cfde0342cd">BATTLEGROUND_RL</a>);</div>
<div class="line"><span class="lineno">  198</span>            }</div>
<div class="line"><span class="lineno">  199</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (arenaName == <span class="stringliteral">&quot;DS&quot;</span>)</div>
<div class="line"><span class="lineno">  200</span>            {</div>
<div class="line"><span class="lineno">  201</span>                allowedArenas.emplace_back(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2aa95254a62f3cfc9b9f50b077a0e4eecc">BATTLEGROUND_DS</a>);</div>
<div class="line"><span class="lineno">  202</span>            }</div>
<div class="line"><span class="lineno">  203</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (arenaName == <span class="stringliteral">&quot;RV&quot;</span>)</div>
<div class="line"><span class="lineno">  204</span>            {</div>
<div class="line"><span class="lineno">  205</span>                allowedArenas.emplace_back(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2a82612bfec8fc545e3dad4c220abcded5">BATTLEGROUND_RV</a>);</div>
<div class="line"><span class="lineno">  206</span>            }</div>
<div class="line"><span class="lineno">  207</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  208</span>            {</div>
<div class="line"><span class="lineno">  209</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<span class="stringliteral">&quot;Invalid [arena] specified.&quot;</span>);</div>
<div class="line"><span class="lineno">  210</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  211</span>            }</div>
<div class="line"><span class="lineno">  212</span>        }</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>        <a class="code hl_define" href="../../da/d45/a00011.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(!allowedArenas.empty());</div>
<div class="line"><span class="lineno">  215</span>        <a class="code hl_enumeration" href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2">BattlegroundTypeId</a> randomizedArenaBgTypeId = <a class="code hl_function" href="../../d4/dc3/a04706.html#a8ca673d18562735d4ed20a11519b3d46">Acore::Containers::SelectRandomContainerElement</a>(allowedArenas);</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> count = 0;</div>
<div class="line"><span class="lineno">  218</span>        <span class="keywordflow">if</span> (tokensItr != tokens.end())</div>
<div class="line"><span class="lineno">  219</span>        {</div>
<div class="line"><span class="lineno">  220</span>            std::string_view mode = *(tokensItr++);</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>            <span class="keywordflow">if</span> (mode == <span class="stringliteral">&quot;1v1&quot;</span>)</div>
<div class="line"><span class="lineno">  223</span>            {</div>
<div class="line"><span class="lineno">  224</span>                count = 2;</div>
<div class="line"><span class="lineno">  225</span>            }</div>
<div class="line"><span class="lineno">  226</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mode == <span class="stringliteral">&quot;2v2&quot;</span>)</div>
<div class="line"><span class="lineno">  227</span>            {</div>
<div class="line"><span class="lineno">  228</span>                count = 4;</div>
<div class="line"><span class="lineno">  229</span>            }</div>
<div class="line"><span class="lineno">  230</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mode == <span class="stringliteral">&quot;3v3&quot;</span>)</div>
<div class="line"><span class="lineno">  231</span>            {</div>
<div class="line"><span class="lineno">  232</span>                count = 6;</div>
<div class="line"><span class="lineno">  233</span>            }</div>
<div class="line"><span class="lineno">  234</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mode == <span class="stringliteral">&quot;5v5&quot;</span>)</div>
<div class="line"><span class="lineno">  235</span>            {</div>
<div class="line"><span class="lineno">  236</span>                count = 10;</div>
<div class="line"><span class="lineno">  237</span>            }</div>
<div class="line"><span class="lineno">  238</span>        }</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>        <span class="keywordflow">if</span> (!count)</div>
<div class="line"><span class="lineno">  241</span>        {</div>
<div class="line"><span class="lineno">  242</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<span class="stringliteral">&quot;Invalid bracket. Can be 1v1, 2v2, 3v3, 5v5&quot;</span>);</div>
<div class="line"><span class="lineno">  243</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  244</span>        }</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>        <span class="keywordflow">if</span> (tokens.size() != <a class="code hl_typedef" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a>(count + 2))</div>
<div class="line"><span class="lineno">  247</span>        {</div>
<div class="line"><span class="lineno">  248</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<span class="stringliteral">&quot;Invalid number of nicknames for this bracket.&quot;</span>);</div>
<div class="line"><span class="lineno">  249</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  250</span>        }</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> hcnt = count / 2;</div>
<div class="line"><span class="lineno">  253</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> error = 0;</div>
<div class="line"><span class="lineno">  254</span>        std::string last_name;</div>
<div class="line"><span class="lineno">  255</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* plr = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  256</span>        std::array&lt;Player*, 10&gt; players = {};</div>
<div class="line"><span class="lineno">  257</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> cnt = 0;</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>        <span class="keywordflow">for</span> (; tokensItr != tokens.end(); ++tokensItr)</div>
<div class="line"><span class="lineno">  260</span>        {</div>
<div class="line"><span class="lineno">  261</span>            last_name = std::string(*tokensItr);</div>
<div class="line"><span class="lineno">  262</span>            plr = <a class="code hl_function" href="../../d4/da9/a04736.html#af5cb6806842c9689cf1d5f43ffdc4b0a">ObjectAccessor::FindPlayerByName</a>(last_name, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>            <span class="keywordflow">if</span> (!plr)</div>
<div class="line"><span class="lineno">  265</span>            {</div>
<div class="line"><span class="lineno">  266</span>                error = 1;</div>
<div class="line"><span class="lineno">  267</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  268</span>            }</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>            <span class="keywordflow">if</span> (!plr-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#a3aeab7def818ba6c50249f197ad2f9ca">IsInWorld</a>() || !plr-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">FindMap</a>() || plr-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#af66560315fcbe492a24137bc8d96dd94">IsBeingTeleported</a>())</div>
<div class="line"><span class="lineno">  271</span>            {</div>
<div class="line"><span class="lineno">  272</span>                error = 2;</div>
<div class="line"><span class="lineno">  273</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  274</span>            }</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>            <span class="keywordflow">if</span> (plr-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1013c27be4347a1b1a4a986a07456deb">GetMap</a>()-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#ab7d7a4e9fa4e69efa9b45691ffe7519e">GetEntry</a>()-&gt;<a class="code hl_function" href="../../de/dbb/a27906.html#af036a047dd6a68deb3dc61cff5bb6958">Instanceable</a>())</div>
<div class="line"><span class="lineno">  277</span>            {</div>
<div class="line"><span class="lineno">  278</span>                error = 3;</div>
<div class="line"><span class="lineno">  279</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  280</span>            }</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>            <span class="keywordflow">if</span> (plr-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a24efb7d8df2c5a707130cfc382cabf94">isUsingLfg</a>())</div>
<div class="line"><span class="lineno">  283</span>            {</div>
<div class="line"><span class="lineno">  284</span>                error = 4;</div>
<div class="line"><span class="lineno">  285</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  286</span>            }</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>            <span class="keywordflow">if</span> (plr-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a68910cdec33bf9685215f8d39b3eee4a">InBattlegroundQueue</a>())</div>
<div class="line"><span class="lineno">  289</span>            {</div>
<div class="line"><span class="lineno">  290</span>                error = 5;</div>
<div class="line"><span class="lineno">  291</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  292</span>            }</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>            <span class="keywordflow">if</span> (plr-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a85b547eedd208db5f9dddc5f75a1a211">IsInFlight</a>())</div>
<div class="line"><span class="lineno">  295</span>            {</div>
<div class="line"><span class="lineno">  296</span>                error = 10;</div>
<div class="line"><span class="lineno">  297</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  298</span>            }</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>            <span class="keywordflow">if</span> (!plr-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a5ea3f54af571493f7889220724667189">IsAlive</a>())</div>
<div class="line"><span class="lineno">  301</span>            {</div>
<div class="line"><span class="lineno">  302</span>                error = 11;</div>
<div class="line"><span class="lineno">  303</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  304</span>            }</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>            <span class="keyword">const</span> <a class="code hl_class" href="../../da/d5b/a09282.html">Group</a>* g = plr-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>();</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>            <span class="keywordflow">if</span> (hcnt &gt; 1)</div>
<div class="line"><span class="lineno">  309</span>            {</div>
<div class="line"><span class="lineno">  310</span>                <span class="keywordflow">if</span> (!g)</div>
<div class="line"><span class="lineno">  311</span>                {</div>
<div class="line"><span class="lineno">  312</span>                    error = 6;</div>
<div class="line"><span class="lineno">  313</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  314</span>                }</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>                <span class="keywordflow">if</span> (g-&gt;<a class="code hl_function" href="../../da/d5b/a09282.html#af451cbb50edfecf4ba130bac6cf8fa61">isRaidGroup</a>() || g-&gt;<a class="code hl_function" href="../../da/d5b/a09282.html#a70320ddf707b2494d166383c4a354b13">isBGGroup</a>() || g-&gt;<a class="code hl_function" href="../../da/d5b/a09282.html#ab40c0a24297f33c371ee0aba65990b6b">isBFGroup</a>() || g-&gt;<a class="code hl_function" href="../../da/d5b/a09282.html#a262e3bb23b71f40a2df56198f9921e9d">isLFGGroup</a>())</div>
<div class="line"><span class="lineno">  317</span>                {</div>
<div class="line"><span class="lineno">  318</span>                    error = 7;</div>
<div class="line"><span class="lineno">  319</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  320</span>                }</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>                <span class="keywordflow">if</span> (g-&gt;<a class="code hl_function" href="../../da/d5b/a09282.html#a7999bad7025b6116145e263e467f1f4b">GetMembersCount</a>() != hcnt)</div>
<div class="line"><span class="lineno">  323</span>                {</div>
<div class="line"><span class="lineno">  324</span>                    error = 8;</div>
<div class="line"><span class="lineno">  325</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  326</span>                }</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>                <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> sti = (cnt &lt; hcnt ? 0 : hcnt);</div>
<div class="line"><span class="lineno">  329</span>                <span class="keywordflow">if</span> (sti != cnt &amp;&amp; players[sti]-&gt;GetGroup() != plr-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>())</div>
<div class="line"><span class="lineno">  330</span>                {</div>
<div class="line"><span class="lineno">  331</span>                    error = 9;</div>
<div class="line"><span class="lineno">  332</span>                    last_name += <span class="stringliteral">&quot; and &quot;</span> + players[sti]-&gt;GetName();</div>
<div class="line"><span class="lineno">  333</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  334</span>                }</div>
<div class="line"><span class="lineno">  335</span>            }</div>
<div class="line"><span class="lineno">  336</span>            <span class="keywordflow">else</span> <span class="comment">// 1v1</span></div>
<div class="line"><span class="lineno">  337</span>            {</div>
<div class="line"><span class="lineno">  338</span>                <span class="keywordflow">if</span> (g)</div>
<div class="line"><span class="lineno">  339</span>                {</div>
<div class="line"><span class="lineno">  340</span>                    error = 12;</div>
<div class="line"><span class="lineno">  341</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  342</span>                }</div>
<div class="line"><span class="lineno">  343</span>            }</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>            players[cnt++] = plr;</div>
<div class="line"><span class="lineno">  346</span>        }</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; cnt &amp;&amp; !error; ++i)</div>
<div class="line"><span class="lineno">  349</span>        {</div>
<div class="line"><span class="lineno">  350</span>            <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> j = i + 1; j &lt; cnt; ++j)</div>
<div class="line"><span class="lineno">  351</span>            {</div>
<div class="line"><span class="lineno">  352</span>                <span class="keywordflow">if</span> (players[i]-&gt;GetGUID() == players[j]-&gt;GetGUID())</div>
<div class="line"><span class="lineno">  353</span>                {</div>
<div class="line"><span class="lineno">  354</span>                    last_name = players[i]-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>();</div>
<div class="line"><span class="lineno">  355</span>                    error = 13;</div>
<div class="line"><span class="lineno">  356</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  357</span>                }</div>
<div class="line"><span class="lineno">  358</span>            }</div>
<div class="line"><span class="lineno">  359</span>        }</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>        <span class="keywordflow">switch</span> (error)</div>
<div class="line"><span class="lineno">  362</span>        {</div>
<div class="line"><span class="lineno">  363</span>            <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno">  364</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Player {} not found.&quot;</span>, last_name);</div>
<div class="line"><span class="lineno">  365</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  366</span>            <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno">  367</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Player {} is being teleported.&quot;</span>, last_name);</div>
<div class="line"><span class="lineno">  368</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  369</span>            <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno">  370</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Player {} is in instance/battleground/arena.&quot;</span>, last_name);</div>
<div class="line"><span class="lineno">  371</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  372</span>            <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno">  373</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Player {} is in LFG system.&quot;</span>, last_name);</div>
<div class="line"><span class="lineno">  374</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  375</span>            <span class="keywordflow">case</span> 5:</div>
<div class="line"><span class="lineno">  376</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Player {} is queued for battleground/arena.&quot;</span>, last_name);</div>
<div class="line"><span class="lineno">  377</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  378</span>            <span class="keywordflow">case</span> 6:</div>
<div class="line"><span class="lineno">  379</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Player {} is not in group.&quot;</span>, last_name);</div>
<div class="line"><span class="lineno">  380</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  381</span>            <span class="keywordflow">case</span> 7:</div>
<div class="line"><span class="lineno">  382</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Player {} is not in normal group.&quot;</span>, last_name);</div>
<div class="line"><span class="lineno">  383</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  384</span>            <span class="keywordflow">case</span> 8:</div>
<div class="line"><span class="lineno">  385</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Group of player {} has invalid member count.&quot;</span>, last_name);</div>
<div class="line"><span class="lineno">  386</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  387</span>            <span class="keywordflow">case</span> 9:</div>
<div class="line"><span class="lineno">  388</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Players {} are not in the same group.&quot;</span>, last_name);</div>
<div class="line"><span class="lineno">  389</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  390</span>            <span class="keywordflow">case</span> 10:</div>
<div class="line"><span class="lineno">  391</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Player {} is in flight.&quot;</span>, last_name);</div>
<div class="line"><span class="lineno">  392</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  393</span>            <span class="keywordflow">case</span> 11:</div>
<div class="line"><span class="lineno">  394</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Player {} is dead.&quot;</span>, last_name);</div>
<div class="line"><span class="lineno">  395</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  396</span>            <span class="keywordflow">case</span> 12:</div>
<div class="line"><span class="lineno">  397</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Player {} is in a group.&quot;</span>, last_name);</div>
<div class="line"><span class="lineno">  398</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  399</span>            <span class="keywordflow">case</span> 13:</div>
<div class="line"><span class="lineno">  400</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Player {} occurs more than once.&quot;</span>, last_name);</div>
<div class="line"><span class="lineno">  401</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  402</span>        }</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>        <span class="keywordflow">if</span> (error)</div>
<div class="line"><span class="lineno">  405</span>        {</div>
<div class="line"><span class="lineno">  406</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#aaabf84568161763e66bf375c14f100c5">SetSentErrorMessage</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  407</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  408</span>        }</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>        <a class="code hl_class" href="../../df/ddd/a07150.html">Battleground</a>* bgt = <a class="code hl_define" href="../../d4/d5e/a03818.html#abe50926a988d0fff4ee6ba0358c6b278">sBattlegroundMgr</a>-&gt;GetBattlegroundTemplate(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2a114f4c5470b31d1dfd7a63cb175ee6d1">BATTLEGROUND_AA</a>);</div>
<div class="line"><span class="lineno">  411</span>        <span class="keywordflow">if</span> (!bgt)</div>
<div class="line"><span class="lineno">  412</span>        {</div>
<div class="line"><span class="lineno">  413</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<span class="stringliteral">&quot;Couldn&#39;t create arena map!&quot;</span>);</div>
<div class="line"><span class="lineno">  414</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  415</span>        }</div>
<div class="line"><span class="lineno">  416</span> </div>
<div class="line"><span class="lineno">  417</span>        <a class="code hl_class" href="../../df/ddd/a07150.html">Battleground</a>* bg = <a class="code hl_define" href="../../d4/d5e/a03818.html#abe50926a988d0fff4ee6ba0358c6b278">sBattlegroundMgr</a>-&gt;CreateNewBattleground(randomizedArenaBgTypeId, <a class="code hl_function" href="../../d7/da2/a03704.html#a985e497bdaf99981b762999b19d0724c">GetBattlegroundBracketById</a>(bgt-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#a09632cebba6310e05423d0a145b84fcb">GetMapId</a>(), bgt-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#acf9af03ecd9b08a4a3f49cdb7f9e67b9">GetBracketId</a>()), <a class="code hl_enumeration" href="../../db/d49/a03737.html#ad38b6d141d358ab270694a77db413e50">ArenaType</a>(hcnt &gt;= 2 ? hcnt : 2), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  418</span>        <span class="keywordflow">if</span> (!bg)</div>
<div class="line"><span class="lineno">  419</span>        {</div>
<div class="line"><span class="lineno">  420</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<span class="stringliteral">&quot;Couldn&#39;t create arena map!&quot;</span>);</div>
<div class="line"><span class="lineno">  421</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  422</span>        }</div>
<div class="line"><span class="lineno">  423</span> </div>
<div class="line"><span class="lineno">  424</span>        bg-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#a62e1be9947c1a233100269969a5a8508">StartBattleground</a>();</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>        <a class="code hl_enumeration" href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2">BattlegroundTypeId</a> bgTypeId = bg-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#adfd6af85ad435ecdab7129e810ba2319">GetBgTypeID</a>();</div>
<div class="line"><span class="lineno">  427</span> </div>
<div class="line"><span class="lineno">  428</span>        <a class="code hl_enumeration" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a> teamId1 = <a class="code hl_function" href="../../dc/d06/a08466.html#a076fb952331e730a803764e116a8a03a">Player::TeamIdForRace</a>(players[0]-&gt;getRace());</div>
<div class="line"><span class="lineno">  429</span>        <a class="code hl_enumeration" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a> teamId2 = (teamId1 == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a> ? <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a> : <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>);</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>        <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = 0; i &lt; cnt; ++i)</div>
<div class="line"><span class="lineno">  432</span>        {</div>
<div class="line"><span class="lineno">  433</span>            <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = players[i];</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>            <a class="code hl_enumeration" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a> teamId = (i &lt; hcnt ? teamId1 : teamId2);</div>
<div class="line"><span class="lineno">  436</span>            player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a45890cefbc8ee91ef68e6782dc7e03b8">SetEntryPoint</a>();</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span>            <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> queueSlot = 0;</div>
<div class="line"><span class="lineno">  439</span>            <a class="code hl_class" href="../../dc/dc5/a10766.html">WorldPacket</a> data;</div>
<div class="line"><span class="lineno">  440</span>            <a class="code hl_define" href="../../d4/d5e/a03818.html#abe50926a988d0fff4ee6ba0358c6b278">sBattlegroundMgr</a>-&gt;BuildBattlegroundStatusPacket(&amp;data, bg, queueSlot, <a class="code hl_enumvalue" href="../../db/d49/a03737.html#ad1473374651bd09f461cdc994a6bc8d2afaf0b6349b8a93b543f64c744e321d5a">STATUS_IN_PROGRESS</a>, 0, bg-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#a9cb3765aa8a79a83e1402d60835c0ae8">GetStartTime</a>(), bg-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#a311b41d380380658ba95c4cb8abb3b35">GetArenaType</a>(), teamId);</div>
<div class="line"><span class="lineno">  441</span>            player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">SendPacket</a>(&amp;data);</div>
<div class="line"><span class="lineno">  442</span> </div>
<div class="line"><span class="lineno">  443</span>            <span class="comment">// Remove from LFG queues</span></div>
<div class="line"><span class="lineno">  444</span>            <a class="code hl_define" href="../../de/d3a/a03200.html#a9876016115774ddaf27fca5cc9adb96e">sLFGMgr</a>-&gt;LeaveAllLfgQueues(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>            player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6c28ad5b8a7d2bf507e1fbf8d2554c02">SetBattlegroundId</a>(bg-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#a6b074774a7a466b05605f273bc222b71">GetInstanceID</a>(), bgTypeId, queueSlot, <span class="keyword">true</span>, <span class="keyword">false</span>, teamId);</div>
<div class="line"><span class="lineno">  447</span>            <a class="code hl_define" href="../../d4/d5e/a03818.html#abe50926a988d0fff4ee6ba0358c6b278">sBattlegroundMgr</a>-&gt;SendToBattleground(player, bg-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#a6b074774a7a466b05605f273bc222b71">GetInstanceID</a>(), bgTypeId);</div>
<div class="line"><span class="lineno">  448</span>        }</div>
<div class="line"><span class="lineno">  449</span> </div>
<div class="line"><span class="lineno">  450</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Success! Players are now being teleported to the arena.&quot;</span>);</div>
<div class="line"><span class="lineno">  451</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  452</span>    }</div>
<div class="ttc" id="aa00011_html_af343b20373ba49a92fce523e948f2ab3"><div class="ttname"><a href="../../da/d45/a00011.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a></div><div class="ttdeci">#define ASSERT</div><div class="ttdef"><b>Definition:</b> Errors.h:68</div></div>
<div class="ttc" id="aa02771_html_aaef9ddb244c12d22800aee24c3b637a2"><div class="ttname"><a href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2">BattlegroundTypeId</a></div><div class="ttdeci">BattlegroundTypeId</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3479</div></div>
<div class="ttc" id="aa02771_html_aaef9ddb244c12d22800aee24c3b637a2a114f4c5470b31d1dfd7a63cb175ee6d1"><div class="ttname"><a href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2a114f4c5470b31d1dfd7a63cb175ee6d1">BATTLEGROUND_AA</a></div><div class="ttdeci">@ BATTLEGROUND_AA</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3486</div></div>
<div class="ttc" id="aa02771_html_aaef9ddb244c12d22800aee24c3b637a2a35deca0cfa55a395a03288d6124dcd6e"><div class="ttname"><a href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2a35deca0cfa55a395a03288d6124dcd6e">BATTLEGROUND_BE</a></div><div class="ttdeci">@ BATTLEGROUND_BE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3485</div></div>
<div class="ttc" id="aa02771_html_aaef9ddb244c12d22800aee24c3b637a2a82612bfec8fc545e3dad4c220abcded5"><div class="ttname"><a href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2a82612bfec8fc545e3dad4c220abcded5">BATTLEGROUND_RV</a></div><div class="ttdeci">@ BATTLEGROUND_RV</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3491</div></div>
<div class="ttc" id="aa02771_html_aaef9ddb244c12d22800aee24c3b637a2a8ccad7cdcbecb335e9e70e42a7b2ca09"><div class="ttname"><a href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2a8ccad7cdcbecb335e9e70e42a7b2ca09">BATTLEGROUND_NA</a></div><div class="ttdeci">@ BATTLEGROUND_NA</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3484</div></div>
<div class="ttc" id="aa02771_html_aaef9ddb244c12d22800aee24c3b637a2aa95254a62f3cfc9b9f50b077a0e4eecc"><div class="ttname"><a href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2aa95254a62f3cfc9b9f50b077a0e4eecc">BATTLEGROUND_DS</a></div><div class="ttdeci">@ BATTLEGROUND_DS</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3490</div></div>
<div class="ttc" id="aa02771_html_aaef9ddb244c12d22800aee24c3b637a2ad0217c97de424bee8bc929cfde0342cd"><div class="ttname"><a href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2ad0217c97de424bee8bc929cfde0342cd">BATTLEGROUND_RL</a></div><div class="ttdeci">@ BATTLEGROUND_RL</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3488</div></div>
<div class="ttc" id="aa03200_html_a9876016115774ddaf27fca5cc9adb96e"><div class="ttname"><a href="../../de/d3a/a03200.html#a9876016115774ddaf27fca5cc9adb96e">sLFGMgr</a></div><div class="ttdeci">#define sLFGMgr</div><div class="ttdef"><b>Definition:</b> LFGMgr.h:641</div></div>
<div class="ttc" id="aa03704_html_a985e497bdaf99981b762999b19d0724c"><div class="ttname"><a href="../../d7/da2/a03704.html#a985e497bdaf99981b762999b19d0724c">GetBattlegroundBracketById</a></div><div class="ttdeci">PvPDifficultyEntry const * GetBattlegroundBracketById(uint32 mapid, BattlegroundBracketId id)</div><div class="ttdef"><b>Definition:</b> DBCStores.cpp:815</div></div>
<div class="ttc" id="aa03737_html_ad1473374651bd09f461cdc994a6bc8d2afaf0b6349b8a93b543f64c744e321d5a"><div class="ttname"><a href="../../db/d49/a03737.html#ad1473374651bd09f461cdc994a6bc8d2afaf0b6349b8a93b543f64c744e321d5a">STATUS_IN_PROGRESS</a></div><div class="ttdeci">@ STATUS_IN_PROGRESS</div><div class="ttdef"><b>Definition:</b> Battleground.h:202</div></div>
<div class="ttc" id="aa03737_html_ad38b6d141d358ab270694a77db413e50"><div class="ttname"><a href="../../db/d49/a03737.html#ad38b6d141d358ab270694a77db413e50">ArenaType</a></div><div class="ttdeci">ArenaType</div><div class="ttdef"><b>Definition:</b> Battleground.h:216</div></div>
<div class="ttc" id="aa03818_html_abe50926a988d0fff4ee6ba0358c6b278"><div class="ttname"><a href="../../d4/d5e/a03818.html#abe50926a988d0fff4ee6ba0358c6b278">sBattlegroundMgr</a></div><div class="ttdeci">#define sBattlegroundMgr</div><div class="ttdef"><b>Definition:</b> BattlegroundMgr.h:186</div></div>
<div class="ttc" id="aa04686_html_a6b121485ace4118b9006db1fb89f90f2"><div class="ttname"><a href="../../d8/d20/a04686.html#a6b121485ace4118b9006db1fb89f90f2">Acore::Tokenize</a></div><div class="ttdeci">std::vector&lt; std::string_view &gt; Tokenize(std::string_view str, char sep, bool keepEmpty)</div><div class="ttdef"><b>Definition:</b> Tokenize.cpp:20</div></div>
<div class="ttc" id="aa04706_html_a8ca673d18562735d4ed20a11519b3d46"><div class="ttname"><a href="../../d4/dc3/a04706.html#a8ca673d18562735d4ed20a11519b3d46">Acore::Containers::SelectRandomContainerElement</a></div><div class="ttdeci">auto SelectRandomContainerElement(C const &amp;container) -&gt; typename std::add_const&lt; decltype(*std::begin(container))&gt;::type &amp;</div><div class="ttdef"><b>Definition:</b> Containers.h:133</div></div>
<div class="ttc" id="aa04736_html_af5cb6806842c9689cf1d5f43ffdc4b0a"><div class="ttname"><a href="../../d4/da9/a04736.html#af5cb6806842c9689cf1d5f43ffdc4b0a">ObjectAccessor::FindPlayerByName</a></div><div class="ttdeci">Player * FindPlayerByName(std::string const &amp;name, bool checkInWorld=true)</div><div class="ttdef"><b>Definition:</b> ObjectAccessor.cpp:271</div></div>
<div class="ttc" id="aa07150_html"><div class="ttname"><a href="../../df/ddd/a07150.html">Battleground</a></div><div class="ttdef"><b>Definition:</b> Battleground.h:303</div></div>
<div class="ttc" id="aa07150_html_a09632cebba6310e05423d0a145b84fcb"><div class="ttname"><a href="../../df/ddd/a07150.html#a09632cebba6310e05423d0a145b84fcb">Battleground::GetMapId</a></div><div class="ttdeci">uint32 GetMapId() const</div><div class="ttdef"><b>Definition:</b> Battleground.h:445</div></div>
<div class="ttc" id="aa07150_html_a311b41d380380658ba95c4cb8abb3b35"><div class="ttname"><a href="../../df/ddd/a07150.html#a311b41d380380658ba95c4cb8abb3b35">Battleground::GetArenaType</a></div><div class="ttdeci">uint8 GetArenaType() const</div><div class="ttdef"><b>Definition:</b> Battleground.h:357</div></div>
<div class="ttc" id="aa07150_html_a62e1be9947c1a233100269969a5a8508"><div class="ttname"><a href="../../df/ddd/a07150.html#a62e1be9947c1a233100269969a5a8508">Battleground::StartBattleground</a></div><div class="ttdeci">void StartBattleground()</div><div class="ttdef"><b>Definition:</b> Battleground.cpp:1099</div></div>
<div class="ttc" id="aa07150_html_a6b074774a7a466b05605f273bc222b71"><div class="ttname"><a href="../../df/ddd/a07150.html#a6b074774a7a466b05605f273bc222b71">Battleground::GetInstanceID</a></div><div class="ttdeci">uint32 GetInstanceID() const</div><div class="ttdef"><b>Definition:</b> Battleground.h:331</div></div>
<div class="ttc" id="aa07150_html_a9cb3765aa8a79a83e1402d60835c0ae8"><div class="ttname"><a href="../../df/ddd/a07150.html#a9cb3765aa8a79a83e1402d60835c0ae8">Battleground::GetStartTime</a></div><div class="ttdeci">uint32 GetStartTime() const</div><div class="ttdef"><b>Definition:</b> Battleground.h:334</div></div>
<div class="ttc" id="aa07150_html_acf9af03ecd9b08a4a3f49cdb7f9e67b9"><div class="ttname"><a href="../../df/ddd/a07150.html#acf9af03ecd9b08a4a3f49cdb7f9e67b9">Battleground::GetBracketId</a></div><div class="ttdeci">BattlegroundBracketId GetBracketId() const</div><div class="ttdef"><b>Definition:</b> Battleground.h:330</div></div>
<div class="ttc" id="aa07150_html_adfd6af85ad435ecdab7129e810ba2319"><div class="ttname"><a href="../../df/ddd/a07150.html#adfd6af85ad435ecdab7129e810ba2319">Battleground::GetBgTypeID</a></div><div class="ttdeci">BattlegroundTypeId GetBgTypeID(bool GetRandom=false) const</div><div class="ttdef"><b>Definition:</b> Battleground.h:329</div></div>
<div class="ttc" id="aa07362_html_aaabf84568161763e66bf375c14f100c5"><div class="ttname"><a href="../../d4/d99/a07362.html#aaabf84568161763e66bf375c14f100c5">ChatHandler::SetSentErrorMessage</a></div><div class="ttdeci">void SetSentErrorMessage(bool val)</div><div class="ttdef"><b>Definition:</b> Chat.h:238</div></div>
<div class="ttc" id="aa08218_html_a3aeab7def818ba6c50249f197ad2f9ca"><div class="ttname"><a href="../../de/d68/a08218.html#a3aeab7def818ba6c50249f197ad2f9ca">Object::IsInWorld</a></div><div class="ttdeci">bool IsInWorld() const</div><div class="ttdef"><b>Definition:</b> Object.h:107</div></div>
<div class="ttc" id="aa08250_html_a1e43fee59e696ae47ed06191ae3b1b82"><div class="ttname"><a href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">WorldObject::FindMap</a></div><div class="ttdeci">Map * FindMap() const</div><div class="ttdef"><b>Definition:</b> Object.h:537</div></div>
<div class="ttc" id="aa08466_html_a076fb952331e730a803764e116a8a03a"><div class="ttname"><a href="../../dc/d06/a08466.html#a076fb952331e730a803764e116a8a03a">Player::TeamIdForRace</a></div><div class="ttdeci">static TeamId TeamIdForRace(uint8 race)</div><div class="ttdef"><b>Definition:</b> Player.cpp:5861</div></div>
<div class="ttc" id="aa08466_html_a24efb7d8df2c5a707130cfc382cabf94"><div class="ttname"><a href="../../dc/d06/a08466.html#a24efb7d8df2c5a707130cfc382cabf94">Player::isUsingLfg</a></div><div class="ttdeci">bool isUsingLfg()</div><div class="ttdef"><b>Definition:</b> Player.cpp:13103</div></div>
<div class="ttc" id="aa08466_html_a68910cdec33bf9685215f8d39b3eee4a"><div class="ttname"><a href="../../dc/d06/a08466.html#a68910cdec33bf9685215f8d39b3eee4a">Player::InBattlegroundQueue</a></div><div class="ttdeci">bool InBattlegroundQueue(bool ignoreArena=false) const</div><div class="ttdef"><b>Definition:</b> Player.cpp:12237</div></div>
<div class="ttc" id="aa09282_html_a262e3bb23b71f40a2df56198f9921e9d"><div class="ttname"><a href="../../da/d5b/a09282.html#a262e3bb23b71f40a2df56198f9921e9d">Group::isLFGGroup</a></div><div class="ttdeci">bool isLFGGroup(bool restricted=false) const</div><div class="ttdef"><b>Definition:</b> Group.cpp:2261</div></div>
<div class="ttc" id="aa09282_html_a70320ddf707b2494d166383c4a354b13"><div class="ttname"><a href="../../da/d5b/a09282.html#a70320ddf707b2494d166383c4a354b13">Group::isBGGroup</a></div><div class="ttdeci">bool isBGGroup() const</div><div class="ttdef"><b>Definition:</b> Group.cpp:2272</div></div>
<div class="ttc" id="aa09282_html_a7999bad7025b6116145e263e467f1f4b"><div class="ttname"><a href="../../da/d5b/a09282.html#a7999bad7025b6116145e263e467f1f4b">Group::GetMembersCount</a></div><div class="ttdeci">uint32 GetMembersCount() const</div><div class="ttdef"><b>Definition:</b> Group.h:245</div></div>
<div class="ttc" id="aa09282_html_ab40c0a24297f33c371ee0aba65990b6b"><div class="ttname"><a href="../../da/d5b/a09282.html#ab40c0a24297f33c371ee0aba65990b6b">Group::isBFGroup</a></div><div class="ttdeci">bool isBFGroup() const</div><div class="ttdef"><b>Definition:</b> Group.cpp:2277</div></div>
<div class="ttc" id="aa09282_html_af451cbb50edfecf4ba130bac6cf8fa61"><div class="ttname"><a href="../../da/d5b/a09282.html#af451cbb50edfecf4ba130bac6cf8fa61">Group::isRaidGroup</a></div><div class="ttdeci">bool isRaidGroup() const</div><div class="ttdef"><b>Definition:</b> Group.cpp:2267</div></div>
<div class="ttc" id="aa09618_html_ab7d7a4e9fa4e69efa9b45691ffe7519e"><div class="ttname"><a href="../../df/dae/a09618.html#ab7d7a4e9fa4e69efa9b45691ffe7519e">Map::GetEntry</a></div><div class="ttdeci">MapEntry const * GetEntry() const</div><div class="ttdef"><b>Definition:</b> Map.h:317</div></div>
<div class="ttc" id="aa10766_html"><div class="ttname"><a href="../../dc/dc5/a10766.html">WorldPacket</a></div><div class="ttdef"><b>Definition:</b> WorldPacket.h:26</div></div>
<div class="ttc" id="aa10810_html_a2c74b80ca9b81765049e315813b29269"><div class="ttname"><a href="../../d9/d7c/a10810.html#a2c74b80ca9b81765049e315813b29269">WorldSession::SendPacket</a></div><div class="ttdeci">void SendPacket(WorldPacket const *packet)</div><div class="ttdoc">Send a packet to the client.</div><div class="ttdef"><b>Definition:</b> WorldSession.cpp:225</div></div>
<div class="ttc" id="aa27906_html_af036a047dd6a68deb3dc61cff5bb6958"><div class="ttname"><a href="../../de/dbb/a27906.html#af036a047dd6a68deb3dc61cff5bb6958">MapEntry::Instanceable</a></div><div class="ttdeci">bool Instanceable() const</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1352</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00068">ASSERT</a>, <a class="el" href="../../#l03486">BATTLEGROUND_AA</a>, <a class="el" href="../../#l03485">BATTLEGROUND_BE</a>, <a class="el" href="../../#l03490">BATTLEGROUND_DS</a>, <a class="el" href="../../#l03484">BATTLEGROUND_NA</a>, <a class="el" href="../../#l03488">BATTLEGROUND_RL</a>, <a class="el" href="../../#l03491">BATTLEGROUND_RV</a>, <a class="el" href="../../#l00537">WorldObject::FindMap()</a>, <a class="el" href="../../#l00271">ObjectAccessor::FindPlayerByName()</a>, <a class="el" href="../../#l00357">Battleground::GetArenaType()</a>, <a class="el" href="../../#l00815">GetBattlegroundBracketById()</a>, <a class="el" href="../../#l00329">Battleground::GetBgTypeID()</a>, <a class="el" href="../../#l00330">Battleground::GetBracketId()</a>, <a class="el" href="../../#l00317">Map::GetEntry()</a>, <a class="el" href="../../#l02471">Player::GetGroup()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00331">Battleground::GetInstanceID()</a>, <a class="el" href="../../#l00536">WorldObject::GetMap()</a>, <a class="el" href="../../#l00445">Battleground::GetMapId()</a>, <a class="el" href="../../#l00245">Group::GetMembersCount()</a>, <a class="el" href="../../#l00463">WorldObject::GetName()</a>, <a class="el" href="../../#l02001">Player::GetSession()</a>, <a class="el" href="../../#l00334">Battleground::GetStartTime()</a>, <a class="el" href="../../#l12237">Player::InBattlegroundQueue()</a>, <a class="el" href="../../#l01352">MapEntry::Instanceable()</a>, <a class="el" href="../../#l01654">Unit::IsAlive()</a>, <a class="el" href="../../#l02093">Player::IsBeingTeleported()</a>, <a class="el" href="../../#l02277">Group::isBFGroup()</a>, <a class="el" href="../../#l02272">Group::isBGGroup()</a>, <a class="el" href="../../#l01572">Unit::IsInFlight()</a>, <a class="el" href="../../#l00107">Object::IsInWorld()</a>, <a class="el" href="../../#l02261">Group::isLFGGroup()</a>, <a class="el" href="../../#l02267">Group::isRaidGroup()</a>, <a class="el" href="../../#l13103">Player::isUsingLfg()</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00186">sBattlegroundMgr</a>, <a class="el" href="../../#l00133">Acore::Containers::SelectRandomContainerElement()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00225">WorldSession::SendPacket()</a>, <a class="el" href="../../#l12338">Player::SetBattlegroundId()</a>, <a class="el" href="../../#l11316">Player::SetEntryPoint()</a>, <a class="el" href="../../#l00238">ChatHandler::SetSentErrorMessage()</a>, <a class="el" href="../../#l00641">sLFGMgr</a>, <a class="el" href="../../#l01099">Battleground::StartBattleground()</a>, <a class="el" href="../../#l00202">STATUS_IN_PROGRESS</a>, <a class="el" href="../../#l00760">TEAM_ALLIANCE</a>, <a class="el" href="../../#l00761">TEAM_HORDE</a>, <a class="el" href="../../#l05861">Player::TeamIdForRace()</a>, and <a class="el" href="../../#l00020">Acore::Tokenize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a4a51680a6d52c4f61e9a04bef2cb5ee3" name="a4a51680a6d52c4f61e9a04bef2cb5ee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a51680a6d52c4f61e9a04bef2cb5ee3">&#9670;&#160;</a></span>HandleStringCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleStringCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> &gt;&#160;</td>
          <td class="paramname"><em>locale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 3017</span>    {</div>
<div class="line"><span class="lineno"> 3018</span>        <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>)</div>
<div class="line"><span class="lineno"> 3019</span>        {</div>
<div class="line"><span class="lineno"> 3020</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa85850e0cd7d393675d31dc2a3ce7c2b8">LANG_CMD_SYNTAX</a>);</div>
<div class="line"><span class="lineno"> 3021</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3022</span>        }</div>
<div class="line"><span class="lineno"> 3023</span> </div>
<div class="line"><span class="lineno"> 3024</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* str = <a class="code hl_define" href="../../d0/d45/a02843.html#a736e30da2b5261060ac6cdbb5de3b787">sObjectMgr</a>-&gt;GetAcoreString(<span class="keywordtype">id</span>, locale ? <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="../../d4/d51/a00017.html#a54c9b637be7283ba1a04fb5215594332">LocaleConstant</a><span class="keyword">&gt;</span>(*locale) : <a class="code hl_define" href="../../d4/d51/a00017.html#a900ed91bceba26c1e05048bd3a9ec4fd">DEFAULT_LOCALE</a>);</div>
<div class="line"><span class="lineno"> 3025</span> </div>
<div class="line"><span class="lineno"> 3026</span>        <span class="keywordflow">if</span> (!strcmp(str, <span class="stringliteral">&quot;&lt;error&gt;&quot;</span>))</div>
<div class="line"><span class="lineno"> 3027</span>        {</div>
<div class="line"><span class="lineno"> 3028</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aad2c9377fccd8fa9d8d3eda74188a2b7e">LANG_NO_ACORE_STRING_FOUND</a>, <span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno"> 3029</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3030</span>        }</div>
<div class="line"><span class="lineno"> 3031</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3032</span>        {</div>
<div class="line"><span class="lineno"> 3033</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(str);</div>
<div class="line"><span class="lineno"> 3034</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3035</span>        }</div>
<div class="line"><span class="lineno"> 3036</span>    }</div>
<div class="ttc" id="aa00017_html_a54c9b637be7283ba1a04fb5215594332"><div class="ttname"><a href="../../d4/d51/a00017.html#a54c9b637be7283ba1a04fb5215594332">LocaleConstant</a></div><div class="ttdeci">LocaleConstant</div><div class="ttdef"><b>Definition:</b> Common.h:65</div></div>
<div class="ttc" id="aa00017_html_a900ed91bceba26c1e05048bd3a9ec4fd"><div class="ttname"><a href="../../d4/d51/a00017.html#a900ed91bceba26c1e05048bd3a9ec4fd">DEFAULT_LOCALE</a></div><div class="ttdeci">#define DEFAULT_LOCALE</div><div class="ttdef"><b>Definition:</b> Common.h:79</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa85850e0cd7d393675d31dc2a3ce7c2b8"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa85850e0cd7d393675d31dc2a3ce7c2b8">LANG_CMD_SYNTAX</a></div><div class="ttdeci">@ LANG_CMD_SYNTAX</div><div class="ttdef"><b>Definition:</b> Language.h:42</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aad2c9377fccd8fa9d8d3eda74188a2b7e"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aad2c9377fccd8fa9d8d3eda74188a2b7e">LANG_NO_ACORE_STRING_FOUND</a></div><div class="ttdeci">@ LANG_NO_ACORE_STRING_FOUND</div><div class="ttdef"><b>Definition:</b> Language.h:1169</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00079">DEFAULT_LOCALE</a>, <a class="el" href="../../#l00042">LANG_CMD_SYNTAX</a>, <a class="el" href="../../#l01169">LANG_NO_ACORE_STRING_FOUND</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00159">ChatHandler::SendSysMessage()</a>, and <a class="el" href="../../#l01635">sObjectMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a58cacccbb00f3cb6d71d5b084ad1771b" name="a58cacccbb00f3cb6d71d5b084ad1771b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58cacccbb00f3cb6d71d5b084ad1771b">&#9670;&#160;</a></span>HandleSummonCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleSummonCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  889</span>    {</div>
<div class="line"><span class="lineno">  890</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno">  891</span>        {</div>
<div class="line"><span class="lineno">  892</span>            target = <a class="code hl_function" href="../../de/d8a/a07550.html#aea33fb49551ebc0f687f3d24dc3dfbea">PlayerIdentifier::FromTarget</a>(handler);</div>
<div class="line"><span class="lineno">  893</span>        }</div>
<div class="line"><span class="lineno">  894</span> </div>
<div class="line"><span class="lineno">  895</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno">  896</span>        {</div>
<div class="line"><span class="lineno">  897</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  898</span>        }</div>
<div class="line"><span class="lineno">  899</span> </div>
<div class="line"><span class="lineno">  900</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* _player = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno">  901</span>        <span class="keywordflow">if</span> (target-&gt;GetGUID() == _player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>())</div>
<div class="line"><span class="lineno">  902</span>        {</div>
<div class="line"><span class="lineno">  903</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa4a7d900e129931d57c00f83b933e0582">LANG_CANT_TELEPORT_SELF</a>);</div>
<div class="line"><span class="lineno">  904</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  905</span>        }</div>
<div class="line"><span class="lineno">  906</span> </div>
<div class="line"><span class="lineno">  907</span>        std::string nameLink = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a52c15179ec3eff1b6bb9551d96a8b901">playerLink</a>(target-&gt;GetName());</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>        <span class="keywordflow">if</span> (target-&gt;IsConnected())</div>
<div class="line"><span class="lineno">  910</span>        {</div>
<div class="line"><span class="lineno">  911</span>            <span class="keyword">auto</span> targetPlayer = target-&gt;GetConnectedPlayer();</div>
<div class="line"><span class="lineno">  912</span> </div>
<div class="line"><span class="lineno">  913</span>            <span class="comment">// check online security</span></div>
<div class="line"><span class="lineno">  914</span>            <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#afacb4b59756372ec32810be0d46da49c">HasLowerSecurity</a>(targetPlayer))</div>
<div class="line"><span class="lineno">  915</span>            {</div>
<div class="line"><span class="lineno">  916</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  917</span>            }</div>
<div class="line"><span class="lineno">  918</span> </div>
<div class="line"><span class="lineno">  919</span>            <span class="keywordflow">if</span> (targetPlayer-&gt;IsBeingTeleported())</div>
<div class="line"><span class="lineno">  920</span>            {</div>
<div class="line"><span class="lineno">  921</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa3e5510ae8145e38bf177092840252466">LANG_IS_TELEPORTED</a>, nameLink);</div>
<div class="line"><span class="lineno">  922</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  923</span>            }</div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span>            <a class="code hl_class" href="../../df/dae/a09618.html">Map</a>* map = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1013c27be4347a1b1a4a986a07456deb">GetMap</a>();</div>
<div class="line"><span class="lineno">  926</span> </div>
<div class="line"><span class="lineno">  927</span>            <span class="keywordflow">if</span> (map-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#a11362f8ce788f228f7b3cc7214fb57e1">IsBattlegroundOrArena</a>())</div>
<div class="line"><span class="lineno">  928</span>            {</div>
<div class="line"><span class="lineno">  929</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<span class="stringliteral">&quot;Can&#39;t summon to a battleground!&quot;</span>);</div>
<div class="line"><span class="lineno">  930</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  931</span>            }</div>
<div class="line"><span class="lineno">  932</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (map-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#a0c80d50b012dc8d560e256201970f3b3">IsDungeon</a>())</div>
<div class="line"><span class="lineno">  933</span>            {</div>
<div class="line"><span class="lineno">  934</span>                <span class="comment">// Allow GM to summon players or only other GM accounts inside instances.</span></div>
<div class="line"><span class="lineno">  935</span>                <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getBoolConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0a3fd93db66808946f96cfd5e794e7ff71">CONFIG_INSTANCE_GMSUMMON_PLAYER</a>))</div>
<div class="line"><span class="lineno">  936</span>                {</div>
<div class="line"><span class="lineno">  937</span>                    <span class="comment">// pussywizard: prevent unbinding normal player&#39;s perm bind by just summoning him &gt;_&gt;</span></div>
<div class="line"><span class="lineno">  938</span>                    <span class="keywordflow">if</span> (!targetPlayer-&gt;GetSession()-&gt;GetSecurity())</div>
<div class="line"><span class="lineno">  939</span>                    {</div>
<div class="line"><span class="lineno">  940</span>                        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<span class="stringliteral">&quot;Only GMs can be summoned to an instance!&quot;</span>);</div>
<div class="line"><span class="lineno">  941</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  942</span>                    }</div>
<div class="line"><span class="lineno">  943</span>                }</div>
<div class="line"><span class="lineno">  944</span> </div>
<div class="line"><span class="lineno">  945</span>                <a class="code hl_class" href="../../df/dae/a09618.html">Map</a>* destMap = targetPlayer-&gt;GetMap();</div>
<div class="line"><span class="lineno">  946</span> </div>
<div class="line"><span class="lineno">  947</span>                <span class="keywordflow">if</span> (destMap-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#aae3a929aefb05046ef304ffba10aae71">Instanceable</a>() &amp;&amp; destMap-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#ae0451da49ca7ce3b856f38870c451e44">GetInstanceId</a>() != map-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#ae0451da49ca7ce3b856f38870c451e44">GetInstanceId</a>())</div>
<div class="line"><span class="lineno">  948</span>                {</div>
<div class="line"><span class="lineno">  949</span>                    <a class="code hl_define" href="../../d4/d47/a03050.html#ae1d3c96dbd749e40f06799fa52eeb9a2">sInstanceSaveMgr</a>-&gt;PlayerUnbindInstance(target-&gt;GetGUID(), map-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#ae0451da49ca7ce3b856f38870c451e44">GetInstanceId</a>(), targetPlayer-&gt;GetDungeonDifficulty(), <span class="keyword">true</span>, targetPlayer);</div>
<div class="line"><span class="lineno">  950</span>                }</div>
<div class="line"><span class="lineno">  951</span> </div>
<div class="line"><span class="lineno">  952</span>                <span class="comment">// we are in an instance, and can only summon players in our group with us as leader</span></div>
<div class="line"><span class="lineno">  953</span>                <span class="keywordflow">if</span> (!handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>() || !targetPlayer-&gt;GetGroup() ||</div>
<div class="line"><span class="lineno">  954</span>                        (targetPlayer-&gt;GetGroup()-&gt;GetLeaderGUID() != handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()) ||</div>
<div class="line"><span class="lineno">  955</span>                        (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>()-&gt;<a class="code hl_function" href="../../da/d5b/a09282.html#ae13d8553fff889200d9ab2fa660adc5b">GetLeaderGUID</a>() != handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()))</div>
<div class="line"><span class="lineno">  956</span>                    <span class="comment">// the last check is a bit excessive, but let it be, just in case</span></div>
<div class="line"><span class="lineno">  957</span>                {</div>
<div class="line"><span class="lineno">  958</span>                    handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa922ff41a014813a8291fe49818f36fd2">LANG_CANNOT_SUMMON_TO_INST</a>, nameLink);</div>
<div class="line"><span class="lineno">  959</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  960</span>                }</div>
<div class="line"><span class="lineno">  961</span>            }</div>
<div class="line"><span class="lineno">  962</span> </div>
<div class="line"><span class="lineno">  963</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1458d1b4d2d24ff028a2625674284bf2">LANG_SUMMONING</a>, nameLink, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  964</span>            <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#acfb8fb0453dd4025de15a909f78b206c">needReportToTarget</a>(targetPlayer))</div>
<div class="line"><span class="lineno">  965</span>            {</div>
<div class="line"><span class="lineno">  966</span>                <a class="code hl_class" href="../../d4/d99/a07362.html">ChatHandler</a>(targetPlayer-&gt;GetSession()).<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab0735d34e9aa3a9e892a4b92172b730f">LANG_SUMMONED_BY</a>, handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a52c15179ec3eff1b6bb9551d96a8b901">playerLink</a>(_player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>()));</div>
<div class="line"><span class="lineno">  967</span>            }</div>
<div class="line"><span class="lineno">  968</span> </div>
<div class="line"><span class="lineno">  969</span>            <span class="comment">// stop flight if need</span></div>
<div class="line"><span class="lineno">  970</span>            <span class="keywordflow">if</span> (targetPlayer-&gt;IsInFlight())</div>
<div class="line"><span class="lineno">  971</span>            {</div>
<div class="line"><span class="lineno">  972</span>                targetPlayer-&gt;GetMotionMaster()-&gt;MovementExpired();</div>
<div class="line"><span class="lineno">  973</span>                targetPlayer-&gt;CleanupAfterTaxiFlight();</div>
<div class="line"><span class="lineno">  974</span>            }</div>
<div class="line"><span class="lineno">  975</span>            <span class="comment">// save only in non-flight case</span></div>
<div class="line"><span class="lineno">  976</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  977</span>            {</div>
<div class="line"><span class="lineno">  978</span>                targetPlayer-&gt;SaveRecallPosition();</div>
<div class="line"><span class="lineno">  979</span>            }</div>
<div class="line"><span class="lineno">  980</span> </div>
<div class="line"><span class="lineno">  981</span>            <span class="comment">// before GM</span></div>
<div class="line"><span class="lineno">  982</span>            <span class="keywordtype">float</span> x, y, z;</div>
<div class="line"><span class="lineno">  983</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7b65f5354be0a698bf59435f5434709a">GetClosePoint</a>(x, y, z, targetPlayer-&gt;GetObjectSize());</div>
<div class="line"><span class="lineno">  984</span>            targetPlayer-&gt;TeleportTo(handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../d6/da3/a08310.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">GetMapId</a>(), x, y, z, targetPlayer-&gt;GetOrientation(), 0, handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>());</div>
<div class="line"><span class="lineno">  985</span>        }</div>
<div class="line"><span class="lineno">  986</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  987</span>        {</div>
<div class="line"><span class="lineno">  988</span>            <span class="comment">// check offline security</span></div>
<div class="line"><span class="lineno">  989</span>            <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#afacb4b59756372ec32810be0d46da49c">HasLowerSecurity</a>(<span class="keyword">nullptr</span>, target-&gt;GetGUID()))</div>
<div class="line"><span class="lineno">  990</span>            {</div>
<div class="line"><span class="lineno">  991</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  992</span>            }</div>
<div class="line"><span class="lineno">  993</span> </div>
<div class="line"><span class="lineno">  994</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1458d1b4d2d24ff028a2625674284bf2">LANG_SUMMONING</a>, nameLink, handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa2f8454a92c002a48dbae2db747f1c101">LANG_OFFLINE</a>));</div>
<div class="line"><span class="lineno">  995</span> </div>
<div class="line"><span class="lineno">  996</span>            <span class="comment">// in point where GM stay</span></div>
<div class="line"><span class="lineno">  997</span>            <a class="code hl_function" href="../../dc/d06/a08466.html#ae700cc88ca33f3a8ff8cf3e308380bc7">Player::SavePositionInDB</a>(handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../d6/da3/a08310.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">GetMapId</a>(),</div>
<div class="line"><span class="lineno">  998</span>                                     handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ad5577c934d9e845b44759b67c534c3e8">GetPositionX</a>(),</div>
<div class="line"><span class="lineno">  999</span>                                     handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ae79fc664f6cd027f5d49f6c7df8e4c9e">GetPositionY</a>(),</div>
<div class="line"><span class="lineno"> 1000</span>                                     handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#a4e813a59345a6275e8b87b96be03e60b">GetPositionZ</a>(),</div>
<div class="line"><span class="lineno"> 1001</span>                                     handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#a74cabfb8f441acb38e1abd5bf6ecdc84">GetOrientation</a>(),</div>
<div class="line"><span class="lineno"> 1002</span>                                     handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>()-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#ad498d690fbe69bb99a8a2ffdcb2f5169">GetZoneId</a>(),</div>
<div class="line"><span class="lineno"> 1003</span>                                     target-&gt;GetGUID());</div>
<div class="line"><span class="lineno"> 1004</span>        }</div>
<div class="line"><span class="lineno"> 1005</span> </div>
<div class="line"><span class="lineno"> 1006</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1007</span>    }</div>
<div class="ttc" id="aa03317_html_a1b4b88c03b7d0124998b4c22e957baf0a3fd93db66808946f96cfd5e794e7ff71"><div class="ttname"><a href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0a3fd93db66808946f96cfd5e794e7ff71">CONFIG_INSTANCE_GMSUMMON_PLAYER</a></div><div class="ttdeci">@ CONFIG_INSTANCE_GMSUMMON_PLAYER</div><div class="ttdef"><b>Definition:</b> IWorld.h:86</div></div>
<div class="ttc" id="aa08466_html_ae700cc88ca33f3a8ff8cf3e308380bc7"><div class="ttname"><a href="../../dc/d06/a08466.html#ae700cc88ca33f3a8ff8cf3e308380bc7">Player::SavePositionInDB</a></div><div class="ttdeci">static void SavePositionInDB(uint32 mapid, float x, float y, float z, float o, uint32 zone, ObjectGuid guid)</div><div class="ttdef"><b>Definition:</b> PlayerMisc.cpp:84</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00086">CONFIG_INSTANCE_GMSUMMON_PLAYER</a>, <a class="el" href="../../#l00138">Acore::ChatCommands::PlayerIdentifier::FromTarget()</a>, <a class="el" href="../../#l00040">ChatHandler::GetAcoreString()</a>, <a class="el" href="../../#l02712">WorldObject::GetClosePoint()</a>, <a class="el" href="../../#l02471">Player::GetGroup()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00417">Map::GetInstanceId()</a>, <a class="el" href="../../#l02292">Group::GetLeaderGUID()</a>, <a class="el" href="../../#l00536">WorldObject::GetMap()</a>, <a class="el" href="../../#l00275">WorldLocation::GetMapId()</a>, <a class="el" href="../../#l00463">WorldObject::GetName()</a>, <a class="el" href="../../#l00119">Position::GetOrientation()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00116">Position::GetPositionX()</a>, <a class="el" href="../../#l00117">Position::GetPositionY()</a>, <a class="el" href="../../#l00118">Position::GetPositionZ()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l03159">WorldObject::GetZoneId()</a>, <a class="el" href="../../#l00056">ChatHandler::HasLowerSecurity()</a>, <a class="el" href="../../#l00445">Map::Instanceable()</a>, <a class="el" href="../../#l00454">Map::IsBattlegroundOrArena()</a>, <a class="el" href="../../#l00446">Map::IsDungeon()</a>, <a class="el" href="../../#l00135">LANG_CANNOT_SUMMON_TO_INST</a>, <a class="el" href="../../#l00211">LANG_CANT_TELEPORT_SELF</a>, <a class="el" href="../../#l00134">LANG_IS_TELEPORTED</a>, <a class="el" href="../../#l00069">LANG_OFFLINE</a>, <a class="el" href="../../#l00141">LANG_SUMMONED_BY</a>, <a class="el" href="../../#l00140">LANG_SUMMONING</a>, <a class="el" href="../../#l00863">ChatHandler::needReportToTarget()</a>, <a class="el" href="../../#l00231">ChatHandler::playerLink()</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00084">Player::SavePositionInDB()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00202">sInstanceSaveMgr</a>, and <a class="el" href="../../#l00442">sWorld</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="ad46d14681df626a56a2d800f86c0e2c0" name="ad46d14681df626a56a2d800f86c0e2c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad46d14681df626a56a2d800f86c0e2c0">&#9670;&#160;</a></span>HandleUnAuraCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleUnAuraCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/de0/a07562.html">Variant</a>&lt; <a class="el" href="../../d5/d44/a10966.html">SpellInfo</a> const *, std::string_view &gt;&#160;</td>
          <td class="paramname"><em>spells</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  706</span>    {</div>
<div class="line"><span class="lineno">  707</span>        <a class="code hl_class" href="../../d4/d46/a08598.html">Unit</a>* target = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ae88a523ef51a6d51d38a8d524e49b179">getSelectedUnit</a>();</div>
<div class="line"><span class="lineno">  708</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno">  709</span>        {</div>
<div class="line"><span class="lineno">  710</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa1cac46a5a2ceca2a1ae8dddf8ad930a">LANG_SELECT_CHAR_OR_CREATURE</a>);</div>
<div class="line"><span class="lineno">  711</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  712</span>        }</div>
<div class="line"><span class="lineno">  713</span> </div>
<div class="line"><span class="lineno">  714</span>        <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="../../d6/d15/a01697.html#abdbd89eacbc02a7997082886574e8ec2">spells</a>.holds_alternative&lt;std::string_view&gt;() &amp;&amp; <a class="code hl_enumeration" href="../../d6/d15/a01697.html#abdbd89eacbc02a7997082886574e8ec2">spells</a>.get&lt;std::string_view&gt;() == <span class="stringliteral">&quot;all&quot;</span>)</div>
<div class="line"><span class="lineno">  715</span>        {</div>
<div class="line"><span class="lineno">  716</span>            target-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#aca967faa985dbe4062dd23360cdb607c">RemoveAllAuras</a>();</div>
<div class="line"><span class="lineno">  717</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  718</span>        }</div>
<div class="line"><span class="lineno">  719</span> </div>
<div class="line"><span class="lineno">  720</span>        <span class="keywordflow">if</span> (!<a class="code hl_enumeration" href="../../d6/d15/a01697.html#abdbd89eacbc02a7997082886574e8ec2">spells</a>.holds_alternative&lt;<a class="code hl_class" href="../../d5/d44/a10966.html">SpellInfo</a> <span class="keyword">const</span>*&gt;())</div>
<div class="line"><span class="lineno">  721</span>        {</div>
<div class="line"><span class="lineno">  722</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa9ab5ae48345c97e836f04545bea0016a">LANG_COMMAND_NOSPELLFOUND</a>);</div>
<div class="line"><span class="lineno">  723</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  724</span>        }</div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span>        <span class="keyword">auto</span> spell = <a class="code hl_enumeration" href="../../d6/d15/a01697.html#abdbd89eacbc02a7997082886574e8ec2">spells</a>.get&lt;<a class="code hl_class" href="../../d5/d44/a10966.html">SpellInfo</a> <span class="keyword">const</span>*&gt;();</div>
<div class="line"><span class="lineno">  727</span> </div>
<div class="line"><span class="lineno">  728</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d3/d74/a11022.html#a8dfd3856cb381953bfeb1db1a4a4bad7">SpellMgr::IsSpellValid</a>(spell))</div>
<div class="line"><span class="lineno">  729</span>        {</div>
<div class="line"><span class="lineno">  730</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaef51c94173b2a9aca75898d46518b665">LANG_COMMAND_SPELL_BROKEN</a>, spell-&gt;Id);</div>
<div class="line"><span class="lineno">  731</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  732</span>        }</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>        target-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(spell-&gt;Id);</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  737</span>    }</div>
<div class="ttc" id="aa01697_html_abdbd89eacbc02a7997082886574e8ec2"><div class="ttname"><a href="../../d6/d15/a01697.html#abdbd89eacbc02a7997082886574e8ec2">spells</a></div><div class="ttdeci">spells</div><div class="ttdef"><b>Definition:</b> boss_krystallus.cpp:26</div></div>
<div class="ttc" id="aa08598_html_aac612f06e84142d92dcfc432b5feb4ac"><div class="ttname"><a href="../../d4/d46/a08598.html#aac612f06e84142d92dcfc432b5feb4ac">Unit::RemoveAurasDueToSpell</a></div><div class="ttdeci">void RemoveAurasDueToSpell(uint32 spellId, ObjectGuid casterGUID=ObjectGuid::Empty, uint8 reqEffMask=0, AuraRemoveMode removeMode=AURA_REMOVE_BY_DEFAULT)</div><div class="ttdef"><b>Definition:</b> Unit.cpp:4909</div></div>
<div class="ttc" id="aa08598_html_aca967faa985dbe4062dd23360cdb607c"><div class="ttname"><a href="../../d4/d46/a08598.html#aca967faa985dbe4062dd23360cdb607c">Unit::RemoveAllAuras</a></div><div class="ttdeci">void RemoveAllAuras()</div><div class="ttdef"><b>Definition:</b> Unit.cpp:5319</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00385">ChatHandler::getSelectedUnit()</a>, <a class="el" href="../../#l00441">SpellMgr::IsSpellValid()</a>, <a class="el" href="../../#l00477">LANG_COMMAND_NOSPELLFOUND</a>, <a class="el" href="../../#l00520">LANG_COMMAND_SPELL_BROKEN</a>, <a class="el" href="../../#l00031">LANG_SELECT_CHAR_OR_CREATURE</a>, <a class="el" href="../../#l05319">Unit::RemoveAllAuras()</a>, <a class="el" href="../../#l04909">Unit::RemoveAurasDueToSpell()</a>, and <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a30f3357c756005a431b2c14cac504d85" name="a30f3357c756005a431b2c14cac504d85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30f3357c756005a431b2c14cac504d85">&#9670;&#160;</a></span>HandleUnbindSightCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleUnbindSightCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2997</span>    {</div>
<div class="line"><span class="lineno"> 2998</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 2999</span> </div>
<div class="line"><span class="lineno"> 3000</span>        <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a8a7f15e1fcf4e09bed3747ee123ddd2f">isPossessing</a>())</div>
<div class="line"><span class="lineno"> 3001</span>        {</div>
<div class="line"><span class="lineno"> 3002</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3003</span>        }</div>
<div class="line"><span class="lineno"> 3004</span> </div>
<div class="line"><span class="lineno"> 3005</span>        player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#affc0664ca9876d363ee641e2ce98bba0">StopCastingBindSight</a>();</div>
<div class="line"><span class="lineno"> 3006</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3007</span>    }</div>
<div class="ttc" id="aa08466_html_affc0664ca9876d363ee641e2ce98bba0"><div class="ttname"><a href="../../dc/d06/a08466.html#affc0664ca9876d363ee641e2ce98bba0">Player::StopCastingBindSight</a></div><div class="ttdeci">void StopCastingBindSight(Aura *except=nullptr)</div><div class="ttdef"><b>Definition:</b> Player.cpp:13191</div></div>
<div class="ttc" id="aa08598_html_a8a7f15e1fcf4e09bed3747ee123ddd2f"><div class="ttname"><a href="../../d4/d46/a08598.html#a8a7f15e1fcf4e09bed3747ee123ddd2f">Unit::isPossessing</a></div><div class="ttdeci">bool isPossessing() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1238</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l01238">Unit::isPossessing()</a>, and <a class="el" href="../../#l13191">Player::StopCastingBindSight()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="af18039cb343286cf2f510b5d75ed500e" name="af18039cb343286cf2f510b5d75ed500e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af18039cb343286cf2f510b5d75ed500e">&#9670;&#160;</a></span>HandleUnFreezeCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleUnFreezeCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2905</span>    {</div>
<div class="line"><span class="lineno"> 2906</span>        <a class="code hl_class" href="../../d8/d56/a07846.html">Creature</a>* creatureTarget = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#affa04b48f8ce2a0c11b9e245e200f68b">getSelectedCreature</a>();</div>
<div class="line"><span class="lineno"> 2907</span> </div>
<div class="line"><span class="lineno"> 2908</span>        <span class="keywordflow">if</span> (!target &amp;&amp; !creatureTarget)</div>
<div class="line"><span class="lineno"> 2909</span>        {</div>
<div class="line"><span class="lineno"> 2910</span>            target = <a class="code hl_function" href="../../de/d8a/a07550.html#a617834cc8474970950b45066f2e86dbd">PlayerIdentifier::FromTargetOrSelf</a>(handler);</div>
<div class="line"><span class="lineno"> 2911</span>        }</div>
<div class="line"><span class="lineno"> 2912</span> </div>
<div class="line"><span class="lineno"> 2913</span>        <span class="keywordflow">if</span> (!target &amp;&amp; !creatureTarget)</div>
<div class="line"><span class="lineno"> 2914</span>        {</div>
<div class="line"><span class="lineno"> 2915</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa1cac46a5a2ceca2a1ae8dddf8ad930a">LANG_SELECT_CHAR_OR_CREATURE</a>);</div>
<div class="line"><span class="lineno"> 2916</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2917</span>        }</div>
<div class="line"><span class="lineno"> 2918</span> </div>
<div class="line"><span class="lineno"> 2919</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* playerTarget = target-&gt;GetConnectedPlayer();</div>
<div class="line"><span class="lineno"> 2920</span> </div>
<div class="line"><span class="lineno"> 2921</span>        <span class="keywordflow">if</span> (!creatureTarget &amp;&amp; playerTarget &amp;&amp; playerTarget-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a69c5ac45b65cf0dede6e0ee837361f61">HasAura</a>(<a class="code hl_variable" href="../../d2/d4c/a01307.html#a181bdc61e4eb1d21db975ca0227cb086">SPELL_FREEZE</a>))</div>
<div class="line"><span class="lineno"> 2922</span>        {</div>
<div class="line"><span class="lineno"> 2923</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa72769a01dcc5e778f25d376616ebbd74">LANG_COMMAND_UNFREEZE</a>, target-&gt;GetName());</div>
<div class="line"><span class="lineno"> 2924</span>            playerTarget-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(<a class="code hl_variable" href="../../d2/d4c/a01307.html#a181bdc61e4eb1d21db975ca0227cb086">SPELL_FREEZE</a>);</div>
<div class="line"><span class="lineno"> 2925</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2926</span>        }</div>
<div class="line"><span class="lineno"> 2927</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (creatureTarget &amp;&amp; creatureTarget-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a69c5ac45b65cf0dede6e0ee837361f61">HasAura</a>(<a class="code hl_variable" href="../../d2/d4c/a01307.html#a181bdc61e4eb1d21db975ca0227cb086">SPELL_FREEZE</a>))</div>
<div class="line"><span class="lineno"> 2928</span>        {</div>
<div class="line"><span class="lineno"> 2929</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa72769a01dcc5e778f25d376616ebbd74">LANG_COMMAND_UNFREEZE</a>, <a class="code hl_function" href="../../d2/d4c/a01307.html#aaedbdfd3cae227b11684151f41e3b977">GetLocalizeCreatureName</a>(creatureTarget, handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a6cfa4cd171866cacb272e996aa75e487">GetSessionDbcLocale</a>()));</div>
<div class="line"><span class="lineno"> 2930</span>            creatureTarget-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(<a class="code hl_variable" href="../../d2/d4c/a01307.html#a181bdc61e4eb1d21db975ca0227cb086">SPELL_FREEZE</a>);</div>
<div class="line"><span class="lineno"> 2931</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2932</span>        }</div>
<div class="line"><span class="lineno"> 2933</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!creatureTarget &amp;&amp; target &amp;&amp; !target-&gt;IsConnected())</div>
<div class="line"><span class="lineno"> 2934</span>        {</div>
<div class="line"><span class="lineno"> 2935</span>            <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a29767e41b86787ff93265d6eb9b06aed">CHAR_DEL_CHAR_AURA_FROZEN</a>);</div>
<div class="line"><span class="lineno"> 2936</span>            stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, target-&gt;GetGUID().GetCounter());</div>
<div class="line"><span class="lineno"> 2937</span>            <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno"> 2938</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa72769a01dcc5e778f25d376616ebbd74">LANG_COMMAND_UNFREEZE</a>, target-&gt;GetName());</div>
<div class="line"><span class="lineno"> 2939</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2940</span>        }</div>
<div class="line"><span class="lineno"> 2941</span> </div>
<div class="line"><span class="lineno"> 2942</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aadd51d46763b9078cb3cfe1509abab400">LANG_COMMAND_FREEZE_WRONG</a>);</div>
<div class="line"><span class="lineno"> 2943</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2944</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa72769a01dcc5e778f25d376616ebbd74"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa72769a01dcc5e778f25d376616ebbd74">LANG_COMMAND_UNFREEZE</a></div><div class="ttdeci">@ LANG_COMMAND_UNFREEZE</div><div class="ttdef"><b>Definition:</b> Language.h:1049</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aadd51d46763b9078cb3cfe1509abab400"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aadd51d46763b9078cb3cfe1509abab400">LANG_COMMAND_FREEZE_WRONG</a></div><div class="ttdeci">@ LANG_COMMAND_FREEZE_WRONG</div><div class="ttdef"><b>Definition:</b> Language.h:1048</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a29767e41b86787ff93265d6eb9b06aed"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a29767e41b86787ff93265d6eb9b06aed">CHAR_DEL_CHAR_AURA_FROZEN</a></div><div class="ttdeci">@ CHAR_DEL_CHAR_AURA_FROZEN</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:353</div></div>
<div class="ttc" id="aa08598_html_a69c5ac45b65cf0dede6e0ee837361f61"><div class="ttname"><a href="../../d4/d46/a08598.html#a69c5ac45b65cf0dede6e0ee837361f61">Unit::HasAura</a></div><div class="ttdeci">bool HasAura(uint32 spellId, ObjectGuid casterGUID=ObjectGuid::Empty, ObjectGuid itemCasterGUID=ObjectGuid::Empty, uint8 reqEffMask=0) const</div><div class="ttdef"><b>Definition:</b> Unit.cpp:5698</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00353">CHAR_DEL_CHAR_AURA_FROZEN</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00184">Acore::ChatCommands::PlayerIdentifier::FromTargetOrSelf()</a>, <a class="el" href="../../#l00058">GetLocalizeCreatureName()</a>, <a class="el" href="../../#l00409">ChatHandler::getSelectedCreature()</a>, <a class="el" href="../../#l00869">ChatHandler::GetSessionDbcLocale()</a>, <a class="el" href="../../#l05698">Unit::HasAura()</a>, <a class="el" href="../../#l01048">LANG_COMMAND_FREEZE_WRONG</a>, <a class="el" href="../../#l01049">LANG_COMMAND_UNFREEZE</a>, <a class="el" href="../../#l00031">LANG_SELECT_CHAR_OR_CREATURE</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l04909">Unit::RemoveAurasDueToSpell()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00159">ChatHandler::SendSysMessage()</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, and <a class="el" href="../../#l00056">SPELL_FREEZE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="aa5417df78cdd5adc8b55e0ab276858e0" name="aa5417df78cdd5adc8b55e0ab276858e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5417df78cdd5adc8b55e0ab276858e0">&#9670;&#160;</a></span>HandleUnmuteCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleUnmuteCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2548</span>    {</div>
<div class="line"><span class="lineno"> 2549</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno"> 2550</span>        {</div>
<div class="line"><span class="lineno"> 2551</span>            target = <a class="code hl_function" href="../../de/d8a/a07550.html#a617834cc8474970950b45066f2e86dbd">PlayerIdentifier::FromTargetOrSelf</a>(handler);</div>
<div class="line"><span class="lineno"> 2552</span>        }</div>
<div class="line"><span class="lineno"> 2553</span> </div>
<div class="line"><span class="lineno"> 2554</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno"> 2555</span>        {</div>
<div class="line"><span class="lineno"> 2556</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2557</span>        }</div>
<div class="line"><span class="lineno"> 2558</span> </div>
<div class="line"><span class="lineno"> 2559</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* playerTarget = target-&gt;GetConnectedPlayer();</div>
<div class="line"><span class="lineno"> 2560</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId = playerTarget ? playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a9fa5510daf576fe281d1961430902dd9">GetAccountId</a>() : <a class="code hl_define" href="../../d4/d7f/a04124.html#a7a32c898b33d6163d83a32f46d58517c">sCharacterCache</a>-&gt;GetCharacterAccountIdByGuid(target-&gt;GetGUID());</div>
<div class="line"><span class="lineno"> 2561</span> </div>
<div class="line"><span class="lineno"> 2562</span>        <span class="comment">// find only player from same account if any</span></div>
<div class="line"><span class="lineno"> 2563</span>        <span class="keywordflow">if</span> (!playerTarget)</div>
<div class="line"><span class="lineno"> 2564</span>        {</div>
<div class="line"><span class="lineno"> 2565</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d9/d7c/a10810.html">WorldSession</a>* session = <a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;FindSession(accountId))</div>
<div class="line"><span class="lineno"> 2566</span>            {</div>
<div class="line"><span class="lineno"> 2567</span>                playerTarget = session-&gt;GetPlayer();</div>
<div class="line"><span class="lineno"> 2568</span>            }</div>
<div class="line"><span class="lineno"> 2569</span>        }</div>
<div class="line"><span class="lineno"> 2570</span> </div>
<div class="line"><span class="lineno"> 2571</span>        <span class="comment">// must have strong lesser security level</span></div>
<div class="line"><span class="lineno"> 2572</span>        <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#afacb4b59756372ec32810be0d46da49c">HasLowerSecurity</a>(playerTarget, target-&gt;GetGUID(), <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 2573</span>        {</div>
<div class="line"><span class="lineno"> 2574</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2575</span>        }</div>
<div class="line"><span class="lineno"> 2576</span> </div>
<div class="line"><span class="lineno"> 2577</span>        <span class="keywordflow">if</span> (playerTarget)</div>
<div class="line"><span class="lineno"> 2578</span>        {</div>
<div class="line"><span class="lineno"> 2579</span>            <span class="keywordflow">if</span> (playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a02ed847754aaf3aecf7294742169168a">CanSpeak</a>())</div>
<div class="line"><span class="lineno"> 2580</span>            {</div>
<div class="line"><span class="lineno"> 2581</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa6a1d2644efc7840932597d2c6a69a2f5">LANG_CHAT_ALREADY_ENABLED</a>);</div>
<div class="line"><span class="lineno"> 2582</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2583</span>            }</div>
<div class="line"><span class="lineno"> 2584</span> </div>
<div class="line"><span class="lineno"> 2585</span>            playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()-&gt;<a class="code hl_variable" href="../../d9/d7c/a10810.html#add117187a32a871148dfadd7e4526e81">m_muteTime</a> = 0;</div>
<div class="line"><span class="lineno"> 2586</span>        }</div>
<div class="line"><span class="lineno"> 2587</span> </div>
<div class="line"><span class="lineno"> 2588</span>        <a class="code hl_class" href="../../d4/d20/a05586.html">LoginDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fba8b27690680e6fdcd34e8544e0d7334bc">LOGIN_UPD_MUTE_TIME</a>);</div>
<div class="line"><span class="lineno"> 2589</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, 0);</div>
<div class="line"><span class="lineno"> 2590</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(1, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 2591</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(2, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 2592</span>        stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(3, accountId);</div>
<div class="line"><span class="lineno"> 2593</span>        <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno"> 2594</span> </div>
<div class="line"><span class="lineno"> 2595</span>        <span class="keywordflow">if</span> (playerTarget)</div>
<div class="line"><span class="lineno"> 2596</span>        {</div>
<div class="line"><span class="lineno"> 2597</span>            <a class="code hl_class" href="../../d4/d99/a07362.html">ChatHandler</a>(playerTarget-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6ab11ca64cde7c5cde1f53998a6f7253">GetSession</a>()).<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa878f2439a93ecdc76828444b240a127d">LANG_YOUR_CHAT_ENABLED</a>);</div>
<div class="line"><span class="lineno"> 2598</span>        }</div>
<div class="line"><span class="lineno"> 2599</span> </div>
<div class="line"><span class="lineno"> 2600</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa83e23148adace128b432ef6a2a46f6d8">LANG_YOU_ENABLE_CHAT</a>, handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a52c15179ec3eff1b6bb9551d96a8b901">playerLink</a>(target-&gt;GetName()));</div>
<div class="line"><span class="lineno"> 2601</span> </div>
<div class="line"><span class="lineno"> 2602</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2603</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa6a1d2644efc7840932597d2c6a69a2f5"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa6a1d2644efc7840932597d2c6a69a2f5">LANG_CHAT_ALREADY_ENABLED</a></div><div class="ttdeci">@ LANG_CHAT_ALREADY_ENABLED</div><div class="ttdef"><b>Definition:</b> Language.h:342</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa83e23148adace128b432ef6a2a46f6d8"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa83e23148adace128b432ef6a2a46f6d8">LANG_YOU_ENABLE_CHAT</a></div><div class="ttdeci">@ LANG_YOU_ENABLE_CHAT</div><div class="ttdef"><b>Definition:</b> Language.h:344</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa878f2439a93ecdc76828444b240a127d"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa878f2439a93ecdc76828444b240a127d">LANG_YOUR_CHAT_ENABLED</a></div><div class="ttdeci">@ LANG_YOUR_CHAT_ENABLED</div><div class="ttdef"><b>Definition:</b> Language.h:343</div></div>
<div class="ttc" id="aa08466_html_a02ed847754aaf3aecf7294742169168a"><div class="ttname"><a href="../../dc/d06/a08466.html#a02ed847754aaf3aecf7294742169168a">Player::CanSpeak</a></div><div class="ttdeci">bool CanSpeak() const</div><div class="ttdef"><b>Definition:</b> PlayerMisc.cpp:69</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00069">Player::CanSpeak()</a>, <a class="el" href="../../#l00184">Acore::ChatCommands::PlayerIdentifier::FromTargetOrSelf()</a>, <a class="el" href="../../#l00375">WorldSession::GetAccountId()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l02001">Player::GetSession()</a>, <a class="el" href="../../#l00056">ChatHandler::HasLowerSecurity()</a>, <a class="el" href="../../#l00342">LANG_CHAT_ALREADY_ENABLED</a>, <a class="el" href="../../#l00344">LANG_YOU_ENABLE_CHAT</a>, <a class="el" href="../../#l00343">LANG_YOUR_CHAT_ENABLED</a>, <a class="el" href="../../#l00072">LOGIN_UPD_MUTE_TIME</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, <a class="el" href="../../#l00508">WorldSession::m_muteTime</a>, <a class="el" href="../../#l00231">ChatHandler::playerLink()</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00083">sCharacterCache</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, and <a class="el" href="../../#l00442">sWorld</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="aa815be4c109311b571f2a1408691f5a3" name="aa815be4c109311b571f2a1408691f5a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa815be4c109311b571f2a1408691f5a3">&#9670;&#160;</a></span>HandleUnPossessCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleUnPossessCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2973</span>    {</div>
<div class="line"><span class="lineno"> 2974</span>        <a class="code hl_class" href="../../d4/d46/a08598.html">Unit</a>* unit = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ae88a523ef51a6d51d38a8d524e49b179">getSelectedUnit</a>();</div>
<div class="line"><span class="lineno"> 2975</span>        <span class="keywordflow">if</span> (!unit)</div>
<div class="line"><span class="lineno"> 2976</span>        {</div>
<div class="line"><span class="lineno"> 2977</span>            unit = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno"> 2978</span>        }</div>
<div class="line"><span class="lineno"> 2979</span> </div>
<div class="line"><span class="lineno"> 2980</span>        unit-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#af56e0bee946c038fd5b29de4aa8c0f6d">RemoveCharmAuras</a>();</div>
<div class="line"><span class="lineno"> 2981</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2982</span>    }</div>
<div class="ttc" id="aa08598_html_af56e0bee946c038fd5b29de4aa8c0f6d"><div class="ttname"><a href="../../d4/d46/a08598.html#af56e0bee946c038fd5b29de4aa8c0f6d">Unit::RemoveCharmAuras</a></div><div class="ttdeci">void RemoveCharmAuras()</div><div class="ttdef"><b>Definition:</b> Unit.cpp:11197</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00385">ChatHandler::getSelectedUnit()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, and <a class="el" href="../../#l11197">Unit::RemoveCharmAuras()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
<a id="a2a7c311cf73af55543e7cab409acdb09" name="a2a7c311cf73af55543e7cab409acdb09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a7c311cf73af55543e7cab409acdb09">&#9670;&#160;</a></span>HandleUnstuckCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool misc_commandscript::HandleUnstuckCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; <a class="el" href="../../de/d8a/a07550.html">PlayerIdentifier</a> &gt;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d39/a00314.html#aaf8f4d77efd311ec7818ab421294ef82">Optional</a>&lt; std::string_view &gt;&#160;</td>
          <td class="paramname"><em>location</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1414</span>    {</div>
<div class="line"><span class="lineno"> 1415</span>        <span class="comment">// No args required for players</span></div>
<div class="line"><span class="lineno"> 1416</span>        <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>() &amp;&amp; <a class="code hl_function" href="../../d9/d82/a04718.html#a63751f144cb7acb57fc20f0caf5e7043">AccountMgr::IsPlayerAccount</a>(handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>()))</div>
<div class="line"><span class="lineno"> 1417</span>        {</div>
<div class="line"><span class="lineno"> 1418</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>())</div>
<div class="line"><span class="lineno"> 1419</span>            {</div>
<div class="line"><span class="lineno"> 1420</span>                player-&gt;CastSpell(player, <a class="code hl_variable" href="../../d2/d4c/a01307.html#a1706df7feb0ef4f693c388033ace5fb7">SPELL_STUCK</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1421</span>            }</div>
<div class="line"><span class="lineno"> 1422</span> </div>
<div class="line"><span class="lineno"> 1423</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1424</span>        }</div>
<div class="line"><span class="lineno"> 1425</span> </div>
<div class="line"><span class="lineno"> 1426</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno"> 1427</span>        {</div>
<div class="line"><span class="lineno"> 1428</span>            target = <a class="code hl_function" href="../../de/d8a/a07550.html#a617834cc8474970950b45066f2e86dbd">PlayerIdentifier::FromTargetOrSelf</a>(handler);</div>
<div class="line"><span class="lineno"> 1429</span>        }</div>
<div class="line"><span class="lineno"> 1430</span> </div>
<div class="line"><span class="lineno"> 1431</span>        <span class="keywordflow">if</span> (!target || !target-&gt;IsConnected())</div>
<div class="line"><span class="lineno"> 1432</span>        {</div>
<div class="line"><span class="lineno"> 1433</span>            <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#afacb4b59756372ec32810be0d46da49c">HasLowerSecurity</a>(<span class="keyword">nullptr</span>, target-&gt;GetGUID()))</div>
<div class="line"><span class="lineno"> 1434</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1435</span> </div>
<div class="line"><span class="lineno"> 1436</span>            <a class="code hl_class" href="../../d4/d20/a05586.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a6d8e811c7e58ddcd2e45c5805d5bad44">CHAR_SEL_CHARACTER_HOMEBIND</a>);</div>
<div class="line"><span class="lineno"> 1437</span>            stmt-&gt;<a class="code hl_function" href="../../dd/d08/a05718.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, target-&gt;GetGUID().GetCounter());</div>
<div class="line"><span class="lineno"> 1438</span> </div>
<div class="line"><span class="lineno"> 1439</span>            <a class="code hl_typedef" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(stmt);</div>
<div class="line"><span class="lineno"> 1440</span> </div>
<div class="line"><span class="lineno"> 1441</span>            <span class="keywordflow">if</span> (result)</div>
<div class="line"><span class="lineno"> 1442</span>            {</div>
<div class="line"><span class="lineno"> 1443</span>                <a class="code hl_class" href="../../d4/dff/a05618.html">Field</a>* fieldsDB = result-&gt;Fetch();</div>
<div class="line"><span class="lineno"> 1444</span>                <a class="code hl_class" href="../../d6/da3/a08310.html">WorldLocation</a> loc(fieldsDB[0].Get&lt;uint16&gt;(), fieldsDB[2].Get&lt;float&gt;(), fieldsDB[3].Get&lt;float&gt;(), fieldsDB[4].Get&lt;float&gt;(), 0.0f);</div>
<div class="line"><span class="lineno"> 1445</span>                <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> zoneId = fieldsDB[1].<a class="code hl_function" href="../../d4/dff/a05618.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a>&gt;();</div>
<div class="line"><span class="lineno"> 1446</span> </div>
<div class="line"><span class="lineno"> 1447</span>                <a class="code hl_function" href="../../dc/d06/a08466.html#ae700cc88ca33f3a8ff8cf3e308380bc7">Player::SavePositionInDB</a>(loc, zoneId, target-&gt;GetGUID(), <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 1448</span> </div>
<div class="line"><span class="lineno"> 1449</span>                handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1458d1b4d2d24ff028a2625674284bf2">LANG_SUMMONING</a>, target-&gt;GetName(), handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa2f8454a92c002a48dbae2db747f1c101">LANG_OFFLINE</a>));</div>
<div class="line"><span class="lineno"> 1450</span>            }</div>
<div class="line"><span class="lineno"> 1451</span> </div>
<div class="line"><span class="lineno"> 1452</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1453</span>        }</div>
<div class="line"><span class="lineno"> 1454</span> </div>
<div class="line"><span class="lineno"> 1455</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = target-&gt;GetConnectedPlayer();</div>
<div class="line"><span class="lineno"> 1456</span> </div>
<div class="line"><span class="lineno"> 1457</span>        <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a85b547eedd208db5f9dddc5f75a1a211">IsInFlight</a>() || player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#af5e75d013dfa8a8b888d7714992e3f2a">IsInCombat</a>())</div>
<div class="line"><span class="lineno"> 1458</span>        {</div>
<div class="line"><span class="lineno"> 1459</span>            <a class="code hl_class" href="../../d5/d44/a10966.html">SpellInfo</a> <span class="keyword">const</span>* spellInfo = <a class="code hl_define" href="../../d8/d96/a03116.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellInfo(7355);</div>
<div class="line"><span class="lineno"> 1460</span>            <span class="keywordflow">if</span> (!spellInfo)</div>
<div class="line"><span class="lineno"> 1461</span>            {</div>
<div class="line"><span class="lineno"> 1462</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1463</span>            }</div>
<div class="line"><span class="lineno"> 1464</span> </div>
<div class="line"><span class="lineno"> 1465</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* caster = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>())</div>
<div class="line"><span class="lineno"> 1466</span>            {</div>
<div class="line"><span class="lineno"> 1467</span>                <a class="code hl_function" href="../../dd/d6e/a10902.html#ac08e0f25ac5ac7e8c6f8466554406727">Spell::SendCastResult</a>(caster, spellInfo, 0, <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#ade9b4e913a84079f5311c2817e3de9daa9c6a5ea90b0797694ebec8b386fd920b">SPELL_FAILED_CANT_DO_THAT_RIGHT_NOW</a>);</div>
<div class="line"><span class="lineno"> 1468</span>            }</div>
<div class="line"><span class="lineno"> 1469</span> </div>
<div class="line"><span class="lineno"> 1470</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1471</span>        }</div>
<div class="line"><span class="lineno"> 1472</span> </div>
<div class="line"><span class="lineno"> 1473</span>        <span class="keywordflow">if</span> (location-&gt;empty() || *location == <span class="stringliteral">&quot;inn&quot;</span>)</div>
<div class="line"><span class="lineno"> 1474</span>        {</div>
<div class="line"><span class="lineno"> 1475</span>            player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#aa2eae30c1e0af118b9a6b5db0a1929b7">TeleportTo</a>(player-&gt;<a class="code hl_variable" href="../../dc/d06/a08466.html#a2c41e69cb17f62752c782d9a92bdd32d">m_homebindMapId</a>, player-&gt;<a class="code hl_variable" href="../../dc/d06/a08466.html#afce5a3ffd653c98c3cf6b1dff632a33e">m_homebindX</a>, player-&gt;<a class="code hl_variable" href="../../dc/d06/a08466.html#a95d3dc83b496823d27250a76c40ebeae">m_homebindY</a>, player-&gt;<a class="code hl_variable" href="../../dc/d06/a08466.html#a1cc736161c9504c66bf0f34dbc096525">m_homebindZ</a>, player-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#a74cabfb8f441acb38e1abd5bf6ecdc84">GetOrientation</a>());</div>
<div class="line"><span class="lineno"> 1476</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1477</span>        }</div>
<div class="line"><span class="lineno"> 1478</span> </div>
<div class="line"><span class="lineno"> 1479</span>        <span class="keywordflow">if</span> (*location == <span class="stringliteral">&quot;graveyard&quot;</span>)</div>
<div class="line"><span class="lineno"> 1480</span>        {</div>
<div class="line"><span class="lineno"> 1481</span>            player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a75975e94202022b76fa0964bbbddb9c7">RepopAtGraveyard</a>();</div>
<div class="line"><span class="lineno"> 1482</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1483</span>        }</div>
<div class="line"><span class="lineno"> 1484</span> </div>
<div class="line"><span class="lineno"> 1485</span>        <span class="keywordflow">if</span> (*location == <span class="stringliteral">&quot;startzone&quot;</span>)</div>
<div class="line"><span class="lineno"> 1486</span>        {</div>
<div class="line"><span class="lineno"> 1487</span>            player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#aa2eae30c1e0af118b9a6b5db0a1929b7">TeleportTo</a>(player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ae4d40edf9301231044bafb25b8f4fac5">GetStartPosition</a>());</div>
<div class="line"><span class="lineno"> 1488</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1489</span>        }</div>
<div class="line"><span class="lineno"> 1490</span> </div>
<div class="line"><span class="lineno"> 1491</span>        <span class="comment">//Not a supported argument</span></div>
<div class="line"><span class="lineno"> 1492</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1493</span>    }</div>
<div class="ttc" id="aa01307_html_a1706df7feb0ef4f693c388033ace5fb7"><div class="ttname"><a href="../../d2/d4c/a01307.html#a1706df7feb0ef4f693c388033ace5fb7">SPELL_STUCK</a></div><div class="ttdeci">constexpr auto SPELL_STUCK</div><div class="ttdef"><b>Definition:</b> cs_misc.cpp:55</div></div>
<div class="ttc" id="aa02771_html_ade9b4e913a84079f5311c2817e3de9daa9c6a5ea90b0797694ebec8b386fd920b"><div class="ttname"><a href="../../d0/dbd/a02771.html#ade9b4e913a84079f5311c2817e3de9daa9c6a5ea90b0797694ebec8b386fd920b">SPELL_FAILED_CANT_DO_THAT_RIGHT_NOW</a></div><div class="ttdeci">@ SPELL_FAILED_CANT_DO_THAT_RIGHT_NOW</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1122</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a6d8e811c7e58ddcd2e45c5805d5bad44"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a6d8e811c7e58ddcd2e45c5805d5bad44">CHAR_SEL_CHARACTER_HOMEBIND</a></div><div class="ttdeci">@ CHAR_SEL_CHARACTER_HOMEBIND</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:87</div></div>
<div class="ttc" id="aa08310_html"><div class="ttname"><a href="../../d6/da3/a08310.html">WorldLocation</a></div><div class="ttdef"><b>Definition:</b> Position.h:250</div></div>
<div class="ttc" id="aa08466_html_a1cc736161c9504c66bf0f34dbc096525"><div class="ttname"><a href="../../dc/d06/a08466.html#a1cc736161c9504c66bf0f34dbc096525">Player::m_homebindZ</a></div><div class="ttdeci">float m_homebindZ</div><div class="ttdef"><b>Definition:</b> Player.h:2376</div></div>
<div class="ttc" id="aa08466_html_a2c41e69cb17f62752c782d9a92bdd32d"><div class="ttname"><a href="../../dc/d06/a08466.html#a2c41e69cb17f62752c782d9a92bdd32d">Player::m_homebindMapId</a></div><div class="ttdeci">uint32 m_homebindMapId</div><div class="ttdef"><b>Definition:</b> Player.h:2372</div></div>
<div class="ttc" id="aa08466_html_a75975e94202022b76fa0964bbbddb9c7"><div class="ttname"><a href="../../dc/d06/a08466.html#a75975e94202022b76fa0964bbbddb9c7">Player::RepopAtGraveyard</a></div><div class="ttdeci">void RepopAtGraveyard()</div><div class="ttdef"><b>Definition:</b> Player.cpp:4937</div></div>
<div class="ttc" id="aa08466_html_a95d3dc83b496823d27250a76c40ebeae"><div class="ttname"><a href="../../dc/d06/a08466.html#a95d3dc83b496823d27250a76c40ebeae">Player::m_homebindY</a></div><div class="ttdeci">float m_homebindY</div><div class="ttdef"><b>Definition:</b> Player.h:2375</div></div>
<div class="ttc" id="aa08466_html_ae4d40edf9301231044bafb25b8f4fac5"><div class="ttname"><a href="../../dc/d06/a08466.html#ae4d40edf9301231044bafb25b8f4fac5">Player::GetStartPosition</a></div><div class="ttdeci">WorldLocation GetStartPosition() const</div><div class="ttdef"><b>Definition:</b> Player.cpp:11435</div></div>
<div class="ttc" id="aa08466_html_afce5a3ffd653c98c3cf6b1dff632a33e"><div class="ttname"><a href="../../dc/d06/a08466.html#afce5a3ffd653c98c3cf6b1dff632a33e">Player::m_homebindX</a></div><div class="ttdeci">float m_homebindX</div><div class="ttdef"><b>Definition:</b> Player.h:2374</div></div>
<div class="ttc" id="aa08598_html_af5e75d013dfa8a8b888d7714992e3f2a"><div class="ttname"><a href="../../d4/d46/a08598.html#af5e75d013dfa8a8b888d7714992e3f2a">Unit::IsInCombat</a></div><div class="ttdeci">bool IsInCombat() const</div><div class="ttdef"><b>Definition:</b> Unit.h:884</div></div>
<div class="ttc" id="aa10902_html_ac08e0f25ac5ac7e8c6f8466554406727"><div class="ttname"><a href="../../dd/d6e/a10902.html#ac08e0f25ac5ac7e8c6f8466554406727">Spell::SendCastResult</a></div><div class="ttdeci">static void SendCastResult(Player *caster, SpellInfo const *spellInfo, uint8 castCount, SpellCastResult result, SpellCustomErrors customError=SPELL_CUSTOM_ERROR_NONE)</div><div class="ttdef"><b>Definition:</b> Spell.cpp:4674</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00087">CHAR_SEL_CHARACTER_HOMEBIND</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00184">Acore::ChatCommands::PlayerIdentifier::FromTargetOrSelf()</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00040">ChatHandler::GetAcoreString()</a>, <a class="el" href="../../#l00119">Position::GetOrientation()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00373">WorldSession::GetSecurity()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l11435">Player::GetStartPosition()</a>, <a class="el" href="../../#l00056">ChatHandler::HasLowerSecurity()</a>, <a class="el" href="../../#l00884">Unit::IsInCombat()</a>, <a class="el" href="../../#l01572">Unit::IsInFlight()</a>, <a class="el" href="../../#l00305">AccountMgr::IsPlayerAccount()</a>, <a class="el" href="../../#l00069">LANG_OFFLINE</a>, <a class="el" href="../../#l00140">LANG_SUMMONING</a>, <a class="el" href="../../#l02372">Player::m_homebindMapId</a>, <a class="el" href="../../#l02374">Player::m_homebindX</a>, <a class="el" href="../../#l02375">Player::m_homebindY</a>, <a class="el" href="../../#l02376">Player::m_homebindZ</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l04937">Player::RepopAtGraveyard()</a>, <a class="el" href="../../#l00084">Player::SavePositionInDB()</a>, <a class="el" href="../../#l04674">Spell::SendCastResult()</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, <a class="el" href="../../#l01122">SPELL_FAILED_CANT_DO_THAT_RIGHT_NOW</a>, <a class="el" href="../../#l00055">SPELL_STUCK</a>, <a class="el" href="../../#l00825">sSpellMgr</a>, and <a class="el" href="../../#l01334">Player::TeleportTo()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00089">GetCommands()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d4/d57/a11474.html">misc_commandscript</a></li>
    <li class="footer">Generated on Mon Dec 23 2024 20:39:49 for AzerothCore by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
