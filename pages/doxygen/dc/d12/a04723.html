<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AzerothCore: ArenaSpectator Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AzerothCore<span id="projectnumber">&#160;3.3.5a</span>
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dc/d12/a04723.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ArenaSpectator Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abc5c395f3697c21f09c4e70a81f02497"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:abc5c395f3697c21f09c4e70a81f02497"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a00a04eccc2ca042486601576eccae409">AC_GAME_API</a> void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../dc/d12/a04723.html#abc5c395f3697c21f09c4e70a81f02497">SendPacketTo</a> (const T *object, std::string &amp;&amp;message)</td></tr>
<tr class="separator:abc5c395f3697c21f09c4e70a81f02497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4824203dd64e1ddcd47642df9d465ea0"><td class="memTemplParams" colspan="2">template&lt;class T , typename Format , typename... Args&gt; </td></tr>
<tr class="memitem:a4824203dd64e1ddcd47642df9d465ea0"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../dc/d12/a04723.html#a4824203dd64e1ddcd47642df9d465ea0">SendCommand</a> (T *o, Format &amp;&amp;fmt, Args &amp;&amp;... args)</td></tr>
<tr class="separator:a4824203dd64e1ddcd47642df9d465ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7839fd6177447b31578a19f8ee8e42a"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:ac7839fd6177447b31578a19f8ee8e42a"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../dc/d12/a04723.html#ac7839fd6177447b31578a19f8ee8e42a">SendCommand_String</a> (T *o, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> targetGUID, const char *prefix, const char *c)</td></tr>
<tr class="separator:ac7839fd6177447b31578a19f8ee8e42a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae899637e3543ca40ec63e98bf0426f58"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:ae899637e3543ca40ec63e98bf0426f58"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../dc/d12/a04723.html#ae899637e3543ca40ec63e98bf0426f58">SendCommand_UInt32Value</a> (T *o, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> targetGUID, const char *prefix, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> t)</td></tr>
<tr class="separator:ae899637e3543ca40ec63e98bf0426f58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af537ad9da6345b285d2d726b640a0340"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:af537ad9da6345b285d2d726b640a0340"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../dc/d12/a04723.html#af537ad9da6345b285d2d726b640a0340">SendCommand_GUID</a> (T *o, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> targetGUID, const char *prefix, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> t)</td></tr>
<tr class="separator:af537ad9da6345b285d2d726b640a0340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a461f69ba88de17058481bc77a3e9f7bb"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a461f69ba88de17058481bc77a3e9f7bb"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../dc/d12/a04723.html#a461f69ba88de17058481bc77a3e9f7bb">SendCommand_Spell</a> (T *o, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> targetGUID, const char *prefix, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> id, <a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> casttime)</td></tr>
<tr class="separator:a461f69ba88de17058481bc77a3e9f7bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e336b6d62f2d9e24551cfb96c7a8679"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a5e336b6d62f2d9e24551cfb96c7a8679"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../dc/d12/a04723.html#a5e336b6d62f2d9e24551cfb96c7a8679">SendCommand_Cooldown</a> (T *o, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> targetGUID, const char *prefix, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> id, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> dur, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> maxdur)</td></tr>
<tr class="separator:a5e336b6d62f2d9e24551cfb96c7a8679"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a918c7c3c9fd7d26b7a78f2e6d13e1e27"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a918c7c3c9fd7d26b7a78f2e6d13e1e27"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../dc/d12/a04723.html#a918c7c3c9fd7d26b7a78f2e6d13e1e27">SendCommand_Aura</a> (T *o, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> targetGUID, const char *prefix, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> caster, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> id, bool isDebuff, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> dispel, <a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> dur, <a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a> maxdur, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> stack, bool remove)</td></tr>
<tr class="separator:a918c7c3c9fd7d26b7a78f2e6d13e1e27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3b35eed76fdcf00f43b226912317b4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a00a04eccc2ca042486601576eccae409">AC_GAME_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d12/a04723.html#ac3b35eed76fdcf00f43b226912317b4a">HandleSpectatorSpectateCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, std::string const &amp;name)</td></tr>
<tr class="separator:ac3b35eed76fdcf00f43b226912317b4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae611c9f6783ca983d1ff667f36dd7c7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a00a04eccc2ca042486601576eccae409">AC_GAME_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d12/a04723.html#ae611c9f6783ca983d1ff667f36dd7c7d">HandleSpectatorWatchCommand</a> (<a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *handler, std::string const &amp;name)</td></tr>
<tr class="separator:ae611c9f6783ca983d1ff667f36dd7c7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20983eb9cb8e3f584a4d8f752586d06b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a00a04eccc2ca042486601576eccae409">AC_GAME_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d12/a04723.html#a20983eb9cb8e3f584a4d8f752586d06b">CreatePacket</a> (<a class="el" href="../../dc/dc5/a10766.html">WorldPacket</a> &amp;data, std::string const &amp;message)</td></tr>
<tr class="separator:a20983eb9cb8e3f584a4d8f752586d06b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4508ccc26eb193b85e4d229a088c6be5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a00a04eccc2ca042486601576eccae409">AC_GAME_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d12/a04723.html#a4508ccc26eb193b85e4d229a088c6be5">HandleResetCommand</a> (<a class="el" href="../../dc/d06/a08466.html">Player</a> *player)</td></tr>
<tr class="separator:a4508ccc26eb193b85e4d229a088c6be5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29f78349223aca49d417c3f818b2dd4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a00a04eccc2ca042486601576eccae409">AC_GAME_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d12/a04723.html#a29f78349223aca49d417c3f818b2dd4c">ShouldSendAura</a> (<a class="el" href="../../d1/dfa/a10862.html">Aura</a> *aura, <a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> effMask, <a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a> targetGUID, bool remove)</td></tr>
<tr class="separator:a29f78349223aca49d417c3f818b2dd4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a20983eb9cb8e3f584a4d8f752586d06b" name="a20983eb9cb8e3f584a4d8f752586d06b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20983eb9cb8e3f584a4d8f752586d06b">&#9670;&#160;</a></span>CreatePacket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArenaSpectator::CreatePacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dc5/a10766.html">WorldPacket</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  213</span>{</div>
<div class="line"><span class="lineno">  214</span>    std::size_t len = message.length();</div>
<div class="line"><span class="lineno">  215</span>    data.<a class="code hl_function" href="../../dc/dc5/a10766.html#a6b7d58fb0230383629fa888d3aa9dbd8">Initialize</a>(<a class="code hl_enumvalue" href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9ba4c79b0cc83e509f31b580eb22f0ae116">SMSG_MESSAGECHAT</a>, 1 + 4 + 8 + 4 + 8 + 4 + 1 + len + 1);</div>
<div class="line"><span class="lineno">  216</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a249e68b260c9857b5d0d4cf4697fae16a79f5ed3a0d02f99bad2520dc879272bc">CHAT_MSG_WHISPER</a>);</div>
<div class="line"><span class="lineno">  217</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a315ca917ad583797f709ea477dd28705aa85e31bb25e43732ec93feb7e5355e18">LANG_ADDON</a>);</div>
<div class="line"><span class="lineno">  218</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>(0);</div>
<div class="line"><span class="lineno">  219</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0);</div>
<div class="line"><span class="lineno">  220</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>(0);</div>
<div class="line"><span class="lineno">  221</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(len + 1);</div>
<div class="line"><span class="lineno">  222</span>    data &lt;&lt; message;</div>
<div class="line"><span class="lineno">  223</span>    data &lt;&lt; <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>(0);</div>
<div class="line"><span class="lineno">  224</span>}</div>
<div class="ttc" id="aa00497_html_a15a8d014fadf85c99a2268d8cbd00767"><div class="ttname"><a href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a></div><div class="ttdeci">std::uint8_t uint8</div><div class="ttdef"><b>Definition:</b> Define.h:109</div></div>
<div class="ttc" id="aa00497_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition:</b> Define.h:107</div></div>
<div class="ttc" id="aa00497_html_ac4dd6ce78ce3b840c53bd4b3c63ed09b"><div class="ttname"><a href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a></div><div class="ttdeci">std::uint64_t uint64</div><div class="ttdef"><b>Definition:</b> Define.h:106</div></div>
<div class="ttc" id="aa02771_html_a249e68b260c9857b5d0d4cf4697fae16a79f5ed3a0d02f99bad2520dc879272bc"><div class="ttname"><a href="../../d0/dbd/a02771.html#a249e68b260c9857b5d0d4cf4697fae16a79f5ed3a0d02f99bad2520dc879272bc">CHAT_MSG_WHISPER</a></div><div class="ttdeci">@ CHAT_MSG_WHISPER</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3159</div></div>
<div class="ttc" id="aa02771_html_a315ca917ad583797f709ea477dd28705aa85e31bb25e43732ec93feb7e5355e18"><div class="ttname"><a href="../../d0/dbd/a02771.html#a315ca917ad583797f709ea477dd28705aa85e31bb25e43732ec93feb7e5355e18">LANG_ADDON</a></div><div class="ttdeci">@ LANG_ADDON</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:753</div></div>
<div class="ttc" id="aa04680_html_gga1073b6abb3a749f18bf1633020879e9ba4c79b0cc83e509f31b580eb22f0ae116"><div class="ttname"><a href="../../d5/dfd/a04680.html#gga1073b6abb3a749f18bf1633020879e9ba4c79b0cc83e509f31b580eb22f0ae116">SMSG_MESSAGECHAT</a></div><div class="ttdeci">@ SMSG_MESSAGECHAT</div><div class="ttdef"><b>Definition:</b> Opcodes.h:180</div></div>
<div class="ttc" id="aa10766_html_a6b7d58fb0230383629fa888d3aa9dbd8"><div class="ttname"><a href="../../dc/dc5/a10766.html#a6b7d58fb0230383629fa888d3aa9dbd8">WorldPacket::Initialize</a></div><div class="ttdeci">void Initialize(uint16 opcode, std::size_t newres=200)</div><div class="ttdef"><b>Definition:</b> WorldPacket.h:68</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l03159">CHAT_MSG_WHISPER</a>, <a class="el" href="../../#l00068">WorldPacket::Initialize()</a>, <a class="el" href="../../#l00753">LANG_ADDON</a>, and <a class="el" href="../../#l00180">SMSG_MESSAGECHAT</a>.</p>

</div>
</div>
<a id="a4508ccc26eb193b85e4d229a088c6be5" name="a4508ccc26eb193b85e4d229a088c6be5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4508ccc26eb193b85e4d229a088c6be5">&#9670;&#160;</a></span>HandleResetCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArenaSpectator::HandleResetCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d06/a08466.html">Player</a> *&#160;</td>
          <td class="paramname"><em>player</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  227</span>{</div>
<div class="line"><span class="lineno">  228</span>    <span class="keywordflow">if</span> (!player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">FindMap</a>() || !player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#a3aeab7def818ba6c50249f197ad2f9ca">IsInWorld</a>() || !player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">FindMap</a>()-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#afe645aa76713224c7e7fcd0f5e12fc79">IsBattleArena</a>())</div>
<div class="line"><span class="lineno">  229</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>    <a class="code hl_class" href="../../df/ddd/a07150.html">Battleground</a>* bg = ((<a class="code hl_class" href="../../d6/da3/a09626.html">BattlegroundMap</a>*)player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">FindMap</a>())-&gt;GetBG();</div>
<div class="line"><span class="lineno">  232</span>    <span class="keywordflow">if</span> (!bg || bg-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#aaa7ab97fdd1ee4fda63deba7eabe9cb1">GetStatus</a>() != <a class="code hl_enumvalue" href="../../db/d49/a03737.html#ad1473374651bd09f461cdc994a6bc8d2afaf0b6349b8a93b543f64c744e321d5a">STATUS_IN_PROGRESS</a>)</div>
<div class="line"><span class="lineno">  233</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>    <a class="code hl_typedef" href="../../df/ddd/a07150.html#a89ad7beedc7aca0506c87d983b74eee4">Battleground::BattlegroundPlayerMap</a> <span class="keyword">const</span>&amp; pl = bg-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#a9e2bbc0cf8fe25b492486503fbe8d673">GetPlayers</a>();</div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">for</span> (Battleground::BattlegroundPlayerMap::const_iterator itr = pl.begin(); itr != pl.end(); ++itr)</div>
<div class="line"><span class="lineno">  237</span>    {</div>
<div class="line"><span class="lineno">  238</span>        <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a56895d0a241eb0f36211ef34f3caaf4e">HasReceivedSpectatorResetFor</a>(itr-&gt;first))</div>
<div class="line"><span class="lineno">  239</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>        <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* plr = itr-&gt;second;</div>
<div class="line"><span class="lineno">  242</span>        player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6307a2b4db34ca2997248becd8c70ec9">AddReceivedSpectatorResetFor</a>(itr-&gt;first);</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#ac7839fd6177447b31578a19f8ee8e42a">SendCommand_String</a>(player, itr-&gt;first, <span class="stringliteral">&quot;NME&quot;</span>, plr-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">GetName</a>().c_str());</div>
<div class="line"><span class="lineno">  245</span>        <span class="comment">// Xinef: addon compatibility</span></div>
<div class="line"><span class="lineno">  246</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#ae899637e3543ca40ec63e98bf0426f58">SendCommand_UInt32Value</a>(player, itr-&gt;first, <span class="stringliteral">&quot;TEM&quot;</span>, plr-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#afcf1880d221c0af14b0e0c6b54b328ab">GetBgTeamId</a>() == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a> ? <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2">ALLIANCE</a> : <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9c13bb5b1d69698f9b47900990eaa598ae00f67931133b08b7de375111e800b42">HORDE</a>);</div>
<div class="line"><span class="lineno">  247</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#ae899637e3543ca40ec63e98bf0426f58">SendCommand_UInt32Value</a>(player, itr-&gt;first, <span class="stringliteral">&quot;CLA&quot;</span>, plr-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a58a507ebe628930b8a506144b364d84b">getClass</a>());</div>
<div class="line"><span class="lineno">  248</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#ae899637e3543ca40ec63e98bf0426f58">SendCommand_UInt32Value</a>(player, itr-&gt;first, <span class="stringliteral">&quot;MHP&quot;</span>, plr-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a5173c1774b09b42c409bf31280c37d36">GetMaxHealth</a>());</div>
<div class="line"><span class="lineno">  249</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#ae899637e3543ca40ec63e98bf0426f58">SendCommand_UInt32Value</a>(player, itr-&gt;first, <span class="stringliteral">&quot;CHP&quot;</span>, plr-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a958172d6051b106e3b3c776e4f9f3952">GetHealth</a>());</div>
<div class="line"><span class="lineno">  250</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#ae899637e3543ca40ec63e98bf0426f58">SendCommand_UInt32Value</a>(player, itr-&gt;first, <span class="stringliteral">&quot;STA&quot;</span>, plr-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a5ea3f54af571493f7889220724667189">IsAlive</a>() ? 1 : 0);</div>
<div class="line"><span class="lineno">  251</span>        <a class="code hl_enumeration" href="../../d0/dbd/a02771.html#a17e15fab4b89f4840e745f31ca76a414">Powers</a> ptype = plr-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#ad44d31430fab9282a79e8682822ccd9c">getPowerType</a>();</div>
<div class="line"><span class="lineno">  252</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#ae899637e3543ca40ec63e98bf0426f58">SendCommand_UInt32Value</a>(player, itr-&gt;first, <span class="stringliteral">&quot;PWT&quot;</span>, ptype);</div>
<div class="line"><span class="lineno">  253</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#ae899637e3543ca40ec63e98bf0426f58">SendCommand_UInt32Value</a>(player, itr-&gt;first, <span class="stringliteral">&quot;MPW&quot;</span>, ptype == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a17e15fab4b89f4840e745f31ca76a414a1b514bf3a42e9a5dc4271bd25b7dce7e">POWER_RAGE</a> || ptype == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a17e15fab4b89f4840e745f31ca76a414a4c504424e60c95f01e0ec1468a52d221">POWER_RUNIC_POWER</a> ? plr-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a93f83fd909310de2c76382d00d7dbbf1">GetMaxPower</a>(ptype) / 10 : plr-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a93f83fd909310de2c76382d00d7dbbf1">GetMaxPower</a>(ptype));</div>
<div class="line"><span class="lineno">  254</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#ae899637e3543ca40ec63e98bf0426f58">SendCommand_UInt32Value</a>(player, itr-&gt;first, <span class="stringliteral">&quot;CPW&quot;</span>, ptype == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a17e15fab4b89f4840e745f31ca76a414a1b514bf3a42e9a5dc4271bd25b7dce7e">POWER_RAGE</a> || ptype == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a17e15fab4b89f4840e745f31ca76a414a4c504424e60c95f01e0ec1468a52d221">POWER_RUNIC_POWER</a> ? plr-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#ad7e475d80b9af430cc076d7c01f967e9">GetPower</a>(ptype) / 10 : plr-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#ad7e475d80b9af430cc076d7c01f967e9">GetPower</a>(ptype));</div>
<div class="line"><span class="lineno">  255</span>        <a class="code hl_class" href="../../db/d14/a08330.html">Pet</a>* pet = plr-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a5eef7fef24e4a9269d1ee834bc2bd501">GetPet</a>();</div>
<div class="line"><span class="lineno">  256</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#ae899637e3543ca40ec63e98bf0426f58">SendCommand_UInt32Value</a>(player, itr-&gt;first, <span class="stringliteral">&quot;PHP&quot;</span>, pet &amp;&amp; pet-&gt;<a class="code hl_function" href="../../d8/d56/a07846.html#a97fd2015b3956323ef777b5f9e23a1e8">GetCreatureTemplate</a>()-&gt;<a class="code hl_variable" href="../../d9/d64/a07874.html#af596e49e3418f003b8ed9c6bb8305e01">family</a> ? (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>)pet-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a0cb842af542d302eb67b743078e1ac01">GetHealthPct</a>() : 0);</div>
<div class="line"><span class="lineno">  257</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#ae899637e3543ca40ec63e98bf0426f58">SendCommand_UInt32Value</a>(player, itr-&gt;first, <span class="stringliteral">&quot;PET&quot;</span>, pet ? pet-&gt;<a class="code hl_function" href="../../d8/d56/a07846.html#a97fd2015b3956323ef777b5f9e23a1e8">GetCreatureTemplate</a>()-&gt;<a class="code hl_variable" href="../../d9/d64/a07874.html#af596e49e3418f003b8ed9c6bb8305e01">family</a> : 0);</div>
<div class="line"><span class="lineno">  258</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#af537ad9da6345b285d2d726b640a0340">SendCommand_GUID</a>(player, itr-&gt;first, <span class="stringliteral">&quot;TRG&quot;</span>, plr-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#af387d5e18806e37f65ebc3408c0b8712">GetTarget</a>());</div>
<div class="line"><span class="lineno">  259</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#ae899637e3543ca40ec63e98bf0426f58">SendCommand_UInt32Value</a>(player, itr-&gt;first, <span class="stringliteral">&quot;RES&quot;</span>, 1);</div>
<div class="line"><span class="lineno">  260</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#ae899637e3543ca40ec63e98bf0426f58">SendCommand_UInt32Value</a>(player, itr-&gt;first, <span class="stringliteral">&quot;CDC&quot;</span>, 1);</div>
<div class="line"><span class="lineno">  261</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#ae899637e3543ca40ec63e98bf0426f58">SendCommand_UInt32Value</a>(player, itr-&gt;first, <span class="stringliteral">&quot;TIM&quot;</span>, (bg-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#a9cb3765aa8a79a83e1402d60835c0ae8">GetStartTime</a>() &lt; 46 * <a class="code hl_variable" href="../../d4/d51/a00017.html#afacf27522adfacf698390ddafc53fa30">MINUTE</a> * <a class="code hl_variable" href="../../d4/d51/a00017.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>) ? (46 * <a class="code hl_variable" href="../../d4/d51/a00017.html#afacf27522adfacf698390ddafc53fa30">MINUTE</a> * <a class="code hl_variable" href="../../d4/d51/a00017.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a> - bg-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#a9cb3765aa8a79a83e1402d60835c0ae8">GetStartTime</a>()) / <a class="code hl_variable" href="../../d4/d51/a00017.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a> : 0);</div>
<div class="line"><span class="lineno">  262</span>        <span class="comment">// &quot;SPE&quot; not here (only possible to send starting a new cast)</span></div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>        <span class="comment">// send all &quot;CD&quot;</span></div>
<div class="line"><span class="lineno">  265</span>        <a class="code hl_typedef" href="../../d7/d13/a03365.html#a4e67032f6ccb88a3ffc6fb32196c31ce">SpellCooldowns</a> <span class="keyword">const</span>&amp; sc = plr-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a8f007a82e79d25a390bca316a922a83e">GetSpellCooldownMap</a>();</div>
<div class="line"><span class="lineno">  266</span>        <span class="keywordflow">for</span> (SpellCooldowns::const_iterator itrc = sc.begin(); itrc != sc.end(); ++itrc)</div>
<div class="line"><span class="lineno">  267</span>            <span class="keywordflow">if</span> (itrc-&gt;second.sendToSpectator &amp;&amp; itrc-&gt;second.maxduration &gt;= <a class="code hl_define" href="../../dd/d87/a03569.html#ad2182c49e417fd86e25b7c2a209d044b">SPECTATOR_COOLDOWN_MIN</a> * <a class="code hl_variable" href="../../d4/d51/a00017.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a> &amp;&amp; itrc-&gt;second.maxduration &lt;= <a class="code hl_define" href="../../dd/d87/a03569.html#a5caad2c604ec8c4fe2b2653a9a629d23">SPECTATOR_COOLDOWN_MAX</a> * <a class="code hl_variable" href="../../d4/d51/a00017.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>)</div>
<div class="line"><span class="lineno">  268</span>                <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> cd = (<a class="code hl_function" href="../../d1/d5d/a00311.html#ad9f0d19bcdfb695da4f399b36471c7de">getMSTimeDiff</a>(<a class="code hl_function" href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a>(), itrc-&gt;second.end) / 1000))</div>
<div class="line"><span class="lineno">  269</span>                    <a class="code hl_function" href="../../dc/d12/a04723.html#a5e336b6d62f2d9e24551cfb96c7a8679">SendCommand_Cooldown</a>(player, itr-&gt;first, <span class="stringliteral">&quot;ACD&quot;</span>, itrc-&gt;first, cd, itrc-&gt;second.maxduration / 1000);</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>        <span class="comment">// send all visible &quot;AUR&quot;</span></div>
<div class="line"><span class="lineno">  272</span>        <a class="code hl_typedef" href="../../d4/d46/a08598.html#a6bbd36a660c01a3d5f3e28a6e8eb894c">Unit::VisibleAuraMap</a> <span class="keyword">const</span>* visibleAuras = plr-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#aa7c7c23be40f1b4a96d5d98a1d447ed0">GetVisibleAuras</a>();</div>
<div class="line"><span class="lineno">  273</span>        <span class="keywordflow">for</span> (Unit::VisibleAuraMap::const_iterator aitr = visibleAuras-&gt;begin(); aitr != visibleAuras-&gt;end(); ++aitr)</div>
<div class="line"><span class="lineno">  274</span>        {</div>
<div class="line"><span class="lineno">  275</span>            <a class="code hl_class" href="../../d1/dfa/a10862.html">Aura</a>* aura = aitr-&gt;second-&gt;GetBase();</div>
<div class="line"><span class="lineno">  276</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../dc/d12/a04723.html#a29f78349223aca49d417c3f818b2dd4c">ShouldSendAura</a>(aura, aitr-&gt;second-&gt;GetEffectMask(), plr-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno">  277</span>                <a class="code hl_function" href="../../dc/d12/a04723.html#a918c7c3c9fd7d26b7a78f2e6d13e1e27">SendCommand_Aura</a>(player, itr-&gt;first, <span class="stringliteral">&quot;AUR&quot;</span>, aura-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#a3c4dfe75dad16fbf2afaf23ce77e4262">GetCasterGUID</a>(), aura-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#ab4abe60bbc09777bab95a0a0ec66af25">GetSpellInfo</a>()-&gt;<a class="code hl_variable" href="../../d5/d44/a10966.html#a49bc14059c2bd3785231c52e0d54d382">Id</a>, aura-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#ab4abe60bbc09777bab95a0a0ec66af25">GetSpellInfo</a>()-&gt;<a class="code hl_function" href="../../d5/d44/a10966.html#adef74790281b92d72ac2c2118a665096">IsPositive</a>(), aura-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#ab4abe60bbc09777bab95a0a0ec66af25">GetSpellInfo</a>()-&gt;<a class="code hl_variable" href="../../d5/d44/a10966.html#a642e1537c76965d64f443c2891eb3d4b">Dispel</a>, aura-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#a5e79eaa33b5f9ae5aaa44a62d096d6fe">GetDuration</a>(), aura-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#a14457cfa6d589b8024bbeeb1d4aa03d3">GetMaxDuration</a>(), (aura-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#ab07705be94c0c10fce558c80d7208e0b">GetCharges</a>() &gt; 1 ? aura-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#ab07705be94c0c10fce558c80d7208e0b">GetCharges</a>() : aura-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#aae0b7e0da61a681e67a19b6d23c2cee6">GetStackAmount</a>()), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  278</span>        }</div>
<div class="line"><span class="lineno">  279</span>    }</div>
<div class="line"><span class="lineno">  280</span>}</div>
<div class="ttc" id="aa00017_html_a84190f79c8167211609f67284e066c58"><div class="ttname"><a href="../../d4/d51/a00017.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a></div><div class="ttdeci">constexpr auto IN_MILLISECONDS</div><div class="ttdef"><b>Definition:</b> Common.h:53</div></div>
<div class="ttc" id="aa00017_html_afacf27522adfacf698390ddafc53fa30"><div class="ttname"><a href="../../d4/d51/a00017.html#afacf27522adfacf698390ddafc53fa30">MINUTE</a></div><div class="ttdeci">constexpr auto MINUTE</div><div class="ttdef"><b>Definition:</b> Common.h:47</div></div>
<div class="ttc" id="aa00311_html_a4476c8e13ea790c3536f2749105f9cb9"><div class="ttname"><a href="../../d1/d5d/a00311.html#a4476c8e13ea790c3536f2749105f9cb9">getMSTime</a></div><div class="ttdeci">uint32 getMSTime()</div><div class="ttdef"><b>Definition:</b> Timer.h:103</div></div>
<div class="ttc" id="aa00311_html_ad9f0d19bcdfb695da4f399b36471c7de"><div class="ttname"><a href="../../d1/d5d/a00311.html#ad9f0d19bcdfb695da4f399b36471c7de">getMSTimeDiff</a></div><div class="ttdeci">uint32 getMSTimeDiff(uint32 oldMSTime, uint32 newMSTime)</div><div class="ttdef"><b>Definition:</b> Timer.h:110</div></div>
<div class="ttc" id="aa02771_html_a17e15fab4b89f4840e745f31ca76a414"><div class="ttname"><a href="../../d0/dbd/a02771.html#a17e15fab4b89f4840e745f31ca76a414">Powers</a></div><div class="ttdeci">Powers</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:268</div></div>
<div class="ttc" id="aa02771_html_a17e15fab4b89f4840e745f31ca76a414a1b514bf3a42e9a5dc4271bd25b7dce7e"><div class="ttname"><a href="../../d0/dbd/a02771.html#a17e15fab4b89f4840e745f31ca76a414a1b514bf3a42e9a5dc4271bd25b7dce7e">POWER_RAGE</a></div><div class="ttdeci">@ POWER_RAGE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:270</div></div>
<div class="ttc" id="aa02771_html_a17e15fab4b89f4840e745f31ca76a414a4c504424e60c95f01e0ec1468a52d221"><div class="ttname"><a href="../../d0/dbd/a02771.html#a17e15fab4b89f4840e745f31ca76a414a4c504424e60c95f01e0ec1468a52d221">POWER_RUNIC_POWER</a></div><div class="ttdeci">@ POWER_RUNIC_POWER</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:275</div></div>
<div class="ttc" id="aa02771_html_a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9c13bb5b1d69698f9b47900990eaa598a360acb47017e8e0d3522e08575f3d1b2">ALLIANCE</a></div><div class="ttdeci">@ ALLIANCE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:768</div></div>
<div class="ttc" id="aa02771_html_a9c13bb5b1d69698f9b47900990eaa598ae00f67931133b08b7de375111e800b42"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9c13bb5b1d69698f9b47900990eaa598ae00f67931133b08b7de375111e800b42">HORDE</a></div><div class="ttdeci">@ HORDE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:767</div></div>
<div class="ttc" id="aa02771_html_abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e"><div class="ttname"><a href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a></div><div class="ttdeci">@ TEAM_ALLIANCE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:760</div></div>
<div class="ttc" id="aa03365_html_a4e67032f6ccb88a3ffc6fb32196c31ce"><div class="ttname"><a href="../../d7/d13/a03365.html#a4e67032f6ccb88a3ffc6fb32196c31ce">SpellCooldowns</a></div><div class="ttdeci">std::map&lt; uint32, SpellCooldown &gt; SpellCooldowns</div><div class="ttdef"><b>Definition:</b> Player.h:208</div></div>
<div class="ttc" id="aa03569_html_a5caad2c604ec8c4fe2b2653a9a629d23"><div class="ttname"><a href="../../dd/d87/a03569.html#a5caad2c604ec8c4fe2b2653a9a629d23">SPECTATOR_COOLDOWN_MAX</a></div><div class="ttdeci">#define SPECTATOR_COOLDOWN_MAX</div><div class="ttdef"><b>Definition:</b> ArenaSpectator.h:37</div></div>
<div class="ttc" id="aa03569_html_ad2182c49e417fd86e25b7c2a209d044b"><div class="ttname"><a href="../../dd/d87/a03569.html#ad2182c49e417fd86e25b7c2a209d044b">SPECTATOR_COOLDOWN_MIN</a></div><div class="ttdeci">#define SPECTATOR_COOLDOWN_MIN</div><div class="ttdef"><b>Definition:</b> ArenaSpectator.h:36</div></div>
<div class="ttc" id="aa03737_html_ad1473374651bd09f461cdc994a6bc8d2afaf0b6349b8a93b543f64c744e321d5a"><div class="ttname"><a href="../../db/d49/a03737.html#ad1473374651bd09f461cdc994a6bc8d2afaf0b6349b8a93b543f64c744e321d5a">STATUS_IN_PROGRESS</a></div><div class="ttdeci">@ STATUS_IN_PROGRESS</div><div class="ttdef"><b>Definition:</b> Battleground.h:202</div></div>
<div class="ttc" id="aa04723_html_a29f78349223aca49d417c3f818b2dd4c"><div class="ttname"><a href="../../dc/d12/a04723.html#a29f78349223aca49d417c3f818b2dd4c">ArenaSpectator::ShouldSendAura</a></div><div class="ttdeci">AC_GAME_API bool ShouldSendAura(Aura *aura, uint8 effMask, ObjectGuid targetGUID, bool remove)</div><div class="ttdef"><b>Definition:</b> ArenaSpectator.cpp:282</div></div>
<div class="ttc" id="aa04723_html_a5e336b6d62f2d9e24551cfb96c7a8679"><div class="ttname"><a href="../../dc/d12/a04723.html#a5e336b6d62f2d9e24551cfb96c7a8679">ArenaSpectator::SendCommand_Cooldown</a></div><div class="ttdeci">void SendCommand_Cooldown(T *o, ObjectGuid targetGUID, const char *prefix, uint32 id, uint32 dur, uint32 maxdur)</div><div class="ttdef"><b>Definition:</b> ArenaSpectator.h:89</div></div>
<div class="ttc" id="aa04723_html_a918c7c3c9fd7d26b7a78f2e6d13e1e27"><div class="ttname"><a href="../../dc/d12/a04723.html#a918c7c3c9fd7d26b7a78f2e6d13e1e27">ArenaSpectator::SendCommand_Aura</a></div><div class="ttdeci">void SendCommand_Aura(T *o, ObjectGuid targetGUID, const char *prefix, ObjectGuid caster, uint32 id, bool isDebuff, uint32 dispel, int32 dur, int32 maxdur, uint32 stack, bool remove)</div><div class="ttdef"><b>Definition:</b> ArenaSpectator.h:102</div></div>
<div class="ttc" id="aa04723_html_ac7839fd6177447b31578a19f8ee8e42a"><div class="ttname"><a href="../../dc/d12/a04723.html#ac7839fd6177447b31578a19f8ee8e42a">ArenaSpectator::SendCommand_String</a></div><div class="ttdeci">void SendCommand_String(T *o, ObjectGuid targetGUID, const char *prefix, const char *c)</div><div class="ttdef"><b>Definition:</b> ArenaSpectator.h:53</div></div>
<div class="ttc" id="aa04723_html_ae899637e3543ca40ec63e98bf0426f58"><div class="ttname"><a href="../../dc/d12/a04723.html#ae899637e3543ca40ec63e98bf0426f58">ArenaSpectator::SendCommand_UInt32Value</a></div><div class="ttdeci">void SendCommand_UInt32Value(T *o, ObjectGuid targetGUID, const char *prefix, uint32 t)</div><div class="ttdef"><b>Definition:</b> ArenaSpectator.h:62</div></div>
<div class="ttc" id="aa04723_html_af537ad9da6345b285d2d726b640a0340"><div class="ttname"><a href="../../dc/d12/a04723.html#af537ad9da6345b285d2d726b640a0340">ArenaSpectator::SendCommand_GUID</a></div><div class="ttdeci">void SendCommand_GUID(T *o, ObjectGuid targetGUID, const char *prefix, ObjectGuid t)</div><div class="ttdef"><b>Definition:</b> ArenaSpectator.h:71</div></div>
<div class="ttc" id="aa07150_html"><div class="ttname"><a href="../../df/ddd/a07150.html">Battleground</a></div><div class="ttdef"><b>Definition:</b> Battleground.h:303</div></div>
<div class="ttc" id="aa07150_html_a89ad7beedc7aca0506c87d983b74eee4"><div class="ttname"><a href="../../df/ddd/a07150.html#a89ad7beedc7aca0506c87d983b74eee4">Battleground::BattlegroundPlayerMap</a></div><div class="ttdeci">std::map&lt; ObjectGuid, Player * &gt; BattlegroundPlayerMap</div><div class="ttdef"><b>Definition:</b> Battleground.h:417</div></div>
<div class="ttc" id="aa07150_html_a9cb3765aa8a79a83e1402d60835c0ae8"><div class="ttname"><a href="../../df/ddd/a07150.html#a9cb3765aa8a79a83e1402d60835c0ae8">Battleground::GetStartTime</a></div><div class="ttdeci">uint32 GetStartTime() const</div><div class="ttdef"><b>Definition:</b> Battleground.h:334</div></div>
<div class="ttc" id="aa07150_html_a9e2bbc0cf8fe25b492486503fbe8d673"><div class="ttname"><a href="../../df/ddd/a07150.html#a9e2bbc0cf8fe25b492486503fbe8d673">Battleground::GetPlayers</a></div><div class="ttdeci">BattlegroundPlayerMap const &amp; GetPlayers() const</div><div class="ttdef"><b>Definition:</b> Battleground.h:418</div></div>
<div class="ttc" id="aa07150_html_aaa7ab97fdd1ee4fda63deba7eabe9cb1"><div class="ttname"><a href="../../df/ddd/a07150.html#aaa7ab97fdd1ee4fda63deba7eabe9cb1">Battleground::GetStatus</a></div><div class="ttdeci">BattlegroundStatus GetStatus() const</div><div class="ttdef"><b>Definition:</b> Battleground.h:332</div></div>
<div class="ttc" id="aa07846_html_a97fd2015b3956323ef777b5f9e23a1e8"><div class="ttname"><a href="../../d8/d56/a07846.html#a97fd2015b3956323ef777b5f9e23a1e8">Creature::GetCreatureTemplate</a></div><div class="ttdeci">CreatureTemplate const * GetCreatureTemplate() const</div><div class="ttdef"><b>Definition:</b> Creature.h:205</div></div>
<div class="ttc" id="aa07874_html_af596e49e3418f003b8ed9c6bb8305e01"><div class="ttname"><a href="../../d9/d64/a07874.html#af596e49e3418f003b8ed9c6bb8305e01">CreatureTemplate::family</a></div><div class="ttdeci">uint32 family</div><div class="ttdef"><b>Definition:</b> CreatureData.h:217</div></div>
<div class="ttc" id="aa08218_html_a3aeab7def818ba6c50249f197ad2f9ca"><div class="ttname"><a href="../../de/d68/a08218.html#a3aeab7def818ba6c50249f197ad2f9ca">Object::IsInWorld</a></div><div class="ttdeci">bool IsInWorld() const</div><div class="ttdef"><b>Definition:</b> Object.h:107</div></div>
<div class="ttc" id="aa08218_html_ad23b997e2442fa6a6228ba73a7ecc138"><div class="ttname"><a href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">Object::GetGUID</a></div><div class="ttdeci">static ObjectGuid GetGUID(Object const *o)</div><div class="ttdef"><b>Definition:</b> Object.h:112</div></div>
<div class="ttc" id="aa08250_html_a1e43fee59e696ae47ed06191ae3b1b82"><div class="ttname"><a href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">WorldObject::FindMap</a></div><div class="ttdeci">Map * FindMap() const</div><div class="ttdef"><b>Definition:</b> Object.h:537</div></div>
<div class="ttc" id="aa08250_html_a7e67658eb5aa058bc7f46bf6b11a797c"><div class="ttname"><a href="../../de/d0d/a08250.html#a7e67658eb5aa058bc7f46bf6b11a797c">WorldObject::GetName</a></div><div class="ttdeci">std::string const &amp; GetName() const</div><div class="ttdef"><b>Definition:</b> Object.h:463</div></div>
<div class="ttc" id="aa08330_html"><div class="ttname"><a href="../../db/d14/a08330.html">Pet</a></div><div class="ttdef"><b>Definition:</b> Pet.h:41</div></div>
<div class="ttc" id="aa08466_html"><div class="ttname"><a href="../../dc/d06/a08466.html">Player</a></div><div class="ttdef"><b>Definition:</b> Player.h:1081</div></div>
<div class="ttc" id="aa08466_html_a56895d0a241eb0f36211ef34f3caaf4e"><div class="ttname"><a href="../../dc/d06/a08466.html#a56895d0a241eb0f36211ef34f3caaf4e">Player::HasReceivedSpectatorResetFor</a></div><div class="ttdeci">bool HasReceivedSpectatorResetFor(ObjectGuid guid)</div><div class="ttdef"><b>Definition:</b> Player.h:2586</div></div>
<div class="ttc" id="aa08466_html_a5eef7fef24e4a9269d1ee834bc2bd501"><div class="ttname"><a href="../../dc/d06/a08466.html#a5eef7fef24e4a9269d1ee834bc2bd501">Player::GetPet</a></div><div class="ttdeci">Pet * GetPet() const</div><div class="ttdef"><b>Definition:</b> Player.cpp:8939</div></div>
<div class="ttc" id="aa08466_html_a6307a2b4db34ca2997248becd8c70ec9"><div class="ttname"><a href="../../dc/d06/a08466.html#a6307a2b4db34ca2997248becd8c70ec9">Player::AddReceivedSpectatorResetFor</a></div><div class="ttdeci">void AddReceivedSpectatorResetFor(ObjectGuid guid)</div><div class="ttdef"><b>Definition:</b> Player.h:2588</div></div>
<div class="ttc" id="aa08466_html_a8f007a82e79d25a390bca316a922a83e"><div class="ttname"><a href="../../dc/d06/a08466.html#a8f007a82e79d25a390bca316a922a83e">Player::GetSpellCooldownMap</a></div><div class="ttdeci">SpellCooldowns const &amp; GetSpellCooldownMap() const</div><div class="ttdef"><b>Definition:</b> Player.h:1779</div></div>
<div class="ttc" id="aa08466_html_afcf1880d221c0af14b0e0c6b54b328ab"><div class="ttname"><a href="../../dc/d06/a08466.html#afcf1880d221c0af14b0e0c6b54b328ab">Player::GetBgTeamId</a></div><div class="ttdeci">TeamId GetBgTeamId() const</div><div class="ttdef"><b>Definition:</b> Player.h:2281</div></div>
<div class="ttc" id="aa08598_html_a0cb842af542d302eb67b743078e1ac01"><div class="ttname"><a href="../../d4/d46/a08598.html#a0cb842af542d302eb67b743078e1ac01">Unit::GetHealthPct</a></div><div class="ttdeci">float GetHealthPct() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1031</div></div>
<div class="ttc" id="aa08598_html_a5173c1774b09b42c409bf31280c37d36"><div class="ttname"><a href="../../d4/d46/a08598.html#a5173c1774b09b42c409bf31280c37d36">Unit::GetMaxHealth</a></div><div class="ttdeci">uint32 GetMaxHealth() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1030</div></div>
<div class="ttc" id="aa08598_html_a58a507ebe628930b8a506144b364d84b"><div class="ttname"><a href="../../d4/d46/a08598.html#a58a507ebe628930b8a506144b364d84b">Unit::getClass</a></div><div class="ttdeci">uint8 getClass() const</div><div class="ttdef"><b>Definition:</b> Unit.h:800</div></div>
<div class="ttc" id="aa08598_html_a5ea3f54af571493f7889220724667189"><div class="ttname"><a href="../../d4/d46/a08598.html#a5ea3f54af571493f7889220724667189">Unit::IsAlive</a></div><div class="ttdeci">bool IsAlive() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1654</div></div>
<div class="ttc" id="aa08598_html_a6bbd36a660c01a3d5f3e28a6e8eb894c"><div class="ttname"><a href="../../d4/d46/a08598.html#a6bbd36a660c01a3d5f3e28a6e8eb894c">Unit::VisibleAuraMap</a></div><div class="ttdeci">std::map&lt; uint8, AuraApplication * &gt; VisibleAuraMap</div><div class="ttdef"><b>Definition:</b> Unit.h:652</div></div>
<div class="ttc" id="aa08598_html_a93f83fd909310de2c76382d00d7dbbf1"><div class="ttname"><a href="../../d4/d46/a08598.html#a93f83fd909310de2c76382d00d7dbbf1">Unit::GetMaxPower</a></div><div class="ttdeci">uint32 GetMaxPower(Powers power) const</div><div class="ttdef"><b>Definition:</b> Unit.h:1057</div></div>
<div class="ttc" id="aa08598_html_a958172d6051b106e3b3c776e4f9f3952"><div class="ttname"><a href="../../d4/d46/a08598.html#a958172d6051b106e3b3c776e4f9f3952">Unit::GetHealth</a></div><div class="ttdeci">uint32 GetHealth() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1029</div></div>
<div class="ttc" id="aa08598_html_aa7c7c23be40f1b4a96d5d98a1d447ed0"><div class="ttname"><a href="../../d4/d46/a08598.html#aa7c7c23be40f1b4a96d5d98a1d447ed0">Unit::GetVisibleAuras</a></div><div class="ttdeci">VisibleAuraMap const * GetVisibleAuras()</div><div class="ttdef"><b>Definition:</b> Unit.h:1412</div></div>
<div class="ttc" id="aa08598_html_ad44d31430fab9282a79e8682822ccd9c"><div class="ttname"><a href="../../d4/d46/a08598.html#ad44d31430fab9282a79e8682822ccd9c">Unit::getPowerType</a></div><div class="ttdeci">Powers getPowerType() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1052</div></div>
<div class="ttc" id="aa08598_html_ad7e475d80b9af430cc076d7c01f967e9"><div class="ttname"><a href="../../d4/d46/a08598.html#ad7e475d80b9af430cc076d7c01f967e9">Unit::GetPower</a></div><div class="ttdeci">uint32 GetPower(Powers power) const</div><div class="ttdef"><b>Definition:</b> Unit.h:1056</div></div>
<div class="ttc" id="aa08598_html_af387d5e18806e37f65ebc3408c0b8712"><div class="ttname"><a href="../../d4/d46/a08598.html#af387d5e18806e37f65ebc3408c0b8712">Unit::GetTarget</a></div><div class="ttdeci">ObjectGuid GetTarget() const</div><div class="ttdef"><b>Definition:</b> Unit.h:818</div></div>
<div class="ttc" id="aa09618_html_afe645aa76713224c7e7fcd0f5e12fc79"><div class="ttname"><a href="../../df/dae/a09618.html#afe645aa76713224c7e7fcd0f5e12fc79">Map::IsBattleArena</a></div><div class="ttdeci">bool IsBattleArena() const</div><div class="ttdef"><b>Definition:</b> Map.h:453</div></div>
<div class="ttc" id="aa09626_html"><div class="ttname"><a href="../../d6/da3/a09626.html">BattlegroundMap</a></div><div class="ttdef"><b>Definition:</b> Map.h:851</div></div>
<div class="ttc" id="aa10862_html"><div class="ttname"><a href="../../d1/dfa/a10862.html">Aura</a></div><div class="ttdef"><b>Definition:</b> SpellAuras.h:87</div></div>
<div class="ttc" id="aa10862_html_a14457cfa6d589b8024bbeeb1d4aa03d3"><div class="ttname"><a href="../../d1/dfa/a10862.html#a14457cfa6d589b8024bbeeb1d4aa03d3">Aura::GetMaxDuration</a></div><div class="ttdeci">int32 GetMaxDuration() const</div><div class="ttdef"><b>Definition:</b> SpellAuras.h:129</div></div>
<div class="ttc" id="aa10862_html_a3c4dfe75dad16fbf2afaf23ce77e4262"><div class="ttname"><a href="../../d1/dfa/a10862.html#a3c4dfe75dad16fbf2afaf23ce77e4262">Aura::GetCasterGUID</a></div><div class="ttdeci">ObjectGuid GetCasterGUID() const</div><div class="ttdef"><b>Definition:</b> SpellAuras.h:105</div></div>
<div class="ttc" id="aa10862_html_a5e79eaa33b5f9ae5aaa44a62d096d6fe"><div class="ttname"><a href="../../d1/dfa/a10862.html#a5e79eaa33b5f9ae5aaa44a62d096d6fe">Aura::GetDuration</a></div><div class="ttdeci">int32 GetDuration() const</div><div class="ttdef"><b>Definition:</b> SpellAuras.h:133</div></div>
<div class="ttc" id="aa10862_html_aae0b7e0da61a681e67a19b6d23c2cee6"><div class="ttname"><a href="../../d1/dfa/a10862.html#aae0b7e0da61a681e67a19b6d23c2cee6">Aura::GetStackAmount</a></div><div class="ttdeci">uint8 GetStackAmount() const</div><div class="ttdef"><b>Definition:</b> SpellAuras.h:148</div></div>
<div class="ttc" id="aa10862_html_ab07705be94c0c10fce558c80d7208e0b"><div class="ttname"><a href="../../d1/dfa/a10862.html#ab07705be94c0c10fce558c80d7208e0b">Aura::GetCharges</a></div><div class="ttdeci">uint8 GetCharges() const</div><div class="ttdef"><b>Definition:</b> SpellAuras.h:141</div></div>
<div class="ttc" id="aa10862_html_ab4abe60bbc09777bab95a0a0ec66af25"><div class="ttname"><a href="../../d1/dfa/a10862.html#ab4abe60bbc09777bab95a0a0ec66af25">Aura::GetSpellInfo</a></div><div class="ttdeci">SpellInfo const * GetSpellInfo() const</div><div class="ttdef"><b>Definition:</b> SpellAuras.h:100</div></div>
<div class="ttc" id="aa10966_html_a49bc14059c2bd3785231c52e0d54d382"><div class="ttname"><a href="../../d5/d44/a10966.html#a49bc14059c2bd3785231c52e0d54d382">SpellInfo::Id</a></div><div class="ttdeci">uint32 Id</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:320</div></div>
<div class="ttc" id="aa10966_html_a642e1537c76965d64f443c2891eb3d4b"><div class="ttname"><a href="../../d5/d44/a10966.html#a642e1537c76965d64f443c2891eb3d4b">SpellInfo::Dispel</a></div><div class="ttdeci">uint32 Dispel</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:322</div></div>
<div class="ttc" id="aa10966_html_adef74790281b92d72ac2c2118a665096"><div class="ttname"><a href="../../d5/d44/a10966.html#adef74790281b92d72ac2c2118a665096">SpellInfo::IsPositive</a></div><div class="ttdeci">bool IsPositive() const</div><div class="ttdef"><b>Definition:</b> SpellInfo.cpp:1237</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l02588">Player::AddReceivedSpectatorResetFor()</a>, <a class="el" href="../../#l00768">ALLIANCE</a>, <a class="el" href="../../#l00322">SpellInfo::Dispel</a>, <a class="el" href="../../#l00217">CreatureTemplate::family</a>, <a class="el" href="../../#l00537">WorldObject::FindMap()</a>, <a class="el" href="../../#l02281">Player::GetBgTeamId()</a>, <a class="el" href="../../#l00105">Aura::GetCasterGUID()</a>, <a class="el" href="../../#l00141">Aura::GetCharges()</a>, <a class="el" href="../../#l00800">Unit::getClass()</a>, <a class="el" href="../../#l00205">Creature::GetCreatureTemplate()</a>, <a class="el" href="../../#l00133">Aura::GetDuration()</a>, <a class="el" href="../../#l00176">Aura::GetEffectMask()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l01029">Unit::GetHealth()</a>, <a class="el" href="../../#l01031">Unit::GetHealthPct()</a>, <a class="el" href="../../#l00129">Aura::GetMaxDuration()</a>, <a class="el" href="../../#l01030">Unit::GetMaxHealth()</a>, <a class="el" href="../../#l01057">Unit::GetMaxPower()</a>, <a class="el" href="../../#l00103">getMSTime()</a>, <a class="el" href="../../#l00110">getMSTimeDiff()</a>, <a class="el" href="../../#l00463">WorldObject::GetName()</a>, <a class="el" href="../../#l08939">Player::GetPet()</a>, <a class="el" href="../../#l00418">Battleground::GetPlayers()</a>, <a class="el" href="../../#l01056">Unit::GetPower()</a>, <a class="el" href="../../#l01052">Unit::getPowerType()</a>, <a class="el" href="../../#l01779">Player::GetSpellCooldownMap()</a>, <a class="el" href="../../#l00100">Aura::GetSpellInfo()</a>, <a class="el" href="../../#l00148">Aura::GetStackAmount()</a>, <a class="el" href="../../#l00334">Battleground::GetStartTime()</a>, <a class="el" href="../../#l00332">Battleground::GetStatus()</a>, <a class="el" href="../../#l00818">Unit::GetTarget()</a>, <a class="el" href="../../#l01412">Unit::GetVisibleAuras()</a>, <a class="el" href="../../#l02586">Player::HasReceivedSpectatorResetFor()</a>, <a class="el" href="../../#l00767">HORDE</a>, <a class="el" href="../../#l00320">SpellInfo::Id</a>, <a class="el" href="../../#l00053">IN_MILLISECONDS</a>, <a class="el" href="../../#l01654">Unit::IsAlive()</a>, <a class="el" href="../../#l00453">Map::IsBattleArena()</a>, <a class="el" href="../../#l00107">Object::IsInWorld()</a>, <a class="el" href="../../#l01237">SpellInfo::IsPositive()</a>, <a class="el" href="../../#l00047">MINUTE</a>, <a class="el" href="../../#l00270">POWER_RAGE</a>, <a class="el" href="../../#l00275">POWER_RUNIC_POWER</a>, <a class="el" href="../../#l00102">SendCommand_Aura()</a>, <a class="el" href="../../#l00089">SendCommand_Cooldown()</a>, <a class="el" href="../../#l00071">SendCommand_GUID()</a>, <a class="el" href="../../#l00053">SendCommand_String()</a>, <a class="el" href="../../#l00062">SendCommand_UInt32Value()</a>, <a class="el" href="../../#l00282">ShouldSendAura()</a>, <a class="el" href="../../#l00037">SPECTATOR_COOLDOWN_MAX</a>, <a class="el" href="../../#l00036">SPECTATOR_COOLDOWN_MIN</a>, <a class="el" href="../../#l00202">STATUS_IN_PROGRESS</a>, and <a class="el" href="../../#l00760">TEAM_ALLIANCE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00460">Battleground::_ProcessJoin()</a>, <a class="el" href="../../#l00050">WorldSession::HandleMoveWorldportAck()</a>, and <a class="el" href="../../#l00065">spectator_commandscript::HandleSpectatorResetCommand()</a>.</p>

</div>
</div>
<a id="ac3b35eed76fdcf00f43b226912317b4a" name="ac3b35eed76fdcf00f43b226912317b4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3b35eed76fdcf00f43b226912317b4a">&#9670;&#160;</a></span>HandleSpectatorSpectateCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArenaSpectator::HandleSpectatorSpectateCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   29</span>{</div>
<div class="line"><span class="lineno">   30</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno">   31</span>    std::list&lt;std::string&gt; errors;</div>
<div class="line"><span class="lineno">   32</span> </div>
<div class="line"><span class="lineno">   33</span>    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ac5d6db67faffc024da4d9f83b434bed3">IsSpectator</a>())</div>
<div class="line"><span class="lineno">   34</span>    {</div>
<div class="line"><span class="lineno">   35</span>        <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">FindMap</a>() &amp;&amp; player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">FindMap</a>()-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#afe645aa76713224c7e7fcd0f5e12fc79">IsBattleArena</a>())</div>
<div class="line"><span class="lineno">   36</span>        {</div>
<div class="line"><span class="lineno">   37</span>            <a class="code hl_function" href="../../dc/d12/a04723.html#ae611c9f6783ca983d1ff667f36dd7c7d">HandleSpectatorWatchCommand</a>(handler, name);</div>
<div class="line"><span class="lineno">   38</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   39</span>        }</div>
<div class="line"><span class="lineno">   40</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;You are already spectacting arena.&quot;</span>);</div>
<div class="line"><span class="lineno">   41</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   42</span>    }</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a966607859ce9c9537038b9ca21b9e827">IsClass</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058">CLASS_DEATH_KNIGHT</a>, <a class="code hl_enumvalue" href="../../d8/dbe/a03521.html#a2a9983288cb2a06108c1d1a94c96c046a744fb18598cda5f7c53aff806d2fa2c2">CLASS_CONTEXT_TELEPORT</a>) &amp;&amp; player-&gt;<a class="code hl_function" href="../../d6/da3/a08310.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">GetMapId</a>() == 609)</div>
<div class="line"><span class="lineno">   45</span>    {</div>
<div class="line"><span class="lineno">   46</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Death Knights can&#39;t spectate before finishing questline.&quot;</span>);</div>
<div class="line"><span class="lineno">   47</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   48</span>    }</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* spectate = <a class="code hl_function" href="../../d4/da9/a04736.html#af5cb6806842c9689cf1d5f43ffdc4b0a">ObjectAccessor::FindPlayerByName</a>(name);</div>
<div class="line"><span class="lineno">   51</span>    <span class="keywordflow">if</span> (!spectate)</div>
<div class="line"><span class="lineno">   52</span>    {</div>
<div class="line"><span class="lineno">   53</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<span class="stringliteral">&quot;Requested player not found.&quot;</span>);</div>
<div class="line"><span class="lineno">   54</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   55</span>    }</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span>    <span class="keywordflow">if</span> (spectate-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ac5d6db67faffc024da4d9f83b434bed3">IsSpectator</a>())</div>
<div class="line"><span class="lineno">   58</span>    {</div>
<div class="line"><span class="lineno">   59</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<span class="stringliteral">&quot;Requested player is a spectator.&quot;</span>);</div>
<div class="line"><span class="lineno">   60</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   61</span>    }</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>    <span class="keywordflow">if</span> (!spectate-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">FindMap</a>() || !spectate-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">FindMap</a>()-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#afe645aa76713224c7e7fcd0f5e12fc79">IsBattleArena</a>())</div>
<div class="line"><span class="lineno">   64</span>    {</div>
<div class="line"><span class="lineno">   65</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<span class="stringliteral">&quot;Requested player is not in arena.&quot;</span>);</div>
<div class="line"><span class="lineno">   66</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   67</span>    }</div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>    <a class="code hl_class" href="../../d6/da3/a09626.html">BattlegroundMap</a>* bgmap = ((<a class="code hl_class" href="../../d6/da3/a09626.html">BattlegroundMap</a>*)spectate-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">FindMap</a>());</div>
<div class="line"><span class="lineno">   70</span>    <span class="keywordflow">if</span> (!bgmap-&gt;<a class="code hl_function" href="../../d6/da3/a09626.html#a2fcb965981bb03571f12c11cdbac54a4">GetBG</a>() || bgmap-&gt;<a class="code hl_function" href="../../d6/da3/a09626.html#a2fcb965981bb03571f12c11cdbac54a4">GetBG</a>()-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#aaa7ab97fdd1ee4fda63deba7eabe9cb1">GetStatus</a>() == <a class="code hl_enumvalue" href="../../db/d49/a03737.html#ad1473374651bd09f461cdc994a6bc8d2ae7efc0dc1952d03b010583a83242fab8">STATUS_WAIT_LEAVE</a>)</div>
<div class="line"><span class="lineno">   71</span>    {</div>
<div class="line"><span class="lineno">   72</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<span class="stringliteral">&quot;This arena battle has finished.&quot;</span>);</div>
<div class="line"><span class="lineno">   73</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   74</span>    }</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#af66560315fcbe492a24137bc8d96dd94">IsBeingTeleported</a>() || !player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#a3aeab7def818ba6c50249f197ad2f9ca">IsInWorld</a>())</div>
<div class="line"><span class="lineno">   77</span>        errors.push_back(<span class="stringliteral">&quot;Can&#39;t use while being teleported.&quot;</span>);</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>    <span class="keywordflow">if</span> (!player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">FindMap</a>() || player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">FindMap</a>()-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#aae3a929aefb05046ef304ffba10aae71">Instanceable</a>())</div>
<div class="line"><span class="lineno">   80</span>        errors.push_back(<span class="stringliteral">&quot;Can&#39;t use while in instance, bg or arena.&quot;</span>);</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a0839378167049038c2857252d3b14738">GetVehicle</a>())</div>
<div class="line"><span class="lineno">   83</span>        errors.push_back(<span class="stringliteral">&quot;Can&#39;t be on a vehicle.&quot;</span>);</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#af5e75d013dfa8a8b888d7714992e3f2a">IsInCombat</a>())</div>
<div class="line"><span class="lineno">   86</span>        errors.push_back(<span class="stringliteral">&quot;Can&#39;t be in combat.&quot;</span>);</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a24efb7d8df2c5a707130cfc382cabf94">isUsingLfg</a>())</div>
<div class="line"><span class="lineno">   89</span>        errors.push_back(<span class="stringliteral">&quot;Can&#39;t spectate while using LFG system.&quot;</span>);</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a68910cdec33bf9685215f8d39b3eee4a">InBattlegroundQueue</a>())</div>
<div class="line"><span class="lineno">   92</span>        errors.push_back(<span class="stringliteral">&quot;Can&#39;t be queued for arena or bg.&quot;</span>);</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a99fc00f9ac903dbe9adcadc5f7415abb">GetGroup</a>())</div>
<div class="line"><span class="lineno">   95</span>        errors.push_back(<span class="stringliteral">&quot;Can&#39;t be in a group.&quot;</span>);</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#ab78147cd520d2dac6be709b4c80a7de3">HasUnitState</a>(<a class="code hl_enumvalue" href="../../d8/dbe/a03521.html#ae51d2ecb71f7a5cb3882982a622c9544a7c4ae74029844364315885e02df35505">UNIT_STATE_ISOLATED</a>))</div>
<div class="line"><span class="lineno">   98</span>        errors.push_back(<span class="stringliteral">&quot;Can&#39;t be isolated.&quot;</span>);</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_variable" href="../../dc/d06/a08466.html#a33e10b3465ce2c1d997ca656af1258e4">m_mover</a> != player)</div>
<div class="line"><span class="lineno">  101</span>        errors.push_back(<span class="stringliteral">&quot;You must control yourself.&quot;</span>);</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a85b547eedd208db5f9dddc5f75a1a211">IsInFlight</a>())</div>
<div class="line"><span class="lineno">  104</span>        errors.push_back(<span class="stringliteral">&quot;Can&#39;t be in flight.&quot;</span>);</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#aa8ff700c8aec70f3ab1e1385262959b1">IsMounted</a>())</div>
<div class="line"><span class="lineno">  107</span>        errors.push_back(<span class="stringliteral">&quot;Dismount before spectating.&quot;</span>);</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">if</span> (!player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a5ea3f54af571493f7889220724667189">IsAlive</a>())</div>
<div class="line"><span class="lineno">  110</span>        errors.push_back(<span class="stringliteral">&quot;Must be alive.&quot;</span>);</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    <span class="keywordflow">if</span> (!player-&gt;<a class="code hl_variable" href="../../d4/d46/a08598.html#a148e79f1285e417f73d2a95b49fc2bf9">m_Controlled</a>.empty())</div>
<div class="line"><span class="lineno">  113</span>        errors.push_back(<span class="stringliteral">&quot;Can&#39;t be controlling creatures.&quot;</span>);</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d4/d46/a08598.html#a6bbd36a660c01a3d5f3e28a6e8eb894c">Unit::VisibleAuraMap</a>* va = player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#aa7c7c23be40f1b4a96d5d98a1d447ed0">GetVisibleAuras</a>();</div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> itr = va-&gt;begin(); itr != va-&gt;end(); ++itr)</div>
<div class="line"><span class="lineno">  117</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d1/dfa/a10862.html">Aura</a>* aura = itr-&gt;second-&gt;GetBase())</div>
<div class="line"><span class="lineno">  118</span>            <span class="keywordflow">if</span> (!itr-&gt;second-&gt;IsPositive() &amp;&amp; !aura-&gt;IsPermanent() &amp;&amp; aura-&gt;GetDuration() &lt; <a class="code hl_variable" href="../../d4/d51/a00017.html#ac78ba8a81d12635c129fe2f92ca46c6f">HOUR</a> * <a class="code hl_variable" href="../../d4/d51/a00017.html#a84190f79c8167211609f67284e066c58">IN_MILLISECONDS</a>)</div>
<div class="line"><span class="lineno">  119</span>            {</div>
<div class="line"><span class="lineno">  120</span>                <span class="keywordflow">switch</span> (aura-&gt;GetSpellInfo()-&gt;Id)</div>
<div class="line"><span class="lineno">  121</span>                {</div>
<div class="line"><span class="lineno">  122</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/deb/a04732.html#a2b5cf5a4940992366122159776b67c7cad66eeedac753103a97f53bb7e31ac898">lfg::LFG_SPELL_DUNGEON_DESERTER</a>:</div>
<div class="line"><span class="lineno">  123</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d7/deb/a04732.html#a2b5cf5a4940992366122159776b67c7ca3ae4cb3e189406d52dcacbb4f110b158">lfg::LFG_SPELL_DUNGEON_COOLDOWN</a>:</div>
<div class="line"><span class="lineno">  124</span>                    <span class="keywordflow">case</span> 26013: <span class="comment">// bg deserter</span></div>
<div class="line"><span class="lineno">  125</span>                    <span class="keywordflow">case</span> 57724: <span class="comment">// sated</span></div>
<div class="line"><span class="lineno">  126</span>                    <span class="keywordflow">case</span> 57723: <span class="comment">// exhaustion</span></div>
<div class="line"><span class="lineno">  127</span>                    <span class="keywordflow">case</span> 25771: <span class="comment">// forbearance</span></div>
<div class="line"><span class="lineno">  128</span>                    <span class="keywordflow">case</span> 15007: <span class="comment">// resurrection sickness</span></div>
<div class="line"><span class="lineno">  129</span>                    <span class="keywordflow">case</span> 24755: <span class="comment">// Tricked or Treated (z eventu)</span></div>
<div class="line"><span class="lineno">  130</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  131</span>                }</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>                errors.push_back(<span class="stringliteral">&quot;Can&#39;t have negative auras.&quot;</span>);</div>
<div class="line"><span class="lineno">  134</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  135</span>            }</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> inviteInstanceId = player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#aec995d50706b9d0e8401e1f3b6199296">GetPendingSpectatorInviteInstanceId</a>())</div>
<div class="line"><span class="lineno">  138</span>    {</div>
<div class="line"><span class="lineno">  139</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="../../df/ddd/a07150.html">Battleground</a>* tbg = <a class="code hl_define" href="../../d4/d5e/a03818.html#abe50926a988d0fff4ee6ba0358c6b278">sBattlegroundMgr</a>-&gt;GetBattleground(inviteInstanceId, <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2a8748942e38a5e4140daf8e10cb08f0c7">BATTLEGROUND_TYPE_NONE</a>))</div>
<div class="line"><span class="lineno">  140</span>            tbg-&gt;RemoveToBeTeleported(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno">  141</span>        player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#aab00da73ab9f8eb49ccefb35476ddaf8">SetPendingSpectatorInviteInstanceId</a>(0);</div>
<div class="line"><span class="lineno">  142</span>    }</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordtype">bool</span> bgPreparation = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordflow">if</span> ((!handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>() &amp;&amp; bgmap-&gt;<a class="code hl_function" href="../../d6/da3/a09626.html#a2fcb965981bb03571f12c11cdbac54a4">GetBG</a>()-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#aaa7ab97fdd1ee4fda63deba7eabe9cb1">GetStatus</a>() != <a class="code hl_enumvalue" href="../../db/d49/a03737.html#ad1473374651bd09f461cdc994a6bc8d2afaf0b6349b8a93b543f64c744e321d5a">STATUS_IN_PROGRESS</a>) ||</div>
<div class="line"><span class="lineno">  146</span>            (handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a38f29ba7dc5216093dd812cf3e7861df">GetSecurity</a>() &amp;&amp; bgmap-&gt;<a class="code hl_function" href="../../d6/da3/a09626.html#a2fcb965981bb03571f12c11cdbac54a4">GetBG</a>()-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#aaa7ab97fdd1ee4fda63deba7eabe9cb1">GetStatus</a>() != <a class="code hl_enumvalue" href="../../db/d49/a03737.html#ad1473374651bd09f461cdc994a6bc8d2af0b95a17deaea4fc8f467eaacaa515b2">STATUS_WAIT_JOIN</a> &amp;&amp; bgmap-&gt;<a class="code hl_function" href="../../d6/da3/a09626.html#a2fcb965981bb03571f12c11cdbac54a4">GetBG</a>()-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#aaa7ab97fdd1ee4fda63deba7eabe9cb1">GetStatus</a>() != <a class="code hl_enumvalue" href="../../db/d49/a03737.html#ad1473374651bd09f461cdc994a6bc8d2afaf0b6349b8a93b543f64c744e321d5a">STATUS_IN_PROGRESS</a>))</div>
<div class="line"><span class="lineno">  147</span>    {</div>
<div class="line"><span class="lineno">  148</span>        bgPreparation = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  149</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<span class="stringliteral">&quot;Arena is not in progress yet. You will be invited as soon as it starts.&quot;</span>);</div>
<div class="line"><span class="lineno">  150</span>        bgmap-&gt;<a class="code hl_function" href="../../d6/da3/a09626.html#a2fcb965981bb03571f12c11cdbac54a4">GetBG</a>()-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#a15ae5454869e14bf35aa3df6cfe3be8f">AddToBeTeleported</a>(player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), spectate-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno">  151</span>        player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#aab00da73ab9f8eb49ccefb35476ddaf8">SetPendingSpectatorInviteInstanceId</a>(spectate-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ac0238c1e89a66105296197175c2b121e">GetBattlegroundId</a>());</div>
<div class="line"><span class="lineno">  152</span>    }</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>    <span class="keywordflow">if</span> (!errors.empty())</div>
<div class="line"><span class="lineno">  155</span>    {</div>
<div class="line"><span class="lineno">  156</span>        handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;To spectate, please fix the following:&quot;</span>);</div>
<div class="line"><span class="lineno">  157</span>        <span class="keywordflow">for</span> (std::list&lt;std::string&gt;::const_iterator itr = errors.begin(); itr != errors.end(); ++itr)</div>
<div class="line"><span class="lineno">  158</span>            handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;- {}&quot;</span>, (*itr));</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  161</span>    }</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>    <span class="keywordflow">if</span> (bgPreparation)</div>
<div class="line"><span class="lineno">  164</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordtype">float</span> z = spectate-&gt;<a class="code hl_function" href="../../d6/da3/a08310.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">GetMapId</a>() == 618 ? std::max(28.27f, spectate-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#a4e813a59345a6275e8b87b96be03e60b">GetPositionZ</a>() + 0.25f) : spectate-&gt;GetPositionZ() + 0.25f;</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>    player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ae8c2ec9cbf0bfee766781f033fa75e22">SetPendingSpectatorForBG</a>(spectate-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ac0238c1e89a66105296197175c2b121e">GetBattlegroundId</a>());</div>
<div class="line"><span class="lineno">  169</span>    player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a6c28ad5b8a7d2bf507e1fbf8d2554c02">SetBattlegroundId</a>(spectate-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ac0238c1e89a66105296197175c2b121e">GetBattlegroundId</a>(), spectate-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a1db422d6843388c2b2a01eb2cbe06a96">GetBattlegroundTypeId</a>(), <a class="code hl_define" href="../../d0/dbd/a02771.html#ae00102953affc07f8aa49666d1b97c3c">PLAYER_MAX_BATTLEGROUND_QUEUES</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a1d009932a5dde84d818f627cfcfe3fe5">TEAM_NEUTRAL</a>);</div>
<div class="line"><span class="lineno">  170</span>    player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a45890cefbc8ee91ef68e6782dc7e03b8">SetEntryPoint</a>();</div>
<div class="line"><span class="lineno">  171</span>    player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#aa2eae30c1e0af118b9a6b5db0a1929b7">TeleportTo</a>(spectate-&gt;<a class="code hl_function" href="../../d6/da3/a08310.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">GetMapId</a>(), spectate-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ad5577c934d9e845b44759b67c534c3e8">GetPositionX</a>(), spectate-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#ae79fc664f6cd027f5d49f6c7df8e4c9e">GetPositionY</a>(), z, spectate-&gt;<a class="code hl_function" href="../../d8/d21/a08294.html#a74cabfb8f441acb38e1abd5bf6ecdc84">GetOrientation</a>(), <a class="code hl_enumvalue" href="../../d7/d13/a03365.html#a19f261ab504f8e06e9488bd5a3c23075ac848cb12b6d8ee4208900a15b9c7b3bc">TELE_TO_GM_MODE</a>);</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  174</span>}</div>
<div class="ttc" id="aa00017_html_ac78ba8a81d12635c129fe2f92ca46c6f"><div class="ttname"><a href="../../d4/d51/a00017.html#ac78ba8a81d12635c129fe2f92ca46c6f">HOUR</a></div><div class="ttdeci">constexpr auto HOUR</div><div class="ttdef"><b>Definition:</b> Common.h:48</div></div>
<div class="ttc" id="aa02771_html_a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058"><div class="ttname"><a href="../../d0/dbd/a02771.html#a86e4e3df7a5142175aa5df522d3346cfa7f7b30426fd386c181799196c1739058">CLASS_DEATH_KNIGHT</a></div><div class="ttdeci">@ CLASS_DEATH_KNIGHT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:146</div></div>
<div class="ttc" id="aa02771_html_aaef9ddb244c12d22800aee24c3b637a2a8748942e38a5e4140daf8e10cb08f0c7"><div class="ttname"><a href="../../d0/dbd/a02771.html#aaef9ddb244c12d22800aee24c3b637a2a8748942e38a5e4140daf8e10cb08f0c7">BATTLEGROUND_TYPE_NONE</a></div><div class="ttdeci">@ BATTLEGROUND_TYPE_NONE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3480</div></div>
<div class="ttc" id="aa02771_html_abfb349736a7699bdfcdb134035ef7865a1d009932a5dde84d818f627cfcfe3fe5"><div class="ttname"><a href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a1d009932a5dde84d818f627cfcfe3fe5">TEAM_NEUTRAL</a></div><div class="ttdeci">@ TEAM_NEUTRAL</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:762</div></div>
<div class="ttc" id="aa02771_html_ae00102953affc07f8aa49666d1b97c3c"><div class="ttname"><a href="../../d0/dbd/a02771.html#ae00102953affc07f8aa49666d1b97c3c">PLAYER_MAX_BATTLEGROUND_QUEUES</a></div><div class="ttdeci">#define PLAYER_MAX_BATTLEGROUND_QUEUES</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:176</div></div>
<div class="ttc" id="aa03365_html_a19f261ab504f8e06e9488bd5a3c23075ac848cb12b6d8ee4208900a15b9c7b3bc"><div class="ttname"><a href="../../d7/d13/a03365.html#a19f261ab504f8e06e9488bd5a3c23075ac848cb12b6d8ee4208900a15b9c7b3bc">TELE_TO_GM_MODE</a></div><div class="ttdeci">@ TELE_TO_GM_MODE</div><div class="ttdef"><b>Definition:</b> Player.h:826</div></div>
<div class="ttc" id="aa03521_html_a2a9983288cb2a06108c1d1a94c96c046a744fb18598cda5f7c53aff806d2fa2c2"><div class="ttname"><a href="../../d8/dbe/a03521.html#a2a9983288cb2a06108c1d1a94c96c046a744fb18598cda5f7c53aff806d2fa2c2">CLASS_CONTEXT_TELEPORT</a></div><div class="ttdeci">@ CLASS_CONTEXT_TELEPORT</div><div class="ttdef"><b>Definition:</b> UnitDefines.h:228</div></div>
<div class="ttc" id="aa03521_html_ae51d2ecb71f7a5cb3882982a622c9544a7c4ae74029844364315885e02df35505"><div class="ttname"><a href="../../d8/dbe/a03521.html#ae51d2ecb71f7a5cb3882982a622c9544a7c4ae74029844364315885e02df35505">UNIT_STATE_ISOLATED</a></div><div class="ttdeci">@ UNIT_STATE_ISOLATED</div><div class="ttdef"><b>Definition:</b> UnitDefines.h:183</div></div>
<div class="ttc" id="aa03737_html_ad1473374651bd09f461cdc994a6bc8d2ae7efc0dc1952d03b010583a83242fab8"><div class="ttname"><a href="../../db/d49/a03737.html#ad1473374651bd09f461cdc994a6bc8d2ae7efc0dc1952d03b010583a83242fab8">STATUS_WAIT_LEAVE</a></div><div class="ttdeci">@ STATUS_WAIT_LEAVE</div><div class="ttdef"><b>Definition:</b> Battleground.h:203</div></div>
<div class="ttc" id="aa03737_html_ad1473374651bd09f461cdc994a6bc8d2af0b95a17deaea4fc8f467eaacaa515b2"><div class="ttname"><a href="../../db/d49/a03737.html#ad1473374651bd09f461cdc994a6bc8d2af0b95a17deaea4fc8f467eaacaa515b2">STATUS_WAIT_JOIN</a></div><div class="ttdeci">@ STATUS_WAIT_JOIN</div><div class="ttdef"><b>Definition:</b> Battleground.h:201</div></div>
<div class="ttc" id="aa03818_html_abe50926a988d0fff4ee6ba0358c6b278"><div class="ttname"><a href="../../d4/d5e/a03818.html#abe50926a988d0fff4ee6ba0358c6b278">sBattlegroundMgr</a></div><div class="ttdeci">#define sBattlegroundMgr</div><div class="ttdef"><b>Definition:</b> BattlegroundMgr.h:186</div></div>
<div class="ttc" id="aa04723_html_ae611c9f6783ca983d1ff667f36dd7c7d"><div class="ttname"><a href="../../dc/d12/a04723.html#ae611c9f6783ca983d1ff667f36dd7c7d">ArenaSpectator::HandleSpectatorWatchCommand</a></div><div class="ttdeci">AC_GAME_API bool HandleSpectatorWatchCommand(ChatHandler *handler, std::string const &amp;name)</div><div class="ttdef"><b>Definition:</b> ArenaSpectator.cpp:176</div></div>
<div class="ttc" id="aa04732_html_a2b5cf5a4940992366122159776b67c7ca3ae4cb3e189406d52dcacbb4f110b158"><div class="ttname"><a href="../../d7/deb/a04732.html#a2b5cf5a4940992366122159776b67c7ca3ae4cb3e189406d52dcacbb4f110b158">lfg::LFG_SPELL_DUNGEON_COOLDOWN</a></div><div class="ttdeci">@ LFG_SPELL_DUNGEON_COOLDOWN</div><div class="ttdef"><b>Definition:</b> LFGMgr.h:52</div></div>
<div class="ttc" id="aa04732_html_a2b5cf5a4940992366122159776b67c7cad66eeedac753103a97f53bb7e31ac898"><div class="ttname"><a href="../../d7/deb/a04732.html#a2b5cf5a4940992366122159776b67c7cad66eeedac753103a97f53bb7e31ac898">lfg::LFG_SPELL_DUNGEON_DESERTER</a></div><div class="ttdeci">@ LFG_SPELL_DUNGEON_DESERTER</div><div class="ttdef"><b>Definition:</b> LFGMgr.h:53</div></div>
<div class="ttc" id="aa04736_html_af5cb6806842c9689cf1d5f43ffdc4b0a"><div class="ttname"><a href="../../d4/da9/a04736.html#af5cb6806842c9689cf1d5f43ffdc4b0a">ObjectAccessor::FindPlayerByName</a></div><div class="ttdeci">Player * FindPlayerByName(std::string const &amp;name, bool checkInWorld=true)</div><div class="ttdef"><b>Definition:</b> ObjectAccessor.cpp:271</div></div>
<div class="ttc" id="aa07150_html_a15ae5454869e14bf35aa3df6cfe3be8f"><div class="ttname"><a href="../../df/ddd/a07150.html#a15ae5454869e14bf35aa3df6cfe3be8f">Battleground::AddToBeTeleported</a></div><div class="ttdeci">void AddToBeTeleported(ObjectGuid spectator, ObjectGuid participant)</div><div class="ttdef"><b>Definition:</b> Battleground.h:409</div></div>
<div class="ttc" id="aa07362_html_a54305506d6194dfdd1c1a3f30c8d1d62"><div class="ttname"><a href="../../d4/d99/a07362.html#a54305506d6194dfdd1c1a3f30c8d1d62">ChatHandler::PSendSysMessage</a></div><div class="ttdeci">void PSendSysMessage(std::string_view str, bool escapeCharacters=false)</div><div class="ttdef"><b>Definition:</b> Chat.cpp:210</div></div>
<div class="ttc" id="aa07362_html_a635eca3065c9464e0cdcedd9f0740daa"><div class="ttname"><a href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">ChatHandler::GetSession</a></div><div class="ttdeci">WorldSession * GetSession()</div><div class="ttdef"><b>Definition:</b> Chat.h:242</div></div>
<div class="ttc" id="aa07362_html_ac1ed346507097817b3f8e00f0ae657a0"><div class="ttname"><a href="../../d4/d99/a07362.html#ac1ed346507097817b3f8e00f0ae657a0">ChatHandler::SendSysMessage</a></div><div class="ttdeci">virtual void SendSysMessage(std::string_view str, bool escapeCharacters=false)</div><div class="ttdef"><b>Definition:</b> Chat.cpp:159</div></div>
<div class="ttc" id="aa08294_html_a4e813a59345a6275e8b87b96be03e60b"><div class="ttname"><a href="../../d8/d21/a08294.html#a4e813a59345a6275e8b87b96be03e60b">Position::GetPositionZ</a></div><div class="ttdeci">float GetPositionZ() const</div><div class="ttdef"><b>Definition:</b> Position.h:118</div></div>
<div class="ttc" id="aa08294_html_a74cabfb8f441acb38e1abd5bf6ecdc84"><div class="ttname"><a href="../../d8/d21/a08294.html#a74cabfb8f441acb38e1abd5bf6ecdc84">Position::GetOrientation</a></div><div class="ttdeci">float GetOrientation() const</div><div class="ttdef"><b>Definition:</b> Position.h:119</div></div>
<div class="ttc" id="aa08294_html_ad5577c934d9e845b44759b67c534c3e8"><div class="ttname"><a href="../../d8/d21/a08294.html#ad5577c934d9e845b44759b67c534c3e8">Position::GetPositionX</a></div><div class="ttdeci">float GetPositionX() const</div><div class="ttdef"><b>Definition:</b> Position.h:116</div></div>
<div class="ttc" id="aa08294_html_ae79fc664f6cd027f5d49f6c7df8e4c9e"><div class="ttname"><a href="../../d8/d21/a08294.html#ae79fc664f6cd027f5d49f6c7df8e4c9e">Position::GetPositionY</a></div><div class="ttdeci">float GetPositionY() const</div><div class="ttdef"><b>Definition:</b> Position.h:117</div></div>
<div class="ttc" id="aa08310_html_a2682e56ae4f0ce4b517a8ba3cd2798b1"><div class="ttname"><a href="../../d6/da3/a08310.html#a2682e56ae4f0ce4b517a8ba3cd2798b1">WorldLocation::GetMapId</a></div><div class="ttdeci">uint32 GetMapId() const</div><div class="ttdef"><b>Definition:</b> Position.h:275</div></div>
<div class="ttc" id="aa08466_html_a1db422d6843388c2b2a01eb2cbe06a96"><div class="ttname"><a href="../../dc/d06/a08466.html#a1db422d6843388c2b2a01eb2cbe06a96">Player::GetBattlegroundTypeId</a></div><div class="ttdeci">BattlegroundTypeId GetBattlegroundTypeId() const</div><div class="ttdef"><b>Definition:</b> Player.h:2258</div></div>
<div class="ttc" id="aa08466_html_a24efb7d8df2c5a707130cfc382cabf94"><div class="ttname"><a href="../../dc/d06/a08466.html#a24efb7d8df2c5a707130cfc382cabf94">Player::isUsingLfg</a></div><div class="ttdeci">bool isUsingLfg()</div><div class="ttdef"><b>Definition:</b> Player.cpp:13103</div></div>
<div class="ttc" id="aa08466_html_a33e10b3465ce2c1d997ca656af1258e4"><div class="ttname"><a href="../../dc/d06/a08466.html#a33e10b3465ce2c1d997ca656af1258e4">Player::m_mover</a></div><div class="ttdeci">SafeUnitPointer m_mover</div><div class="ttdef"><b>Definition:</b> Player.h:2336</div></div>
<div class="ttc" id="aa08466_html_a45890cefbc8ee91ef68e6782dc7e03b8"><div class="ttname"><a href="../../dc/d06/a08466.html#a45890cefbc8ee91ef68e6782dc7e03b8">Player::SetEntryPoint</a></div><div class="ttdeci">void SetEntryPoint()</div><div class="ttdef"><b>Definition:</b> Player.cpp:11316</div></div>
<div class="ttc" id="aa08466_html_a68910cdec33bf9685215f8d39b3eee4a"><div class="ttname"><a href="../../dc/d06/a08466.html#a68910cdec33bf9685215f8d39b3eee4a">Player::InBattlegroundQueue</a></div><div class="ttdeci">bool InBattlegroundQueue(bool ignoreArena=false) const</div><div class="ttdef"><b>Definition:</b> Player.cpp:12237</div></div>
<div class="ttc" id="aa08466_html_a6c28ad5b8a7d2bf507e1fbf8d2554c02"><div class="ttname"><a href="../../dc/d06/a08466.html#a6c28ad5b8a7d2bf507e1fbf8d2554c02">Player::SetBattlegroundId</a></div><div class="ttdeci">void SetBattlegroundId(uint32 id, BattlegroundTypeId bgTypeId, uint32 queueSlot, bool invited, bool isRandom, TeamId teamId)</div><div class="ttdef"><b>Definition:</b> Player.cpp:12338</div></div>
<div class="ttc" id="aa08466_html_a966607859ce9c9537038b9ca21b9e827"><div class="ttname"><a href="../../dc/d06/a08466.html#a966607859ce9c9537038b9ca21b9e827">Player::IsClass</a></div><div class="ttdeci">bool IsClass(Classes playerClass, ClassContext context=CLASS_CONTEXT_NONE) const override</div><div class="ttdef"><b>Definition:</b> Player.cpp:1284</div></div>
<div class="ttc" id="aa08466_html_a99fc00f9ac903dbe9adcadc5f7415abb"><div class="ttname"><a href="../../dc/d06/a08466.html#a99fc00f9ac903dbe9adcadc5f7415abb">Player::GetGroup</a></div><div class="ttdeci">Group * GetGroup()</div><div class="ttdef"><b>Definition:</b> Player.h:2471</div></div>
<div class="ttc" id="aa08466_html_aa2eae30c1e0af118b9a6b5db0a1929b7"><div class="ttname"><a href="../../dc/d06/a08466.html#aa2eae30c1e0af118b9a6b5db0a1929b7">Player::TeleportTo</a></div><div class="ttdeci">bool TeleportTo(uint32 mapid, float x, float y, float z, float orientation, uint32 options=0, Unit *target=nullptr, bool newInstance=false)</div><div class="ttdef"><b>Definition:</b> Player.cpp:1334</div></div>
<div class="ttc" id="aa08466_html_aab00da73ab9f8eb49ccefb35476ddaf8"><div class="ttname"><a href="../../dc/d06/a08466.html#aab00da73ab9f8eb49ccefb35476ddaf8">Player::SetPendingSpectatorInviteInstanceId</a></div><div class="ttdeci">void SetPendingSpectatorInviteInstanceId(uint32 bgInstanceId)</div><div class="ttdef"><b>Definition:</b> Player.h:2584</div></div>
<div class="ttc" id="aa08466_html_ac0238c1e89a66105296197175c2b121e"><div class="ttname"><a href="../../dc/d06/a08466.html#ac0238c1e89a66105296197175c2b121e">Player::GetBattlegroundId</a></div><div class="ttdeci">uint32 GetBattlegroundId() const</div><div class="ttdef"><b>Definition:</b> Player.h:2257</div></div>
<div class="ttc" id="aa08466_html_ac5d6db67faffc024da4d9f83b434bed3"><div class="ttname"><a href="../../dc/d06/a08466.html#ac5d6db67faffc024da4d9f83b434bed3">Player::IsSpectator</a></div><div class="ttdeci">bool IsSpectator() const</div><div class="ttdef"><b>Definition:</b> Player.h:2579</div></div>
<div class="ttc" id="aa08466_html_ae8c2ec9cbf0bfee766781f033fa75e22"><div class="ttname"><a href="../../dc/d06/a08466.html#ae8c2ec9cbf0bfee766781f033fa75e22">Player::SetPendingSpectatorForBG</a></div><div class="ttdeci">void SetPendingSpectatorForBG(uint32 bgInstanceId)</div><div class="ttdef"><b>Definition:</b> Player.h:2582</div></div>
<div class="ttc" id="aa08466_html_aec995d50706b9d0e8401e1f3b6199296"><div class="ttname"><a href="../../dc/d06/a08466.html#aec995d50706b9d0e8401e1f3b6199296">Player::GetPendingSpectatorInviteInstanceId</a></div><div class="ttdeci">uint32 GetPendingSpectatorInviteInstanceId() const</div><div class="ttdef"><b>Definition:</b> Player.h:2585</div></div>
<div class="ttc" id="aa08466_html_af66560315fcbe492a24137bc8d96dd94"><div class="ttname"><a href="../../dc/d06/a08466.html#af66560315fcbe492a24137bc8d96dd94">Player::IsBeingTeleported</a></div><div class="ttdeci">bool IsBeingTeleported() const</div><div class="ttdef"><b>Definition:</b> Player.h:2093</div></div>
<div class="ttc" id="aa08598_html_a0839378167049038c2857252d3b14738"><div class="ttname"><a href="../../d4/d46/a08598.html#a0839378167049038c2857252d3b14738">Unit::GetVehicle</a></div><div class="ttdeci">Vehicle * GetVehicle() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1786</div></div>
<div class="ttc" id="aa08598_html_a148e79f1285e417f73d2a95b49fc2bf9"><div class="ttname"><a href="../../d4/d46/a08598.html#a148e79f1285e417f73d2a95b49fc2bf9">Unit::m_Controlled</a></div><div class="ttdeci">ControlSet m_Controlled</div><div class="ttdef"><b>Definition:</b> Unit.h:1940</div></div>
<div class="ttc" id="aa08598_html_a85b547eedd208db5f9dddc5f75a1a211"><div class="ttname"><a href="../../d4/d46/a08598.html#a85b547eedd208db5f9dddc5f75a1a211">Unit::IsInFlight</a></div><div class="ttdeci">bool IsInFlight() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1572</div></div>
<div class="ttc" id="aa08598_html_aa8ff700c8aec70f3ab1e1385262959b1"><div class="ttname"><a href="../../d4/d46/a08598.html#aa8ff700c8aec70f3ab1e1385262959b1">Unit::IsMounted</a></div><div class="ttdeci">bool IsMounted() const</div><div class="ttdef"><b>Definition:</b> Unit.h:1747</div></div>
<div class="ttc" id="aa08598_html_ab78147cd520d2dac6be709b4c80a7de3"><div class="ttname"><a href="../../d4/d46/a08598.html#ab78147cd520d2dac6be709b4c80a7de3">Unit::HasUnitState</a></div><div class="ttdeci">bool HasUnitState(const uint32 f) const</div><div class="ttdef"><b>Definition:</b> Unit.h:701</div></div>
<div class="ttc" id="aa08598_html_af5e75d013dfa8a8b888d7714992e3f2a"><div class="ttname"><a href="../../d4/d46/a08598.html#af5e75d013dfa8a8b888d7714992e3f2a">Unit::IsInCombat</a></div><div class="ttdeci">bool IsInCombat() const</div><div class="ttdef"><b>Definition:</b> Unit.h:884</div></div>
<div class="ttc" id="aa09618_html_aae3a929aefb05046ef304ffba10aae71"><div class="ttname"><a href="../../df/dae/a09618.html#aae3a929aefb05046ef304ffba10aae71">Map::Instanceable</a></div><div class="ttdeci">bool Instanceable() const</div><div class="ttdef"><b>Definition:</b> Map.h:445</div></div>
<div class="ttc" id="aa09626_html_a2fcb965981bb03571f12c11cdbac54a4"><div class="ttname"><a href="../../d6/da3/a09626.html#a2fcb965981bb03571f12c11cdbac54a4">BattlegroundMap::GetBG</a></div><div class="ttdeci">Battleground * GetBG()</div><div class="ttdef"><b>Definition:</b> Map.h:864</div></div>
<div class="ttc" id="aa10810_html_a38f29ba7dc5216093dd812cf3e7861df"><div class="ttname"><a href="../../d9/d7c/a10810.html#a38f29ba7dc5216093dd812cf3e7861df">WorldSession::GetSecurity</a></div><div class="ttdeci">AccountTypes GetSecurity() const</div><div class="ttdef"><b>Definition:</b> WorldSession.h:373</div></div>
<div class="ttc" id="aa10810_html_a62c786bcb829a021c267e7eb56809952"><div class="ttname"><a href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">WorldSession::GetPlayer</a></div><div class="ttdeci">Player * GetPlayer() const</div><div class="ttdef"><b>Definition:</b> WorldSession.h:376</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00409">Battleground::AddToBeTeleported()</a>, <a class="el" href="../../#l03480">BATTLEGROUND_TYPE_NONE</a>, <a class="el" href="../../#l00228">CLASS_CONTEXT_TELEPORT</a>, <a class="el" href="../../#l00146">CLASS_DEATH_KNIGHT</a>, <a class="el" href="../../#l00537">WorldObject::FindMap()</a>, <a class="el" href="../../#l00271">ObjectAccessor::FindPlayerByName()</a>, <a class="el" href="../../#l02257">Player::GetBattlegroundId()</a>, <a class="el" href="../../#l02258">Player::GetBattlegroundTypeId()</a>, <a class="el" href="../../#l00864">BattlegroundMap::GetBG()</a>, <a class="el" href="../../#l02471">Player::GetGroup()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00275">WorldLocation::GetMapId()</a>, <a class="el" href="../../#l00119">Position::GetOrientation()</a>, <a class="el" href="../../#l02585">Player::GetPendingSpectatorInviteInstanceId()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00116">Position::GetPositionX()</a>, <a class="el" href="../../#l00117">Position::GetPositionY()</a>, <a class="el" href="../../#l00118">Position::GetPositionZ()</a>, <a class="el" href="../../#l00373">WorldSession::GetSecurity()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00332">Battleground::GetStatus()</a>, <a class="el" href="../../#l01786">Unit::GetVehicle()</a>, <a class="el" href="../../#l01412">Unit::GetVisibleAuras()</a>, <a class="el" href="../../#l00176">HandleSpectatorWatchCommand()</a>, <a class="el" href="../../#l00701">Unit::HasUnitState()</a>, <a class="el" href="../../#l00048">HOUR</a>, <a class="el" href="../../#l00053">IN_MILLISECONDS</a>, <a class="el" href="../../#l12237">Player::InBattlegroundQueue()</a>, <a class="el" href="../../#l00445">Map::Instanceable()</a>, <a class="el" href="../../#l01654">Unit::IsAlive()</a>, <a class="el" href="../../#l00453">Map::IsBattleArena()</a>, <a class="el" href="../../#l02093">Player::IsBeingTeleported()</a>, <a class="el" href="../../#l01284">Player::IsClass()</a>, <a class="el" href="../../#l00884">Unit::IsInCombat()</a>, <a class="el" href="../../#l01572">Unit::IsInFlight()</a>, <a class="el" href="../../#l00107">Object::IsInWorld()</a>, <a class="el" href="../../#l01747">Unit::IsMounted()</a>, <a class="el" href="../../#l02579">Player::IsSpectator()</a>, <a class="el" href="../../#l13103">Player::isUsingLfg()</a>, <a class="el" href="../../#l00052">lfg::LFG_SPELL_DUNGEON_COOLDOWN</a>, <a class="el" href="../../#l00053">lfg::LFG_SPELL_DUNGEON_DESERTER</a>, <a class="el" href="../../#l01940">Unit::m_Controlled</a>, <a class="el" href="../../#l02336">Player::m_mover</a>, <a class="el" href="../../#l00176">PLAYER_MAX_BATTLEGROUND_QUEUES</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00186">sBattlegroundMgr</a>, <a class="el" href="../../#l00159">ChatHandler::SendSysMessage()</a>, <a class="el" href="../../#l12338">Player::SetBattlegroundId()</a>, <a class="el" href="../../#l11316">Player::SetEntryPoint()</a>, <a class="el" href="../../#l02582">Player::SetPendingSpectatorForBG()</a>, <a class="el" href="../../#l02584">Player::SetPendingSpectatorInviteInstanceId()</a>, <a class="el" href="../../#l00202">STATUS_IN_PROGRESS</a>, <a class="el" href="../../#l00201">STATUS_WAIT_JOIN</a>, <a class="el" href="../../#l00203">STATUS_WAIT_LEAVE</a>, <a class="el" href="../../#l00762">TEAM_NEUTRAL</a>, <a class="el" href="../../#l00826">TELE_TO_GM_MODE</a>, <a class="el" href="../../#l01334">Player::TeleportTo()</a>, and <a class="el" href="../../#l00183">UNIT_STATE_ISOLATED</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00088">spectator_commandscript::HandleSpectatorSpectateCommand()</a>, and <a class="el" href="../../#l00828">WorldSession::HandleSummonResponseOpcode()</a>.</p>

</div>
</div>
<a id="ae611c9f6783ca983d1ff667f36dd7c7d" name="ae611c9f6783ca983d1ff667f36dd7c7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae611c9f6783ca983d1ff667f36dd7c7d">&#9670;&#160;</a></span>HandleSpectatorWatchCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArenaSpectator::HandleSpectatorWatchCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/a07362.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  177</span>{</div>
<div class="line"><span class="lineno">  178</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* player = handler-&gt;<a class="code hl_function" href="../../d4/d99/a07362.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../d9/d7c/a10810.html#a62c786bcb829a021c267e7eb56809952">GetPlayer</a>();</div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">if</span> (!player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ac5d6db67faffc024da4d9f83b434bed3">IsSpectator</a>())</div>
<div class="line"><span class="lineno">  180</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>    <span class="keywordflow">if</span> (!player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">FindMap</a>() || !player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">FindMap</a>()-&gt;<a class="code hl_function" href="../../df/dae/a09618.html#afe645aa76713224c7e7fcd0f5e12fc79">IsBattleArena</a>())</div>
<div class="line"><span class="lineno">  183</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>    <a class="code hl_class" href="../../df/ddd/a07150.html">Battleground</a>* bg = ((<a class="code hl_class" href="../../d6/da3/a09626.html">BattlegroundMap</a>*)player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">FindMap</a>())-&gt;GetBG();</div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordflow">if</span> (!bg || bg-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#aaa7ab97fdd1ee4fda63deba7eabe9cb1">GetStatus</a>() != <a class="code hl_enumvalue" href="../../db/d49/a03737.html#ad1473374651bd09f461cdc994a6bc8d2afaf0b6349b8a93b543f64c744e321d5a">STATUS_IN_PROGRESS</a>)</div>
<div class="line"><span class="lineno">  187</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>    <a class="code hl_class" href="../../dc/d06/a08466.html">Player</a>* spectate = <a class="code hl_function" href="../../d4/da9/a04736.html#af5cb6806842c9689cf1d5f43ffdc4b0a">ObjectAccessor::FindPlayerByName</a>(name);</div>
<div class="line"><span class="lineno">  190</span>    <span class="keywordflow">if</span> (!spectate || !spectate-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#a5ea3f54af571493f7889220724667189">IsAlive</a>() || spectate-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#ac5d6db67faffc024da4d9f83b434bed3">IsSpectator</a>() || spectate-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>() == player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>() || !spectate-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#a3aeab7def818ba6c50249f197ad2f9ca">IsInWorld</a>() || !spectate-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">FindMap</a>() || spectate-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#af66560315fcbe492a24137bc8d96dd94">IsBeingTeleported</a>() || spectate-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">FindMap</a>() != player-&gt;<a class="code hl_function" href="../../de/d0d/a08250.html#a1e43fee59e696ae47ed06191ae3b1b82">FindMap</a>() || !bg-&gt;<a class="code hl_function" href="../../df/ddd/a07150.html#a8c095e425130c2460d3ad85f85238ffe">IsPlayerInBattleground</a>(spectate-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()))</div>
<div class="line"><span class="lineno">  191</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="../../de/d0d/a08250.html">WorldObject</a>* o = player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a84bf5baccbc8fb7a764855954584ffb4">GetViewpoint</a>())</div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d4/d46/a08598.html">Unit</a>* u = o-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#afd88f95deffad982ca0b5ef16b6244e8">ToUnit</a>())</div>
<div class="line"><span class="lineno">  195</span>        {</div>
<div class="line"><span class="lineno">  196</span>            u-&gt;RemoveAurasByType(<a class="code hl_enumvalue" href="../../d8/db1/a03098.html#a538cdc259460b365f406fe0b3a981799aff313dd31d66c100086b4d9b6a81d329">SPELL_AURA_BIND_SIGHT</a>, player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno">  197</span>            player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#aac612f06e84142d92dcfc432b5feb4ac">RemoveAurasDueToSpell</a>(<a class="code hl_define" href="../../dd/d87/a03569.html#a45eed6b7e374a4b2ea26b3dd5ee915d0">SPECTATOR_SPELL_BINDSIGHT</a>, player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>(), (1 &lt;&lt; <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a>));</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>            <span class="keywordflow">if</span> (u-&gt;GetGUID() == spectate-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>())</div>
<div class="line"><span class="lineno">  200</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  201</span>        }</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../de/d68/a08218.html#aa837a338065017a1b39f1aa2f310587d">GetUInt64Value</a>(<a class="code hl_enumvalue" href="../../dc/d14/a03479.html#a0e42dc606678c9df7884e1aad621e881acbbc2f72651995ffa95bda05c7e99349">PLAYER_FARSIGHT</a>) || player-&gt;<a class="code hl_variable" href="../../dc/d06/a08466.html#a627213e5abefc63f5e430cd8ecfbb06e">m_seer</a> != player) <span class="comment">// pussywizard: below this point we must not have a viewpoint!</span></div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>    <span class="keywordflow">if</span> (player-&gt;<a class="code hl_function" href="../../dc/d06/a08466.html#a3f14db9604cd251d30cbab5afa1877af">HaveAtClient</a>(spectate))</div>
<div class="line"><span class="lineno">  207</span>        player-&gt;<a class="code hl_function" href="../../d4/d46/a08598.html#aa3ca95f7a14041f562ed69c3994afdfc">CastSpell</a>(spectate, <a class="code hl_define" href="../../dd/d87/a03569.html#a45eed6b7e374a4b2ea26b3dd5ee915d0">SPECTATOR_SPELL_BINDSIGHT</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  210</span>}</div>
<div class="ttc" id="aa02771_html_a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791"><div class="ttname"><a href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffa8ad5debef66c8aadbaf13f97f522e791">EFFECT_1</a></div><div class="ttdeci">@ EFFECT_1</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:32</div></div>
<div class="ttc" id="aa03098_html_a538cdc259460b365f406fe0b3a981799aff313dd31d66c100086b4d9b6a81d329"><div class="ttname"><a href="../../d8/db1/a03098.html#a538cdc259460b365f406fe0b3a981799aff313dd31d66c100086b4d9b6a81d329">SPELL_AURA_BIND_SIGHT</a></div><div class="ttdeci">@ SPELL_AURA_BIND_SIGHT</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:64</div></div>
<div class="ttc" id="aa03479_html_a0e42dc606678c9df7884e1aad621e881acbbc2f72651995ffa95bda05c7e99349"><div class="ttname"><a href="../../dc/d14/a03479.html#a0e42dc606678c9df7884e1aad621e881acbbc2f72651995ffa95bda05c7e99349">PLAYER_FARSIGHT</a></div><div class="ttdeci">@ PLAYER_FARSIGHT</div><div class="ttdef"><b>Definition:</b> UpdateFields.h:334</div></div>
<div class="ttc" id="aa03569_html_a45eed6b7e374a4b2ea26b3dd5ee915d0"><div class="ttname"><a href="../../dd/d87/a03569.html#a45eed6b7e374a4b2ea26b3dd5ee915d0">SPECTATOR_SPELL_BINDSIGHT</a></div><div class="ttdeci">#define SPECTATOR_SPELL_BINDSIGHT</div><div class="ttdef"><b>Definition:</b> ArenaSpectator.h:38</div></div>
<div class="ttc" id="aa07150_html_a8c095e425130c2460d3ad85f85238ffe"><div class="ttname"><a href="../../df/ddd/a07150.html#a8c095e425130c2460d3ad85f85238ffe">Battleground::IsPlayerInBattleground</a></div><div class="ttdeci">bool IsPlayerInBattleground(ObjectGuid guid) const</div><div class="ttdef"><b>Definition:</b> Battleground.cpp:1759</div></div>
<div class="ttc" id="aa08218_html_aa837a338065017a1b39f1aa2f310587d"><div class="ttname"><a href="../../de/d68/a08218.html#aa837a338065017a1b39f1aa2f310587d">Object::GetUInt64Value</a></div><div class="ttdeci">uint64 GetUInt64Value(uint16 index) const</div><div class="ttdef"><b>Definition:</b> Object.cpp:311</div></div>
<div class="ttc" id="aa08218_html_afd88f95deffad982ca0b5ef16b6244e8"><div class="ttname"><a href="../../de/d68/a08218.html#afd88f95deffad982ca0b5ef16b6244e8">Object::ToUnit</a></div><div class="ttdeci">Unit * ToUnit()</div><div class="ttdef"><b>Definition:</b> Object.h:209</div></div>
<div class="ttc" id="aa08250_html"><div class="ttname"><a href="../../de/d0d/a08250.html">WorldObject</a></div><div class="ttdef"><b>Definition:</b> Object.h:410</div></div>
<div class="ttc" id="aa08466_html_a3f14db9604cd251d30cbab5afa1877af"><div class="ttname"><a href="../../dc/d06/a08466.html#a3f14db9604cd251d30cbab5afa1877af">Player::HaveAtClient</a></div><div class="ttdeci">bool HaveAtClient(WorldObject const *u) const</div><div class="ttdef"><b>Definition:</b> Player.cpp:11444</div></div>
<div class="ttc" id="aa08466_html_a627213e5abefc63f5e430cd8ecfbb06e"><div class="ttname"><a href="../../dc/d06/a08466.html#a627213e5abefc63f5e430cd8ecfbb06e">Player::m_seer</a></div><div class="ttdeci">WorldObject * m_seer</div><div class="ttdef"><b>Definition:</b> Player.h:2337</div></div>
<div class="ttc" id="aa08466_html_a84bf5baccbc8fb7a764855954584ffb4"><div class="ttname"><a href="../../dc/d06/a08466.html#a84bf5baccbc8fb7a764855954584ffb4">Player::GetViewpoint</a></div><div class="ttdeci">WorldObject * GetViewpoint() const</div><div class="ttdef"><b>Definition:</b> Player.cpp:13247</div></div>
<div class="ttc" id="aa08598_html"><div class="ttname"><a href="../../d4/d46/a08598.html">Unit</a></div><div class="ttdef"><b>Definition:</b> Unit.h:630</div></div>
<div class="ttc" id="aa08598_html_aa3ca95f7a14041f562ed69c3994afdfc"><div class="ttname"><a href="../../d4/d46/a08598.html#aa3ca95f7a14041f562ed69c3994afdfc">Unit::CastSpell</a></div><div class="ttdeci">SpellCastResult CastSpell(SpellCastTargets const &amp;targets, SpellInfo const *spellInfo, CustomSpellValues const *value, TriggerCastFlags triggerFlags=TRIGGERED_NONE, Item *castItem=nullptr, AuraEffect const *triggeredByAura=nullptr, ObjectGuid originalCaster=ObjectGuid::Empty)</div><div class="ttdef"><b>Definition:</b> Unit.cpp:1167</div></div>
<div class="ttc" id="aa08598_html_aac612f06e84142d92dcfc432b5feb4ac"><div class="ttname"><a href="../../d4/d46/a08598.html#aac612f06e84142d92dcfc432b5feb4ac">Unit::RemoveAurasDueToSpell</a></div><div class="ttdeci">void RemoveAurasDueToSpell(uint32 spellId, ObjectGuid casterGUID=ObjectGuid::Empty, uint8 reqEffMask=0, AuraRemoveMode removeMode=AURA_REMOVE_BY_DEFAULT)</div><div class="ttdef"><b>Definition:</b> Unit.cpp:4909</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01167">Unit::CastSpell()</a>, <a class="el" href="../../#l00032">EFFECT_1</a>, <a class="el" href="../../#l00537">WorldObject::FindMap()</a>, <a class="el" href="../../#l00271">ObjectAccessor::FindPlayerByName()</a>, <a class="el" href="../../#l00112">Object::GetGUID()</a>, <a class="el" href="../../#l00376">WorldSession::GetPlayer()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00332">Battleground::GetStatus()</a>, <a class="el" href="../../#l00311">Object::GetUInt64Value()</a>, <a class="el" href="../../#l13247">Player::GetViewpoint()</a>, <a class="el" href="../../#l11444">Player::HaveAtClient()</a>, <a class="el" href="../../#l01654">Unit::IsAlive()</a>, <a class="el" href="../../#l00453">Map::IsBattleArena()</a>, <a class="el" href="../../#l02093">Player::IsBeingTeleported()</a>, <a class="el" href="../../#l00107">Object::IsInWorld()</a>, <a class="el" href="../../#l01759">Battleground::IsPlayerInBattleground()</a>, <a class="el" href="../../#l02579">Player::IsSpectator()</a>, <a class="el" href="../../#l02337">Player::m_seer</a>, <a class="el" href="../../#l00334">PLAYER_FARSIGHT</a>, <a class="el" href="../../#l04909">Unit::RemoveAurasDueToSpell()</a>, <a class="el" href="../../#l00038">SPECTATOR_SPELL_BINDSIGHT</a>, <a class="el" href="../../#l00064">SPELL_AURA_BIND_SIGHT</a>, <a class="el" href="../../#l00202">STATUS_IN_PROGRESS</a>, and <a class="el" href="../../#l00209">Object::ToUnit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00028">HandleSpectatorSpectateCommand()</a>, and <a class="el" href="../../#l00096">spectator_commandscript::HandleSpectatorWatchCommand()</a>.</p>

</div>
</div>
<a id="a4824203dd64e1ddcd47642df9d465ea0" name="a4824203dd64e1ddcd47642df9d465ea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4824203dd64e1ddcd47642df9d465ea0">&#9670;&#160;</a></span>SendCommand()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , typename Format , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArenaSpectator::SendCommand </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Format &amp;&amp;&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   48</span>    {</div>
<div class="line"><span class="lineno">   49</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#abc5c395f3697c21f09c4e70a81f02497">SendPacketTo</a>(o, <a class="code hl_function" href="../../d8/d20/a04686.html#a868406b9609960d4ae0189588c8cbbf4">Acore::StringFormat</a>(std::forward&lt;Format&gt;(fmt), std::forward&lt;Args&gt;(args)...));</div>
<div class="line"><span class="lineno">   50</span>    }</div>
<div class="ttc" id="aa04686_html_a868406b9609960d4ae0189588c8cbbf4"><div class="ttname"><a href="../../d8/d20/a04686.html#a868406b9609960d4ae0189588c8cbbf4">Acore::StringFormat</a></div><div class="ttdeci">std::string StringFormat(FormatString&lt; Args... &gt; fmt, Args &amp;&amp;... args)</div><div class="ttdoc">Default AC string format function.</div><div class="ttdef"><b>Definition:</b> StringFormat.h:34</div></div>
<div class="ttc" id="aa04723_html_abc5c395f3697c21f09c4e70a81f02497"><div class="ttname"><a href="../../dc/d12/a04723.html#abc5c395f3697c21f09c4e70a81f02497">ArenaSpectator::SendPacketTo</a></div><div class="ttdeci">AC_GAME_API void SendPacketTo(const T *object, std::string &amp;&amp;message)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dc/d12/a04723.html#abc5c395f3697c21f09c4e70a81f02497">SendPacketTo()</a>, and <a class="el" href="../../#l00034">Acore::StringFormat()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00050">WorldSession::HandleMoveWorldportAck()</a>, <a class="el" href="../../#l00058">spectator_commandscript::HandleSpectatorVersionCommand()</a>, <a class="el" href="../../#l00102">SendCommand_Aura()</a>, <a class="el" href="../../#l00089">SendCommand_Cooldown()</a>, <a class="el" href="../../#l00071">SendCommand_GUID()</a>, <a class="el" href="../../#l00080">SendCommand_Spell()</a>, <a class="el" href="../../#l00053">SendCommand_String()</a>, and <a class="el" href="../../#l00062">SendCommand_UInt32Value()</a>.</p>

</div>
</div>
<a id="a918c7c3c9fd7d26b7a78f2e6d13e1e27" name="a918c7c3c9fd7d26b7a78f2e6d13e1e27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a918c7c3c9fd7d26b7a78f2e6d13e1e27">&#9670;&#160;</a></span>SendCommand_Aura()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArenaSpectator::SendCommand_Aura </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>targetGUID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>caster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isDebuff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>dispel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&#160;</td>
          <td class="paramname"><em>dur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&#160;</td>
          <td class="paramname"><em>maxdur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>stack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>remove</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  103</span>    {</div>
<div class="line"><span class="lineno">  104</span>        <span class="keywordflow">if</span> (!targetGUID.<a class="code hl_function" href="../../d4/df2/a08266.html#a676c61adb79a8be696a771a116253ee1">IsPlayer</a>())</div>
<div class="line"><span class="lineno">  105</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#a4824203dd64e1ddcd47642df9d465ea0">SendCommand</a>(o, <span class="stringliteral">&quot;%s0x%016llX;%s=%u,%u,%i,%i,%u,%u,%u,0x%016llX;&quot;</span>, <a class="code hl_define" href="../../dd/d87/a03569.html#ad208fe13d99ebdd4ecc344c284d15e68">SPECTATOR_ADDON_PREFIX</a>, targetGUID.<a class="code hl_function" href="../../d4/df2/a08266.html#a65626f4640cb4f79c66ce9d5dda8ab27">GetRawValue</a>(), prefix, remove ? 1 : 0, stack, dur, maxdur, <span class="keywordtype">id</span>, dispel, isDebuff ? 1 : 0, caster.<a class="code hl_function" href="../../d4/df2/a08266.html#a65626f4640cb4f79c66ce9d5dda8ab27">GetRawValue</a>());</div>
<div class="line"><span class="lineno">  108</span>    }</div>
<div class="ttc" id="aa03569_html_ad208fe13d99ebdd4ecc344c284d15e68"><div class="ttname"><a href="../../dd/d87/a03569.html#ad208fe13d99ebdd4ecc344c284d15e68">SPECTATOR_ADDON_PREFIX</a></div><div class="ttdeci">#define SPECTATOR_ADDON_PREFIX</div><div class="ttdef"><b>Definition:</b> ArenaSpectator.h:35</div></div>
<div class="ttc" id="aa04723_html_a4824203dd64e1ddcd47642df9d465ea0"><div class="ttname"><a href="../../dc/d12/a04723.html#a4824203dd64e1ddcd47642df9d465ea0">ArenaSpectator::SendCommand</a></div><div class="ttdeci">void SendCommand(T *o, Format &amp;&amp;fmt, Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> ArenaSpectator.h:47</div></div>
<div class="ttc" id="aa08266_html_a65626f4640cb4f79c66ce9d5dda8ab27"><div class="ttname"><a href="../../d4/df2/a08266.html#a65626f4640cb4f79c66ce9d5dda8ab27">ObjectGuid::GetRawValue</a></div><div class="ttdeci">uint64 GetRawValue() const</div><div class="ttdef"><b>Definition:</b> ObjectGuid.h:142</div></div>
<div class="ttc" id="aa08266_html_a676c61adb79a8be696a771a116253ee1"><div class="ttname"><a href="../../d4/df2/a08266.html#a676c61adb79a8be696a771a116253ee1">ObjectGuid::IsPlayer</a></div><div class="ttdeci">bool IsPlayer() const</div><div class="ttdef"><b>Definition:</b> ObjectGuid.h:168</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00142">ObjectGuid::GetRawValue()</a>, <a class="el" href="../../#l00168">ObjectGuid::IsPlayer()</a>, <a class="el" href="../../#l00047">SendCommand()</a>, and <a class="el" href="../../#l00035">SPECTATOR_ADDON_PREFIX</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00281">AuraApplication::ClientUpdate()</a>, and <a class="el" href="../../#l00226">HandleResetCommand()</a>.</p>

</div>
</div>
<a id="a5e336b6d62f2d9e24551cfb96c7a8679" name="a5e336b6d62f2d9e24551cfb96c7a8679"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e336b6d62f2d9e24551cfb96c7a8679">&#9670;&#160;</a></span>SendCommand_Cooldown()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArenaSpectator::SendCommand_Cooldown </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>targetGUID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>dur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>maxdur</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   90</span>    {</div>
<div class="line"><span class="lineno">   91</span>        <span class="keywordflow">if</span> (!targetGUID.<a class="code hl_function" href="../../d4/df2/a08266.html#a676c61adb79a8be696a771a116253ee1">IsPlayer</a>())</div>
<div class="line"><span class="lineno">   92</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d5/d44/a10966.html">SpellInfo</a> <span class="keyword">const</span>* si = <a class="code hl_define" href="../../d8/d96/a03116.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a>-&gt;GetSpellInfo(<span class="keywordtype">id</span>))</div>
<div class="line"><span class="lineno">   95</span>            <span class="keywordflow">if</span> (si-&gt;SpellIconID == 1)</div>
<div class="line"><span class="lineno">   96</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#a4824203dd64e1ddcd47642df9d465ea0">SendCommand</a>(o, <span class="stringliteral">&quot;%s0x%016llX;%s=%u,%u,%u;&quot;</span>, <a class="code hl_define" href="../../dd/d87/a03569.html#ad208fe13d99ebdd4ecc344c284d15e68">SPECTATOR_ADDON_PREFIX</a>, targetGUID.<a class="code hl_function" href="../../d4/df2/a08266.html#a65626f4640cb4f79c66ce9d5dda8ab27">GetRawValue</a>(), prefix, <span class="keywordtype">id</span>, dur, maxdur);</div>
<div class="line"><span class="lineno">   99</span>    }</div>
<div class="ttc" id="aa03116_html_aa21e14d8e1145507b746a69b5487109d"><div class="ttname"><a href="../../d8/d96/a03116.html#aa21e14d8e1145507b746a69b5487109d">sSpellMgr</a></div><div class="ttdeci">#define sSpellMgr</div><div class="ttdef"><b>Definition:</b> SpellMgr.h:825</div></div>
<div class="ttc" id="aa10966_html"><div class="ttname"><a href="../../d5/d44/a10966.html">SpellInfo</a></div><div class="ttdef"><b>Definition:</b> SpellInfo.h:316</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00142">ObjectGuid::GetRawValue()</a>, <a class="el" href="../../#l00168">ObjectGuid::IsPlayer()</a>, <a class="el" href="../../#l00047">SendCommand()</a>, <a class="el" href="../../#l00035">SPECTATOR_ADDON_PREFIX</a>, and <a class="el" href="../../#l00825">sSpellMgr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l11098">Player::_AddSpellCooldown()</a>, and <a class="el" href="../../#l00226">HandleResetCommand()</a>.</p>

</div>
</div>
<a id="af537ad9da6345b285d2d726b640a0340" name="af537ad9da6345b285d2d726b640a0340"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af537ad9da6345b285d2d726b640a0340">&#9670;&#160;</a></span>SendCommand_GUID()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArenaSpectator::SendCommand_GUID </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>targetGUID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   72</span>    {</div>
<div class="line"><span class="lineno">   73</span>        <span class="keywordflow">if</span> (!targetGUID.<a class="code hl_function" href="../../d4/df2/a08266.html#a676c61adb79a8be696a771a116253ee1">IsPlayer</a>())</div>
<div class="line"><span class="lineno">   74</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#a4824203dd64e1ddcd47642df9d465ea0">SendCommand</a>(o, <span class="stringliteral">&quot;%s0x%016llX;%s=0x%016llX;&quot;</span>, <a class="code hl_define" href="../../dd/d87/a03569.html#ad208fe13d99ebdd4ecc344c284d15e68">SPECTATOR_ADDON_PREFIX</a>, targetGUID.<a class="code hl_function" href="../../d4/df2/a08266.html#a65626f4640cb4f79c66ce9d5dda8ab27">GetRawValue</a>(), prefix, t.<a class="code hl_function" href="../../d4/df2/a08266.html#a65626f4640cb4f79c66ce9d5dda8ab27">GetRawValue</a>());</div>
<div class="line"><span class="lineno">   77</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00142">ObjectGuid::GetRawValue()</a>, <a class="el" href="../../#l00168">ObjectGuid::IsPlayer()</a>, <a class="el" href="../../#l00047">SendCommand()</a>, and <a class="el" href="../../#l00035">SPECTATOR_ADDON_PREFIX</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00226">HandleResetCommand()</a>, and <a class="el" href="../../#l11587">Player::SetSelection()</a>.</p>

</div>
</div>
<a id="a461f69ba88de17058481bc77a3e9f7bb" name="a461f69ba88de17058481bc77a3e9f7bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a461f69ba88de17058481bc77a3e9f7bb">&#9670;&#160;</a></span>SendCommand_Spell()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArenaSpectator::SendCommand_Spell </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>targetGUID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a0bf9964a3ce962c07ad3d8b5432bbbcd">int32</a>&#160;</td>
          <td class="paramname"><em>casttime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   81</span>    {</div>
<div class="line"><span class="lineno">   82</span>        <span class="keywordflow">if</span> (!targetGUID.<a class="code hl_function" href="../../d4/df2/a08266.html#a676c61adb79a8be696a771a116253ee1">IsPlayer</a>())</div>
<div class="line"><span class="lineno">   83</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#a4824203dd64e1ddcd47642df9d465ea0">SendCommand</a>(o, <span class="stringliteral">&quot;%s0x%016llX;%s=%u,%i;&quot;</span>, <a class="code hl_define" href="../../dd/d87/a03569.html#ad208fe13d99ebdd4ecc344c284d15e68">SPECTATOR_ADDON_PREFIX</a>, targetGUID.<a class="code hl_function" href="../../d4/df2/a08266.html#a65626f4640cb4f79c66ce9d5dda8ab27">GetRawValue</a>(), prefix, <span class="keywordtype">id</span>, casttime);</div>
<div class="line"><span class="lineno">   86</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00142">ObjectGuid::GetRawValue()</a>, <a class="el" href="../../#l00168">ObjectGuid::IsPlayer()</a>, <a class="el" href="../../#l00047">SendCommand()</a>, and <a class="el" href="../../#l00035">SPECTATOR_ADDON_PREFIX</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l03723">Spell::cancel()</a>, <a class="el" href="../../#l05211">Spell::SendChannelStart()</a>, and <a class="el" href="../../#l04722">Spell::SendSpellStart()</a>.</p>

</div>
</div>
<a id="ac7839fd6177447b31578a19f8ee8e42a" name="ac7839fd6177447b31578a19f8ee8e42a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7839fd6177447b31578a19f8ee8e42a">&#9670;&#160;</a></span>SendCommand_String()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArenaSpectator::SendCommand_String </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>targetGUID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   54</span>    {</div>
<div class="line"><span class="lineno">   55</span>        <span class="keywordflow">if</span> (!targetGUID.<a class="code hl_function" href="../../d4/df2/a08266.html#a676c61adb79a8be696a771a116253ee1">IsPlayer</a>())</div>
<div class="line"><span class="lineno">   56</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   57</span> </div>
<div class="line"><span class="lineno">   58</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#a4824203dd64e1ddcd47642df9d465ea0">SendCommand</a>(o, <span class="stringliteral">&quot;%s0x%016llX;%s=%s;&quot;</span>, <a class="code hl_define" href="../../dd/d87/a03569.html#ad208fe13d99ebdd4ecc344c284d15e68">SPECTATOR_ADDON_PREFIX</a>, targetGUID.<a class="code hl_function" href="../../d4/df2/a08266.html#a65626f4640cb4f79c66ce9d5dda8ab27">GetRawValue</a>(), prefix, c);</div>
<div class="line"><span class="lineno">   59</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00142">ObjectGuid::GetRawValue()</a>, <a class="el" href="../../#l00168">ObjectGuid::IsPlayer()</a>, <a class="el" href="../../#l00047">SendCommand()</a>, and <a class="el" href="../../#l00035">SPECTATOR_ADDON_PREFIX</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00226">HandleResetCommand()</a>.</p>

</div>
</div>
<a id="ae899637e3543ca40ec63e98bf0426f58" name="ae899637e3543ca40ec63e98bf0426f58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae899637e3543ca40ec63e98bf0426f58">&#9670;&#160;</a></span>SendCommand_UInt32Value()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArenaSpectator::SendCommand_UInt32Value </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>targetGUID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   63</span>    {</div>
<div class="line"><span class="lineno">   64</span>        <span class="keywordflow">if</span> (!targetGUID.<a class="code hl_function" href="../../d4/df2/a08266.html#a676c61adb79a8be696a771a116253ee1">IsPlayer</a>())</div>
<div class="line"><span class="lineno">   65</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>        <a class="code hl_function" href="../../dc/d12/a04723.html#a4824203dd64e1ddcd47642df9d465ea0">SendCommand</a>(o, <span class="stringliteral">&quot;%s0x%016llX;%s=%u;&quot;</span>, <a class="code hl_define" href="../../dd/d87/a03569.html#ad208fe13d99ebdd4ecc344c284d15e68">SPECTATOR_ADDON_PREFIX</a>, targetGUID.<a class="code hl_function" href="../../d4/df2/a08266.html#a65626f4640cb4f79c66ce9d5dda8ab27">GetRawValue</a>(), prefix, t);</div>
<div class="line"><span class="lineno">   68</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00142">ObjectGuid::GetRawValue()</a>, <a class="el" href="../../#l00168">ObjectGuid::IsPlayer()</a>, <a class="el" href="../../#l00047">SendCommand()</a>, and <a class="el" href="../../#l00035">SPECTATOR_ADDON_PREFIX</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00226">HandleResetCommand()</a>, <a class="el" href="../../#l09089">Player::RemovePet()</a>, <a class="el" href="../../#l14684">Player::SendClearCooldown()</a>, <a class="el" href="../../#l01015">Player::setDeathState()</a>, <a class="el" href="../../#l15478">Unit::SetHealth()</a>, <a class="el" href="../../#l15528">Unit::SetMaxHealth()</a>, <a class="el" href="../../#l15631">Unit::SetMaxPower()</a>, <a class="el" href="../../#l15566">Unit::SetPower()</a>, <a class="el" href="../../#l09979">Unit::setPowerType()</a>, and <a class="el" href="../../#l08962">Player::SummonPet()</a>.</p>

</div>
</div>
<a id="abc5c395f3697c21f09c4e70a81f02497" name="abc5c395f3697c21f09c4e70a81f02497"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc5c395f3697c21f09c4e70a81f02497">&#9670;&#160;</a></span>SendPacketTo()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a00a04eccc2ca042486601576eccae409">AC_GAME_API</a> void ArenaSpectator::SendPacketTo </td>
          <td>(</td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&amp;&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00047">SendCommand()</a>.</p>

</div>
</div>
<a id="a29f78349223aca49d417c3f818b2dd4c" name="a29f78349223aca49d417c3f818b2dd4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29f78349223aca49d417c3f818b2dd4c">&#9670;&#160;</a></span>ShouldSendAura()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArenaSpectator::ShouldSendAura </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/dfa/a10862.html">Aura</a> *&#160;</td>
          <td class="paramname"><em>aura</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a>&#160;</td>
          <td class="paramname"><em>effMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df2/a08266.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>targetGUID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>remove</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  283</span>{</div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">if</span> (aura-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#ab4abe60bbc09777bab95a0a0ec66af25">GetSpellInfo</a>()-&gt;<a class="code hl_variable" href="../../d5/d44/a10966.html#ac1a82f9330481616b4b87ed9eff0f785">SpellIconID</a> == 1 || aura-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#ab4abe60bbc09777bab95a0a0ec66af25">GetSpellInfo</a>()-&gt;<a class="code hl_function" href="../../d5/d44/a10966.html#a975746d6b737abb063ea037327abfc5a">HasAttribute</a>(<a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076a5dcb23ba32a2e36cf7f5798c0e9688b9">SPELL_ATTR1_NO_AURA_ICON</a>))</div>
<div class="line"><span class="lineno">  285</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>    <span class="keywordflow">if</span> (remove || aura-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#ab4abe60bbc09777bab95a0a0ec66af25">GetSpellInfo</a>()-&gt;<a class="code hl_function" href="../../d5/d44/a10966.html#a975746d6b737abb063ea037327abfc5a">HasAttribute</a>(<a class="code hl_enumvalue" href="../../df/d48/a03071.html#a93795b2131c8cbe38a7b23768a5a146da6e135d0f3f1ffad609c7a52988db5d0e">SPELL_ATTR0_CU_DONT_BREAK_STEALTH</a>) || aura-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#ab4abe60bbc09777bab95a0a0ec66af25">GetSpellInfo</a>()-&gt;<a class="code hl_variable" href="../../d5/d44/a10966.html#af6ec577353f7d3cc59badd7d332153b0">SpellFamilyName</a> == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0ebbb6206eb92cdc484b416eb6f41743">SPELLFAMILY_GENERIC</a>)</div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> i = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a>; i &lt; <a class="code hl_define" href="../../d7/d14/a02750.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a>; ++i)</div>
<div class="line"><span class="lineno">  291</span>    {</div>
<div class="line"><span class="lineno">  292</span>        <span class="keywordflow">if</span> (effMask &amp; (1 &lt;&lt; i))</div>
<div class="line"><span class="lineno">  293</span>        {</div>
<div class="line"><span class="lineno">  294</span>            <a class="code hl_enumeration" href="../../d8/db1/a03098.html#a538cdc259460b365f406fe0b3a981799">AuraType</a> at = aura-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#a6ee04786fcd54da7e3e2b7a0277adeb8">GetEffect</a>(i)-&gt;<a class="code hl_function" href="../../d1/d17/a10850.html#a120cf8a45a3c816e4ef588733fa812e5">GetAuraType</a>();</div>
<div class="line"><span class="lineno">  295</span>            <span class="keywordflow">if</span> ((aura-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#a6ee04786fcd54da7e3e2b7a0277adeb8">GetEffect</a>(i)-&gt;<a class="code hl_function" href="../../d1/d17/a10850.html#afcf272bebf373ad3aebc03cce644cbee">GetAmount</a>() &amp;&amp; (aura-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#ab4abe60bbc09777bab95a0a0ec66af25">GetSpellInfo</a>()-&gt;<a class="code hl_function" href="../../d5/d44/a10966.html#adef74790281b92d72ac2c2118a665096">IsPositive</a>() || targetGUID != aura-&gt;<a class="code hl_function" href="../../d1/dfa/a10862.html#a3c4dfe75dad16fbf2afaf23ce77e4262">GetCasterGUID</a>())) ||</div>
<div class="line"><span class="lineno">  296</span>                at == <a class="code hl_enumvalue" href="../../d8/db1/a03098.html#a538cdc259460b365f406fe0b3a981799a9357fb759d2046a3ff76aab126823c7b">SPELL_AURA_MECHANIC_IMMUNITY</a> || at == <a class="code hl_enumvalue" href="../../d8/db1/a03098.html#a538cdc259460b365f406fe0b3a981799ab09a238cc0e8c09f186407726a7c5e4f">SPELL_AURA_EFFECT_IMMUNITY</a> || at == <a class="code hl_enumvalue" href="../../d8/db1/a03098.html#a538cdc259460b365f406fe0b3a981799ae11278d069f7537f8b4be475bb3893b4">SPELL_AURA_STATE_IMMUNITY</a> || at == <a class="code hl_enumvalue" href="../../d8/db1/a03098.html#a538cdc259460b365f406fe0b3a981799a8bebfff86f80b58fd3930dc14c5fe347">SPELL_AURA_SCHOOL_IMMUNITY</a> || at == <a class="code hl_enumvalue" href="../../d8/db1/a03098.html#a538cdc259460b365f406fe0b3a981799a062ac134921e3069ab2192f208c3c599">SPELL_AURA_DISPEL_IMMUNITY</a>)</div>
<div class="line"><span class="lineno">  297</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  298</span>        }</div>
<div class="line"><span class="lineno">  299</span>    }</div>
<div class="line"><span class="lineno">  300</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  301</span>}</div>
<div class="ttc" id="aa02750_html_ac5733f5b58bf8a23a1919a005b5ec895"><div class="ttname"><a href="../../d7/d14/a02750.html#ac5733f5b58bf8a23a1919a005b5ec895">MAX_SPELL_EFFECTS</a></div><div class="ttdeci">#define MAX_SPELL_EFFECTS</div><div class="ttdef"><b>Definition:</b> DBCStructure.h:1636</div></div>
<div class="ttc" id="aa02771_html_a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d"><div class="ttname"><a href="../../d0/dbd/a02771.html#a091a832125de330a1d2fb91d57c0e1ffae36fda04a2c1fff26525d0c57f79a36d">EFFECT_0</a></div><div class="ttdeci">@ EFFECT_0</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:31</div></div>
<div class="ttc" id="aa02771_html_a638f8f550e23b2e3180b481bb3f38076a5dcb23ba32a2e36cf7f5798c0e9688b9"><div class="ttname"><a href="../../d0/dbd/a02771.html#a638f8f550e23b2e3180b481bb3f38076a5dcb23ba32a2e36cf7f5798c0e9688b9">SPELL_ATTR1_NO_AURA_ICON</a></div><div class="ttdeci">@ SPELL_ATTR1_NO_AURA_ICON</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:447</div></div>
<div class="ttc" id="aa02771_html_a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0ebbb6206eb92cdc484b416eb6f41743"><div class="ttname"><a href="../../d0/dbd/a02771.html#a9264ae6b0ef1b61a6eeb7fdac9fbab1ba0ebbb6206eb92cdc484b416eb6f41743">SPELLFAMILY_GENERIC</a></div><div class="ttdeci">@ SPELLFAMILY_GENERIC</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:3528</div></div>
<div class="ttc" id="aa03071_html_a93795b2131c8cbe38a7b23768a5a146da6e135d0f3f1ffad609c7a52988db5d0e"><div class="ttname"><a href="../../df/d48/a03071.html#a93795b2131c8cbe38a7b23768a5a146da6e135d0f3f1ffad609c7a52988db5d0e">SPELL_ATTR0_CU_DONT_BREAK_STEALTH</a></div><div class="ttdeci">@ SPELL_ATTR0_CU_DONT_BREAK_STEALTH</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:182</div></div>
<div class="ttc" id="aa03098_html_a538cdc259460b365f406fe0b3a981799"><div class="ttname"><a href="../../d8/db1/a03098.html#a538cdc259460b365f406fe0b3a981799">AuraType</a></div><div class="ttdeci">AuraType</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:62</div></div>
<div class="ttc" id="aa03098_html_a538cdc259460b365f406fe0b3a981799a062ac134921e3069ab2192f208c3c599"><div class="ttname"><a href="../../d8/db1/a03098.html#a538cdc259460b365f406fe0b3a981799a062ac134921e3069ab2192f208c3c599">SPELL_AURA_DISPEL_IMMUNITY</a></div><div class="ttdeci">@ SPELL_AURA_DISPEL_IMMUNITY</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:104</div></div>
<div class="ttc" id="aa03098_html_a538cdc259460b365f406fe0b3a981799a8bebfff86f80b58fd3930dc14c5fe347"><div class="ttname"><a href="../../d8/db1/a03098.html#a538cdc259460b365f406fe0b3a981799a8bebfff86f80b58fd3930dc14c5fe347">SPELL_AURA_SCHOOL_IMMUNITY</a></div><div class="ttdeci">@ SPELL_AURA_SCHOOL_IMMUNITY</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:102</div></div>
<div class="ttc" id="aa03098_html_a538cdc259460b365f406fe0b3a981799a9357fb759d2046a3ff76aab126823c7b"><div class="ttname"><a href="../../d8/db1/a03098.html#a538cdc259460b365f406fe0b3a981799a9357fb759d2046a3ff76aab126823c7b">SPELL_AURA_MECHANIC_IMMUNITY</a></div><div class="ttdeci">@ SPELL_AURA_MECHANIC_IMMUNITY</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:140</div></div>
<div class="ttc" id="aa03098_html_a538cdc259460b365f406fe0b3a981799ab09a238cc0e8c09f186407726a7c5e4f"><div class="ttname"><a href="../../d8/db1/a03098.html#a538cdc259460b365f406fe0b3a981799ab09a238cc0e8c09f186407726a7c5e4f">SPELL_AURA_EFFECT_IMMUNITY</a></div><div class="ttdeci">@ SPELL_AURA_EFFECT_IMMUNITY</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:100</div></div>
<div class="ttc" id="aa03098_html_a538cdc259460b365f406fe0b3a981799ae11278d069f7537f8b4be475bb3893b4"><div class="ttname"><a href="../../d8/db1/a03098.html#a538cdc259460b365f406fe0b3a981799ae11278d069f7537f8b4be475bb3893b4">SPELL_AURA_STATE_IMMUNITY</a></div><div class="ttdeci">@ SPELL_AURA_STATE_IMMUNITY</div><div class="ttdef"><b>Definition:</b> SpellAuraDefines.h:101</div></div>
<div class="ttc" id="aa10850_html_a120cf8a45a3c816e4ef588733fa812e5"><div class="ttname"><a href="../../d1/d17/a10850.html#a120cf8a45a3c816e4ef588733fa812e5">AuraEffect::GetAuraType</a></div><div class="ttdeci">AuraType GetAuraType() const</div><div class="ttdef"><b>Definition:</b> SpellAuraEffects.cpp:447</div></div>
<div class="ttc" id="aa10850_html_afcf272bebf373ad3aebc03cce644cbee"><div class="ttname"><a href="../../d1/d17/a10850.html#afcf272bebf373ad3aebc03cce644cbee">AuraEffect::GetAmount</a></div><div class="ttdeci">int32 GetAmount() const</div><div class="ttdef"><b>Definition:</b> SpellAuraEffects.h:64</div></div>
<div class="ttc" id="aa10862_html_a6ee04786fcd54da7e3e2b7a0277adeb8"><div class="ttname"><a href="../../d1/dfa/a10862.html#a6ee04786fcd54da7e3e2b7a0277adeb8">Aura::GetEffect</a></div><div class="ttdeci">AuraEffect * GetEffect(uint8 effIndex) const</div><div class="ttdef"><b>Definition:</b> SpellAuras.h:175</div></div>
<div class="ttc" id="aa10966_html_a975746d6b737abb063ea037327abfc5a"><div class="ttname"><a href="../../d5/d44/a10966.html#a975746d6b737abb063ea037327abfc5a">SpellInfo::HasAttribute</a></div><div class="ttdeci">bool HasAttribute(SpellAttr0 attribute) const</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:415</div></div>
<div class="ttc" id="aa10966_html_ac1a82f9330481616b4b87ed9eff0f785"><div class="ttname"><a href="../../d5/d44/a10966.html#ac1a82f9330481616b4b87ed9eff0f785">SpellInfo::SpellIconID</a></div><div class="ttdeci">uint32 SpellIconID</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:380</div></div>
<div class="ttc" id="aa10966_html_af6ec577353f7d3cc59badd7d332153b0"><div class="ttname"><a href="../../d5/d44/a10966.html#af6ec577353f7d3cc59badd7d332153b0">SpellInfo::SpellFamilyName</a></div><div class="ttdeci">uint32 SpellFamilyName</div><div class="ttdef"><b>Definition:</b> SpellInfo.h:387</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00031">EFFECT_0</a>, <a class="el" href="../../#l00064">AuraEffect::GetAmount()</a>, <a class="el" href="../../#l00447">AuraEffect::GetAuraType()</a>, <a class="el" href="../../#l00105">Aura::GetCasterGUID()</a>, <a class="el" href="../../#l00175">Aura::GetEffect()</a>, <a class="el" href="../../#l00100">Aura::GetSpellInfo()</a>, <a class="el" href="../../#l00415">SpellInfo::HasAttribute()</a>, <a class="el" href="../../#l01237">SpellInfo::IsPositive()</a>, <a class="el" href="../../#l01636">MAX_SPELL_EFFECTS</a>, <a class="el" href="../../#l00182">SPELL_ATTR0_CU_DONT_BREAK_STEALTH</a>, <a class="el" href="../../#l00447">SPELL_ATTR1_NO_AURA_ICON</a>, <a class="el" href="../../#l00104">SPELL_AURA_DISPEL_IMMUNITY</a>, <a class="el" href="../../#l00100">SPELL_AURA_EFFECT_IMMUNITY</a>, <a class="el" href="../../#l00140">SPELL_AURA_MECHANIC_IMMUNITY</a>, <a class="el" href="../../#l00102">SPELL_AURA_SCHOOL_IMMUNITY</a>, <a class="el" href="../../#l00101">SPELL_AURA_STATE_IMMUNITY</a>, <a class="el" href="../../#l03528">SPELLFAMILY_GENERIC</a>, <a class="el" href="../../#l00387">SpellInfo::SpellFamilyName</a>, and <a class="el" href="../../#l00380">SpellInfo::SpellIconID</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00281">AuraApplication::ClientUpdate()</a>, and <a class="el" href="../../#l00226">HandleResetCommand()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dc/d12/a04723.html">ArenaSpectator</a></li>
    <li class="footer">Generated on Mon Dec 23 2024 20:40:41 for AzerothCore by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
