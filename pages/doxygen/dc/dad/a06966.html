<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AzerothCore: BfCapturePoint Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AzerothCore<span id="projectnumber">&#160;3.3.5a</span>
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dc/dad/a06966.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../da/dbd/a06963.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BfCapturePoint Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &quot;<a class="el" href="../../">Battlefield.h</a>&quot;</code></p>
<div class="dynheader">
Inheritance diagram for BfCapturePoint:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../dc/dad/a06966.png" usemap="#BfCapturePoint_map" alt=""/>
  <map id="BfCapturePoint_map" name="BfCapturePoint_map">
<area href="../../da/da7/a06990.html" alt="WintergraspCapturePoint" shape="rect" coords="0,56,153,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1eac786bb758ef6f3295e2241045dc32"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a1eac786bb758ef6f3295e2241045dc32">BfCapturePoint</a> (<a class="el" href="../../dd/dd7/a06974.html">Battlefield</a> *bf)</td></tr>
<tr class="separator:a1eac786bb758ef6f3295e2241045dc32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a309a0c2b2f3c5696aef46bb7bdf4dade"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a309a0c2b2f3c5696aef46bb7bdf4dade">~BfCapturePoint</a> ()</td></tr>
<tr class="separator:a309a0c2b2f3c5696aef46bb7bdf4dade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e5304012825579a14703a6624a902ba"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a0e5304012825579a14703a6624a902ba">FillInitialWorldStates</a> (<a class="el" href="../../d0/d90/a10698.html">WorldPacket</a> &amp;)</td></tr>
<tr class="separator:a0e5304012825579a14703a6624a902ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a887af016c482f532f38b3aa10ce6e546"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a887af016c482f532f38b3aa10ce6e546">SendUpdateWorldState</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> field, <a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> value)</td></tr>
<tr class="separator:a887af016c482f532f38b3aa10ce6e546"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab961bfe8934f89e6e454b8a74a280e3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#ab961bfe8934f89e6e454b8a74a280e3e">SendObjectiveComplete</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> id, <a class="el" href="../../db/d40/a08190.html">ObjectGuid</a> guid)</td></tr>
<tr class="separator:ab961bfe8934f89e6e454b8a74a280e3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a4ed58f9874900d822305dd406b1c67"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a1a4ed58f9874900d822305dd406b1c67">HandlePlayerEnter</a> (<a class="el" href="../../d0/dc6/a08386.html">Player</a> *player)</td></tr>
<tr class="separator:a1a4ed58f9874900d822305dd406b1c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02eab1f489ee817d0b0263a57eb71ed2"><td class="memItemLeft" align="right" valign="top">virtual GuidUnorderedSet::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a02eab1f489ee817d0b0263a57eb71ed2">HandlePlayerLeave</a> (<a class="el" href="../../d0/dc6/a08386.html">Player</a> *player)</td></tr>
<tr class="separator:a02eab1f489ee817d0b0263a57eb71ed2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a375223e2be7103bf6d9b411bb95b2c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a5a375223e2be7103bf6d9b411bb95b2c">IsInsideObjective</a> (<a class="el" href="../../d0/dc6/a08386.html">Player</a> *player) const</td></tr>
<tr class="separator:a5a375223e2be7103bf6d9b411bb95b2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3620c3873aca6e90594a4ddc8345102d"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a3620c3873aca6e90594a4ddc8345102d">Update</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> diff)</td></tr>
<tr class="separator:a3620c3873aca6e90594a4ddc8345102d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a429037910b1a3108cdb753ba91230bf7"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a429037910b1a3108cdb753ba91230bf7">ChangeTeam</a> (<a class="el" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a>)</td></tr>
<tr class="separator:a429037910b1a3108cdb753ba91230bf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c727552544f98f3ace8e42c2d1cca02"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a7c727552544f98f3ace8e42c2d1cca02">SendChangePhase</a> ()</td></tr>
<tr class="separator:a7c727552544f98f3ace8e42c2d1cca02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a309d340d11c1712f5525438f31779671"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a309d340d11c1712f5525438f31779671">SetCapturePointData</a> (<a class="el" href="../../dd/db3/a07946.html">GameObject</a> *capturePoint, <a class="el" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a> team)</td></tr>
<tr class="separator:a309d340d11c1712f5525438f31779671"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a605d9ced3b467ff21c638490b1f089f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/db3/a07946.html">GameObject</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a605d9ced3b467ff21c638490b1f089f0">GetCapturePointGo</a> ()</td></tr>
<tr class="separator:a605d9ced3b467ff21c638490b1f089f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a100e1b83863595f598cf40cfa6d9443f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/db3/a07946.html">GameObject</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a100e1b83863595f598cf40cfa6d9443f">GetCapturePointGo</a> (<a class="el" href="../../d3/d4c/a08174.html">WorldObject</a> *obj)</td></tr>
<tr class="separator:a100e1b83863595f598cf40cfa6d9443f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1963ac8eea7452b1bb89923a2e32b0f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a1963ac8eea7452b1bb89923a2e32b0f6">GetTeamId</a> ()</td></tr>
<tr class="separator:a1963ac8eea7452b1bb89923a2e32b0f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a67d01513cc9f41ce103f214a85bcf5c6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a67d01513cc9f41ce103f214a85bcf5c6">DelCapturePoint</a> ()</td></tr>
<tr class="separator:a67d01513cc9f41ce103f214a85bcf5c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a371349b157af4b8ecbacc8814f0bb2ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/db0/a03467.html#a407d39fdbc20e1e06960539245ee6a25">GuidUnorderedSet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a> [2]</td></tr>
<tr class="separator:a371349b157af4b8ecbacc8814f0bb2ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89bf5ddb47f47bb1129ec2256221dcb8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">m_maxValue</a></td></tr>
<tr class="separator:a89bf5ddb47f47bb1129ec2256221dcb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d8624843a640445f04a6b17be63ae3d"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a2d8624843a640445f04a6b17be63ae3d">m_minValue</a></td></tr>
<tr class="separator:a2d8624843a640445f04a6b17be63ae3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53e231eae6e505a88e616244092a8ee6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a53e231eae6e505a88e616244092a8ee6">m_maxSpeed</a></td></tr>
<tr class="separator:a53e231eae6e505a88e616244092a8ee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b3e3cb728347cd9783eea394245fcc0"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a></td></tr>
<tr class="separator:a7b3e3cb728347cd9783eea394245fcc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd3c8e8fe970c160670bd5a7cdb9b1c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#acd3c8e8fe970c160670bd5a7cdb9b1c4">m_team</a></td></tr>
<tr class="separator:acd3c8e8fe970c160670bd5a7cdb9b1c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37792e377ac59c30e711a56239598da4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798">BattlefieldObjectiveStates</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a37792e377ac59c30e711a56239598da4">m_OldState</a></td></tr>
<tr class="separator:a37792e377ac59c30e711a56239598da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf8b53252eb10615ff197e15ea620083"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798">BattlefieldObjectiveStates</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#acf8b53252eb10615ff197e15ea620083">m_State</a></td></tr>
<tr class="separator:acf8b53252eb10615ff197e15ea620083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa96d823e5093e1baff06666c35c49932"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#aa96d823e5093e1baff06666c35c49932">m_neutralValuePct</a></td></tr>
<tr class="separator:aa96d823e5093e1baff06666c35c49932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f857e79dde01c3d966f7c7981e5f190"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dd7/a06974.html">Battlefield</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a1f857e79dde01c3d966f7c7981e5f190">m_Bf</a></td></tr>
<tr class="separator:a1f857e79dde01c3d966f7c7981e5f190"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d43160e2a96cdae295596756f770f74"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a9d43160e2a96cdae295596756f770f74">m_capturePointEntry</a></td></tr>
<tr class="separator:a9d43160e2a96cdae295596756f770f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bc808408161740eed6185c049e1414b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d40/a08190.html">ObjectGuid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dad/a06966.html#a3bc808408161740eed6185c049e1414b">m_capturePoint</a></td></tr>
<tr class="separator:a3bc808408161740eed6185c049e1414b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1eac786bb758ef6f3295e2241045dc32" name="a1eac786bb758ef6f3295e2241045dc32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eac786bb758ef6f3295e2241045dc32">&#9670;&#160;</a></span>BfCapturePoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BfCapturePoint::BfCapturePoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/dd7/a06974.html">Battlefield</a> *&#160;</td>
          <td class="paramname"><em>bf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  868</span>                                                       : <a class="code hl_variable" href="../../dc/dad/a06966.html#a1f857e79dde01c3d966f7c7981e5f190">m_Bf</a>(battlefield)</div>
<div class="line"><span class="lineno">  869</span>{</div>
<div class="line"><span class="lineno">  870</span>    <a class="code hl_variable" href="../../dc/dad/a06966.html#acd3c8e8fe970c160670bd5a7cdb9b1c4">m_team</a> = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a1d009932a5dde84d818f627cfcfe3fe5">TEAM_NEUTRAL</a>;</div>
<div class="line"><span class="lineno">  871</span>    <a class="code hl_variable" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a> = 0;</div>
<div class="line"><span class="lineno">  872</span>    <a class="code hl_variable" href="../../dc/dad/a06966.html#a2d8624843a640445f04a6b17be63ae3d">m_minValue</a> = 0.0f;</div>
<div class="line"><span class="lineno">  873</span>    <a class="code hl_variable" href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">m_maxValue</a> = 0.0f;</div>
<div class="line"><span class="lineno">  874</span>    <a class="code hl_variable" href="../../dc/dad/a06966.html#acf8b53252eb10615ff197e15ea620083">m_State</a> = <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798afafb6299c9f30c2bd0d2caac21577178">BF_CAPTUREPOINT_OBJECTIVESTATE_NEUTRAL</a>;</div>
<div class="line"><span class="lineno">  875</span>    <a class="code hl_variable" href="../../dc/dad/a06966.html#a37792e377ac59c30e711a56239598da4">m_OldState</a> = <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798afafb6299c9f30c2bd0d2caac21577178">BF_CAPTUREPOINT_OBJECTIVESTATE_NEUTRAL</a>;</div>
<div class="line"><span class="lineno">  876</span>    <a class="code hl_variable" href="../../dc/dad/a06966.html#a9d43160e2a96cdae295596756f770f74">m_capturePointEntry</a> = 0;</div>
<div class="line"><span class="lineno">  877</span>    <a class="code hl_variable" href="../../dc/dad/a06966.html#aa96d823e5093e1baff06666c35c49932">m_neutralValuePct</a> = 0;</div>
<div class="line"><span class="lineno">  878</span>    <a class="code hl_variable" href="../../dc/dad/a06966.html#a53e231eae6e505a88e616244092a8ee6">m_maxSpeed</a> = 0;</div>
<div class="line"><span class="lineno">  879</span>}</div>
<div class="ttc" id="aa02771_html_abfb349736a7699bdfcdb134035ef7865a1d009932a5dde84d818f627cfcfe3fe5"><div class="ttname"><a href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a1d009932a5dde84d818f627cfcfe3fe5">TEAM_NEUTRAL</a></div><div class="ttdeci">@ TEAM_NEUTRAL</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:762</div></div>
<div class="ttc" id="aa02777_html_af6db5a1d93982b261639cd12634a2798afafb6299c9f30c2bd0d2caac21577178"><div class="ttname"><a href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798afafb6299c9f30c2bd0d2caac21577178">BF_CAPTUREPOINT_OBJECTIVESTATE_NEUTRAL</a></div><div class="ttdeci">@ BF_CAPTUREPOINT_OBJECTIVESTATE_NEUTRAL</div><div class="ttdef"><b>Definition:</b> Battlefield.h:40</div></div>
<div class="ttc" id="aa06966_html_a1f857e79dde01c3d966f7c7981e5f190"><div class="ttname"><a href="../../dc/dad/a06966.html#a1f857e79dde01c3d966f7c7981e5f190">BfCapturePoint::m_Bf</a></div><div class="ttdeci">Battlefield * m_Bf</div><div class="ttdef"><b>Definition:</b> Battlefield.h:136</div></div>
<div class="ttc" id="aa06966_html_a2d8624843a640445f04a6b17be63ae3d"><div class="ttname"><a href="../../dc/dad/a06966.html#a2d8624843a640445f04a6b17be63ae3d">BfCapturePoint::m_minValue</a></div><div class="ttdeci">float m_minValue</div><div class="ttdef"><b>Definition:</b> Battlefield.h:119</div></div>
<div class="ttc" id="aa06966_html_a37792e377ac59c30e711a56239598da4"><div class="ttname"><a href="../../dc/dad/a06966.html#a37792e377ac59c30e711a56239598da4">BfCapturePoint::m_OldState</a></div><div class="ttdeci">BattlefieldObjectiveStates m_OldState</div><div class="ttdef"><b>Definition:</b> Battlefield.h:129</div></div>
<div class="ttc" id="aa06966_html_a53e231eae6e505a88e616244092a8ee6"><div class="ttname"><a href="../../dc/dad/a06966.html#a53e231eae6e505a88e616244092a8ee6">BfCapturePoint::m_maxSpeed</a></div><div class="ttdeci">float m_maxSpeed</div><div class="ttdef"><b>Definition:</b> Battlefield.h:122</div></div>
<div class="ttc" id="aa06966_html_a7b3e3cb728347cd9783eea394245fcc0"><div class="ttname"><a href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">BfCapturePoint::m_value</a></div><div class="ttdeci">float m_value</div><div class="ttdef"><b>Definition:</b> Battlefield.h:125</div></div>
<div class="ttc" id="aa06966_html_a89bf5ddb47f47bb1129ec2256221dcb8"><div class="ttname"><a href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">BfCapturePoint::m_maxValue</a></div><div class="ttdeci">float m_maxValue</div><div class="ttdef"><b>Definition:</b> Battlefield.h:118</div></div>
<div class="ttc" id="aa06966_html_a9d43160e2a96cdae295596756f770f74"><div class="ttname"><a href="../../dc/dad/a06966.html#a9d43160e2a96cdae295596756f770f74">BfCapturePoint::m_capturePointEntry</a></div><div class="ttdeci">uint32 m_capturePointEntry</div><div class="ttdef"><b>Definition:</b> Battlefield.h:139</div></div>
<div class="ttc" id="aa06966_html_aa96d823e5093e1baff06666c35c49932"><div class="ttname"><a href="../../dc/dad/a06966.html#aa96d823e5093e1baff06666c35c49932">BfCapturePoint::m_neutralValuePct</a></div><div class="ttdeci">uint32 m_neutralValuePct</div><div class="ttdef"><b>Definition:</b> Battlefield.h:133</div></div>
<div class="ttc" id="aa06966_html_acd3c8e8fe970c160670bd5a7cdb9b1c4"><div class="ttname"><a href="../../dc/dad/a06966.html#acd3c8e8fe970c160670bd5a7cdb9b1c4">BfCapturePoint::m_team</a></div><div class="ttdeci">TeamId m_team</div><div class="ttdef"><b>Definition:</b> Battlefield.h:126</div></div>
<div class="ttc" id="aa06966_html_acf8b53252eb10615ff197e15ea620083"><div class="ttname"><a href="../../dc/dad/a06966.html#acf8b53252eb10615ff197e15ea620083">BfCapturePoint::m_State</a></div><div class="ttdeci">BattlefieldObjectiveStates m_State</div><div class="ttdef"><b>Definition:</b> Battlefield.h:130</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00040">BF_CAPTUREPOINT_OBJECTIVESTATE_NEUTRAL</a>, <a class="el" href="../../#l00139">m_capturePointEntry</a>, <a class="el" href="../../#l00122">m_maxSpeed</a>, <a class="el" href="../../#l00118">m_maxValue</a>, <a class="el" href="../../#l00119">m_minValue</a>, <a class="el" href="../../#l00133">m_neutralValuePct</a>, <a class="el" href="../../#l00129">m_OldState</a>, <a class="el" href="../../#l00130">m_State</a>, <a class="el" href="../../#l00126">m_team</a>, <a class="el" href="../../#l00125">m_value</a>, and <a class="el" href="../../#l00762">TEAM_NEUTRAL</a>.</p>

</div>
</div>
<a id="a309a0c2b2f3c5696aef46bb7bdf4dade" name="a309a0c2b2f3c5696aef46bb7bdf4dade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a309a0c2b2f3c5696aef46bb7bdf4dade">&#9670;&#160;</a></span>~BfCapturePoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual BfCapturePoint::~BfCapturePoint </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   82</span>{ }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a429037910b1a3108cdb753ba91230bf7" name="a429037910b1a3108cdb753ba91230bf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a429037910b1a3108cdb753ba91230bf7">&#9670;&#160;</a></span>ChangeTeam()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BfCapturePoint::ChangeTeam </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="../../da/da7/a06990.html#a66564dd3237538b256ebeb76d236001f">WintergraspCapturePoint</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  102</span>{}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../#l00986">Update()</a>.</p>

</div>
</div>
<a id="a67d01513cc9f41ce103f214a85bcf5c6" name="a67d01513cc9f41ce103f214a85bcf5c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67d01513cc9f41ce103f214a85bcf5c6">&#9670;&#160;</a></span>DelCapturePoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BfCapturePoint::DelCapturePoint </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  965</span>{</div>
<div class="line"><span class="lineno">  966</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="../../dd/db3/a07946.html">GameObject</a>* capturePoint = <a class="code hl_function" href="../../dc/dad/a06966.html#a605d9ced3b467ff21c638490b1f089f0">GetCapturePointGo</a>())</div>
<div class="line"><span class="lineno">  967</span>    {</div>
<div class="line"><span class="lineno">  968</span>        capturePoint-&gt;SetRespawnTime(0);                  <span class="comment">// not save respawn time</span></div>
<div class="line"><span class="lineno">  969</span>        capturePoint-&gt;Delete();</div>
<div class="line"><span class="lineno">  970</span>        <a class="code hl_variable" href="../../dc/dad/a06966.html#a3bc808408161740eed6185c049e1414b">m_capturePoint</a>.<a class="code hl_function" href="../../db/d40/a08190.html#af6aafb4610723c7f14523fef243b1b65">Clear</a>();</div>
<div class="line"><span class="lineno">  971</span>    }</div>
<div class="line"><span class="lineno">  972</span> </div>
<div class="line"><span class="lineno">  973</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  974</span>}</div>
<div class="ttc" id="aa06966_html_a3bc808408161740eed6185c049e1414b"><div class="ttname"><a href="../../dc/dad/a06966.html#a3bc808408161740eed6185c049e1414b">BfCapturePoint::m_capturePoint</a></div><div class="ttdeci">ObjectGuid m_capturePoint</div><div class="ttdef"><b>Definition:</b> Battlefield.h:142</div></div>
<div class="ttc" id="aa06966_html_a605d9ced3b467ff21c638490b1f089f0"><div class="ttname"><a href="../../dc/dad/a06966.html#a605d9ced3b467ff21c638490b1f089f0">BfCapturePoint::GetCapturePointGo</a></div><div class="ttdeci">GameObject * GetCapturePointGo()</div><div class="ttdef"><b>Definition:</b> Battlefield.cpp:976</div></div>
<div class="ttc" id="aa07946_html"><div class="ttname"><a href="../../dd/db3/a07946.html">GameObject</a></div><div class="ttdef"><b>Definition:</b> GameObject.h:120</div></div>
<div class="ttc" id="aa08190_html_af6aafb4610723c7f14523fef243b1b65"><div class="ttname"><a href="../../db/d40/a08190.html#af6aafb4610723c7f14523fef243b1b65">ObjectGuid::Clear</a></div><div class="ttdeci">void Clear()</div><div class="ttdef"><b>Definition:</b> ObjectGuid.h:138</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00138">ObjectGuid::Clear()</a>, <a class="el" href="../../#l00976">GetCapturePointGo()</a>, and <a class="el" href="../../#l00142">m_capturePoint</a>.</p>

</div>
</div>
<a id="a0e5304012825579a14703a6624a902ba" name="a0e5304012825579a14703a6624a902ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e5304012825579a14703a6624a902ba">&#9670;&#160;</a></span>FillInitialWorldStates()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BfCapturePoint::FillInitialWorldStates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d90/a10698.html">WorldPacket</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   84</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a605d9ced3b467ff21c638490b1f089f0" name="a605d9ced3b467ff21c638490b1f089f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a605d9ced3b467ff21c638490b1f089f0">&#9670;&#160;</a></span>GetCapturePointGo() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/db3/a07946.html">GameObject</a> * BfCapturePoint::GetCapturePointGo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  977</span>{</div>
<div class="line"><span class="lineno">  978</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dc/dad/a06966.html#a1f857e79dde01c3d966f7c7981e5f190">m_Bf</a>-&gt;<a class="code hl_function" href="../../dd/dd7/a06974.html#ad43eb209667d0b3b3779ea35f45f599c">GetGameObject</a>(<a class="code hl_variable" href="../../dc/dad/a06966.html#a3bc808408161740eed6185c049e1414b">m_capturePoint</a>);</div>
<div class="line"><span class="lineno">  979</span>}</div>
<div class="ttc" id="aa06974_html_ad43eb209667d0b3b3779ea35f45f599c"><div class="ttname"><a href="../../dd/dd7/a06974.html#ad43eb209667d0b3b3779ea35f45f599c">Battlefield::GetGameObject</a></div><div class="ttdeci">GameObject * GetGameObject(ObjectGuid const guid)</div><div class="ttdef"><b>Definition:</b> Battlefield.cpp:856</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00856">Battlefield::GetGameObject()</a>, <a class="el" href="../../#l00136">m_Bf</a>, and <a class="el" href="../../#l00142">m_capturePoint</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00964">DelCapturePoint()</a>, <a class="el" href="../../#l00881">HandlePlayerEnter()</a>, <a class="el" href="../../#l00892">HandlePlayerLeave()</a>, <a class="el" href="../../#l00906">SendChangePhase()</a>, and <a class="el" href="../../#l00986">Update()</a>.</p>

</div>
</div>
<a id="a100e1b83863595f598cf40cfa6d9443f" name="a100e1b83863595f598cf40cfa6d9443f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a100e1b83863595f598cf40cfa6d9443f">&#9670;&#160;</a></span>GetCapturePointGo() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/db3/a07946.html">GameObject</a> * BfCapturePoint::GetCapturePointGo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d4c/a08174.html">WorldObject</a> *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  982</span>{</div>
<div class="line"><span class="lineno">  983</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d06/a04735.html#a424a63829a446dac6f97a464cc64ed48">ObjectAccessor::GetGameObject</a>(*obj, <a class="code hl_variable" href="../../dc/dad/a06966.html#a3bc808408161740eed6185c049e1414b">m_capturePoint</a>);</div>
<div class="line"><span class="lineno">  984</span>}</div>
<div class="ttc" id="aa04735_html_a424a63829a446dac6f97a464cc64ed48"><div class="ttname"><a href="../../d9/d06/a04735.html#a424a63829a446dac6f97a464cc64ed48">ObjectAccessor::GetGameObject</a></div><div class="ttdeci">GameObject * GetGameObject(WorldObject const &amp;u, ObjectGuid const guid)</div><div class="ttdef"><b>Definition:</b> ObjectAccessor.cpp:184</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00184">ObjectAccessor::GetGameObject()</a>, and <a class="el" href="../../#l00142">m_capturePoint</a>.</p>

</div>
</div>
<a id="a1963ac8eea7452b1bb89923a2e32b0f6" name="a1963ac8eea7452b1bb89923a2e32b0f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1963ac8eea7452b1bb89923a2e32b0f6">&#9670;&#160;</a></span>GetTeamId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a> BfCapturePoint::GetTeamId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  110</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dc/dad/a06966.html#acd3c8e8fe970c160670bd5a7cdb9b1c4">m_team</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00126">m_team</a>.</p>

</div>
</div>
<a id="a1a4ed58f9874900d822305dd406b1c67" name="a1a4ed58f9874900d822305dd406b1c67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a4ed58f9874900d822305dd406b1c67">&#9670;&#160;</a></span>HandlePlayerEnter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BfCapturePoint::HandlePlayerEnter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/dc6/a08386.html">Player</a> *&#160;</td>
          <td class="paramname"><em>player</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  882</span>{</div>
<div class="line"><span class="lineno">  883</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="../../dd/db3/a07946.html">GameObject</a>* go = <a class="code hl_function" href="../../dc/dad/a06966.html#a605d9ced3b467ff21c638490b1f089f0">GetCapturePointGo</a>(player))</div>
<div class="line"><span class="lineno">  884</span>    {</div>
<div class="line"><span class="lineno">  885</span>        player-&gt;<a class="code hl_function" href="../../d0/dc6/a08386.html#a2a12863caf54ad9a8af56bda556d7a4b">SendUpdateWorldState</a>(go-&gt;GetGOInfo()-&gt;capturePoint.worldState1, 1);</div>
<div class="line"><span class="lineno">  886</span>        player-&gt;<a class="code hl_function" href="../../d0/dc6/a08386.html#a2a12863caf54ad9a8af56bda556d7a4b">SendUpdateWorldState</a>(go-&gt;GetGOInfo()-&gt;capturePoint.worldstate2, <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(std::ceil((<a class="code hl_variable" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a> + <a class="code hl_variable" href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">m_maxValue</a>) / (2 * <a class="code hl_variable" href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">m_maxValue</a>) * 100.0f)));</div>
<div class="line"><span class="lineno">  887</span>        player-&gt;<a class="code hl_function" href="../../d0/dc6/a08386.html#a2a12863caf54ad9a8af56bda556d7a4b">SendUpdateWorldState</a>(go-&gt;GetGOInfo()-&gt;capturePoint.worldstate3, <a class="code hl_variable" href="../../dc/dad/a06966.html#aa96d823e5093e1baff06666c35c49932">m_neutralValuePct</a>);</div>
<div class="line"><span class="lineno">  888</span>    }</div>
<div class="line"><span class="lineno">  889</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a>[player-&gt;<a class="code hl_function" href="../../d0/dc6/a08386.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>()].insert(player-&gt;<a class="code hl_function" href="../../df/d2d/a08142.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()).second;</div>
<div class="line"><span class="lineno">  890</span>}</div>
<div class="ttc" id="aa00497_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition:</b> Define.h:107</div></div>
<div class="ttc" id="aa06966_html_a371349b157af4b8ecbacc8814f0bb2ec"><div class="ttname"><a href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">BfCapturePoint::m_activePlayers</a></div><div class="ttdeci">GuidUnorderedSet m_activePlayers[2]</div><div class="ttdef"><b>Definition:</b> Battlefield.h:115</div></div>
<div class="ttc" id="aa08142_html_ad23b997e2442fa6a6228ba73a7ecc138"><div class="ttname"><a href="../../df/d2d/a08142.html#ad23b997e2442fa6a6228ba73a7ecc138">Object::GetGUID</a></div><div class="ttdeci">static ObjectGuid GetGUID(Object const *o)</div><div class="ttdef"><b>Definition:</b> Object.h:109</div></div>
<div class="ttc" id="aa08386_html_a2a12863caf54ad9a8af56bda556d7a4b"><div class="ttname"><a href="../../d0/dc6/a08386.html#a2a12863caf54ad9a8af56bda556d7a4b">Player::SendUpdateWorldState</a></div><div class="ttdeci">void SendUpdateWorldState(uint32 variable, uint32 value) const</div><div class="ttdef"><b>Definition:</b> PlayerUpdates.cpp:2196</div></div>
<div class="ttc" id="aa08386_html_a4874f5c152e187c381c2a349f16aa0d4"><div class="ttname"><a href="../../d0/dc6/a08386.html#a4874f5c152e187c381c2a349f16aa0d4">Player::GetTeamId</a></div><div class="ttdeci">TeamId GetTeamId(bool original=false) const</div><div class="ttdef"><b>Definition:</b> Player.h:2091</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00976">GetCapturePointGo()</a>, <a class="el" href="../../#l00109">Object::GetGUID()</a>, <a class="el" href="../../#l02091">Player::GetTeamId()</a>, <a class="el" href="../../#l00115">m_activePlayers</a>, <a class="el" href="../../#l00118">m_maxValue</a>, <a class="el" href="../../#l00133">m_neutralValuePct</a>, <a class="el" href="../../#l00125">m_value</a>, and <a class="el" href="../../#l02196">Player::SendUpdateWorldState()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00986">Update()</a>.</p>

</div>
</div>
<a id="a02eab1f489ee817d0b0263a57eb71ed2" name="a02eab1f489ee817d0b0263a57eb71ed2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02eab1f489ee817d0b0263a57eb71ed2">&#9670;&#160;</a></span>HandlePlayerLeave()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">GuidUnorderedSet::iterator BfCapturePoint::HandlePlayerLeave </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/dc6/a08386.html">Player</a> *&#160;</td>
          <td class="paramname"><em>player</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  893</span>{</div>
<div class="line"><span class="lineno">  894</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="../../dd/db3/a07946.html">GameObject</a>* go = <a class="code hl_function" href="../../dc/dad/a06966.html#a605d9ced3b467ff21c638490b1f089f0">GetCapturePointGo</a>(player))</div>
<div class="line"><span class="lineno">  895</span>        player-&gt;<a class="code hl_function" href="../../d0/dc6/a08386.html#a2a12863caf54ad9a8af56bda556d7a4b">SendUpdateWorldState</a>(go-&gt;GetGOInfo()-&gt;capturePoint.worldState1, 0);</div>
<div class="line"><span class="lineno">  896</span> </div>
<div class="line"><span class="lineno">  897</span>    GuidUnorderedSet::iterator current = <a class="code hl_variable" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a>[player-&gt;<a class="code hl_function" href="../../d0/dc6/a08386.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>()].find(player-&gt;<a class="code hl_function" href="../../df/d2d/a08142.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>());</div>
<div class="line"><span class="lineno">  898</span> </div>
<div class="line"><span class="lineno">  899</span>    <span class="keywordflow">if</span> (current == <a class="code hl_variable" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a>[player-&gt;<a class="code hl_function" href="../../d0/dc6/a08386.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>()].end())</div>
<div class="line"><span class="lineno">  900</span>        <span class="keywordflow">return</span> current; <span class="comment">// return end()</span></div>
<div class="line"><span class="lineno">  901</span> </div>
<div class="line"><span class="lineno">  902</span>    current = <a class="code hl_variable" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a>[player-&gt;<a class="code hl_function" href="../../d0/dc6/a08386.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>()].erase(current);</div>
<div class="line"><span class="lineno">  903</span>    <span class="keywordflow">return</span> current;</div>
<div class="line"><span class="lineno">  904</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00976">GetCapturePointGo()</a>, <a class="el" href="../../#l00109">Object::GetGUID()</a>, <a class="el" href="../../#l02091">Player::GetTeamId()</a>, <a class="el" href="../../#l00115">m_activePlayers</a>, and <a class="el" href="../../#l02196">Player::SendUpdateWorldState()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00986">Update()</a>.</p>

</div>
</div>
<a id="a5a375223e2be7103bf6d9b411bb95b2c" name="a5a375223e2be7103bf6d9b411bb95b2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a375223e2be7103bf6d9b411bb95b2c">&#9670;&#160;</a></span>IsInsideObjective()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BfCapturePoint::IsInsideObjective </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/dc6/a08386.html">Player</a> *&#160;</td>
          <td class="paramname"><em>player</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1135</span>{</div>
<div class="line"><span class="lineno"> 1136</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a>[player-&gt;<a class="code hl_function" href="../../d0/dc6/a08386.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>()].find(player-&gt;<a class="code hl_function" href="../../df/d2d/a08142.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>()) != <a class="code hl_variable" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a>[player-&gt;<a class="code hl_function" href="../../d0/dc6/a08386.html#a4874f5c152e187c381c2a349f16aa0d4">GetTeamId</a>()].end();</div>
<div class="line"><span class="lineno"> 1137</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00109">Object::GetGUID()</a>, <a class="el" href="../../#l02091">Player::GetTeamId()</a>, and <a class="el" href="../../#l00115">m_activePlayers</a>.</p>

</div>
</div>
<a id="a7c727552544f98f3ace8e42c2d1cca02" name="a7c727552544f98f3ace8e42c2d1cca02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c727552544f98f3ace8e42c2d1cca02">&#9670;&#160;</a></span>SendChangePhase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BfCapturePoint::SendChangePhase </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  907</span>{</div>
<div class="line"><span class="lineno">  908</span>    <a class="code hl_class" href="../../dd/db3/a07946.html">GameObject</a>* capturePoint = <a class="code hl_function" href="../../dc/dad/a06966.html#a605d9ced3b467ff21c638490b1f089f0">GetCapturePointGo</a>();</div>
<div class="line"><span class="lineno">  909</span>    <span class="keywordflow">if</span> (!capturePoint)</div>
<div class="line"><span class="lineno">  910</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  911</span> </div>
<div class="line"><span class="lineno">  912</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> team = 0; team &lt; 2; ++team)</div>
<div class="line"><span class="lineno">  913</span>        <span class="keywordflow">for</span> (GuidUnorderedSet::iterator itr = <a class="code hl_variable" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a>[team].begin(); itr != <a class="code hl_variable" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a>[team].end(); ++itr)  <span class="comment">// send to all players present in the area</span></div>
<div class="line"><span class="lineno">  914</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d0/dc6/a08386.html">Player</a>* player = <a class="code hl_function" href="../../d9/d06/a04735.html#a9ede56180a13f102ad195136eadb97ee">ObjectAccessor::FindPlayer</a>(*itr))</div>
<div class="line"><span class="lineno">  915</span>            {</div>
<div class="line"><span class="lineno">  916</span>                <span class="comment">// send this too, sometimes the slider disappears, dunno why :(</span></div>
<div class="line"><span class="lineno">  917</span>                player-&gt;SendUpdateWorldState(capturePoint-&gt;<a class="code hl_function" href="../../dd/db3/a07946.html#a1415b5cb9b3b3f4f6691584c5b6d7324">GetGOInfo</a>()-&gt;<a class="code hl_variable" href="../../da/dc8/a07950.html#ac31b809cbcfc2e0868ef80bb8f3ba916">capturePoint</a>.<a class="code hl_variable" href="../../da/dc8/a07950.html#afc807e66fd487510edaa21cfa5930e5e">worldState1</a>, 1);</div>
<div class="line"><span class="lineno">  918</span>                <span class="comment">// send these updates to only the ones in this objective</span></div>
<div class="line"><span class="lineno">  919</span>                player-&gt;SendUpdateWorldState(capturePoint-&gt;<a class="code hl_function" href="../../dd/db3/a07946.html#a1415b5cb9b3b3f4f6691584c5b6d7324">GetGOInfo</a>()-&gt;<a class="code hl_variable" href="../../da/dc8/a07950.html#ac31b809cbcfc2e0868ef80bb8f3ba916">capturePoint</a>.<a class="code hl_variable" href="../../da/dc8/a07950.html#a08af1aef620d8dfa8c1ec9566f6c746e">worldstate2</a>, (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>) std::ceil((<a class="code hl_variable" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a> + <a class="code hl_variable" href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">m_maxValue</a>) / (2 * <a class="code hl_variable" href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">m_maxValue</a>) * 100.0f));</div>
<div class="line"><span class="lineno">  920</span>                <span class="comment">// send this too, sometimes it resets :S</span></div>
<div class="line"><span class="lineno">  921</span>                player-&gt;SendUpdateWorldState(capturePoint-&gt;<a class="code hl_function" href="../../dd/db3/a07946.html#a1415b5cb9b3b3f4f6691584c5b6d7324">GetGOInfo</a>()-&gt;<a class="code hl_variable" href="../../da/dc8/a07950.html#ac31b809cbcfc2e0868ef80bb8f3ba916">capturePoint</a>.<a class="code hl_variable" href="../../da/dc8/a07950.html#a050e002c4a6bf7eb71ea6027587db6ac">worldstate3</a>, <a class="code hl_variable" href="../../dc/dad/a06966.html#aa96d823e5093e1baff06666c35c49932">m_neutralValuePct</a>);</div>
<div class="line"><span class="lineno">  922</span>            }</div>
<div class="line"><span class="lineno">  923</span>}</div>
<div class="ttc" id="aa00497_html_a15a8d014fadf85c99a2268d8cbd00767"><div class="ttname"><a href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a></div><div class="ttdeci">std::uint8_t uint8</div><div class="ttdef"><b>Definition:</b> Define.h:109</div></div>
<div class="ttc" id="aa04735_html_a9ede56180a13f102ad195136eadb97ee"><div class="ttname"><a href="../../d9/d06/a04735.html#a9ede56180a13f102ad195136eadb97ee">ObjectAccessor::FindPlayer</a></div><div class="ttdeci">Player * FindPlayer(ObjectGuid const guid)</div><div class="ttdef"><b>Definition:</b> ObjectAccessor.cpp:245</div></div>
<div class="ttc" id="aa07946_html_a1415b5cb9b3b3f4f6691584c5b6d7324"><div class="ttname"><a href="../../dd/db3/a07946.html#a1415b5cb9b3b3f4f6691584c5b6d7324">GameObject::GetGOInfo</a></div><div class="ttdeci">GameObjectTemplate const * GetGOInfo() const</div><div class="ttdef"><b>Definition:</b> GameObject.h:136</div></div>
<div class="ttc" id="aa07950_html_a050e002c4a6bf7eb71ea6027587db6ac"><div class="ttname"><a href="../../da/dc8/a07950.html#a050e002c4a6bf7eb71ea6027587db6ac">GameObjectTemplate::worldstate3</a></div><div class="ttdeci">uint32 worldstate3</div><div class="ttdef"><b>Definition:</b> GameObjectData.h:315</div></div>
<div class="ttc" id="aa07950_html_a08af1aef620d8dfa8c1ec9566f6c746e"><div class="ttname"><a href="../../da/dc8/a07950.html#a08af1aef620d8dfa8c1ec9566f6c746e">GameObjectTemplate::worldstate2</a></div><div class="ttdeci">uint32 worldstate2</div><div class="ttdef"><b>Definition:</b> GameObjectData.h:305</div></div>
<div class="ttc" id="aa07950_html_ac31b809cbcfc2e0868ef80bb8f3ba916"><div class="ttname"><a href="../../da/dc8/a07950.html#ac31b809cbcfc2e0868ef80bb8f3ba916">GameObjectTemplate::capturePoint</a></div><div class="ttdeci">struct GameObjectTemplate::@228::@252 capturePoint</div></div>
<div class="ttc" id="aa07950_html_afc807e66fd487510edaa21cfa5930e5e"><div class="ttname"><a href="../../da/dc8/a07950.html#afc807e66fd487510edaa21cfa5930e5e">GameObjectTemplate::worldState1</a></div><div class="ttdeci">uint32 worldState1</div><div class="ttdef"><b>Definition:</b> GameObjectData.h:223</div></div>
<div class="ttc" id="aa08386_html"><div class="ttname"><a href="../../d0/dc6/a08386.html">Player</a></div><div class="ttdef"><b>Definition:</b> Player.h:1064</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/dc8/a07950.html#ac31b809cbcfc2e0868ef80bb8f3ba916">GameObjectTemplate::capturePoint</a>, <a class="el" href="../../#l00245">ObjectAccessor::FindPlayer()</a>, <a class="el" href="../../#l00976">GetCapturePointGo()</a>, <a class="el" href="../../#l00136">GameObject::GetGOInfo()</a>, <a class="el" href="../../#l00115">m_activePlayers</a>, <a class="el" href="../../#l00118">m_maxValue</a>, <a class="el" href="../../#l00133">m_neutralValuePct</a>, <a class="el" href="../../#l00125">m_value</a>, <a class="el" href="../../#l00223">GameObjectTemplate::worldState1</a>, <a class="el" href="../../#l00305">GameObjectTemplate::worldstate2</a>, and <a class="el" href="../../#l00315">GameObjectTemplate::worldstate3</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00986">Update()</a>.</p>

</div>
</div>
<a id="ab961bfe8934f89e6e454b8a74a280e3e" name="ab961bfe8934f89e6e454b8a74a280e3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab961bfe8934f89e6e454b8a74a280e3e">&#9670;&#160;</a></span>SendObjectiveComplete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BfCapturePoint::SendObjectiveComplete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d40/a08190.html">ObjectGuid</a>&#160;</td>
          <td class="paramname"><em>guid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1114</span>{</div>
<div class="line"><span class="lineno"> 1115</span>    <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> team;</div>
<div class="line"><span class="lineno"> 1116</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../dc/dad/a06966.html#acf8b53252eb10615ff197e15ea620083">m_State</a>)</div>
<div class="line"><span class="lineno"> 1117</span>    {</div>
<div class="line"><span class="lineno"> 1118</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798ac05149e43f48e8fbe687c2cb48a88ac7">BF_CAPTUREPOINT_OBJECTIVESTATE_ALLIANCE</a>:</div>
<div class="line"><span class="lineno"> 1119</span>            team = 0;</div>
<div class="line"><span class="lineno"> 1120</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1121</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798a683078aa231d432a72923b9eff4d5a29">BF_CAPTUREPOINT_OBJECTIVESTATE_HORDE</a>:</div>
<div class="line"><span class="lineno"> 1122</span>            team = 1;</div>
<div class="line"><span class="lineno"> 1123</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1124</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1125</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1126</span>    }</div>
<div class="line"><span class="lineno"> 1127</span> </div>
<div class="line"><span class="lineno"> 1128</span>    <span class="comment">// send to all players present in the area</span></div>
<div class="line"><span class="lineno"> 1129</span>    <span class="keywordflow">for</span> (GuidUnorderedSet::iterator itr = <a class="code hl_variable" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a>[team].begin(); itr != <a class="code hl_variable" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a>[team].end(); ++itr)</div>
<div class="line"><span class="lineno"> 1130</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d0/dc6/a08386.html">Player</a>* player = <a class="code hl_function" href="../../d9/d06/a04735.html#a9ede56180a13f102ad195136eadb97ee">ObjectAccessor::FindPlayer</a>(*itr))</div>
<div class="line"><span class="lineno"> 1131</span>            player-&gt;KilledMonsterCredit(<span class="keywordtype">id</span>, guid);</div>
<div class="line"><span class="lineno"> 1132</span>}</div>
<div class="ttc" id="aa02777_html_af6db5a1d93982b261639cd12634a2798a683078aa231d432a72923b9eff4d5a29"><div class="ttname"><a href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798a683078aa231d432a72923b9eff4d5a29">BF_CAPTUREPOINT_OBJECTIVESTATE_HORDE</a></div><div class="ttdeci">@ BF_CAPTUREPOINT_OBJECTIVESTATE_HORDE</div><div class="ttdef"><b>Definition:</b> Battlefield.h:42</div></div>
<div class="ttc" id="aa02777_html_af6db5a1d93982b261639cd12634a2798ac05149e43f48e8fbe687c2cb48a88ac7"><div class="ttname"><a href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798ac05149e43f48e8fbe687c2cb48a88ac7">BF_CAPTUREPOINT_OBJECTIVESTATE_ALLIANCE</a></div><div class="ttdeci">@ BF_CAPTUREPOINT_OBJECTIVESTATE_ALLIANCE</div><div class="ttdef"><b>Definition:</b> Battlefield.h:41</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00041">BF_CAPTUREPOINT_OBJECTIVESTATE_ALLIANCE</a>, <a class="el" href="../../#l00042">BF_CAPTUREPOINT_OBJECTIVESTATE_HORDE</a>, <a class="el" href="../../#l00245">ObjectAccessor::FindPlayer()</a>, <a class="el" href="../../#l00115">m_activePlayers</a>, and <a class="el" href="../../#l00130">m_State</a>.</p>

</div>
</div>
<a id="a887af016c482f532f38b3aa10ce6e546" name="a887af016c482f532f38b3aa10ce6e546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a887af016c482f532f38b3aa10ce6e546">&#9670;&#160;</a></span>SendUpdateWorldState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BfCapturePoint::SendUpdateWorldState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1106</span>{</div>
<div class="line"><span class="lineno"> 1107</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> team = 0; team &lt; 2; ++team)</div>
<div class="line"><span class="lineno"> 1108</span>        <span class="keywordflow">for</span> (GuidUnorderedSet::iterator itr = <a class="code hl_variable" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a>[team].begin(); itr != <a class="code hl_variable" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a>[team].end(); ++itr)  <span class="comment">// send to all players present in the area</span></div>
<div class="line"><span class="lineno"> 1109</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d0/dc6/a08386.html">Player</a>* player = <a class="code hl_function" href="../../d9/d06/a04735.html#a9ede56180a13f102ad195136eadb97ee">ObjectAccessor::FindPlayer</a>(*itr))</div>
<div class="line"><span class="lineno"> 1110</span>                player-&gt;SendUpdateWorldState(field, value);</div>
<div class="line"><span class="lineno"> 1111</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00245">ObjectAccessor::FindPlayer()</a>, and <a class="el" href="../../#l00115">m_activePlayers</a>.</p>

</div>
</div>
<a id="a309d340d11c1712f5525438f31779671" name="a309d340d11c1712f5525438f31779671"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a309d340d11c1712f5525438f31779671">&#9670;&#160;</a></span>SetCapturePointData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BfCapturePoint::SetCapturePointData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/db3/a07946.html">GameObject</a> *&#160;</td>
          <td class="paramname"><em>capturePoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a>&#160;</td>
          <td class="paramname"><em>team</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  926</span>{</div>
<div class="line"><span class="lineno">  927</span>    <a class="code hl_define" href="../../da/d45/a00011.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a>(capturePoint);</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>    <span class="comment">//At first call using TEAM_NEUTRAL as a checker but never using it, after first call we reset the capturepoints to the new winner of the last WG war</span></div>
<div class="line"><span class="lineno">  930</span>    <span class="keywordflow">if</span> (team == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a1d009932a5dde84d818f627cfcfe3fe5">TEAM_NEUTRAL</a>)</div>
<div class="line"><span class="lineno">  931</span>        team = <a class="code hl_variable" href="../../dc/dad/a06966.html#acd3c8e8fe970c160670bd5a7cdb9b1c4">m_team</a>;</div>
<div class="line"><span class="lineno">  932</span>    <a class="code hl_define" href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a>(<span class="stringliteral">&quot;bg.battlefield&quot;</span>, <span class="stringliteral">&quot;Creating capture point {}&quot;</span>, capturePoint-&gt;<a class="code hl_function" href="../../df/d2d/a08142.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><span class="lineno">  933</span> </div>
<div class="line"><span class="lineno">  934</span>    <a class="code hl_variable" href="../../dc/dad/a06966.html#a3bc808408161740eed6185c049e1414b">m_capturePoint</a> = capturePoint-&gt;<a class="code hl_function" href="../../df/d2d/a08142.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>();</div>
<div class="line"><span class="lineno">  935</span> </div>
<div class="line"><span class="lineno">  936</span>    <span class="comment">// check info existence</span></div>
<div class="line"><span class="lineno">  937</span>    <a class="code hl_struct" href="../../da/dc8/a07950.html">GameObjectTemplate</a> <span class="keyword">const</span>* goinfo = capturePoint-&gt;<a class="code hl_function" href="../../dd/db3/a07946.html#a1415b5cb9b3b3f4f6691584c5b6d7324">GetGOInfo</a>();</div>
<div class="line"><span class="lineno">  938</span>    <span class="keywordflow">if</span> (goinfo-&gt;<a class="code hl_variable" href="../../da/dc8/a07950.html#a1c78664b7272010dac83e9f4ea132330">type</a> != <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#a0233096c29a8a39f15373e06434985f9a15e0eaa2ecf827ab8f47b0768c2160b3">GAMEOBJECT_TYPE_CAPTURE_POINT</a>)</div>
<div class="line"><span class="lineno">  939</span>    {</div>
<div class="line"><span class="lineno">  940</span>        <a class="code hl_define" href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a>(<span class="stringliteral">&quot;bg.battlefield&quot;</span>, <span class="stringliteral">&quot;OutdoorPvP: GO {} is not capture point!&quot;</span>, capturePoint-&gt;<a class="code hl_function" href="../../df/d2d/a08142.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>());</div>
<div class="line"><span class="lineno">  941</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  942</span>    }</div>
<div class="line"><span class="lineno">  943</span> </div>
<div class="line"><span class="lineno">  944</span>    <span class="comment">// get the needed values from goinfo</span></div>
<div class="line"><span class="lineno">  945</span>    <a class="code hl_variable" href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">m_maxValue</a> = goinfo-&gt;<a class="code hl_variable" href="../../da/dc8/a07950.html#ac31b809cbcfc2e0868ef80bb8f3ba916">capturePoint</a>.<a class="code hl_variable" href="../../da/dc8/a07950.html#a912d251efbe00674ea9497f3b5e7f537">maxTime</a>;</div>
<div class="line"><span class="lineno">  946</span>    <a class="code hl_variable" href="../../dc/dad/a06966.html#a53e231eae6e505a88e616244092a8ee6">m_maxSpeed</a> = <a class="code hl_variable" href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">m_maxValue</a> / (goinfo-&gt;<a class="code hl_variable" href="../../da/dc8/a07950.html#ac31b809cbcfc2e0868ef80bb8f3ba916">capturePoint</a>.<a class="code hl_variable" href="../../da/dc8/a07950.html#a259bf0cf9e7817c1988cf53f28170440">minTime</a> ? goinfo-&gt;<a class="code hl_variable" href="../../da/dc8/a07950.html#ac31b809cbcfc2e0868ef80bb8f3ba916">capturePoint</a>.<a class="code hl_variable" href="../../da/dc8/a07950.html#a259bf0cf9e7817c1988cf53f28170440">minTime</a> : 60);</div>
<div class="line"><span class="lineno">  947</span>    <a class="code hl_variable" href="../../dc/dad/a06966.html#aa96d823e5093e1baff06666c35c49932">m_neutralValuePct</a> = goinfo-&gt;<a class="code hl_variable" href="../../da/dc8/a07950.html#ac31b809cbcfc2e0868ef80bb8f3ba916">capturePoint</a>.<a class="code hl_variable" href="../../da/dc8/a07950.html#a8aec950d501fa71132f9a708c8e5d0d7">neutralPercent</a>;</div>
<div class="line"><span class="lineno">  948</span>    <a class="code hl_variable" href="../../dc/dad/a06966.html#a2d8624843a640445f04a6b17be63ae3d">m_minValue</a> = <a class="code hl_variable" href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">m_maxValue</a> * goinfo-&gt;<a class="code hl_variable" href="../../da/dc8/a07950.html#ac31b809cbcfc2e0868ef80bb8f3ba916">capturePoint</a>.<a class="code hl_variable" href="../../da/dc8/a07950.html#a8aec950d501fa71132f9a708c8e5d0d7">neutralPercent</a> / 100;</div>
<div class="line"><span class="lineno">  949</span>    <a class="code hl_variable" href="../../dc/dad/a06966.html#a9d43160e2a96cdae295596756f770f74">m_capturePointEntry</a> = capturePoint-&gt;<a class="code hl_function" href="../../df/d2d/a08142.html#aa627fe2967ed0e0ed1d8aeeb4365a961">GetEntry</a>();</div>
<div class="line"><span class="lineno">  950</span>    <span class="keywordflow">if</span> (team == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>)</div>
<div class="line"><span class="lineno">  951</span>    {</div>
<div class="line"><span class="lineno">  952</span>        <a class="code hl_variable" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a> = <a class="code hl_variable" href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">m_maxValue</a>;</div>
<div class="line"><span class="lineno">  953</span>        <a class="code hl_variable" href="../../dc/dad/a06966.html#acf8b53252eb10615ff197e15ea620083">m_State</a> = <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798ac05149e43f48e8fbe687c2cb48a88ac7">BF_CAPTUREPOINT_OBJECTIVESTATE_ALLIANCE</a>;</div>
<div class="line"><span class="lineno">  954</span>    }</div>
<div class="line"><span class="lineno">  955</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  956</span>    {</div>
<div class="line"><span class="lineno">  957</span>        <a class="code hl_variable" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a> = -<a class="code hl_variable" href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">m_maxValue</a>;</div>
<div class="line"><span class="lineno">  958</span>        <a class="code hl_variable" href="../../dc/dad/a06966.html#acf8b53252eb10615ff197e15ea620083">m_State</a> = <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798a683078aa231d432a72923b9eff4d5a29">BF_CAPTUREPOINT_OBJECTIVESTATE_HORDE</a>;</div>
<div class="line"><span class="lineno">  959</span>    }</div>
<div class="line"><span class="lineno">  960</span> </div>
<div class="line"><span class="lineno">  961</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  962</span>}</div>
<div class="ttc" id="aa00011_html_af343b20373ba49a92fce523e948f2ab3"><div class="ttname"><a href="../../da/d45/a00011.html#af343b20373ba49a92fce523e948f2ab3">ASSERT</a></div><div class="ttdeci">#define ASSERT</div><div class="ttdef"><b>Definition:</b> Errors.h:68</div></div>
<div class="ttc" id="aa00035_html_a43832e3fa8508deb4ce43e520005fcd9"><div class="ttname"><a href="../../d4/d8c/a00035.html#a43832e3fa8508deb4ce43e520005fcd9">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(filterType__,...)</div><div class="ttdef"><b>Definition:</b> Log.h:157</div></div>
<div class="ttc" id="aa00035_html_a47ac782b14a7531c6232777165a1a161"><div class="ttname"><a href="../../d4/d8c/a00035.html#a47ac782b14a7531c6232777165a1a161">LOG_DEBUG</a></div><div class="ttdeci">#define LOG_DEBUG(filterType__,...)</div><div class="ttdef"><b>Definition:</b> Log.h:169</div></div>
<div class="ttc" id="aa02771_html_a0233096c29a8a39f15373e06434985f9a15e0eaa2ecf827ab8f47b0768c2160b3"><div class="ttname"><a href="../../d0/dbd/a02771.html#a0233096c29a8a39f15373e06434985f9a15e0eaa2ecf827ab8f47b0768c2160b3">GAMEOBJECT_TYPE_CAPTURE_POINT</a></div><div class="ttdeci">@ GAMEOBJECT_TYPE_CAPTURE_POINT</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:1589</div></div>
<div class="ttc" id="aa02771_html_abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e"><div class="ttname"><a href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a></div><div class="ttdeci">@ TEAM_ALLIANCE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:760</div></div>
<div class="ttc" id="aa07950_html"><div class="ttname"><a href="../../da/dc8/a07950.html">GameObjectTemplate</a></div><div class="ttdef"><b>Definition:</b> GameObjectData.h:31</div></div>
<div class="ttc" id="aa07950_html_a1c78664b7272010dac83e9f4ea132330"><div class="ttname"><a href="../../da/dc8/a07950.html#a1c78664b7272010dac83e9f4ea132330">GameObjectTemplate::type</a></div><div class="ttdeci">uint32 type</div><div class="ttdef"><b>Definition:</b> GameObjectData.h:33</div></div>
<div class="ttc" id="aa07950_html_a259bf0cf9e7817c1988cf53f28170440"><div class="ttname"><a href="../../da/dc8/a07950.html#a259bf0cf9e7817c1988cf53f28170440">GameObjectTemplate::minTime</a></div><div class="ttdeci">uint32 minTime</div><div class="ttdef"><b>Definition:</b> GameObjectData.h:318</div></div>
<div class="ttc" id="aa07950_html_a8aec950d501fa71132f9a708c8e5d0d7"><div class="ttname"><a href="../../da/dc8/a07950.html#a8aec950d501fa71132f9a708c8e5d0d7">GameObjectTemplate::neutralPercent</a></div><div class="ttdeci">uint32 neutralPercent</div><div class="ttdef"><b>Definition:</b> GameObjectData.h:314</div></div>
<div class="ttc" id="aa07950_html_a912d251efbe00674ea9497f3b5e7f537"><div class="ttname"><a href="../../da/dc8/a07950.html#a912d251efbe00674ea9497f3b5e7f537">GameObjectTemplate::maxTime</a></div><div class="ttdeci">uint32 maxTime</div><div class="ttdef"><b>Definition:</b> GameObjectData.h:319</div></div>
<div class="ttc" id="aa08142_html_aa627fe2967ed0e0ed1d8aeeb4365a961"><div class="ttname"><a href="../../df/d2d/a08142.html#aa627fe2967ed0e0ed1d8aeeb4365a961">Object::GetEntry</a></div><div class="ttdeci">uint32 GetEntry() const</div><div class="ttdef"><b>Definition:</b> Object.h:112</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00068">ASSERT</a>, <a class="el" href="../../#l00041">BF_CAPTUREPOINT_OBJECTIVESTATE_ALLIANCE</a>, <a class="el" href="../../#l00042">BF_CAPTUREPOINT_OBJECTIVESTATE_HORDE</a>, <a class="el" href="../../da/dc8/a07950.html#ac31b809cbcfc2e0868ef80bb8f3ba916">GameObjectTemplate::capturePoint</a>, <a class="el" href="../../#l01589">GAMEOBJECT_TYPE_CAPTURE_POINT</a>, <a class="el" href="../../#l00112">Object::GetEntry()</a>, <a class="el" href="../../#l00136">GameObject::GetGOInfo()</a>, <a class="el" href="../../#l00109">Object::GetGUID()</a>, <a class="el" href="../../#l00169">LOG_DEBUG</a>, <a class="el" href="../../#l00157">LOG_ERROR</a>, <a class="el" href="../../#l00142">m_capturePoint</a>, <a class="el" href="../../#l00139">m_capturePointEntry</a>, <a class="el" href="../../#l00122">m_maxSpeed</a>, <a class="el" href="../../#l00118">m_maxValue</a>, <a class="el" href="../../#l00119">m_minValue</a>, <a class="el" href="../../#l00133">m_neutralValuePct</a>, <a class="el" href="../../#l00130">m_State</a>, <a class="el" href="../../#l00126">m_team</a>, <a class="el" href="../../#l00125">m_value</a>, <a class="el" href="../../#l00319">GameObjectTemplate::maxTime</a>, <a class="el" href="../../#l00318">GameObjectTemplate::minTime</a>, <a class="el" href="../../#l00314">GameObjectTemplate::neutralPercent</a>, <a class="el" href="../../#l00760">TEAM_ALLIANCE</a>, <a class="el" href="../../#l00762">TEAM_NEUTRAL</a>, and <a class="el" href="../../#l00033">GameObjectTemplate::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00673">BattlefieldWG::OnGameObjectCreate()</a>.</p>

</div>
</div>
<a id="a3620c3873aca6e90594a4ddc8345102d" name="a3620c3873aca6e90594a4ddc8345102d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3620c3873aca6e90594a4ddc8345102d">&#9670;&#160;</a></span>Update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BfCapturePoint::Update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>diff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  987</span>{</div>
<div class="line"><span class="lineno">  988</span>    <a class="code hl_class" href="../../dd/db3/a07946.html">GameObject</a>* capturePoint = <a class="code hl_function" href="../../dc/dad/a06966.html#a605d9ced3b467ff21c638490b1f089f0">GetCapturePointGo</a>();</div>
<div class="line"><span class="lineno">  989</span>    <span class="keywordflow">if</span> (!capturePoint)</div>
<div class="line"><span class="lineno">  990</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  991</span> </div>
<div class="line"><span class="lineno">  992</span>    <span class="keywordtype">float</span> radius = capturePoint-&gt;<a class="code hl_function" href="../../dd/db3/a07946.html#a1415b5cb9b3b3f4f6691584c5b6d7324">GetGOInfo</a>()-&gt;<a class="code hl_variable" href="../../da/dc8/a07950.html#ac31b809cbcfc2e0868ef80bb8f3ba916">capturePoint</a>.<a class="code hl_variable" href="../../da/dc8/a07950.html#a303ebbf7423f0f937bd81f5e4039dede">radius</a>;</div>
<div class="line"><span class="lineno">  993</span> </div>
<div class="line"><span class="lineno">  994</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a15a8d014fadf85c99a2268d8cbd00767">uint8</a> team = 0; team &lt; 2; ++team)</div>
<div class="line"><span class="lineno">  995</span>    {</div>
<div class="line"><span class="lineno">  996</span>        <span class="keywordflow">for</span> (GuidUnorderedSet::iterator itr = <a class="code hl_variable" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a>[team].begin(); itr != <a class="code hl_variable" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a>[team].end();)</div>
<div class="line"><span class="lineno">  997</span>        {</div>
<div class="line"><span class="lineno">  998</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="../../d0/dc6/a08386.html">Player</a>* player = <a class="code hl_function" href="../../d9/d06/a04735.html#a9ede56180a13f102ad195136eadb97ee">ObjectAccessor::FindPlayer</a>(*itr))</div>
<div class="line"><span class="lineno">  999</span>                <span class="keywordflow">if</span> (!capturePoint-&gt;<a class="code hl_function" href="../../dd/db3/a07946.html#a0e472403802c7a862e22c769ef4f8378">IsWithinDistInMap</a>(player, radius) || !player-&gt;IsOutdoorPvPActive())</div>
<div class="line"><span class="lineno"> 1000</span>                {</div>
<div class="line"><span class="lineno"> 1001</span>                    itr = <a class="code hl_function" href="../../dc/dad/a06966.html#a02eab1f489ee817d0b0263a57eb71ed2">HandlePlayerLeave</a>(player);</div>
<div class="line"><span class="lineno"> 1002</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1003</span>                }</div>
<div class="line"><span class="lineno"> 1004</span> </div>
<div class="line"><span class="lineno"> 1005</span>            ++itr;</div>
<div class="line"><span class="lineno"> 1006</span>        }</div>
<div class="line"><span class="lineno"> 1007</span>    }</div>
<div class="line"><span class="lineno"> 1008</span> </div>
<div class="line"><span class="lineno"> 1009</span>    std::list&lt;Player*&gt; players;</div>
<div class="line"><span class="lineno"> 1010</span>    <a class="code hl_class" href="../../da/d80/a09102.html">Acore::AnyPlayerInObjectRangeCheck</a> checker(capturePoint, radius);</div>
<div class="line"><span class="lineno"> 1011</span>    <a class="code hl_struct" href="../../d4/d90/a08958.html">Acore::PlayerListSearcher&lt;Acore::AnyPlayerInObjectRangeCheck&gt;</a> searcher(capturePoint, players, checker);</div>
<div class="line"><span class="lineno"> 1012</span>    <a class="code hl_function" href="../../d9/db0/a08822.html#a952f2c6008bbbc3b9ee1652ea5f9188a">Cell::VisitWorldObjects</a>(capturePoint, searcher, radius);</div>
<div class="line"><span class="lineno"> 1013</span> </div>
<div class="line"><span class="lineno"> 1014</span>    <span class="keywordflow">for</span> (std::list&lt;Player*&gt;::iterator itr = players.begin(); itr != players.end(); ++itr)</div>
<div class="line"><span class="lineno"> 1015</span>        <span class="keywordflow">if</span> ((*itr)-&gt;IsOutdoorPvPActive())</div>
<div class="line"><span class="lineno"> 1016</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a>[(*itr)-&gt;GetTeamId()].insert((*itr)-&gt;GetGUID()).second)</div>
<div class="line"><span class="lineno"> 1017</span>                <a class="code hl_function" href="../../dc/dad/a06966.html#a1a4ed58f9874900d822305dd406b1c67">HandlePlayerEnter</a>(*itr);</div>
<div class="line"><span class="lineno"> 1018</span> </div>
<div class="line"><span class="lineno"> 1019</span>    <span class="comment">// get the difference of numbers</span></div>
<div class="line"><span class="lineno"> 1020</span>    <span class="keywordtype">float</span> fact_diff = ((float) <a class="code hl_variable" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a>[0].size() - (float) <a class="code hl_variable" href="../../dc/dad/a06966.html#a371349b157af4b8ecbacc8814f0bb2ec">m_activePlayers</a>[1].size()) * diff / <a class="code hl_variable" href="../../d5/db0/a02777.html#a79df696836c3edc53ca1868aab7f6e76">BATTLEFIELD_OBJECTIVE_UPDATE_INTERVAL</a>;</div>
<div class="line"><span class="lineno"> 1021</span>    <span class="keywordflow">if</span> (G3D::fuzzyEq(fact_diff, 0.0f))</div>
<div class="line"><span class="lineno"> 1022</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1023</span> </div>
<div class="line"><span class="lineno"> 1024</span>    <a class="code hl_enumeration" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a> ChallengerId = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a1d009932a5dde84d818f627cfcfe3fe5">TEAM_NEUTRAL</a>;</div>
<div class="line"><span class="lineno"> 1025</span>    <span class="keywordtype">float</span> maxDiff = <a class="code hl_variable" href="../../dc/dad/a06966.html#a53e231eae6e505a88e616244092a8ee6">m_maxSpeed</a> * diff;</div>
<div class="line"><span class="lineno"> 1026</span> </div>
<div class="line"><span class="lineno"> 1027</span>    <span class="keywordflow">if</span> (fact_diff &lt; 0)</div>
<div class="line"><span class="lineno"> 1028</span>    {</div>
<div class="line"><span class="lineno"> 1029</span>        <span class="comment">// horde is in majority, but it&#39;s already horde-controlled -&gt; no change</span></div>
<div class="line"><span class="lineno"> 1030</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dc/dad/a06966.html#acf8b53252eb10615ff197e15ea620083">m_State</a> == <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798a683078aa231d432a72923b9eff4d5a29">BF_CAPTUREPOINT_OBJECTIVESTATE_HORDE</a> &amp;&amp; <a class="code hl_variable" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a> &lt;= -<a class="code hl_variable" href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">m_maxValue</a>)</div>
<div class="line"><span class="lineno"> 1031</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1032</span> </div>
<div class="line"><span class="lineno"> 1033</span>        <span class="keywordflow">if</span> (fact_diff &lt; -maxDiff)</div>
<div class="line"><span class="lineno"> 1034</span>            fact_diff = -maxDiff;</div>
<div class="line"><span class="lineno"> 1035</span> </div>
<div class="line"><span class="lineno"> 1036</span>        ChallengerId = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>;</div>
<div class="line"><span class="lineno"> 1037</span>    }</div>
<div class="line"><span class="lineno"> 1038</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1039</span>    {</div>
<div class="line"><span class="lineno"> 1040</span>        <span class="comment">// ally is in majority, but it&#39;s already ally-controlled -&gt; no change</span></div>
<div class="line"><span class="lineno"> 1041</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dc/dad/a06966.html#acf8b53252eb10615ff197e15ea620083">m_State</a> == <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798ac05149e43f48e8fbe687c2cb48a88ac7">BF_CAPTUREPOINT_OBJECTIVESTATE_ALLIANCE</a> &amp;&amp; <a class="code hl_variable" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a> &gt;= <a class="code hl_variable" href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">m_maxValue</a>)</div>
<div class="line"><span class="lineno"> 1042</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1043</span> </div>
<div class="line"><span class="lineno"> 1044</span>        <span class="keywordflow">if</span> (fact_diff &gt; maxDiff)</div>
<div class="line"><span class="lineno"> 1045</span>            fact_diff = maxDiff;</div>
<div class="line"><span class="lineno"> 1046</span> </div>
<div class="line"><span class="lineno"> 1047</span>        ChallengerId = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>;</div>
<div class="line"><span class="lineno"> 1048</span>    }</div>
<div class="line"><span class="lineno"> 1049</span> </div>
<div class="line"><span class="lineno"> 1050</span>    <span class="keywordtype">float</span> oldValue = <a class="code hl_variable" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a>;</div>
<div class="line"><span class="lineno"> 1051</span>    <a class="code hl_enumeration" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a> oldTeam = <a class="code hl_variable" href="../../dc/dad/a06966.html#acd3c8e8fe970c160670bd5a7cdb9b1c4">m_team</a>;</div>
<div class="line"><span class="lineno"> 1052</span> </div>
<div class="line"><span class="lineno"> 1053</span>    <a class="code hl_variable" href="../../dc/dad/a06966.html#a37792e377ac59c30e711a56239598da4">m_OldState</a> = <a class="code hl_variable" href="../../dc/dad/a06966.html#acf8b53252eb10615ff197e15ea620083">m_State</a>;</div>
<div class="line"><span class="lineno"> 1054</span> </div>
<div class="line"><span class="lineno"> 1055</span>    <a class="code hl_variable" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a> += fact_diff;</div>
<div class="line"><span class="lineno"> 1056</span> </div>
<div class="line"><span class="lineno"> 1057</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a> &lt; -<a class="code hl_variable" href="../../dc/dad/a06966.html#a2d8624843a640445f04a6b17be63ae3d">m_minValue</a>)                              <span class="comment">// red</span></div>
<div class="line"><span class="lineno"> 1058</span>    {</div>
<div class="line"><span class="lineno"> 1059</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a> &lt; -<a class="code hl_variable" href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">m_maxValue</a>)</div>
<div class="line"><span class="lineno"> 1060</span>            <a class="code hl_variable" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a> = -<a class="code hl_variable" href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">m_maxValue</a>;</div>
<div class="line"><span class="lineno"> 1061</span>        <a class="code hl_variable" href="../../dc/dad/a06966.html#acf8b53252eb10615ff197e15ea620083">m_State</a> = <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798a683078aa231d432a72923b9eff4d5a29">BF_CAPTUREPOINT_OBJECTIVESTATE_HORDE</a>;</div>
<div class="line"><span class="lineno"> 1062</span>        <a class="code hl_variable" href="../../dc/dad/a06966.html#acd3c8e8fe970c160670bd5a7cdb9b1c4">m_team</a> = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>;</div>
<div class="line"><span class="lineno"> 1063</span>    }</div>
<div class="line"><span class="lineno"> 1064</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a> &gt; <a class="code hl_variable" href="../../dc/dad/a06966.html#a2d8624843a640445f04a6b17be63ae3d">m_minValue</a>)                          <span class="comment">// blue</span></div>
<div class="line"><span class="lineno"> 1065</span>    {</div>
<div class="line"><span class="lineno"> 1066</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a> &gt; <a class="code hl_variable" href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">m_maxValue</a>)</div>
<div class="line"><span class="lineno"> 1067</span>            <a class="code hl_variable" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a> = <a class="code hl_variable" href="../../dc/dad/a06966.html#a89bf5ddb47f47bb1129ec2256221dcb8">m_maxValue</a>;</div>
<div class="line"><span class="lineno"> 1068</span>        <a class="code hl_variable" href="../../dc/dad/a06966.html#acf8b53252eb10615ff197e15ea620083">m_State</a> = <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798ac05149e43f48e8fbe687c2cb48a88ac7">BF_CAPTUREPOINT_OBJECTIVESTATE_ALLIANCE</a>;</div>
<div class="line"><span class="lineno"> 1069</span>        <a class="code hl_variable" href="../../dc/dad/a06966.html#acd3c8e8fe970c160670bd5a7cdb9b1c4">m_team</a> = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>;</div>
<div class="line"><span class="lineno"> 1070</span>    }</div>
<div class="line"><span class="lineno"> 1071</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (oldValue * <a class="code hl_variable" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a> &lt;= 0)                       <span class="comment">// grey, go through mid point</span></div>
<div class="line"><span class="lineno"> 1072</span>    {</div>
<div class="line"><span class="lineno"> 1073</span>        <span class="comment">// if challenger is ally, then n-&gt;a challenge</span></div>
<div class="line"><span class="lineno"> 1074</span>        <span class="keywordflow">if</span> (ChallengerId == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a>)</div>
<div class="line"><span class="lineno"> 1075</span>            <a class="code hl_variable" href="../../dc/dad/a06966.html#acf8b53252eb10615ff197e15ea620083">m_State</a> = <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798a47f8021bf59a901b2a512d28cc044c7f">BF_CAPTUREPOINT_OBJECTIVESTATE_NEUTRAL_ALLIANCE_CHALLENGE</a>;</div>
<div class="line"><span class="lineno"> 1076</span>        <span class="comment">// if challenger is horde, then n-&gt;h challenge</span></div>
<div class="line"><span class="lineno"> 1077</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ChallengerId == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a>)</div>
<div class="line"><span class="lineno"> 1078</span>            <a class="code hl_variable" href="../../dc/dad/a06966.html#acf8b53252eb10615ff197e15ea620083">m_State</a> = <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798a28c520f0b5997a10c6e8c040d803a9d5">BF_CAPTUREPOINT_OBJECTIVESTATE_NEUTRAL_HORDE_CHALLENGE</a>;</div>
<div class="line"><span class="lineno"> 1079</span>        <a class="code hl_variable" href="../../dc/dad/a06966.html#acd3c8e8fe970c160670bd5a7cdb9b1c4">m_team</a> = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a1d009932a5dde84d818f627cfcfe3fe5">TEAM_NEUTRAL</a>;</div>
<div class="line"><span class="lineno"> 1080</span>    }</div>
<div class="line"><span class="lineno"> 1081</span>    <span class="keywordflow">else</span>                                                    <span class="comment">// grey, did not go through mid point</span></div>
<div class="line"><span class="lineno"> 1082</span>    {</div>
<div class="line"><span class="lineno"> 1083</span>        <span class="comment">// old phase and current are on the same side, so one team challenges the other</span></div>
<div class="line"><span class="lineno"> 1084</span>        <span class="keywordflow">if</span> (ChallengerId == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a77ec52d5d5f9771c1ac94fddaf7fb84e">TEAM_ALLIANCE</a> &amp;&amp; (<a class="code hl_variable" href="../../dc/dad/a06966.html#a37792e377ac59c30e711a56239598da4">m_OldState</a> == <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798a683078aa231d432a72923b9eff4d5a29">BF_CAPTUREPOINT_OBJECTIVESTATE_HORDE</a> || <a class="code hl_variable" href="../../dc/dad/a06966.html#a37792e377ac59c30e711a56239598da4">m_OldState</a> == <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798a28c520f0b5997a10c6e8c040d803a9d5">BF_CAPTUREPOINT_OBJECTIVESTATE_NEUTRAL_HORDE_CHALLENGE</a>))</div>
<div class="line"><span class="lineno"> 1085</span>            <a class="code hl_variable" href="../../dc/dad/a06966.html#acf8b53252eb10615ff197e15ea620083">m_State</a> = <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798af7b31d0894d6b9bd950d9a48c86da7c4">BF_CAPTUREPOINT_OBJECTIVESTATE_HORDE_ALLIANCE_CHALLENGE</a>;</div>
<div class="line"><span class="lineno"> 1086</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ChallengerId == <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a> &amp;&amp; (<a class="code hl_variable" href="../../dc/dad/a06966.html#a37792e377ac59c30e711a56239598da4">m_OldState</a> == <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798ac05149e43f48e8fbe687c2cb48a88ac7">BF_CAPTUREPOINT_OBJECTIVESTATE_ALLIANCE</a> || <a class="code hl_variable" href="../../dc/dad/a06966.html#a37792e377ac59c30e711a56239598da4">m_OldState</a> == <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798a47f8021bf59a901b2a512d28cc044c7f">BF_CAPTUREPOINT_OBJECTIVESTATE_NEUTRAL_ALLIANCE_CHALLENGE</a>))</div>
<div class="line"><span class="lineno"> 1087</span>            <a class="code hl_variable" href="../../dc/dad/a06966.html#acf8b53252eb10615ff197e15ea620083">m_State</a> = <a class="code hl_enumvalue" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798a9c9e1d966e139a18ba54ee2c2fa0bc2b">BF_CAPTUREPOINT_OBJECTIVESTATE_ALLIANCE_HORDE_CHALLENGE</a>;</div>
<div class="line"><span class="lineno"> 1088</span>        <a class="code hl_variable" href="../../dc/dad/a06966.html#acd3c8e8fe970c160670bd5a7cdb9b1c4">m_team</a> = <a class="code hl_enumvalue" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a1d009932a5dde84d818f627cfcfe3fe5">TEAM_NEUTRAL</a>;</div>
<div class="line"><span class="lineno"> 1089</span>    }</div>
<div class="line"><span class="lineno"> 1090</span> </div>
<div class="line"><span class="lineno"> 1091</span>    <span class="keywordflow">if</span> (G3D::fuzzyNe(<a class="code hl_variable" href="../../dc/dad/a06966.html#a7b3e3cb728347cd9783eea394245fcc0">m_value</a>, oldValue))</div>
<div class="line"><span class="lineno"> 1092</span>        <a class="code hl_function" href="../../dc/dad/a06966.html#a7c727552544f98f3ace8e42c2d1cca02">SendChangePhase</a>();</div>
<div class="line"><span class="lineno"> 1093</span> </div>
<div class="line"><span class="lineno"> 1094</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dc/dad/a06966.html#a37792e377ac59c30e711a56239598da4">m_OldState</a> != <a class="code hl_variable" href="../../dc/dad/a06966.html#acf8b53252eb10615ff197e15ea620083">m_State</a>)</div>
<div class="line"><span class="lineno"> 1095</span>    {</div>
<div class="line"><span class="lineno"> 1096</span>        <span class="comment">//LOG_ERROR(&quot;bg.battlefield&quot;, &quot;{}-&gt;{}&quot;, m_OldState, m_State);</span></div>
<div class="line"><span class="lineno"> 1097</span>        <span class="keywordflow">if</span> (oldTeam != <a class="code hl_variable" href="../../dc/dad/a06966.html#acd3c8e8fe970c160670bd5a7cdb9b1c4">m_team</a>)</div>
<div class="line"><span class="lineno"> 1098</span>            <a class="code hl_function" href="../../dc/dad/a06966.html#a429037910b1a3108cdb753ba91230bf7">ChangeTeam</a>(oldTeam);</div>
<div class="line"><span class="lineno"> 1099</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1100</span>    }</div>
<div class="line"><span class="lineno"> 1101</span> </div>
<div class="line"><span class="lineno"> 1102</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1103</span>}</div>
<div class="ttc" id="aa02771_html_abfb349736a7699bdfcdb134035ef7865"><div class="ttname"><a href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a></div><div class="ttdeci">TeamId</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:759</div></div>
<div class="ttc" id="aa02771_html_abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a"><div class="ttname"><a href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865a80bb98f9049563b07d3b738a0783366a">TEAM_HORDE</a></div><div class="ttdeci">@ TEAM_HORDE</div><div class="ttdef"><b>Definition:</b> SharedDefines.h:761</div></div>
<div class="ttc" id="aa02777_html_a79df696836c3edc53ca1868aab7f6e76"><div class="ttname"><a href="../../d5/db0/a02777.html#a79df696836c3edc53ca1868aab7f6e76">BATTLEFIELD_OBJECTIVE_UPDATE_INTERVAL</a></div><div class="ttdeci">constexpr auto BATTLEFIELD_OBJECTIVE_UPDATE_INTERVAL</div><div class="ttdef"><b>Definition:</b> Battlefield.h:56</div></div>
<div class="ttc" id="aa02777_html_af6db5a1d93982b261639cd12634a2798a28c520f0b5997a10c6e8c040d803a9d5"><div class="ttname"><a href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798a28c520f0b5997a10c6e8c040d803a9d5">BF_CAPTUREPOINT_OBJECTIVESTATE_NEUTRAL_HORDE_CHALLENGE</a></div><div class="ttdeci">@ BF_CAPTUREPOINT_OBJECTIVESTATE_NEUTRAL_HORDE_CHALLENGE</div><div class="ttdef"><b>Definition:</b> Battlefield.h:44</div></div>
<div class="ttc" id="aa02777_html_af6db5a1d93982b261639cd12634a2798a47f8021bf59a901b2a512d28cc044c7f"><div class="ttname"><a href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798a47f8021bf59a901b2a512d28cc044c7f">BF_CAPTUREPOINT_OBJECTIVESTATE_NEUTRAL_ALLIANCE_CHALLENGE</a></div><div class="ttdeci">@ BF_CAPTUREPOINT_OBJECTIVESTATE_NEUTRAL_ALLIANCE_CHALLENGE</div><div class="ttdef"><b>Definition:</b> Battlefield.h:43</div></div>
<div class="ttc" id="aa02777_html_af6db5a1d93982b261639cd12634a2798a9c9e1d966e139a18ba54ee2c2fa0bc2b"><div class="ttname"><a href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798a9c9e1d966e139a18ba54ee2c2fa0bc2b">BF_CAPTUREPOINT_OBJECTIVESTATE_ALLIANCE_HORDE_CHALLENGE</a></div><div class="ttdeci">@ BF_CAPTUREPOINT_OBJECTIVESTATE_ALLIANCE_HORDE_CHALLENGE</div><div class="ttdef"><b>Definition:</b> Battlefield.h:45</div></div>
<div class="ttc" id="aa02777_html_af6db5a1d93982b261639cd12634a2798af7b31d0894d6b9bd950d9a48c86da7c4"><div class="ttname"><a href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798af7b31d0894d6b9bd950d9a48c86da7c4">BF_CAPTUREPOINT_OBJECTIVESTATE_HORDE_ALLIANCE_CHALLENGE</a></div><div class="ttdeci">@ BF_CAPTUREPOINT_OBJECTIVESTATE_HORDE_ALLIANCE_CHALLENGE</div><div class="ttdef"><b>Definition:</b> Battlefield.h:46</div></div>
<div class="ttc" id="aa06966_html_a02eab1f489ee817d0b0263a57eb71ed2"><div class="ttname"><a href="../../dc/dad/a06966.html#a02eab1f489ee817d0b0263a57eb71ed2">BfCapturePoint::HandlePlayerLeave</a></div><div class="ttdeci">virtual GuidUnorderedSet::iterator HandlePlayerLeave(Player *player)</div><div class="ttdef"><b>Definition:</b> Battlefield.cpp:892</div></div>
<div class="ttc" id="aa06966_html_a1a4ed58f9874900d822305dd406b1c67"><div class="ttname"><a href="../../dc/dad/a06966.html#a1a4ed58f9874900d822305dd406b1c67">BfCapturePoint::HandlePlayerEnter</a></div><div class="ttdeci">virtual bool HandlePlayerEnter(Player *player)</div><div class="ttdef"><b>Definition:</b> Battlefield.cpp:881</div></div>
<div class="ttc" id="aa06966_html_a429037910b1a3108cdb753ba91230bf7"><div class="ttname"><a href="../../dc/dad/a06966.html#a429037910b1a3108cdb753ba91230bf7">BfCapturePoint::ChangeTeam</a></div><div class="ttdeci">virtual void ChangeTeam(TeamId)</div><div class="ttdef"><b>Definition:</b> Battlefield.h:102</div></div>
<div class="ttc" id="aa06966_html_a7c727552544f98f3ace8e42c2d1cca02"><div class="ttname"><a href="../../dc/dad/a06966.html#a7c727552544f98f3ace8e42c2d1cca02">BfCapturePoint::SendChangePhase</a></div><div class="ttdeci">virtual void SendChangePhase()</div><div class="ttdef"><b>Definition:</b> Battlefield.cpp:906</div></div>
<div class="ttc" id="aa07946_html_a0e472403802c7a862e22c769ef4f8378"><div class="ttname"><a href="../../dd/db3/a07946.html#a0e472403802c7a862e22c769ef4f8378">GameObject::IsWithinDistInMap</a></div><div class="ttdeci">bool IsWithinDistInMap(Player const *player) const</div><div class="ttdef"><b>Definition:</b> GameObject.cpp:3003</div></div>
<div class="ttc" id="aa07950_html_a303ebbf7423f0f937bd81f5e4039dede"><div class="ttname"><a href="../../da/dc8/a07950.html#a303ebbf7423f0f937bd81f5e4039dede">GameObjectTemplate::radius</a></div><div class="ttdeci">uint32 radius</div><div class="ttdef"><b>Definition:</b> GameObjectData.h:196</div></div>
<div class="ttc" id="aa08822_html_a952f2c6008bbbc3b9ee1652ea5f9188a"><div class="ttname"><a href="../../d9/db0/a08822.html#a952f2c6008bbbc3b9ee1652ea5f9188a">Cell::VisitWorldObjects</a></div><div class="ttdeci">static void VisitWorldObjects(WorldObject const *obj, T &amp;visitor, float radius, bool dont_load=true)</div><div class="ttdef"><b>Definition:</b> CellImpl.h:192</div></div>
<div class="ttc" id="aa08958_html"><div class="ttname"><a href="../../d4/d90/a08958.html">Acore::PlayerListSearcher</a></div><div class="ttdef"><b>Definition:</b> GridNotifiers.h:525</div></div>
<div class="ttc" id="aa09102_html"><div class="ttname"><a href="../../da/d80/a09102.html">Acore::AnyPlayerInObjectRangeCheck</a></div><div class="ttdef"><b>Definition:</b> GridNotifiers.h:1354</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00056">BATTLEFIELD_OBJECTIVE_UPDATE_INTERVAL</a>, <a class="el" href="../../#l00041">BF_CAPTUREPOINT_OBJECTIVESTATE_ALLIANCE</a>, <a class="el" href="../../#l00045">BF_CAPTUREPOINT_OBJECTIVESTATE_ALLIANCE_HORDE_CHALLENGE</a>, <a class="el" href="../../#l00042">BF_CAPTUREPOINT_OBJECTIVESTATE_HORDE</a>, <a class="el" href="../../#l00046">BF_CAPTUREPOINT_OBJECTIVESTATE_HORDE_ALLIANCE_CHALLENGE</a>, <a class="el" href="../../#l00043">BF_CAPTUREPOINT_OBJECTIVESTATE_NEUTRAL_ALLIANCE_CHALLENGE</a>, <a class="el" href="../../#l00044">BF_CAPTUREPOINT_OBJECTIVESTATE_NEUTRAL_HORDE_CHALLENGE</a>, <a class="el" href="../../da/dc8/a07950.html#ac31b809cbcfc2e0868ef80bb8f3ba916">GameObjectTemplate::capturePoint</a>, <a class="el" href="../../#l00102">ChangeTeam()</a>, <a class="el" href="../../#l00245">ObjectAccessor::FindPlayer()</a>, <a class="el" href="../../#l00976">GetCapturePointGo()</a>, <a class="el" href="../../#l00136">GameObject::GetGOInfo()</a>, <a class="el" href="../../#l00881">HandlePlayerEnter()</a>, <a class="el" href="../../#l00892">HandlePlayerLeave()</a>, <a class="el" href="../../#l03003">GameObject::IsWithinDistInMap()</a>, <a class="el" href="../../#l00115">m_activePlayers</a>, <a class="el" href="../../#l00122">m_maxSpeed</a>, <a class="el" href="../../#l00118">m_maxValue</a>, <a class="el" href="../../#l00119">m_minValue</a>, <a class="el" href="../../#l00129">m_OldState</a>, <a class="el" href="../../#l00130">m_State</a>, <a class="el" href="../../#l00126">m_team</a>, <a class="el" href="../../#l00125">m_value</a>, <a class="el" href="../../#l00196">GameObjectTemplate::radius</a>, <a class="el" href="../../#l00906">SendChangePhase()</a>, <a class="el" href="../../#l00760">TEAM_ALLIANCE</a>, <a class="el" href="../../#l00761">TEAM_HORDE</a>, <a class="el" href="../../#l00762">TEAM_NEUTRAL</a>, and <a class="el" href="../../#l00192">Cell::VisitWorldObjects()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a371349b157af4b8ecbacc8814f0bb2ec" name="a371349b157af4b8ecbacc8814f0bb2ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a371349b157af4b8ecbacc8814f0bb2ec">&#9670;&#160;</a></span>m_activePlayers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/db0/a03467.html#a407d39fdbc20e1e06960539245ee6a25">GuidUnorderedSet</a> BfCapturePoint::m_activePlayers[2]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00881">HandlePlayerEnter()</a>, <a class="el" href="../../#l00892">HandlePlayerLeave()</a>, <a class="el" href="../../#l01134">IsInsideObjective()</a>, <a class="el" href="../../#l00906">SendChangePhase()</a>, <a class="el" href="../../#l01113">SendObjectiveComplete()</a>, <a class="el" href="../../#l01105">SendUpdateWorldState()</a>, and <a class="el" href="../../#l00986">Update()</a>.</p>

</div>
</div>
<a id="a1f857e79dde01c3d966f7c7981e5f190" name="a1f857e79dde01c3d966f7c7981e5f190"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f857e79dde01c3d966f7c7981e5f190">&#9670;&#160;</a></span>m_Bf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dd7/a06974.html">Battlefield</a>* BfCapturePoint::m_Bf</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00976">GetCapturePointGo()</a>, and <a class="el" href="../../#l01200">WintergraspCapturePoint::WintergraspCapturePoint()</a>.</p>

</div>
</div>
<a id="a3bc808408161740eed6185c049e1414b" name="a3bc808408161740eed6185c049e1414b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bc808408161740eed6185c049e1414b">&#9670;&#160;</a></span>m_capturePoint</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d40/a08190.html">ObjectGuid</a> BfCapturePoint::m_capturePoint</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00964">DelCapturePoint()</a>, <a class="el" href="../../#l00976">GetCapturePointGo()</a>, and <a class="el" href="../../#l00925">SetCapturePointData()</a>.</p>

</div>
</div>
<a id="a9d43160e2a96cdae295596756f770f74" name="a9d43160e2a96cdae295596756f770f74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d43160e2a96cdae295596756f770f74">&#9670;&#160;</a></span>m_capturePointEntry</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> BfCapturePoint::m_capturePointEntry</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00868">BfCapturePoint()</a>, and <a class="el" href="../../#l00925">SetCapturePointData()</a>.</p>

</div>
</div>
<a id="a53e231eae6e505a88e616244092a8ee6" name="a53e231eae6e505a88e616244092a8ee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53e231eae6e505a88e616244092a8ee6">&#9670;&#160;</a></span>m_maxSpeed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float BfCapturePoint::m_maxSpeed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00868">BfCapturePoint()</a>, <a class="el" href="../../#l00925">SetCapturePointData()</a>, and <a class="el" href="../../#l00986">Update()</a>.</p>

</div>
</div>
<a id="a89bf5ddb47f47bb1129ec2256221dcb8" name="a89bf5ddb47f47bb1129ec2256221dcb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89bf5ddb47f47bb1129ec2256221dcb8">&#9670;&#160;</a></span>m_maxValue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float BfCapturePoint::m_maxValue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00868">BfCapturePoint()</a>, <a class="el" href="../../#l00881">HandlePlayerEnter()</a>, <a class="el" href="../../#l00906">SendChangePhase()</a>, <a class="el" href="../../#l00925">SetCapturePointData()</a>, and <a class="el" href="../../#l00986">Update()</a>.</p>

</div>
</div>
<a id="a2d8624843a640445f04a6b17be63ae3d" name="a2d8624843a640445f04a6b17be63ae3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d8624843a640445f04a6b17be63ae3d">&#9670;&#160;</a></span>m_minValue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float BfCapturePoint::m_minValue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00868">BfCapturePoint()</a>, <a class="el" href="../../#l00925">SetCapturePointData()</a>, and <a class="el" href="../../#l00986">Update()</a>.</p>

</div>
</div>
<a id="aa96d823e5093e1baff06666c35c49932" name="aa96d823e5093e1baff06666c35c49932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa96d823e5093e1baff06666c35c49932">&#9670;&#160;</a></span>m_neutralValuePct</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> BfCapturePoint::m_neutralValuePct</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00868">BfCapturePoint()</a>, <a class="el" href="../../#l00881">HandlePlayerEnter()</a>, <a class="el" href="../../#l00906">SendChangePhase()</a>, and <a class="el" href="../../#l00925">SetCapturePointData()</a>.</p>

</div>
</div>
<a id="a37792e377ac59c30e711a56239598da4" name="a37792e377ac59c30e711a56239598da4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37792e377ac59c30e711a56239598da4">&#9670;&#160;</a></span>m_OldState</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798">BattlefieldObjectiveStates</a> BfCapturePoint::m_OldState</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00868">BfCapturePoint()</a>, and <a class="el" href="../../#l00986">Update()</a>.</p>

</div>
</div>
<a id="acf8b53252eb10615ff197e15ea620083" name="acf8b53252eb10615ff197e15ea620083"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf8b53252eb10615ff197e15ea620083">&#9670;&#160;</a></span>m_State</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/db0/a02777.html#af6db5a1d93982b261639cd12634a2798">BattlefieldObjectiveStates</a> BfCapturePoint::m_State</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00868">BfCapturePoint()</a>, <a class="el" href="../../#l01113">SendObjectiveComplete()</a>, <a class="el" href="../../#l00925">SetCapturePointData()</a>, and <a class="el" href="../../#l00986">Update()</a>.</p>

</div>
</div>
<a id="acd3c8e8fe970c160670bd5a7cdb9b1c4" name="acd3c8e8fe970c160670bd5a7cdb9b1c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd3c8e8fe970c160670bd5a7cdb9b1c4">&#9670;&#160;</a></span>m_team</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/dbd/a02771.html#abfb349736a7699bdfcdb134035ef7865">TeamId</a> BfCapturePoint::m_team</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00868">BfCapturePoint()</a>, <a class="el" href="../../#l01207">WintergraspCapturePoint::ChangeTeam()</a>, <a class="el" href="../../#l00264">WintergraspCapturePoint::GetTeam()</a>, <a class="el" href="../../#l00110">GetTeamId()</a>, <a class="el" href="../../#l00925">SetCapturePointData()</a>, <a class="el" href="../../#l00986">Update()</a>, and <a class="el" href="../../#l01200">WintergraspCapturePoint::WintergraspCapturePoint()</a>.</p>

</div>
</div>
<a id="a7b3e3cb728347cd9783eea394245fcc0" name="a7b3e3cb728347cd9783eea394245fcc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b3e3cb728347cd9783eea394245fcc0">&#9670;&#160;</a></span>m_value</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float BfCapturePoint::m_value</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../#l00868">BfCapturePoint()</a>, <a class="el" href="../../#l00881">HandlePlayerEnter()</a>, <a class="el" href="../../#l00906">SendChangePhase()</a>, <a class="el" href="../../#l00925">SetCapturePointData()</a>, and <a class="el" href="../../#l00986">Update()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dc/dad/a06966.html">BfCapturePoint</a></li>
    <li class="footer">Generated on Mon Nov 18 2024 20:41:35 for AzerothCore by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
