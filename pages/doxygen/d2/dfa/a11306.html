<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AzerothCore: ban_commandscript Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AzerothCore<span id="projectnumber">&#160;3.3.5a</span>
   </div>
   <div id="projectbrief">OpenSource WoW Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d2/dfa/a11306.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../d9/d33/a11303.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ban_commandscript Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for ban_commandscript:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d2/dfa/a11306.png" usemap="#ban_5Fcommandscript_map" alt=""/>
  <map id="ban_5Fcommandscript_map" name="ban_5Fcommandscript_map">
<area href="../../dd/d45/a10006.html" alt="CommandScript" shape="rect" coords="0,56,124,80"/>
<area href="../../d7/d7a/a10158.html" alt="ScriptObject" shape="rect" coords="0,0,124,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaece480aacb3cae7d0919a277d46eb31"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#aaece480aacb3cae7d0919a277d46eb31">ban_commandscript</a> ()</td></tr>
<tr class="separator:aaece480aacb3cae7d0919a277d46eb31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3079102518edbfd0e16576083e053a19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dea/a04726.html#a7aa1549a95f760a19b9b7ffd8e669626">ChatCommandTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#a3079102518edbfd0e16576083e053a19">GetCommands</a> () const override</td></tr>
<tr class="separator:a3079102518edbfd0e16576083e053a19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97dc7d00b78e0030ba2a950d23b2ebd2"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="../../d5/d3e/a07338.html">Acore::ChatCommands::ChatCommandBuilder</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d45/a10006.html#a97dc7d00b78e0030ba2a950d23b2ebd2">GetCommands</a> () const =0</td></tr>
<tr class="separator:a97dc7d00b78e0030ba2a950d23b2ebd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_a10158"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_a10158')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d7/d7a/a10158.html">ScriptObject</a></td></tr>
<tr class="memitem:a37da453729d5c8fbe2d06f905563f47c inherit pub_methods_a10158"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d7a/a10158.html#a37da453729d5c8fbe2d06f905563f47c">IsDatabaseBound</a> () const</td></tr>
<tr class="separator:a37da453729d5c8fbe2d06f905563f47c inherit pub_methods_a10158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f66339b1cdf1fde795c61cd24c8b0a2 inherit pub_methods_a10158"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d7a/a10158.html#a2f66339b1cdf1fde795c61cd24c8b0a2">isAfterLoadScript</a> () const</td></tr>
<tr class="separator:a2f66339b1cdf1fde795c61cd24c8b0a2 inherit pub_methods_a10158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a585e75e34aed7aa32205daad85f8fe08 inherit pub_methods_a10158"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d7a/a10158.html#a585e75e34aed7aa32205daad85f8fe08">checkValidity</a> ()</td></tr>
<tr class="separator:a585e75e34aed7aa32205daad85f8fe08 inherit pub_methods_a10158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79588d839860d2f5caab60c5f1368f10 inherit pub_methods_a10158"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d7a/a10158.html#a79588d839860d2f5caab60c5f1368f10">GetName</a> () const</td></tr>
<tr class="separator:a79588d839860d2f5caab60c5f1368f10 inherit pub_methods_a10158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69ee35ec7d54226264efef558022c1c0 inherit pub_methods_a10158"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d7a/a10158.html#a69ee35ec7d54226264efef558022c1c0">GetTotalAvailableHooks</a> ()</td></tr>
<tr class="separator:a69ee35ec7d54226264efef558022c1c0 inherit pub_methods_a10158"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af54b01c0b6db28488866fff9ad3d885e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#af54b01c0b6db28488866fff9ad3d885e">HandleBanAccountCommand</a> (<a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler, char const *args)</td></tr>
<tr class="separator:af54b01c0b6db28488866fff9ad3d885e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc181572cfcaa15e649429df50d8d529"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#adc181572cfcaa15e649429df50d8d529">HandleBanCharacterCommand</a> (<a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler, char const *args)</td></tr>
<tr class="separator:adc181572cfcaa15e649429df50d8d529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a1a2890ddf2e70f26beacfb6e827647"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#a3a1a2890ddf2e70f26beacfb6e827647">HandleBanAccountByCharCommand</a> (<a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler, char const *args)</td></tr>
<tr class="separator:a3a1a2890ddf2e70f26beacfb6e827647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82cbdac404e6bc594d823fb4081e6df8"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#a82cbdac404e6bc594d823fb4081e6df8">HandleBanIPCommand</a> (<a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler, char const *args)</td></tr>
<tr class="separator:a82cbdac404e6bc594d823fb4081e6df8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2685e26ced4dda5bfbbefaec02d59a5e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#a2685e26ced4dda5bfbbefaec02d59a5e">HandleBanHelper</a> (<a class="el" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264">BanMode</a> mode, char const *args, <a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:a2685e26ced4dda5bfbbefaec02d59a5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43048a5b00dec7476d83dca64cd41641"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#a43048a5b00dec7476d83dca64cd41641">HandleBanInfoAccountCommand</a> (<a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler, char const *args)</td></tr>
<tr class="separator:a43048a5b00dec7476d83dca64cd41641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0a56c9d565ccaf0cdd38beb3a36f4d9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#ab0a56c9d565ccaf0cdd38beb3a36f4d9">HandleBanInfoHelper</a> (<a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId, char const *accountName, <a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:ab0a56c9d565ccaf0cdd38beb3a36f4d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea445f0a0a6cdb690fb88a53e2f794fb"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#aea445f0a0a6cdb690fb88a53e2f794fb">HandleBanInfoCharacterCommand</a> (<a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler, char const *args)</td></tr>
<tr class="separator:aea445f0a0a6cdb690fb88a53e2f794fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac32e4d00bb6e94a65eb63e0f0a9cc963"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#ac32e4d00bb6e94a65eb63e0f0a9cc963">HandleBanInfoIPCommand</a> (<a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler, char const *args)</td></tr>
<tr class="separator:ac32e4d00bb6e94a65eb63e0f0a9cc963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adafc851259dfa7d8fb717f2e77e66a38"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#adafc851259dfa7d8fb717f2e77e66a38">HandleBanListAccountCommand</a> (<a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler, char const *args)</td></tr>
<tr class="separator:adafc851259dfa7d8fb717f2e77e66a38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec570c5ca3eeefc1be807ea1aa9577ab"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#aec570c5ca3eeefc1be807ea1aa9577ab">HandleBanListHelper</a> (<a class="el" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> result, <a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:aec570c5ca3eeefc1be807ea1aa9577ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf9fa4690f97f6f98511a20d9d4ea521"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#abf9fa4690f97f6f98511a20d9d4ea521">HandleBanListCharacterCommand</a> (<a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler, char const *args)</td></tr>
<tr class="separator:abf9fa4690f97f6f98511a20d9d4ea521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c1ae1798c1ad498fa2993d098b5131c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#a5c1ae1798c1ad498fa2993d098b5131c">HandleBanListIPCommand</a> (<a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler, char const *args)</td></tr>
<tr class="separator:a5c1ae1798c1ad498fa2993d098b5131c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb041ffecb3611151172b4f0c52f8018"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#aeb041ffecb3611151172b4f0c52f8018">HandleUnBanAccountCommand</a> (<a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler, char const *args)</td></tr>
<tr class="separator:aeb041ffecb3611151172b4f0c52f8018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af55843929fa62402b2eb5cae71c2e4a5"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#af55843929fa62402b2eb5cae71c2e4a5">HandleUnBanCharacterCommand</a> (<a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler, char const *args)</td></tr>
<tr class="separator:af55843929fa62402b2eb5cae71c2e4a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fd418aec25d220cd31d3637bbded380"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#a3fd418aec25d220cd31d3637bbded380">HandleUnBanAccountByCharCommand</a> (<a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler, char const *args)</td></tr>
<tr class="separator:a3fd418aec25d220cd31d3637bbded380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f73d0989eaa2b9d840d24544ad90bfd"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#a3f73d0989eaa2b9d840d24544ad90bfd">HandleUnBanIPCommand</a> (<a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler, char const *args)</td></tr>
<tr class="separator:a3f73d0989eaa2b9d840d24544ad90bfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cc5ebe2fda5d9fe217fd8f4c62c644e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfa/a11306.html#a2cc5ebe2fda5d9fe217fd8f4c62c644e">HandleUnBanHelper</a> (<a class="el" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264">BanMode</a> mode, char const *args, <a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *handler)</td></tr>
<tr class="separator:a2cc5ebe2fda5d9fe217fd8f4c62c644e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_a10006"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_a10006')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../dd/d45/a10006.html">CommandScript</a></td></tr>
<tr class="memitem:afb9ef0145bb5eedee7fd61609868ba20 inherit pro_methods_a10006"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d45/a10006.html#afb9ef0145bb5eedee7fd61609868ba20">CommandScript</a> (const char *name)</td></tr>
<tr class="separator:afb9ef0145bb5eedee7fd61609868ba20 inherit pro_methods_a10006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_a10158"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_a10158')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../d7/d7a/a10158.html">ScriptObject</a></td></tr>
<tr class="memitem:ae4ca97cf587379c94354e4889ff8c0c2 inherit pro_methods_a10158"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d7a/a10158.html#ae4ca97cf587379c94354e4889ff8c0c2">ScriptObject</a> (const char *name, <a class="el" href="../../d4/d1e/a00497.html#ad9c79638db63f1dfe2b085743b5cbf7b">uint16</a> totalAvailableHooks=0)</td></tr>
<tr class="separator:ae4ca97cf587379c94354e4889ff8c0c2 inherit pro_methods_a10158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80c704c939f54eee6655d68509598c42 inherit pro_methods_a10158"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d7a/a10158.html#a80c704c939f54eee6655d68509598c42">~ScriptObject</a> ()=default</td></tr>
<tr class="separator:a80c704c939f54eee6655d68509598c42 inherit pro_methods_a10158"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aaece480aacb3cae7d0919a277d46eb31" name="aaece480aacb3cae7d0919a277d46eb31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaece480aacb3cae7d0919a277d46eb31">&#9670;&#160;</a></span>ban_commandscript()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ban_commandscript::ban_commandscript </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   53</span>: <a class="code hl_class" href="../../dd/d45/a10006.html">CommandScript</a>(<span class="stringliteral">&quot;ban_commandscript&quot;</span>) { }</div>
<div class="ttc" id="aa10006_html"><div class="ttname"><a href="../../dd/d45/a10006.html">CommandScript</a></div><div class="ttdef"><b>Definition:</b> CommandScript.h:25</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3079102518edbfd0e16576083e053a19" name="a3079102518edbfd0e16576083e053a19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3079102518edbfd0e16576083e053a19">&#9670;&#160;</a></span>GetCommands()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dea/a04726.html#a7aa1549a95f760a19b9b7ffd8e669626">ChatCommandTable</a> ban_commandscript::GetCommands </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/d45/a10006.html#a97dc7d00b78e0030ba2a950d23b2ebd2">CommandScript</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   56</span>    {</div>
<div class="line"><span class="lineno">   57</span>        <span class="keyword">static</span> <a class="code hl_typedef" href="../../d4/dea/a04726.html#a7aa1549a95f760a19b9b7ffd8e669626">ChatCommandTable</a> unbanCommandTable =</div>
<div class="line"><span class="lineno">   58</span>        {</div>
<div class="line"><span class="lineno">   59</span>            { <span class="stringliteral">&quot;account&quot;</span>,       <a class="code hl_function" href="../../d2/dfa/a11306.html#aeb041ffecb3611151172b4f0c52f8018">HandleUnBanAccountCommand</a>,       <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a>, Console::Yes },</div>
<div class="line"><span class="lineno">   60</span>            { <span class="stringliteral">&quot;character&quot;</span>,     <a class="code hl_function" href="../../d2/dfa/a11306.html#af55843929fa62402b2eb5cae71c2e4a5">HandleUnBanCharacterCommand</a>,     <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a>, Console::Yes },</div>
<div class="line"><span class="lineno">   61</span>            { <span class="stringliteral">&quot;playeraccount&quot;</span>, <a class="code hl_function" href="../../d2/dfa/a11306.html#a3fd418aec25d220cd31d3637bbded380">HandleUnBanAccountByCharCommand</a>, <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a>, Console::Yes },</div>
<div class="line"><span class="lineno">   62</span>            { <span class="stringliteral">&quot;ip&quot;</span>,            <a class="code hl_function" href="../../d2/dfa/a11306.html#a3f73d0989eaa2b9d840d24544ad90bfd">HandleUnBanIPCommand</a>,            <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a>, Console::Yes }</div>
<div class="line"><span class="lineno">   63</span>        };</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>        <span class="keyword">static</span> <a class="code hl_typedef" href="../../d4/dea/a04726.html#a7aa1549a95f760a19b9b7ffd8e669626">ChatCommandTable</a> banlistCommandTable =</div>
<div class="line"><span class="lineno">   66</span>        {</div>
<div class="line"><span class="lineno">   67</span>            { <span class="stringliteral">&quot;account&quot;</span>,      <a class="code hl_function" href="../../d2/dfa/a11306.html#adafc851259dfa7d8fb717f2e77e66a38">HandleBanListAccountCommand</a>,   <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>, Console::Yes },</div>
<div class="line"><span class="lineno">   68</span>            { <span class="stringliteral">&quot;character&quot;</span>,    <a class="code hl_function" href="../../d2/dfa/a11306.html#abf9fa4690f97f6f98511a20d9d4ea521">HandleBanListCharacterCommand</a>, <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>, Console::Yes },</div>
<div class="line"><span class="lineno">   69</span>            { <span class="stringliteral">&quot;ip&quot;</span>,           <a class="code hl_function" href="../../d2/dfa/a11306.html#a5c1ae1798c1ad498fa2993d098b5131c">HandleBanListIPCommand</a>,        <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>, Console::Yes }</div>
<div class="line"><span class="lineno">   70</span>        };</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>        <span class="keyword">static</span> <a class="code hl_typedef" href="../../d4/dea/a04726.html#a7aa1549a95f760a19b9b7ffd8e669626">ChatCommandTable</a> baninfoCommandTable =</div>
<div class="line"><span class="lineno">   73</span>        {</div>
<div class="line"><span class="lineno">   74</span>            { <span class="stringliteral">&quot;account&quot;</span>,      <a class="code hl_function" href="../../d2/dfa/a11306.html#a43048a5b00dec7476d83dca64cd41641">HandleBanInfoAccountCommand</a>,   <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>, Console::Yes },</div>
<div class="line"><span class="lineno">   75</span>            { <span class="stringliteral">&quot;character&quot;</span>,    <a class="code hl_function" href="../../d2/dfa/a11306.html#aea445f0a0a6cdb690fb88a53e2f794fb">HandleBanInfoCharacterCommand</a>, <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>, Console::Yes },</div>
<div class="line"><span class="lineno">   76</span>            { <span class="stringliteral">&quot;ip&quot;</span>,           <a class="code hl_function" href="../../d2/dfa/a11306.html#ac32e4d00bb6e94a65eb63e0f0a9cc963">HandleBanInfoIPCommand</a>,        <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>, Console::Yes }</div>
<div class="line"><span class="lineno">   77</span>        };</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>        <span class="keyword">static</span> <a class="code hl_typedef" href="../../d4/dea/a04726.html#a7aa1549a95f760a19b9b7ffd8e669626">ChatCommandTable</a> banCommandTable =</div>
<div class="line"><span class="lineno">   80</span>        {</div>
<div class="line"><span class="lineno">   81</span>            { <span class="stringliteral">&quot;account&quot;</span>,      <a class="code hl_function" href="../../d2/dfa/a11306.html#af54b01c0b6db28488866fff9ad3d885e">HandleBanAccountCommand</a>,       <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>, Console::Yes },</div>
<div class="line"><span class="lineno">   82</span>            { <span class="stringliteral">&quot;character&quot;</span>,    <a class="code hl_function" href="../../d2/dfa/a11306.html#adc181572cfcaa15e649429df50d8d529">HandleBanCharacterCommand</a>,     <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>, Console::Yes },</div>
<div class="line"><span class="lineno">   83</span>            { <span class="stringliteral">&quot;playeraccount&quot;</span>,<a class="code hl_function" href="../../d2/dfa/a11306.html#a3a1a2890ddf2e70f26beacfb6e827647">HandleBanAccountByCharCommand</a>, <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>, Console::Yes },</div>
<div class="line"><span class="lineno">   84</span>            { <span class="stringliteral">&quot;ip&quot;</span>,           <a class="code hl_function" href="../../d2/dfa/a11306.html#a82cbdac404e6bc594d823fb4081e6df8">HandleBanIPCommand</a>,            <a class="code hl_enumvalue" href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a>, Console::Yes }</div>
<div class="line"><span class="lineno">   85</span>        };</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>        <span class="keyword">static</span> <a class="code hl_typedef" href="../../d4/dea/a04726.html#a7aa1549a95f760a19b9b7ffd8e669626">ChatCommandTable</a> commandTable =</div>
<div class="line"><span class="lineno">   88</span>        {</div>
<div class="line"><span class="lineno">   89</span>            { <span class="stringliteral">&quot;ban&quot;</span>,     banCommandTable },</div>
<div class="line"><span class="lineno">   90</span>            { <span class="stringliteral">&quot;baninfo&quot;</span>, baninfoCommandTable },</div>
<div class="line"><span class="lineno">   91</span>            { <span class="stringliteral">&quot;banlist&quot;</span>, banlistCommandTable },</div>
<div class="line"><span class="lineno">   92</span>            { <span class="stringliteral">&quot;unban&quot;</span>,   unbanCommandTable }</div>
<div class="line"><span class="lineno">   93</span>        };</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordflow">return</span> commandTable;</div>
<div class="line"><span class="lineno">   96</span>    }</div>
<div class="ttc" id="aa00017_html_adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102"><div class="ttname"><a href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a6a04b5fbbc52adb152bfb45b600db102">SEC_ADMINISTRATOR</a></div><div class="ttdeci">@ SEC_ADMINISTRATOR</div><div class="ttdef"><b>Definition:</b> Common.h:60</div></div>
<div class="ttc" id="aa00017_html_adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1"><div class="ttname"><a href="../../d4/d51/a00017.html#adaa1cabfe05f8df3c272bdcfd89cdac7a7f04060ed09e837220bc6c3f34d6fef1">SEC_GAMEMASTER</a></div><div class="ttdeci">@ SEC_GAMEMASTER</div><div class="ttdef"><b>Definition:</b> Common.h:59</div></div>
<div class="ttc" id="aa04726_html_a7aa1549a95f760a19b9b7ffd8e669626"><div class="ttname"><a href="../../d4/dea/a04726.html#a7aa1549a95f760a19b9b7ffd8e669626">Acore::ChatCommands::ChatCommandTable</a></div><div class="ttdeci">std::vector&lt; ChatCommandBuilder &gt; ChatCommandTable</div><div class="ttdef"><b>Definition:</b> ChatCommand.h:46</div></div>
<div class="ttc" id="aa11306_html_a3a1a2890ddf2e70f26beacfb6e827647"><div class="ttname"><a href="../../d2/dfa/a11306.html#a3a1a2890ddf2e70f26beacfb6e827647">ban_commandscript::HandleBanAccountByCharCommand</a></div><div class="ttdeci">static bool HandleBanAccountByCharCommand(ChatHandler *handler, char const *args)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:154</div></div>
<div class="ttc" id="aa11306_html_a3f73d0989eaa2b9d840d24544ad90bfd"><div class="ttname"><a href="../../d2/dfa/a11306.html#a3f73d0989eaa2b9d840d24544ad90bfd">ban_commandscript::HandleUnBanIPCommand</a></div><div class="ttdeci">static bool HandleUnBanIPCommand(ChatHandler *handler, char const *args)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:696</div></div>
<div class="ttc" id="aa11306_html_a3fd418aec25d220cd31d3637bbded380"><div class="ttname"><a href="../../d2/dfa/a11306.html#a3fd418aec25d220cd31d3637bbded380">ban_commandscript::HandleUnBanAccountByCharCommand</a></div><div class="ttdeci">static bool HandleUnBanAccountByCharCommand(ChatHandler *handler, char const *args)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:691</div></div>
<div class="ttc" id="aa11306_html_a43048a5b00dec7476d83dca64cd41641"><div class="ttname"><a href="../../d2/dfa/a11306.html#a43048a5b00dec7476d83dca64cd41641">ban_commandscript::HandleBanInfoAccountCommand</a></div><div class="ttdeci">static bool HandleBanInfoAccountCommand(ChatHandler *handler, char const *args)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:261</div></div>
<div class="ttc" id="aa11306_html_a5c1ae1798c1ad498fa2993d098b5131c"><div class="ttname"><a href="../../d2/dfa/a11306.html#a5c1ae1798c1ad498fa2993d098b5131c">ban_commandscript::HandleBanListIPCommand</a></div><div class="ttdeci">static bool HandleBanListIPCommand(ChatHandler *handler, char const *args)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:588</div></div>
<div class="ttc" id="aa11306_html_a82cbdac404e6bc594d823fb4081e6df8"><div class="ttname"><a href="../../d2/dfa/a11306.html#a82cbdac404e6bc594d823fb4081e6df8">ban_commandscript::HandleBanIPCommand</a></div><div class="ttdeci">static bool HandleBanIPCommand(ChatHandler *handler, char const *args)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:159</div></div>
<div class="ttc" id="aa11306_html_abf9fa4690f97f6f98511a20d9d4ea521"><div class="ttname"><a href="../../d2/dfa/a11306.html#abf9fa4690f97f6f98511a20d9d4ea521">ban_commandscript::HandleBanListCharacterCommand</a></div><div class="ttdeci">static bool HandleBanListCharacterCommand(ChatHandler *handler, char const *args)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:505</div></div>
<div class="ttc" id="aa11306_html_ac32e4d00bb6e94a65eb63e0f0a9cc963"><div class="ttname"><a href="../../d2/dfa/a11306.html#ac32e4d00bb6e94a65eb63e0f0a9cc963">ban_commandscript::HandleBanInfoIPCommand</a></div><div class="ttdeci">static bool HandleBanInfoIPCommand(ChatHandler *handler, char const *args)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:362</div></div>
<div class="ttc" id="aa11306_html_adafc851259dfa7d8fb717f2e77e66a38"><div class="ttname"><a href="../../d2/dfa/a11306.html#adafc851259dfa7d8fb717f2e77e66a38">ban_commandscript::HandleBanListAccountCommand</a></div><div class="ttdeci">static bool HandleBanListAccountCommand(ChatHandler *handler, char const *args)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:400</div></div>
<div class="ttc" id="aa11306_html_adc181572cfcaa15e649429df50d8d529"><div class="ttname"><a href="../../d2/dfa/a11306.html#adc181572cfcaa15e649429df50d8d529">ban_commandscript::HandleBanCharacterCommand</a></div><div class="ttdeci">static bool HandleBanCharacterCommand(ChatHandler *handler, char const *args)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:103</div></div>
<div class="ttc" id="aa11306_html_aea445f0a0a6cdb690fb88a53e2f794fb"><div class="ttname"><a href="../../d2/dfa/a11306.html#aea445f0a0a6cdb690fb88a53e2f794fb">ban_commandscript::HandleBanInfoCharacterCommand</a></div><div class="ttdeci">static bool HandleBanInfoCharacterCommand(ChatHandler *handler, char const *args)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:314</div></div>
<div class="ttc" id="aa11306_html_aeb041ffecb3611151172b4f0c52f8018"><div class="ttname"><a href="../../d2/dfa/a11306.html#aeb041ffecb3611151172b4f0c52f8018">ban_commandscript::HandleUnBanAccountCommand</a></div><div class="ttdeci">static bool HandleUnBanAccountCommand(ChatHandler *handler, char const *args)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:660</div></div>
<div class="ttc" id="aa11306_html_af54b01c0b6db28488866fff9ad3d885e"><div class="ttname"><a href="../../d2/dfa/a11306.html#af54b01c0b6db28488866fff9ad3d885e">ban_commandscript::HandleBanAccountCommand</a></div><div class="ttdeci">static bool HandleBanAccountCommand(ChatHandler *handler, char const *args)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:98</div></div>
<div class="ttc" id="aa11306_html_af55843929fa62402b2eb5cae71c2e4a5"><div class="ttname"><a href="../../d2/dfa/a11306.html#af55843929fa62402b2eb5cae71c2e4a5">ban_commandscript::HandleUnBanCharacterCommand</a></div><div class="ttdeci">static bool HandleUnBanCharacterCommand(ChatHandler *handler, char const *args)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:665</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00154">HandleBanAccountByCharCommand()</a>, <a class="el" href="../../#l00098">HandleBanAccountCommand()</a>, <a class="el" href="../../#l00103">HandleBanCharacterCommand()</a>, <a class="el" href="../../#l00261">HandleBanInfoAccountCommand()</a>, <a class="el" href="../../#l00314">HandleBanInfoCharacterCommand()</a>, <a class="el" href="../../#l00362">HandleBanInfoIPCommand()</a>, <a class="el" href="../../#l00159">HandleBanIPCommand()</a>, <a class="el" href="../../#l00400">HandleBanListAccountCommand()</a>, <a class="el" href="../../#l00505">HandleBanListCharacterCommand()</a>, <a class="el" href="../../#l00588">HandleBanListIPCommand()</a>, <a class="el" href="../../#l00691">HandleUnBanAccountByCharCommand()</a>, <a class="el" href="../../#l00660">HandleUnBanAccountCommand()</a>, <a class="el" href="../../#l00665">HandleUnBanCharacterCommand()</a>, <a class="el" href="../../#l00696">HandleUnBanIPCommand()</a>, <a class="el" href="../../#l00060">SEC_ADMINISTRATOR</a>, and <a class="el" href="../../#l00059">SEC_GAMEMASTER</a>.</p>

</div>
</div>
<a id="a3a1a2890ddf2e70f26beacfb6e827647" name="a3a1a2890ddf2e70f26beacfb6e827647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a1a2890ddf2e70f26beacfb6e827647">&#9670;&#160;</a></span>HandleBanAccountByCharCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleBanAccountByCharCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  155</span>    {</div>
<div class="line"><span class="lineno">  156</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d2/dfa/a11306.html#a2685e26ced4dda5bfbbefaec02d59a5e">HandleBanHelper</a>(<a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264ab7cde4c4b1dd975c191f10ab0b18ab79">BAN_CHARACTER</a>, args, handler);</div>
<div class="line"><span class="lineno">  157</span>    }</div>
<div class="ttc" id="aa01331_html_aee9acfaac97a86a40bad738a75eb5264ab7cde4c4b1dd975c191f10ab0b18ab79"><div class="ttname"><a href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264ab7cde4c4b1dd975c191f10ab0b18ab79">BAN_CHARACTER</a></div><div class="ttdeci">@ BAN_CHARACTER</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:40</div></div>
<div class="ttc" id="aa11306_html_a2685e26ced4dda5bfbbefaec02d59a5e"><div class="ttname"><a href="../../d2/dfa/a11306.html#a2685e26ced4dda5bfbbefaec02d59a5e">ban_commandscript::HandleBanHelper</a></div><div class="ttdeci">static bool HandleBanHelper(BanMode mode, char const *args, ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:164</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00040">BAN_CHARACTER</a>, and <a class="el" href="../../#l00164">HandleBanHelper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00055">GetCommands()</a>.</p>

</div>
</div>
<a id="af54b01c0b6db28488866fff9ad3d885e" name="af54b01c0b6db28488866fff9ad3d885e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af54b01c0b6db28488866fff9ad3d885e">&#9670;&#160;</a></span>HandleBanAccountCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleBanAccountCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   99</span>    {</div>
<div class="line"><span class="lineno">  100</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d2/dfa/a11306.html#a2685e26ced4dda5bfbbefaec02d59a5e">HandleBanHelper</a>(<a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264a7092b1d29da920594bf62c7abe0e9ba1">BAN_ACCOUNT</a>, args, handler);</div>
<div class="line"><span class="lineno">  101</span>    }</div>
<div class="ttc" id="aa01331_html_aee9acfaac97a86a40bad738a75eb5264a7092b1d29da920594bf62c7abe0e9ba1"><div class="ttname"><a href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264a7092b1d29da920594bf62c7abe0e9ba1">BAN_ACCOUNT</a></div><div class="ttdeci">@ BAN_ACCOUNT</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:39</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00039">BAN_ACCOUNT</a>, and <a class="el" href="../../#l00164">HandleBanHelper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00055">GetCommands()</a>.</p>

</div>
</div>
<a id="adc181572cfcaa15e649429df50d8d529" name="adc181572cfcaa15e649429df50d8d529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc181572cfcaa15e649429df50d8d529">&#9670;&#160;</a></span>HandleBanCharacterCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleBanCharacterCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  104</span>    {</div>
<div class="line"><span class="lineno">  105</span>        <span class="keywordflow">if</span> (!*args)</div>
<div class="line"><span class="lineno">  106</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>        <span class="keywordtype">char</span>* nameStr = strtok((<span class="keywordtype">char</span>*)args, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  109</span>        <span class="keywordflow">if</span> (!nameStr)</div>
<div class="line"><span class="lineno">  110</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>        std::string name = nameStr;</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>        <span class="keywordtype">char</span>* durationStr = strtok(<span class="keyword">nullptr</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  115</span>        <span class="keywordflow">if</span> (!durationStr || !atoi(durationStr))</div>
<div class="line"><span class="lineno">  116</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>        <span class="keywordtype">char</span>* reasonStr = strtok(<span class="keyword">nullptr</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  119</span>        <span class="keywordflow">if</span> (!reasonStr)</div>
<div class="line"><span class="lineno">  120</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d5/d4c/a02846.html#af55111c173fd16ba2898f3046dfa3d9a">normalizePlayerName</a>(name))</div>
<div class="line"><span class="lineno">  123</span>        {</div>
<div class="line"><span class="lineno">  124</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaab2e8907c804b742a54d115d079d86a6">LANG_PLAYER_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno">  125</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  126</span>        }</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>        <span class="keywordflow">switch</span> (<a class="code hl_define" href="../../d4/d43/a03143.html#a7d5e9b6aab3c8157bcf25fa0f070bb17">sBan</a>-&gt;BanCharacter(name, durationStr, reasonStr, handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>() ? handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../db/d29/a10750.html#adc5517d80512262fe3b6c1c887bacba8">GetPlayerName</a>() : <span class="stringliteral">&quot;&quot;</span>))</div>
<div class="line"><span class="lineno">  129</span>        {</div>
<div class="line"><span class="lineno">  130</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/d43/a03143.html#a4dd4670ead55e2780d09a66ab39943a7ab48bdf9afe21b115b7550bf103d1dc28">BAN_SUCCESS</a>:</div>
<div class="line"><span class="lineno">  131</span>                <span class="keywordflow">if</span> (atoi(durationStr) &gt; 0)</div>
<div class="line"><span class="lineno">  132</span>                {</div>
<div class="line"><span class="lineno">  133</span>                    <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getBoolConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0a4463b22c0e6785166b85aae72b0d6b07">CONFIG_SHOW_BAN_IN_WORLD</a>))</div>
<div class="line"><span class="lineno">  134</span>                        handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa8438500af742d295941fa4d2afd19954">LANG_BAN_YOUBANNED</a>, name, <a class="code hl_function" href="../../da/dee/a00383.html#a0b4910c611cea4a1b2812dac5456c5a8">secsToTimeString</a>(<a class="code hl_function" href="../../da/dee/a00383.html#a6afbc7b52fa1fe844f66ffcf8230ff93">TimeStringToSecs</a>(durationStr), <span class="keyword">true</span>), reasonStr);</div>
<div class="line"><span class="lineno">  135</span>                }</div>
<div class="line"><span class="lineno">  136</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  137</span>                {</div>
<div class="line"><span class="lineno">  138</span>                    <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getBoolConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0a4463b22c0e6785166b85aae72b0d6b07">CONFIG_SHOW_BAN_IN_WORLD</a>))</div>
<div class="line"><span class="lineno">  139</span>                        handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa655a72d2259730889e077c54b34d7f85">LANG_BAN_YOUPERMBANNED</a>, name, reasonStr);</div>
<div class="line"><span class="lineno">  140</span>                }</div>
<div class="line"><span class="lineno">  141</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  142</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/d43/a03143.html#a4dd4670ead55e2780d09a66ab39943a7aaefc3ea320005c27d70704fb92aed7ad">BAN_NOTFOUND</a>:</div>
<div class="line"><span class="lineno">  143</span>                {</div>
<div class="line"><span class="lineno">  144</span>                    handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa37758007511c80744d53cca30c5014c4">LANG_BAN_NOTFOUND</a>, <span class="stringliteral">&quot;character&quot;</span>, name);</div>
<div class="line"><span class="lineno">  145</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  146</span>                }</div>
<div class="line"><span class="lineno">  147</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  148</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  149</span>        }</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  152</span>    }</div>
<div class="ttc" id="aa00383_html_a0b4910c611cea4a1b2812dac5456c5a8"><div class="ttname"><a href="../../da/dee/a00383.html#a0b4910c611cea4a1b2812dac5456c5a8">secsToTimeString</a></div><div class="ttdeci">std::string secsToTimeString(uint64 timeInSecs, bool shortText)</div><div class="ttdef"><b>Definition:</b> Util.cpp:73</div></div>
<div class="ttc" id="aa00383_html_a6afbc7b52fa1fe844f66ffcf8230ff93"><div class="ttname"><a href="../../da/dee/a00383.html#a6afbc7b52fa1fe844f66ffcf8230ff93">TimeStringToSecs</a></div><div class="ttdeci">uint32 TimeStringToSecs(const std::string &amp;timestring)</div><div class="ttdef"><b>Definition:</b> Util.cpp:163</div></div>
<div class="ttc" id="aa02846_html_af55111c173fd16ba2898f3046dfa3d9a"><div class="ttname"><a href="../../d5/d4c/a02846.html#af55111c173fd16ba2898f3046dfa3d9a">normalizePlayerName</a></div><div class="ttdeci">bool normalizePlayerName(std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> ObjectMgr.cpp:208</div></div>
<div class="ttc" id="aa03143_html_a4dd4670ead55e2780d09a66ab39943a7aaefc3ea320005c27d70704fb92aed7ad"><div class="ttname"><a href="../../d4/d43/a03143.html#a4dd4670ead55e2780d09a66ab39943a7aaefc3ea320005c27d70704fb92aed7ad">BAN_NOTFOUND</a></div><div class="ttdeci">@ BAN_NOTFOUND</div><div class="ttdef"><b>Definition:</b> BanMgr.h:28</div></div>
<div class="ttc" id="aa03143_html_a4dd4670ead55e2780d09a66ab39943a7ab48bdf9afe21b115b7550bf103d1dc28"><div class="ttname"><a href="../../d4/d43/a03143.html#a4dd4670ead55e2780d09a66ab39943a7ab48bdf9afe21b115b7550bf103d1dc28">BAN_SUCCESS</a></div><div class="ttdeci">@ BAN_SUCCESS</div><div class="ttdef"><b>Definition:</b> BanMgr.h:26</div></div>
<div class="ttc" id="aa03143_html_a7d5e9b6aab3c8157bcf25fa0f070bb17"><div class="ttname"><a href="../../d4/d43/a03143.html#a7d5e9b6aab3c8157bcf25fa0f070bb17">sBan</a></div><div class="ttdeci">#define sBan</div><div class="ttdef"><b>Definition:</b> BanMgr.h:48</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa37758007511c80744d53cca30c5014c4"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa37758007511c80744d53cca30c5014c4">LANG_BAN_NOTFOUND</a></div><div class="ttdeci">@ LANG_BAN_NOTFOUND</div><div class="ttdef"><b>Definition:</b> Language.h:437</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa655a72d2259730889e077c54b34d7f85"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa655a72d2259730889e077c54b34d7f85">LANG_BAN_YOUPERMBANNED</a></div><div class="ttdeci">@ LANG_BAN_YOUPERMBANNED</div><div class="ttdef"><b>Definition:</b> Language.h:436</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa8438500af742d295941fa4d2afd19954"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa8438500af742d295941fa4d2afd19954">LANG_BAN_YOUBANNED</a></div><div class="ttdeci">@ LANG_BAN_YOUBANNED</div><div class="ttdef"><b>Definition:</b> Language.h:435</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaab2e8907c804b742a54d115d079d86a6"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaab2e8907c804b742a54d115d079d86a6">LANG_PLAYER_NOT_FOUND</a></div><div class="ttdeci">@ LANG_PLAYER_NOT_FOUND</div><div class="ttdef"><b>Definition:</b> Language.h:539</div></div>
<div class="ttc" id="aa03317_html_a1b4b88c03b7d0124998b4c22e957baf0a4463b22c0e6785166b85aae72b0d6b07"><div class="ttname"><a href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0a4463b22c0e6785166b85aae72b0d6b07">CONFIG_SHOW_BAN_IN_WORLD</a></div><div class="ttdeci">@ CONFIG_SHOW_BAN_IN_WORLD</div><div class="ttdef"><b>Definition:</b> IWorld.h:133</div></div>
<div class="ttc" id="aa04681_html_ga05dfb35c344e5b947a19e4284e7f5fa7"><div class="ttname"><a href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a></div><div class="ttdeci">#define sWorld</div><div class="ttdef"><b>Definition:</b> World.h:443</div></div>
<div class="ttc" id="aa07294_html_a54305506d6194dfdd1c1a3f30c8d1d62"><div class="ttname"><a href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">ChatHandler::PSendSysMessage</a></div><div class="ttdeci">void PSendSysMessage(std::string_view str, bool escapeCharacters=false)</div><div class="ttdef"><b>Definition:</b> Chat.cpp:210</div></div>
<div class="ttc" id="aa07294_html_a635eca3065c9464e0cdcedd9f0740daa"><div class="ttname"><a href="../../dc/dcd/a07294.html#a635eca3065c9464e0cdcedd9f0740daa">ChatHandler::GetSession</a></div><div class="ttdeci">WorldSession * GetSession()</div><div class="ttdef"><b>Definition:</b> Chat.h:242</div></div>
<div class="ttc" id="aa07294_html_a92dbe6ed87759b9ed247973178d99a80"><div class="ttname"><a href="../../dc/dcd/a07294.html#a92dbe6ed87759b9ed247973178d99a80">ChatHandler::SendErrorMessage</a></div><div class="ttdeci">void SendErrorMessage(uint32 entry)</div><div class="ttdef"><b>Definition:</b> Chat.cpp:215</div></div>
<div class="ttc" id="aa10750_html_adc5517d80512262fe3b6c1c887bacba8"><div class="ttname"><a href="../../db/d29/a10750.html#adc5517d80512262fe3b6c1c887bacba8">WorldSession::GetPlayerName</a></div><div class="ttdeci">std::string const &amp; GetPlayerName() const</div><div class="ttdef"><b>Definition:</b> WorldSession.cpp:186</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00028">BAN_NOTFOUND</a>, <a class="el" href="../../#l00026">BAN_SUCCESS</a>, <a class="el" href="../../#l00133">CONFIG_SHOW_BAN_IN_WORLD</a>, <a class="el" href="../../#l00186">WorldSession::GetPlayerName()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00437">LANG_BAN_NOTFOUND</a>, <a class="el" href="../../#l00435">LANG_BAN_YOUBANNED</a>, <a class="el" href="../../#l00436">LANG_BAN_YOUPERMBANNED</a>, <a class="el" href="../../#l00539">LANG_PLAYER_NOT_FOUND</a>, <a class="el" href="../../#l00208">normalizePlayerName()</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00048">sBan</a>, <a class="el" href="../../#l00073">secsToTimeString()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00443">sWorld</a>, and <a class="el" href="../../#l00163">TimeStringToSecs()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00055">GetCommands()</a>.</p>

</div>
</div>
<a id="a2685e26ced4dda5bfbbefaec02d59a5e" name="a2685e26ced4dda5bfbbefaec02d59a5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2685e26ced4dda5bfbbefaec02d59a5e">&#9670;&#160;</a></span>HandleBanHelper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleBanHelper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264">BanMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  165</span>    {</div>
<div class="line"><span class="lineno">  166</span>        <span class="keywordflow">if</span> (!*args)</div>
<div class="line"><span class="lineno">  167</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>        <span class="keywordtype">char</span>* cnameOrIP = strtok((<span class="keywordtype">char</span>*)args, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  170</span>        <span class="keywordflow">if</span> (!cnameOrIP)</div>
<div class="line"><span class="lineno">  171</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>        std::string nameOrIP = cnameOrIP;</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>        <span class="keywordtype">char</span>* durationStr = strtok(<span class="keyword">nullptr</span>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">if</span> (!durationStr || !atoi(durationStr))</div>
<div class="line"><span class="lineno">  177</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordtype">char</span>* reasonStr = strtok(<span class="keyword">nullptr</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  180</span>        <span class="keywordflow">if</span> (!reasonStr)</div>
<div class="line"><span class="lineno">  181</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>        <span class="keywordflow">switch</span> (mode)</div>
<div class="line"><span class="lineno">  184</span>        {</div>
<div class="line"><span class="lineno">  185</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264a7092b1d29da920594bf62c7abe0e9ba1">BAN_ACCOUNT</a>:</div>
<div class="line"><span class="lineno">  186</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../da/dee/a00383.html#a589bbb62b3f6aadebe49b4140446fb57">Utf8ToUpperOnlyLatin</a>(nameOrIP))</div>
<div class="line"><span class="lineno">  187</span>                {</div>
<div class="line"><span class="lineno">  188</span>                    handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaca743710cf32d24958f1af55bf852dcf">LANG_ACCOUNT_NOT_EXIST</a>, nameOrIP);</div>
<div class="line"><span class="lineno">  189</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  190</span>                }</div>
<div class="line"><span class="lineno">  191</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  192</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264ab7cde4c4b1dd975c191f10ab0b18ab79">BAN_CHARACTER</a>:</div>
<div class="line"><span class="lineno">  193</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d5/d4c/a02846.html#af55111c173fd16ba2898f3046dfa3d9a">normalizePlayerName</a>(nameOrIP))</div>
<div class="line"><span class="lineno">  194</span>                {</div>
<div class="line"><span class="lineno">  195</span>                    handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaab2e8907c804b742a54d115d079d86a6">LANG_PLAYER_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno">  196</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  197</span>                }</div>
<div class="line"><span class="lineno">  198</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  199</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264ab68a6a6d80749ee19c73fc9dd4f4d74b">BAN_IP</a>:</div>
<div class="line"><span class="lineno">  200</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../da/dee/a00383.html#a673f2e86a3a241f52994e86224f77afc">IsIPAddress</a>(nameOrIP.c_str()))</div>
<div class="line"><span class="lineno">  201</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  202</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  203</span>        }</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>        <a class="code hl_enumeration" href="../../d4/d43/a03143.html#a4dd4670ead55e2780d09a66ab39943a7">BanReturn</a> banReturn;</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>        <span class="keywordflow">switch</span> (mode)</div>
<div class="line"><span class="lineno">  208</span>        {</div>
<div class="line"><span class="lineno">  209</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264a7092b1d29da920594bf62c7abe0e9ba1">BAN_ACCOUNT</a>:</div>
<div class="line"><span class="lineno">  210</span>                banReturn = <a class="code hl_define" href="../../d4/d43/a03143.html#a7d5e9b6aab3c8157bcf25fa0f070bb17">sBan</a>-&gt;BanAccount(nameOrIP, durationStr, reasonStr, handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>() ? handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../db/d29/a10750.html#adc5517d80512262fe3b6c1c887bacba8">GetPlayerName</a>() : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  211</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  212</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264ab7cde4c4b1dd975c191f10ab0b18ab79">BAN_CHARACTER</a>:</div>
<div class="line"><span class="lineno">  213</span>                banReturn = <a class="code hl_define" href="../../d4/d43/a03143.html#a7d5e9b6aab3c8157bcf25fa0f070bb17">sBan</a>-&gt;BanAccountByPlayerName(nameOrIP, durationStr, reasonStr, handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>() ? handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../db/d29/a10750.html#adc5517d80512262fe3b6c1c887bacba8">GetPlayerName</a>() : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  214</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  215</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264ab68a6a6d80749ee19c73fc9dd4f4d74b">BAN_IP</a>:</div>
<div class="line"><span class="lineno">  216</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  217</span>                banReturn = <a class="code hl_define" href="../../d4/d43/a03143.html#a7d5e9b6aab3c8157bcf25fa0f070bb17">sBan</a>-&gt;BanIP(nameOrIP, durationStr, reasonStr, handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>() ? handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>()-&gt;<a class="code hl_function" href="../../db/d29/a10750.html#adc5517d80512262fe3b6c1c887bacba8">GetPlayerName</a>() : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  218</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  219</span>        }</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>        <span class="keywordflow">switch</span> (banReturn)</div>
<div class="line"><span class="lineno">  222</span>        {</div>
<div class="line"><span class="lineno">  223</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/d43/a03143.html#a4dd4670ead55e2780d09a66ab39943a7ab48bdf9afe21b115b7550bf103d1dc28">BAN_SUCCESS</a>:</div>
<div class="line"><span class="lineno">  224</span>                <span class="keywordflow">if</span> (atoi(durationStr) &gt; 0)</div>
<div class="line"><span class="lineno">  225</span>                {</div>
<div class="line"><span class="lineno">  226</span>                    <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getBoolConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0a4463b22c0e6785166b85aae72b0d6b07">CONFIG_SHOW_BAN_IN_WORLD</a>))</div>
<div class="line"><span class="lineno">  227</span>                        handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa8438500af742d295941fa4d2afd19954">LANG_BAN_YOUBANNED</a>, nameOrIP, <a class="code hl_function" href="../../da/dee/a00383.html#a0b4910c611cea4a1b2812dac5456c5a8">secsToTimeString</a>(<a class="code hl_function" href="../../da/dee/a00383.html#a6afbc7b52fa1fe844f66ffcf8230ff93">TimeStringToSecs</a>(durationStr), <span class="keyword">true</span>), reasonStr);</div>
<div class="line"><span class="lineno">  228</span>                }</div>
<div class="line"><span class="lineno">  229</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  230</span>                {</div>
<div class="line"><span class="lineno">  231</span>                    <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d2/db6/a04681.html#ga05dfb35c344e5b947a19e4284e7f5fa7">sWorld</a>-&gt;getBoolConfig(<a class="code hl_enumvalue" href="../../d8/ddd/a03317.html#a1b4b88c03b7d0124998b4c22e957baf0a4463b22c0e6785166b85aae72b0d6b07">CONFIG_SHOW_BAN_IN_WORLD</a>))</div>
<div class="line"><span class="lineno">  232</span>                        handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa655a72d2259730889e077c54b34d7f85">LANG_BAN_YOUPERMBANNED</a>, nameOrIP, reasonStr);</div>
<div class="line"><span class="lineno">  233</span>                }</div>
<div class="line"><span class="lineno">  234</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  235</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/d43/a03143.html#a4dd4670ead55e2780d09a66ab39943a7a7ec21f8f8ea6d0904423dded4b8f0dc8">BAN_SYNTAX_ERROR</a>:</div>
<div class="line"><span class="lineno">  236</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  237</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/d43/a03143.html#a4dd4670ead55e2780d09a66ab39943a7aaefc3ea320005c27d70704fb92aed7ad">BAN_NOTFOUND</a>:</div>
<div class="line"><span class="lineno">  238</span>                <span class="keywordflow">switch</span> (mode)</div>
<div class="line"><span class="lineno">  239</span>                {</div>
<div class="line"><span class="lineno">  240</span>                    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  241</span>                        handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa37758007511c80744d53cca30c5014c4">LANG_BAN_NOTFOUND</a>, <span class="stringliteral">&quot;account&quot;</span>, nameOrIP);</div>
<div class="line"><span class="lineno">  242</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  243</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264ab7cde4c4b1dd975c191f10ab0b18ab79">BAN_CHARACTER</a>:</div>
<div class="line"><span class="lineno">  244</span>                        handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa37758007511c80744d53cca30c5014c4">LANG_BAN_NOTFOUND</a>, <span class="stringliteral">&quot;character&quot;</span>, nameOrIP);</div>
<div class="line"><span class="lineno">  245</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  246</span>                    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264ab68a6a6d80749ee19c73fc9dd4f4d74b">BAN_IP</a>:</div>
<div class="line"><span class="lineno">  247</span>                        handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa37758007511c80744d53cca30c5014c4">LANG_BAN_NOTFOUND</a>, <span class="stringliteral">&quot;ip&quot;</span>, nameOrIP);</div>
<div class="line"><span class="lineno">  248</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  249</span>                }</div>
<div class="line"><span class="lineno">  250</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  251</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d4/d43/a03143.html#a4dd4670ead55e2780d09a66ab39943a7ac441589615fb2fe9c7decb985f6f0d3c">BAN_LONGER_EXISTS</a>:</div>
<div class="line"><span class="lineno">  252</span>                handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;Unsuccessful! A longer ban is already present on this account!&quot;</span>);</div>
<div class="line"><span class="lineno">  253</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  254</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  255</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  256</span>        }</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  259</span>    }</div>
<div class="ttc" id="aa00383_html_a589bbb62b3f6aadebe49b4140446fb57"><div class="ttname"><a href="../../da/dee/a00383.html#a589bbb62b3f6aadebe49b4140446fb57">Utf8ToUpperOnlyLatin</a></div><div class="ttdeci">bool Utf8ToUpperOnlyLatin(std::string &amp;utf8String)</div><div class="ttdef"><b>Definition:</b> Util.cpp:532</div></div>
<div class="ttc" id="aa00383_html_a673f2e86a3a241f52994e86224f77afc"><div class="ttname"><a href="../../da/dee/a00383.html#a673f2e86a3a241f52994e86224f77afc">IsIPAddress</a></div><div class="ttdeci">bool IsIPAddress(char const *ipaddress)</div><div class="ttdoc">Check if the string is a valid ip address representation.</div><div class="ttdef"><b>Definition:</b> Util.cpp:205</div></div>
<div class="ttc" id="aa01331_html_aee9acfaac97a86a40bad738a75eb5264ab68a6a6d80749ee19c73fc9dd4f4d74b"><div class="ttname"><a href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264ab68a6a6d80749ee19c73fc9dd4f4d74b">BAN_IP</a></div><div class="ttdeci">@ BAN_IP</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:41</div></div>
<div class="ttc" id="aa03143_html_a4dd4670ead55e2780d09a66ab39943a7"><div class="ttname"><a href="../../d4/d43/a03143.html#a4dd4670ead55e2780d09a66ab39943a7">BanReturn</a></div><div class="ttdeci">BanReturn</div><div class="ttdoc">Ban function return codes.</div><div class="ttdef"><b>Definition:</b> BanMgr.h:25</div></div>
<div class="ttc" id="aa03143_html_a4dd4670ead55e2780d09a66ab39943a7a7ec21f8f8ea6d0904423dded4b8f0dc8"><div class="ttname"><a href="../../d4/d43/a03143.html#a4dd4670ead55e2780d09a66ab39943a7a7ec21f8f8ea6d0904423dded4b8f0dc8">BAN_SYNTAX_ERROR</a></div><div class="ttdeci">@ BAN_SYNTAX_ERROR</div><div class="ttdef"><b>Definition:</b> BanMgr.h:27</div></div>
<div class="ttc" id="aa03143_html_a4dd4670ead55e2780d09a66ab39943a7ac441589615fb2fe9c7decb985f6f0d3c"><div class="ttname"><a href="../../d4/d43/a03143.html#a4dd4670ead55e2780d09a66ab39943a7ac441589615fb2fe9c7decb985f6f0d3c">BAN_LONGER_EXISTS</a></div><div class="ttdeci">@ BAN_LONGER_EXISTS</div><div class="ttdef"><b>Definition:</b> BanMgr.h:29</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaca743710cf32d24958f1af55bf852dcf"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaca743710cf32d24958f1af55bf852dcf">LANG_ACCOUNT_NOT_EXIST</a></div><div class="ttdeci">@ LANG_ACCOUNT_NOT_EXIST</div><div class="ttdef"><b>Definition:</b> Language.h:442</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00039">BAN_ACCOUNT</a>, <a class="el" href="../../#l00040">BAN_CHARACTER</a>, <a class="el" href="../../#l00041">BAN_IP</a>, <a class="el" href="../../#l00029">BAN_LONGER_EXISTS</a>, <a class="el" href="../../#l00028">BAN_NOTFOUND</a>, <a class="el" href="../../#l00026">BAN_SUCCESS</a>, <a class="el" href="../../#l00027">BAN_SYNTAX_ERROR</a>, <a class="el" href="../../#l00133">CONFIG_SHOW_BAN_IN_WORLD</a>, <a class="el" href="../../#l00186">WorldSession::GetPlayerName()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00205">IsIPAddress()</a>, <a class="el" href="../../#l00442">LANG_ACCOUNT_NOT_EXIST</a>, <a class="el" href="../../#l00437">LANG_BAN_NOTFOUND</a>, <a class="el" href="../../#l00435">LANG_BAN_YOUBANNED</a>, <a class="el" href="../../#l00436">LANG_BAN_YOUPERMBANNED</a>, <a class="el" href="../../#l00539">LANG_PLAYER_NOT_FOUND</a>, <a class="el" href="../../#l00208">normalizePlayerName()</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00048">sBan</a>, <a class="el" href="../../#l00073">secsToTimeString()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, <a class="el" href="../../#l00443">sWorld</a>, <a class="el" href="../../#l00163">TimeStringToSecs()</a>, and <a class="el" href="../../#l00532">Utf8ToUpperOnlyLatin()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00154">HandleBanAccountByCharCommand()</a>, <a class="el" href="../../#l00098">HandleBanAccountCommand()</a>, and <a class="el" href="../../#l00159">HandleBanIPCommand()</a>.</p>

</div>
</div>
<a id="a43048a5b00dec7476d83dca64cd41641" name="a43048a5b00dec7476d83dca64cd41641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43048a5b00dec7476d83dca64cd41641">&#9670;&#160;</a></span>HandleBanInfoAccountCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleBanInfoAccountCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  262</span>    {</div>
<div class="line"><span class="lineno">  263</span>        <span class="keywordflow">if</span> (!*args)</div>
<div class="line"><span class="lineno">  264</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>        <span class="keywordtype">char</span>* nameStr = strtok((<span class="keywordtype">char</span>*)args, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  267</span>        <span class="keywordflow">if</span> (!nameStr)</div>
<div class="line"><span class="lineno">  268</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>        std::string accountName = nameStr;</div>
<div class="line"><span class="lineno">  271</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../da/dee/a00383.html#a589bbb62b3f6aadebe49b4140446fb57">Utf8ToUpperOnlyLatin</a>(accountName))</div>
<div class="line"><span class="lineno">  272</span>        {</div>
<div class="line"><span class="lineno">  273</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaca743710cf32d24958f1af55bf852dcf">LANG_ACCOUNT_NOT_EXIST</a>, accountName);</div>
<div class="line"><span class="lineno">  274</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  275</span>        }</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>        <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId = <a class="code hl_function" href="../../d2/ddc/a04717.html#aa215c9a96c37b8a5d76d980ecf8de114">AccountMgr::GetId</a>(accountName);</div>
<div class="line"><span class="lineno">  278</span>        <span class="keywordflow">if</span> (!accountId)</div>
<div class="line"><span class="lineno">  279</span>        {</div>
<div class="line"><span class="lineno">  280</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaca743710cf32d24958f1af55bf852dcf">LANG_ACCOUNT_NOT_EXIST</a>, accountName);</div>
<div class="line"><span class="lineno">  281</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  282</span>        }</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d2/dfa/a11306.html#ab0a56c9d565ccaf0cdd38beb3a36f4d9">HandleBanInfoHelper</a>(accountId, accountName.c_str(), handler);</div>
<div class="line"><span class="lineno">  285</span>    }</div>
<div class="ttc" id="aa00497_html_a22f78cc9780bf32aff91ae17c3101c8d"><div class="ttname"><a href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a></div><div class="ttdeci">std::uint32_t uint32</div><div class="ttdef"><b>Definition:</b> Define.h:107</div></div>
<div class="ttc" id="aa04717_html_aa215c9a96c37b8a5d76d980ecf8de114"><div class="ttname"><a href="../../d2/ddc/a04717.html#aa215c9a96c37b8a5d76d980ecf8de114">AccountMgr::GetId</a></div><div class="ttdeci">uint32 GetId(std::string const &amp;username)</div><div class="ttdef"><b>Definition:</b> AccountMgr.cpp:229</div></div>
<div class="ttc" id="aa11306_html_ab0a56c9d565ccaf0cdd38beb3a36f4d9"><div class="ttname"><a href="../../d2/dfa/a11306.html#ab0a56c9d565ccaf0cdd38beb3a36f4d9">ban_commandscript::HandleBanInfoHelper</a></div><div class="ttdeci">static bool HandleBanInfoHelper(uint32 accountId, char const *accountName, ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:287</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00229">AccountMgr::GetId()</a>, <a class="el" href="../../#l00287">HandleBanInfoHelper()</a>, <a class="el" href="../../#l00442">LANG_ACCOUNT_NOT_EXIST</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, and <a class="el" href="../../#l00532">Utf8ToUpperOnlyLatin()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00055">GetCommands()</a>.</p>

</div>
</div>
<a id="aea445f0a0a6cdb690fb88a53e2f794fb" name="aea445f0a0a6cdb690fb88a53e2f794fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea445f0a0a6cdb690fb88a53e2f794fb">&#9670;&#160;</a></span>HandleBanInfoCharacterCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleBanInfoCharacterCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  315</span>    {</div>
<div class="line"><span class="lineno">  316</span>        <span class="keywordflow">if</span> (!*args)</div>
<div class="line"><span class="lineno">  317</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>        <a class="code hl_class" href="../../da/da3/a08394.html">Player</a>* target = <a class="code hl_function" href="../../d9/d06/a04735.html#af5cb6806842c9689cf1d5f43ffdc4b0a">ObjectAccessor::FindPlayerByName</a>(args, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  320</span>        <a class="code hl_class" href="../../d9/d08/a08198.html">ObjectGuid</a> targetGuid;</div>
<div class="line"><span class="lineno">  321</span>        std::string name(args);</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>        <span class="keywordflow">if</span> (!target)</div>
<div class="line"><span class="lineno">  324</span>        {</div>
<div class="line"><span class="lineno">  325</span>            targetGuid = <a class="code hl_define" href="../../d4/d7f/a04124.html#a7a32c898b33d6163d83a32f46d58517c">sCharacterCache</a>-&gt;GetCharacterGuidByName(name);</div>
<div class="line"><span class="lineno">  326</span>            <span class="keywordflow">if</span> (!targetGuid)</div>
<div class="line"><span class="lineno">  327</span>            {</div>
<div class="line"><span class="lineno">  328</span>                handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1b1a99a1618a27754117228505c57226">LANG_BANINFO_NOCHARACTER</a>);</div>
<div class="line"><span class="lineno">  329</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  330</span>            }</div>
<div class="line"><span class="lineno">  331</span>        }</div>
<div class="line"><span class="lineno">  332</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  333</span>            targetGuid = target-&gt;<a class="code hl_function" href="../../d6/d80/a08150.html#ad23b997e2442fa6a6228ba73a7ecc138">GetGUID</a>();</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>        <a class="code hl_class" href="../../de/dd0/a05590.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a531b5df7daa738e8fc58da86591ce20b">CHAR_SEL_BANINFO</a>);</div>
<div class="line"><span class="lineno">  336</span>        stmt-&gt;<a class="code hl_function" href="../../d6/dcf/a05722.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, targetGuid.<a class="code hl_function" href="../../d9/d08/a08198.html#a0df27b85c91a2c619e8f1d9c2cb31677">GetCounter</a>());</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>        <a class="code hl_typedef" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(stmt);</div>
<div class="line"><span class="lineno">  339</span>        <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno">  340</span>        {</div>
<div class="line"><span class="lineno">  341</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa8173fa894f3ef919ffd0bd220246711c">LANG_CHAR_NOT_BANNED</a>, name);</div>
<div class="line"><span class="lineno">  342</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  343</span>        }</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>        handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa265953b4f88a11c39ae054c5f4220814">LANG_BANINFO_BANHISTORY</a>, name);</div>
<div class="line"><span class="lineno">  346</span>        <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  347</span>        {</div>
<div class="line"><span class="lineno">  348</span>            <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno">  349</span>            time_t unbanDate = time_t(fields[3].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno">  350</span>            <span class="keywordtype">bool</span> active = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  351</span>            <span class="keywordflow">if</span> (fields[2].Get&lt;uint8&gt;() &amp;&amp; (!fields[1].Get&lt;uint32&gt;() || unbanDate &gt;= <a class="code hl_function" href="../../de/df1/a04758.html#adbe1785d1327dedf2ac403b7cc8e99c2">GameTime::GetGameTime</a>().count()))</div>
<div class="line"><span class="lineno">  352</span>                active = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  353</span>            <span class="keywordtype">bool</span> permanent = (fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;() == <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>(0));</div>
<div class="line"><span class="lineno">  354</span>            std::string banTime = permanent ? handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa091b8f256f01a4a52a926b6c8fefc217">LANG_BANINFO_INFINITE</a>) : <a class="code hl_function" href="../../da/dee/a00383.html#a0b4910c611cea4a1b2812dac5456c5a8">secsToTimeString</a>(fields[1].Get&lt;uint64&gt;(), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  355</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab2638884edf64f500f55031bd0c42127">LANG_BANINFO_HISTORYENTRY</a>,</div>
<div class="line"><span class="lineno">  356</span>                fields[0].Get&lt;std::string&gt;(), banTime, active ? handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa028fb1be7f6c7216cb4d75a46500a479">LANG_YES</a>) : handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa894ce059e50db03335ca3ce3838430eb">LANG_NO</a>), fields[4].Get&lt;std::string&gt;(), fields[5].Get&lt;std::string&gt;());</div>
<div class="line"><span class="lineno">  357</span>        } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  360</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa028fb1be7f6c7216cb4d75a46500a479"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa028fb1be7f6c7216cb4d75a46500a479">LANG_YES</a></div><div class="ttdeci">@ LANG_YES</div><div class="ttdef"><b>Definition:</b> Language.h:451</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa091b8f256f01a4a52a926b6c8fefc217"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa091b8f256f01a4a52a926b6c8fefc217">LANG_BANINFO_INFINITE</a></div><div class="ttdeci">@ LANG_BANINFO_INFINITE</div><div class="ttdef"><b>Definition:</b> Language.h:449</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa1b1a99a1618a27754117228505c57226"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa1b1a99a1618a27754117228505c57226">LANG_BANINFO_NOCHARACTER</a></div><div class="ttdeci">@ LANG_BANINFO_NOCHARACTER</div><div class="ttdef"><b>Definition:</b> Language.h:444</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa265953b4f88a11c39ae054c5f4220814"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa265953b4f88a11c39ae054c5f4220814">LANG_BANINFO_BANHISTORY</a></div><div class="ttdeci">@ LANG_BANINFO_BANHISTORY</div><div class="ttdef"><b>Definition:</b> Language.h:447</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa8173fa894f3ef919ffd0bd220246711c"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa8173fa894f3ef919ffd0bd220246711c">LANG_CHAR_NOT_BANNED</a></div><div class="ttdeci">@ LANG_CHAR_NOT_BANNED</div><div class="ttdef"><b>Definition:</b> Language.h:925</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa894ce059e50db03335ca3ce3838430eb"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa894ce059e50db03335ca3ce3838430eb">LANG_NO</a></div><div class="ttdeci">@ LANG_NO</div><div class="ttdef"><b>Definition:</b> Language.h:452</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aab2638884edf64f500f55031bd0c42127"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab2638884edf64f500f55031bd0c42127">LANG_BANINFO_HISTORYENTRY</a></div><div class="ttdeci">@ LANG_BANINFO_HISTORYENTRY</div><div class="ttdef"><b>Definition:</b> Language.h:448</div></div>
<div class="ttc" id="aa04124_html_a7a32c898b33d6163d83a32f46d58517c"><div class="ttname"><a href="../../d4/d7f/a04124.html#a7a32c898b33d6163d83a32f46d58517c">sCharacterCache</a></div><div class="ttdeci">#define sCharacterCache</div><div class="ttdef"><b>Definition:</b> CharacterCache.h:83</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a531b5df7daa738e8fc58da86591ce20b"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a531b5df7daa738e8fc58da86591ce20b">CHAR_SEL_BANINFO</a></div><div class="ttdeci">@ CHAR_SEL_BANINFO</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:44</div></div>
<div class="ttc" id="aa04589_html_ac6110b8d867b5f84f677555d07037acb"><div class="ttname"><a href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a></div><div class="ttdeci">std::shared_ptr&lt; PreparedResultSet &gt; PreparedQueryResult</div><div class="ttdef"><b>Definition:</b> DatabaseEnvFwd.h:45</div></div>
<div class="ttc" id="aa04601_html_a7e7534bc66d79434bd280b77cb124eec"><div class="ttname"><a href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a></div><div class="ttdeci">DatabaseWorkerPool&lt; CharacterDatabaseConnection &gt; CharacterDatabase</div><div class="ttdoc">Accessor to the character database.</div><div class="ttdef"><b>Definition:</b> DatabaseEnv.cpp:21</div></div>
<div class="ttc" id="aa04735_html_af5cb6806842c9689cf1d5f43ffdc4b0a"><div class="ttname"><a href="../../d9/d06/a04735.html#af5cb6806842c9689cf1d5f43ffdc4b0a">ObjectAccessor::FindPlayerByName</a></div><div class="ttdeci">Player * FindPlayerByName(std::string const &amp;name, bool checkInWorld=true)</div><div class="ttdef"><b>Definition:</b> ObjectAccessor.cpp:271</div></div>
<div class="ttc" id="aa04758_html_adbe1785d1327dedf2ac403b7cc8e99c2"><div class="ttname"><a href="../../de/df1/a04758.html#adbe1785d1327dedf2ac403b7cc8e99c2">GameTime::GetGameTime</a></div><div class="ttdeci">Seconds GetGameTime()</div><div class="ttdef"><b>Definition:</b> GameTime.cpp:38</div></div>
<div class="ttc" id="aa05590_html"><div class="ttname"><a href="../../de/dd0/a05590.html">PreparedStatement</a></div><div class="ttdef"><b>Definition:</b> PreparedStatement.h:157</div></div>
<div class="ttc" id="aa05622_html"><div class="ttname"><a href="../../d4/dc8/a05622.html">Field</a></div><div class="ttdoc">Class used to access individual fields of database query result.</div><div class="ttdef"><b>Definition:</b> Field.h:98</div></div>
<div class="ttc" id="aa05622_html_aae507d21d3570ffdaf1643ba02946f01"><div class="ttname"><a href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Field::Get</a></div><div class="ttdeci">std::enable_if_t&lt; std::is_arithmetic_v&lt; T &gt;, T &gt; Get() const</div><div class="ttdef"><b>Definition:</b> Field.h:112</div></div>
<div class="ttc" id="aa05722_html_a52fc2e65042c1db51f0923725a0f0ed0"><div class="ttname"><a href="../../d6/dcf/a05722.html#a52fc2e65042c1db51f0923725a0f0ed0">PreparedStatementBase::SetData</a></div><div class="ttdeci">Acore::Types::is_default&lt; T &gt; SetData(const uint8 index, T value)</div><div class="ttdef"><b>Definition:</b> PreparedStatement.h:77</div></div>
<div class="ttc" id="aa07294_html_a8ca438da44d3f43db97a03d32a777dad"><div class="ttname"><a href="../../dc/dcd/a07294.html#a8ca438da44d3f43db97a03d32a777dad">ChatHandler::GetAcoreString</a></div><div class="ttdeci">virtual char const * GetAcoreString(uint32 entry) const</div><div class="ttdef"><b>Definition:</b> Chat.cpp:40</div></div>
<div class="ttc" id="aa08150_html_ad23b997e2442fa6a6228ba73a7ecc138"><div class="ttname"><a href="../../d6/d80/a08150.html#ad23b997e2442fa6a6228ba73a7ecc138">Object::GetGUID</a></div><div class="ttdeci">static ObjectGuid GetGUID(Object const *o)</div><div class="ttdef"><b>Definition:</b> Object.h:109</div></div>
<div class="ttc" id="aa08198_html"><div class="ttname"><a href="../../d9/d08/a08198.html">ObjectGuid</a></div><div class="ttdef"><b>Definition:</b> ObjectGuid.h:118</div></div>
<div class="ttc" id="aa08198_html_a0df27b85c91a2c619e8f1d9c2cb31677"><div class="ttname"><a href="../../d9/d08/a08198.html#a0df27b85c91a2c619e8f1d9c2cb31677">ObjectGuid::GetCounter</a></div><div class="ttdeci">LowType GetCounter() const</div><div class="ttdef"><b>Definition:</b> ObjectGuid.h:145</div></div>
<div class="ttc" id="aa08394_html"><div class="ttname"><a href="../../da/da3/a08394.html">Player</a></div><div class="ttdef"><b>Definition:</b> Player.h:1064</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00044">CHAR_SEL_BANINFO</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00271">ObjectAccessor::FindPlayerByName()</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00040">ChatHandler::GetAcoreString()</a>, <a class="el" href="../../#l00145">ObjectGuid::GetCounter()</a>, <a class="el" href="../../#l00038">GameTime::GetGameTime()</a>, <a class="el" href="../../#l00109">Object::GetGUID()</a>, <a class="el" href="../../#l00447">LANG_BANINFO_BANHISTORY</a>, <a class="el" href="../../#l00448">LANG_BANINFO_HISTORYENTRY</a>, <a class="el" href="../../#l00449">LANG_BANINFO_INFINITE</a>, <a class="el" href="../../#l00444">LANG_BANINFO_NOCHARACTER</a>, <a class="el" href="../../#l00925">LANG_CHAR_NOT_BANNED</a>, <a class="el" href="../../#l00452">LANG_NO</a>, <a class="el" href="../../#l00451">LANG_YES</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00083">sCharacterCache</a>, <a class="el" href="../../#l00073">secsToTimeString()</a>, and <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00055">GetCommands()</a>.</p>

</div>
</div>
<a id="ab0a56c9d565ccaf0cdd38beb3a36f4d9" name="ab0a56c9d565ccaf0cdd38beb3a36f4d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0a56c9d565ccaf0cdd38beb3a36f4d9">&#9670;&#160;</a></span>HandleBanInfoHelper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleBanInfoHelper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&#160;</td>
          <td class="paramname"><em>accountId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>accountName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  288</span>    {</div>
<div class="line"><span class="lineno">  289</span>        <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(<span class="stringliteral">&quot;SELECT FROM_UNIXTIME(bandate, &#39;%Y-%m-%d..%H:%i:%s&#39;) as bandate, unbandate-bandate, active, unbandate, banreason, bannedby FROM account_banned WHERE id = &#39;{}&#39; ORDER BY bandate ASC&quot;</span>, accountId);</div>
<div class="line"><span class="lineno">  290</span>        <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno">  291</span>        {</div>
<div class="line"><span class="lineno">  292</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa79968f2f1aef8b8da99affebfcff5a3b">LANG_BANINFO_NOACCOUNTBAN</a>, accountName);</div>
<div class="line"><span class="lineno">  293</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  294</span>        }</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>        handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa265953b4f88a11c39ae054c5f4220814">LANG_BANINFO_BANHISTORY</a>, accountName);</div>
<div class="line"><span class="lineno">  297</span>        <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  298</span>        {</div>
<div class="line"><span class="lineno">  299</span>            <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>            time_t unbanDate = time_t(fields[3].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno">  302</span>            <span class="keywordtype">bool</span> active = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  303</span>            <span class="keywordflow">if</span> (fields[2].Get&lt;bool&gt;() &amp;&amp; (fields[1].Get&lt;uint64&gt;() == <a class="code hl_typedef" href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>(0) || unbanDate &gt;= <a class="code hl_function" href="../../de/df1/a04758.html#adbe1785d1327dedf2ac403b7cc8e99c2">GameTime::GetGameTime</a>().count()))</div>
<div class="line"><span class="lineno">  304</span>                active = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  305</span>            <span class="keywordtype">bool</span> permanent = (fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>&gt;() == <a class="code hl_typedef" href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>(0));</div>
<div class="line"><span class="lineno">  306</span>            std::string banTime = permanent ? handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa091b8f256f01a4a52a926b6c8fefc217">LANG_BANINFO_INFINITE</a>) : <a class="code hl_function" href="../../da/dee/a00383.html#a0b4910c611cea4a1b2812dac5456c5a8">secsToTimeString</a>(fields[1].Get&lt;uint64&gt;(), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  307</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aab2638884edf64f500f55031bd0c42127">LANG_BANINFO_HISTORYENTRY</a>,</div>
<div class="line"><span class="lineno">  308</span>                fields[0].Get&lt;std::string&gt;(), banTime, active ? handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa028fb1be7f6c7216cb4d75a46500a479">LANG_YES</a>) : handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa894ce059e50db03335ca3ce3838430eb">LANG_NO</a>), fields[4].Get&lt;std::string&gt;(), fields[5].Get&lt;std::string&gt;());</div>
<div class="line"><span class="lineno">  309</span>        } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  312</span>    }</div>
<div class="ttc" id="aa00497_html_ac4dd6ce78ce3b840c53bd4b3c63ed09b"><div class="ttname"><a href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a></div><div class="ttdeci">std::uint64_t uint64</div><div class="ttdef"><b>Definition:</b> Define.h:106</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa79968f2f1aef8b8da99affebfcff5a3b"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa79968f2f1aef8b8da99affebfcff5a3b">LANG_BANINFO_NOACCOUNTBAN</a></div><div class="ttdeci">@ LANG_BANINFO_NOACCOUNTBAN</div><div class="ttdef"><b>Definition:</b> Language.h:446</div></div>
<div class="ttc" id="aa04589_html_ab0c9feeec448a181290fcb39565b8253"><div class="ttname"><a href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a></div><div class="ttdeci">std::shared_ptr&lt; ResultSet &gt; QueryResult</div><div class="ttdef"><b>Definition:</b> DatabaseEnvFwd.h:27</div></div>
<div class="ttc" id="aa04601_html_a2cf25eafe7f2f73b61ccde11d55daf0c"><div class="ttname"><a href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a></div><div class="ttdeci">DatabaseWorkerPool&lt; LoginDatabaseConnection &gt; LoginDatabase</div><div class="ttdoc">Accessor to the realm/login database.</div><div class="ttdef"><b>Definition:</b> DatabaseEnv.cpp:22</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00040">ChatHandler::GetAcoreString()</a>, <a class="el" href="../../#l00038">GameTime::GetGameTime()</a>, <a class="el" href="../../#l00447">LANG_BANINFO_BANHISTORY</a>, <a class="el" href="../../#l00448">LANG_BANINFO_HISTORYENTRY</a>, <a class="el" href="../../#l00449">LANG_BANINFO_INFINITE</a>, <a class="el" href="../../#l00446">LANG_BANINFO_NOACCOUNTBAN</a>, <a class="el" href="../../#l00452">LANG_NO</a>, <a class="el" href="../../#l00451">LANG_YES</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, and <a class="el" href="../../#l00073">secsToTimeString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00261">HandleBanInfoAccountCommand()</a>.</p>

</div>
</div>
<a id="ac32e4d00bb6e94a65eb63e0f0a9cc963" name="ac32e4d00bb6e94a65eb63e0f0a9cc963"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac32e4d00bb6e94a65eb63e0f0a9cc963">&#9670;&#160;</a></span>HandleBanInfoIPCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleBanInfoIPCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  363</span>    {</div>
<div class="line"><span class="lineno">  364</span>        <span class="keywordflow">if</span> (!*args)</div>
<div class="line"><span class="lineno">  365</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>        <span class="keywordtype">char</span>* ipStr = strtok((<span class="keywordtype">char</span>*)args, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  368</span>        <span class="keywordflow">if</span> (!ipStr)</div>
<div class="line"><span class="lineno">  369</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../da/dee/a00383.html#a673f2e86a3a241f52994e86224f77afc">IsIPAddress</a>(ipStr))</div>
<div class="line"><span class="lineno">  372</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>        std::string IP = ipStr;</div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span>        <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.EscapeString(IP);</div>
<div class="line"><span class="lineno">  377</span>        <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(<span class="stringliteral">&quot;\</span></div>
<div class="line"><span class="lineno">  378</span><span class="stringliteral">            SELECT \</span></div>
<div class="line"><span class="lineno">  379</span><span class="stringliteral">                ip, FROM_UNIXTIME(bandate, &#39;%Y-%m-%d %H:%i:%s&#39;), FROM_UNIXTIME(unbandate, &#39;%Y-%m-%d %H:%i:%s&#39;), \</span></div>
<div class="line"><span class="lineno">  380</span><span class="stringliteral">                IF (unbandate &gt; UNIX_TIMESTAMP(), unbandate - UNIX_TIMESTAMP(), 0) AS timeRemaining, \</span></div>
<div class="line"><span class="lineno">  381</span><span class="stringliteral">                banreason, bannedby, unbandate - bandate = 0 AS permanent \</span></div>
<div class="line"><span class="lineno">  382</span><span class="stringliteral">            FROM ip_banned \</span></div>
<div class="line"><span class="lineno">  383</span><span class="stringliteral">            WHERE ip = &#39;{}&#39; \</span></div>
<div class="line"><span class="lineno">  384</span><span class="stringliteral">        &quot;</span>, IP);</div>
<div class="line"><span class="lineno">  385</span>        <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno">  386</span>        {</div>
<div class="line"><span class="lineno">  387</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa71233f468713e1033d54d6feb38e5b69">LANG_BANINFO_NOIP</a>);</div>
<div class="line"><span class="lineno">  388</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  389</span>        }</div>
<div class="line"><span class="lineno">  390</span> </div>
<div class="line"><span class="lineno">  391</span>        <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno">  392</span>        <span class="keywordtype">bool</span> permanent = fields[6].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#ac4dd6ce78ce3b840c53bd4b3c63ed09b">uint64</a>&gt;() == 1;</div>
<div class="line"><span class="lineno">  393</span>        handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa01f4c97796480184bed4a1ef9f9339e6">LANG_BANINFO_IPENTRY</a>,</div>
<div class="line"><span class="lineno">  394</span>            fields[0].Get&lt;std::string&gt;(), fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;(), permanent ? handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa0cedbde8eda2fc0b92df7542e41b91ce">LANG_BANINFO_NEVER</a>) : fields[2].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;(),</div>
<div class="line"><span class="lineno">  395</span>            permanent ? handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a8ca438da44d3f43db97a03d32a777dad">GetAcoreString</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa091b8f256f01a4a52a926b6c8fefc217">LANG_BANINFO_INFINITE</a>) : <a class="code hl_function" href="../../da/dee/a00383.html#a0b4910c611cea4a1b2812dac5456c5a8">secsToTimeString</a>(fields[3].Get&lt;uint64&gt;(), <span class="keyword">true</span>), fields[4].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;(), fields[5].Get&lt;std::string&gt;());</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  398</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa01f4c97796480184bed4a1ef9f9339e6"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa01f4c97796480184bed4a1ef9f9339e6">LANG_BANINFO_IPENTRY</a></div><div class="ttdeci">@ LANG_BANINFO_IPENTRY</div><div class="ttdef"><b>Definition:</b> Language.h:453</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa0cedbde8eda2fc0b92df7542e41b91ce"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa0cedbde8eda2fc0b92df7542e41b91ce">LANG_BANINFO_NEVER</a></div><div class="ttdeci">@ LANG_BANINFO_NEVER</div><div class="ttdef"><b>Definition:</b> Language.h:450</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa71233f468713e1033d54d6feb38e5b69"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa71233f468713e1033d54d6feb38e5b69">LANG_BANINFO_NOIP</a></div><div class="ttdeci">@ LANG_BANINFO_NOIP</div><div class="ttdef"><b>Definition:</b> Language.h:445</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00040">ChatHandler::GetAcoreString()</a>, <a class="el" href="../../#l00205">IsIPAddress()</a>, <a class="el" href="../../#l00449">LANG_BANINFO_INFINITE</a>, <a class="el" href="../../#l00453">LANG_BANINFO_IPENTRY</a>, <a class="el" href="../../#l00450">LANG_BANINFO_NEVER</a>, <a class="el" href="../../#l00445">LANG_BANINFO_NOIP</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, and <a class="el" href="../../#l00073">secsToTimeString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00055">GetCommands()</a>.</p>

</div>
</div>
<a id="a82cbdac404e6bc594d823fb4081e6df8" name="a82cbdac404e6bc594d823fb4081e6df8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82cbdac404e6bc594d823fb4081e6df8">&#9670;&#160;</a></span>HandleBanIPCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleBanIPCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  160</span>    {</div>
<div class="line"><span class="lineno">  161</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d2/dfa/a11306.html#a2685e26ced4dda5bfbbefaec02d59a5e">HandleBanHelper</a>(<a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264ab68a6a6d80749ee19c73fc9dd4f4d74b">BAN_IP</a>, args, handler);</div>
<div class="line"><span class="lineno">  162</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00041">BAN_IP</a>, and <a class="el" href="../../#l00164">HandleBanHelper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00055">GetCommands()</a>.</p>

</div>
</div>
<a id="adafc851259dfa7d8fb717f2e77e66a38" name="adafc851259dfa7d8fb717f2e77e66a38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adafc851259dfa7d8fb717f2e77e66a38">&#9670;&#160;</a></span>HandleBanListAccountCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleBanListAccountCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  401</span>    {</div>
<div class="line"><span class="lineno">  402</span>        <a class="code hl_class" href="../../de/dd0/a05590.html">LoginDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fba391d5d5679155b59c7c5e62479acb721">LOGIN_DEL_EXPIRED_IP_BANS</a>);</div>
<div class="line"><span class="lineno">  403</span>        <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno">  404</span> </div>
<div class="line"><span class="lineno">  405</span>        <span class="keywordtype">char</span>* filterStr = strtok((<span class="keywordtype">char</span>*)args, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  406</span>        std::string filter = filterStr ? filterStr : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>        <a class="code hl_typedef" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> result;</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>        <span class="keywordflow">if</span> (filter.empty())</div>
<div class="line"><span class="lineno">  411</span>        {</div>
<div class="line"><span class="lineno">  412</span>            <a class="code hl_class" href="../../de/dd0/a05590.html">LoginDatabasePreparedStatement</a>* stmt2 = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fbae1c4ec37875eb4a3e54776348356e199">LOGIN_SEL_ACCOUNT_BANNED_ALL</a>);</div>
<div class="line"><span class="lineno">  413</span>            result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(stmt2);</div>
<div class="line"><span class="lineno">  414</span>        }</div>
<div class="line"><span class="lineno">  415</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  416</span>        {</div>
<div class="line"><span class="lineno">  417</span>            <a class="code hl_class" href="../../de/dd0/a05590.html">LoginDatabasePreparedStatement</a>* stmt2 = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fbaaab4dcd1818ab2d1bbe4f8ce0a9b2d76">LOGIN_SEL_ACCOUNT_BANNED_BY_USERNAME</a>);</div>
<div class="line"><span class="lineno">  418</span>            stmt2-&gt;<a class="code hl_function" href="../../d6/dcf/a05722.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, filter);</div>
<div class="line"><span class="lineno">  419</span>            result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(stmt2);</div>
<div class="line"><span class="lineno">  420</span>        }</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span>        <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno">  423</span>        {</div>
<div class="line"><span class="lineno">  424</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa522fd15b90b00f1cb0e6897e0fcd297e">LANG_BANLIST_NOACCOUNT</a>);</div>
<div class="line"><span class="lineno">  425</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  426</span>        }</div>
<div class="line"><span class="lineno">  427</span> </div>
<div class="line"><span class="lineno">  428</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d2/dfa/a11306.html#aec570c5ca3eeefc1be807ea1aa9577ab">HandleBanListHelper</a>(result, handler);</div>
<div class="line"><span class="lineno">  429</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa522fd15b90b00f1cb0e6897e0fcd297e"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa522fd15b90b00f1cb0e6897e0fcd297e">LANG_BANLIST_NOACCOUNT</a></div><div class="ttdeci">@ LANG_BANLIST_NOACCOUNT</div><div class="ttdef"><b>Definition:</b> Language.h:456</div></div>
<div class="ttc" id="aa04550_html_a2bc6eef17d8ecd1b7027058f5fecc9fba391d5d5679155b59c7c5e62479acb721"><div class="ttname"><a href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fba391d5d5679155b59c7c5e62479acb721">LOGIN_DEL_EXPIRED_IP_BANS</a></div><div class="ttdeci">@ LOGIN_DEL_EXPIRED_IP_BANS</div><div class="ttdef"><b>Definition:</b> LoginDatabase.h:32</div></div>
<div class="ttc" id="aa04550_html_a2bc6eef17d8ecd1b7027058f5fecc9fbaaab4dcd1818ab2d1bbe4f8ce0a9b2d76"><div class="ttname"><a href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fbaaab4dcd1818ab2d1bbe4f8ce0a9b2d76">LOGIN_SEL_ACCOUNT_BANNED_BY_USERNAME</a></div><div class="ttdeci">@ LOGIN_SEL_ACCOUNT_BANNED_BY_USERNAME</div><div class="ttdef"><b>Definition:</b> LoginDatabase.h:39</div></div>
<div class="ttc" id="aa04550_html_a2bc6eef17d8ecd1b7027058f5fecc9fbae1c4ec37875eb4a3e54776348356e199"><div class="ttname"><a href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fbae1c4ec37875eb4a3e54776348356e199">LOGIN_SEL_ACCOUNT_BANNED_ALL</a></div><div class="ttdeci">@ LOGIN_SEL_ACCOUNT_BANNED_ALL</div><div class="ttdef"><b>Definition:</b> LoginDatabase.h:38</div></div>
<div class="ttc" id="aa11306_html_aec570c5ca3eeefc1be807ea1aa9577ab"><div class="ttname"><a href="../../d2/dfa/a11306.html#aec570c5ca3eeefc1be807ea1aa9577ab">ban_commandscript::HandleBanListHelper</a></div><div class="ttdeci">static bool HandleBanListHelper(PreparedQueryResult result, ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:431</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00431">HandleBanListHelper()</a>, <a class="el" href="../../#l00456">LANG_BANLIST_NOACCOUNT</a>, <a class="el" href="../../#l00032">LOGIN_DEL_EXPIRED_IP_BANS</a>, <a class="el" href="../../#l00038">LOGIN_SEL_ACCOUNT_BANNED_ALL</a>, <a class="el" href="../../#l00039">LOGIN_SEL_ACCOUNT_BANNED_BY_USERNAME</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, and <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00055">GetCommands()</a>.</p>

</div>
</div>
<a id="abf9fa4690f97f6f98511a20d9d4ea521" name="abf9fa4690f97f6f98511a20d9d4ea521"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf9fa4690f97f6f98511a20d9d4ea521">&#9670;&#160;</a></span>HandleBanListCharacterCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleBanListCharacterCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  506</span>    {</div>
<div class="line"><span class="lineno">  507</span>        <span class="keywordflow">if</span> (!*args)</div>
<div class="line"><span class="lineno">  508</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>        <span class="keywordtype">char</span>* filterStr = strtok((<span class="keywordtype">char</span>*)args, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  511</span>        <span class="keywordflow">if</span> (!filterStr)</div>
<div class="line"><span class="lineno">  512</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>        std::string filter(filterStr);</div>
<div class="line"><span class="lineno">  515</span>        <a class="code hl_class" href="../../de/dd0/a05590.html">CharacterDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7ab8770a1809075621da633cac80bb2988">CHAR_SEL_GUID_BY_NAME_FILTER</a>);</div>
<div class="line"><span class="lineno">  516</span>        stmt-&gt;<a class="code hl_function" href="../../d6/dcf/a05722.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, filter);</div>
<div class="line"><span class="lineno">  517</span>        <a class="code hl_typedef" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(stmt);</div>
<div class="line"><span class="lineno">  518</span>        <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno">  519</span>        {</div>
<div class="line"><span class="lineno">  520</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa9bcdeae253834a11d16ff817c873847">LANG_BANLIST_NOCHARACTER</a>);</div>
<div class="line"><span class="lineno">  521</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  522</span>        }</div>
<div class="line"><span class="lineno">  523</span> </div>
<div class="line"><span class="lineno">  524</span>        handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa97832972c4029eb7cc70d835da3bef7b">LANG_BANLIST_MATCHINGCHARACTER</a>);</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>        <span class="comment">// Chat short output</span></div>
<div class="line"><span class="lineno">  527</span>        <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>())</div>
<div class="line"><span class="lineno">  528</span>        {</div>
<div class="line"><span class="lineno">  529</span>            <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  530</span>            {</div>
<div class="line"><span class="lineno">  531</span>                <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno">  532</span>                <a class="code hl_class" href="../../de/dd0/a05590.html">CharacterDatabasePreparedStatement</a>* stmt2 = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a4742e06c654503a37ece991d6b04f759">CHAR_SEL_BANNED_NAME</a>);</div>
<div class="line"><span class="lineno">  533</span>                stmt2-&gt;<a class="code hl_function" href="../../d6/dcf/a05722.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, fields[0].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>                <a class="code hl_typedef" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> banResult = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(stmt2);</div>
<div class="line"><span class="lineno">  536</span>                <span class="keywordflow">if</span> (banResult)</div>
<div class="line"><span class="lineno">  537</span>                    handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;%s&quot;</span>, (*banResult)[0].Get&lt;std::string&gt;());</div>
<div class="line"><span class="lineno">  538</span>            } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno">  539</span>        }</div>
<div class="line"><span class="lineno">  540</span>        <span class="comment">// Console wide output</span></div>
<div class="line"><span class="lineno">  541</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  542</span>        {</div>
<div class="line"><span class="lineno">  543</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aabe6768419143cf94035bf7ea56f9a8a5">LANG_BANLIST_CHARACTERS</a>);</div>
<div class="line"><span class="lineno">  544</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<span class="stringliteral">&quot; =============================================================================== &quot;</span>);</div>
<div class="line"><span class="lineno">  545</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa14aeb9f5ddc5d1e1546e05266fe4064d">LANG_BANLIST_CHARACTERS_HEADER</a>);</div>
<div class="line"><span class="lineno">  546</span>            <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  547</span>            {</div>
<div class="line"><span class="lineno">  548</span>                handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<span class="stringliteral">&quot;-------------------------------------------------------------------------------&quot;</span>);</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>                <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span>                std::string char_name = fields[1].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;std::string&gt;();</div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>                <a class="code hl_class" href="../../de/dd0/a05590.html">CharacterDatabasePreparedStatement</a>* stmt2 = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a615f4d829a65d41c480985a9b70bb979">CHAR_SEL_BANINFO_LIST</a>);</div>
<div class="line"><span class="lineno">  555</span>                stmt2-&gt;SetData(0, fields[0].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span>                <a class="code hl_typedef" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> banInfo = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a7e7534bc66d79434bd280b77cb124eec">CharacterDatabase</a>.Query(stmt2);</div>
<div class="line"><span class="lineno">  558</span>                <span class="keywordflow">if</span> (banInfo)</div>
<div class="line"><span class="lineno">  559</span>                {</div>
<div class="line"><span class="lineno">  560</span>                    <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* banFields = banInfo-&gt;Fetch();</div>
<div class="line"><span class="lineno">  561</span>                    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  562</span>                    {</div>
<div class="line"><span class="lineno">  563</span>                        tm tmBan = <a class="code hl_function" href="../../d0/d51/a04710.html#ab6a946894ec0cb9fa9bf76afa8e7fec8">Acore::Time::TimeBreakdown</a>(banFields[0].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno">  564</span> </div>
<div class="line"><span class="lineno">  565</span>                        <span class="keywordflow">if</span> (banFields[0].Get&lt;uint32&gt;() == banFields[1].Get&lt;uint32&gt;())</div>
<div class="line"><span class="lineno">  566</span>                        {</div>
<div class="line"><span class="lineno">  567</span>                            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;|%-15.15s|%02d-%02d-%02d %02d:%02d|   permanent  |%-15.15s|%-15.15s|&quot;</span>,</div>
<div class="line"><span class="lineno">  568</span>                                                     char_name, tmBan.tm_year % 100, tmBan.tm_mon + 1, tmBan.tm_mday, tmBan.tm_hour, tmBan.tm_min,</div>
<div class="line"><span class="lineno">  569</span>                                                     banFields[2].Get&lt;std::string&gt;(), banFields[3].Get&lt;std::string&gt;());</div>
<div class="line"><span class="lineno">  570</span>                        }</div>
<div class="line"><span class="lineno">  571</span>                        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  572</span>                        {</div>
<div class="line"><span class="lineno">  573</span>                            tm tmUnban = <a class="code hl_function" href="../../d0/d51/a04710.html#ab6a946894ec0cb9fa9bf76afa8e7fec8">Acore::Time::TimeBreakdown</a>(banFields[1].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno">  574</span>                            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;|%-15.15s|%02d-%02d-%02d %02d:%02d|%02d-%02d-%02d %02d:%02d|%-15.15s|%-15.15s|&quot;</span>,</div>
<div class="line"><span class="lineno">  575</span>                                                     char_name, tmBan.tm_year % 100, tmBan.tm_mon + 1, tmBan.tm_mday, tmBan.tm_hour, tmBan.tm_min,</div>
<div class="line"><span class="lineno">  576</span>                                                     tmUnban.tm_year % 100, tmUnban.tm_mon + 1, tmUnban.tm_mday, tmUnban.tm_hour, tmUnban.tm_min,</div>
<div class="line"><span class="lineno">  577</span>                                                     banFields[2].Get&lt;std::string&gt;(), banFields[3].Get&lt;std::string&gt;());</div>
<div class="line"><span class="lineno">  578</span>                        }</div>
<div class="line"><span class="lineno">  579</span>                    } <span class="keywordflow">while</span> (banInfo-&gt;NextRow());</div>
<div class="line"><span class="lineno">  580</span>                }</div>
<div class="line"><span class="lineno">  581</span>            } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno">  582</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<span class="stringliteral">&quot; =============================================================================== &quot;</span>);</div>
<div class="line"><span class="lineno">  583</span>        }</div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  586</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa14aeb9f5ddc5d1e1546e05266fe4064d"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa14aeb9f5ddc5d1e1546e05266fe4064d">LANG_BANLIST_CHARACTERS_HEADER</a></div><div class="ttdeci">@ LANG_BANLIST_CHARACTERS_HEADER</div><div class="ttdef"><b>Definition:</b> Language.h:922</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa97832972c4029eb7cc70d835da3bef7b"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa97832972c4029eb7cc70d835da3bef7b">LANG_BANLIST_MATCHINGCHARACTER</a></div><div class="ttdeci">@ LANG_BANLIST_MATCHINGCHARACTER</div><div class="ttdef"><b>Definition:</b> Language.h:920</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaa9bcdeae253834a11d16ff817c873847"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa9bcdeae253834a11d16ff817c873847">LANG_BANLIST_NOCHARACTER</a></div><div class="ttdeci">@ LANG_BANLIST_NOCHARACTER</div><div class="ttdef"><b>Definition:</b> Language.h:457</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aabe6768419143cf94035bf7ea56f9a8a5"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aabe6768419143cf94035bf7ea56f9a8a5">LANG_BANLIST_CHARACTERS</a></div><div class="ttdeci">@ LANG_BANLIST_CHARACTERS</div><div class="ttdef"><b>Definition:</b> Language.h:921</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a4742e06c654503a37ece991d6b04f759"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a4742e06c654503a37ece991d6b04f759">CHAR_SEL_BANNED_NAME</a></div><div class="ttdeci">@ CHAR_SEL_BANNED_NAME</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:47</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7a615f4d829a65d41c480985a9b70bb979"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7a615f4d829a65d41c480985a9b70bb979">CHAR_SEL_BANINFO_LIST</a></div><div class="ttdeci">@ CHAR_SEL_BANINFO_LIST</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:46</div></div>
<div class="ttc" id="aa04547_html_a76116b4fa282d8e35bf8f8e940b5cba7ab8770a1809075621da633cac80bb2988"><div class="ttname"><a href="../../d0/da8/a04547.html#a76116b4fa282d8e35bf8f8e940b5cba7ab8770a1809075621da633cac80bb2988">CHAR_SEL_GUID_BY_NAME_FILTER</a></div><div class="ttdeci">@ CHAR_SEL_GUID_BY_NAME_FILTER</div><div class="ttdef"><b>Definition:</b> CharacterDatabase.h:45</div></div>
<div class="ttc" id="aa04710_html_ab6a946894ec0cb9fa9bf76afa8e7fec8"><div class="ttname"><a href="../../d0/d51/a04710.html#ab6a946894ec0cb9fa9bf76afa8e7fec8">Acore::Time::TimeBreakdown</a></div><div class="ttdeci">AC_COMMON_API std::tm TimeBreakdown(time_t t=0)</div><div class="ttdef"><b>Definition:</b> Timer.cpp:233</div></div>
<div class="ttc" id="aa07294_html_ac1ed346507097817b3f8e00f0ae657a0"><div class="ttname"><a href="../../dc/dcd/a07294.html#ac1ed346507097817b3f8e00f0ae657a0">ChatHandler::SendSysMessage</a></div><div class="ttdeci">virtual void SendSysMessage(std::string_view str, bool escapeCharacters=false)</div><div class="ttdef"><b>Definition:</b> Chat.cpp:159</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00046">CHAR_SEL_BANINFO_LIST</a>, <a class="el" href="../../#l00047">CHAR_SEL_BANNED_NAME</a>, <a class="el" href="../../#l00045">CHAR_SEL_GUID_BY_NAME_FILTER</a>, <a class="el" href="../../#l00021">CharacterDatabase</a>, <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00921">LANG_BANLIST_CHARACTERS</a>, <a class="el" href="../../#l00922">LANG_BANLIST_CHARACTERS_HEADER</a>, <a class="el" href="../../#l00920">LANG_BANLIST_MATCHINGCHARACTER</a>, <a class="el" href="../../#l00457">LANG_BANLIST_NOCHARACTER</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00159">ChatHandler::SendSysMessage()</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, and <a class="el" href="../../#l00233">Acore::Time::TimeBreakdown()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00055">GetCommands()</a>.</p>

</div>
</div>
<a id="aec570c5ca3eeefc1be807ea1aa9577ab" name="aec570c5ca3eeefc1be807ea1aa9577ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec570c5ca3eeefc1be807ea1aa9577ab">&#9670;&#160;</a></span>HandleBanListHelper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleBanListHelper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a>&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  432</span>    {</div>
<div class="line"><span class="lineno">  433</span>        handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa77e46e5141bb4ebb9e61cd2bf99d552">LANG_BANLIST_MATCHINGACCOUNT</a>);</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>        <span class="comment">// Chat short output</span></div>
<div class="line"><span class="lineno">  436</span>        <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>())</div>
<div class="line"><span class="lineno">  437</span>        {</div>
<div class="line"><span class="lineno">  438</span>            <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  439</span>            {</div>
<div class="line"><span class="lineno">  440</span>                <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno">  441</span>                <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountid = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno">  442</span> </div>
<div class="line"><span class="lineno">  443</span>                <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> banResult = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(<span class="stringliteral">&quot;SELECT account.username FROM account, account_banned WHERE account_banned.id=&#39;{}&#39; AND account_banned.id=account.id&quot;</span>, accountid);</div>
<div class="line"><span class="lineno">  444</span>                <span class="keywordflow">if</span> (banResult)</div>
<div class="line"><span class="lineno">  445</span>                {</div>
<div class="line"><span class="lineno">  446</span>                    <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields2 = banResult-&gt;Fetch();</div>
<div class="line"><span class="lineno">  447</span>                    handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;%s&quot;</span>, fields2[0].Get&lt;std::string&gt;());</div>
<div class="line"><span class="lineno">  448</span>                }</div>
<div class="line"><span class="lineno">  449</span>            } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno">  450</span>        }</div>
<div class="line"><span class="lineno">  451</span>        <span class="comment">// Console wide output</span></div>
<div class="line"><span class="lineno">  452</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  453</span>        {</div>
<div class="line"><span class="lineno">  454</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aae4cf4b26e93ed15a8e9042c3f8aba87d">LANG_BANLIST_ACCOUNTS</a>);</div>
<div class="line"><span class="lineno">  455</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<span class="stringliteral">&quot; ===============================================================================&quot;</span>);</div>
<div class="line"><span class="lineno">  456</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aad0d22921fe9e23444ca805aef8ed558b">LANG_BANLIST_ACCOUNTS_HEADER</a>);</div>
<div class="line"><span class="lineno">  457</span>            <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  458</span>            {</div>
<div class="line"><span class="lineno">  459</span>                handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<span class="stringliteral">&quot;-------------------------------------------------------------------------------&quot;</span>);</div>
<div class="line"><span class="lineno">  460</span>                <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno">  461</span>                <a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a> accountId = fields[0].<a class="code hl_function" href="../../d4/dc8/a05622.html#aae507d21d3570ffdaf1643ba02946f01">Get</a>&lt;<a class="code hl_typedef" href="../../d4/d1e/a00497.html#a22f78cc9780bf32aff91ae17c3101c8d">uint32</a>&gt;();</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>                std::string accountName;</div>
<div class="line"><span class="lineno">  464</span> </div>
<div class="line"><span class="lineno">  465</span>                <span class="comment">// &quot;account&quot; case, name can be get in same query</span></div>
<div class="line"><span class="lineno">  466</span>                <span class="keywordflow">if</span> (result-&gt;GetFieldCount() &gt; 1)</div>
<div class="line"><span class="lineno">  467</span>                    accountName = fields[1].Get&lt;std::string&gt;();</div>
<div class="line"><span class="lineno">  468</span>                <span class="comment">// &quot;character&quot; case, name need extract from another DB</span></div>
<div class="line"><span class="lineno">  469</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  470</span>                    <a class="code hl_function" href="../../d2/ddc/a04717.html#af911e3860ec519c541d6df35468ee41b">AccountMgr::GetName</a>(accountId, accountName);</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>                <span class="comment">// No SQL injection. id is uint32.</span></div>
<div class="line"><span class="lineno">  473</span>                <a class="code hl_typedef" href="../../d3/d24/a04589.html#ab0c9feeec448a181290fcb39565b8253">QueryResult</a> banInfo = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(<span class="stringliteral">&quot;SELECT bandate, unbandate, bannedby, banreason FROM account_banned WHERE id = {} ORDER BY unbandate&quot;</span>, accountId);</div>
<div class="line"><span class="lineno">  474</span>                <span class="keywordflow">if</span> (banInfo)</div>
<div class="line"><span class="lineno">  475</span>                {</div>
<div class="line"><span class="lineno">  476</span>                    <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields2 = banInfo-&gt;Fetch();</div>
<div class="line"><span class="lineno">  477</span>                    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  478</span>                    {</div>
<div class="line"><span class="lineno">  479</span>                        tm tmBan = <a class="code hl_function" href="../../d0/d51/a04710.html#ab6a946894ec0cb9fa9bf76afa8e7fec8">Acore::Time::TimeBreakdown</a>(fields2[0].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>                        <span class="keywordflow">if</span> (fields2[0].Get&lt;uint32&gt;() == fields2[1].Get&lt;uint32&gt;())</div>
<div class="line"><span class="lineno">  482</span>                        {</div>
<div class="line"><span class="lineno">  483</span>                            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;|%-15.15s|%02d-%02d-%02d %02d:%02d|   permanent  |%-15.15s|%-15.15s|&quot;</span>,</div>
<div class="line"><span class="lineno">  484</span>                                                     accountName, tmBan.tm_year % 100, tmBan.tm_mon + 1, tmBan.tm_mday, tmBan.tm_hour, tmBan.tm_min,</div>
<div class="line"><span class="lineno">  485</span>                                                     fields2[2].Get&lt;std::string&gt;(), fields2[3].Get&lt;std::string&gt;());</div>
<div class="line"><span class="lineno">  486</span>                        }</div>
<div class="line"><span class="lineno">  487</span>                        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  488</span>                        {</div>
<div class="line"><span class="lineno">  489</span>                            tm tmUnban = <a class="code hl_function" href="../../d0/d51/a04710.html#ab6a946894ec0cb9fa9bf76afa8e7fec8">Acore::Time::TimeBreakdown</a>(fields2[1].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno">  490</span>                            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;|%-15.15s|%02d-%02d-%02d %02d:%02d|%02d-%02d-%02d %02d:%02d|%-15.15s|%-15.15s|&quot;</span>,</div>
<div class="line"><span class="lineno">  491</span>                                                     accountName, tmBan.tm_year % 100, tmBan.tm_mon + 1, tmBan.tm_mday, tmBan.tm_hour, tmBan.tm_min,</div>
<div class="line"><span class="lineno">  492</span>                                                     tmUnban.tm_year % 100, tmUnban.tm_mon + 1, tmUnban.tm_mday, tmUnban.tm_hour, tmUnban.tm_min,</div>
<div class="line"><span class="lineno">  493</span>                                                     fields2[2].Get&lt;std::string&gt;(), fields2[3].Get&lt;std::string&gt;());</div>
<div class="line"><span class="lineno">  494</span>                        }</div>
<div class="line"><span class="lineno">  495</span>                    } <span class="keywordflow">while</span> (banInfo-&gt;NextRow());</div>
<div class="line"><span class="lineno">  496</span>                }</div>
<div class="line"><span class="lineno">  497</span>            } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<span class="stringliteral">&quot; ===============================================================================&quot;</span>);</div>
<div class="line"><span class="lineno">  500</span>        }</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  503</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aaa77e46e5141bb4ebb9e61cd2bf99d552"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaa77e46e5141bb4ebb9e61cd2bf99d552">LANG_BANLIST_MATCHINGACCOUNT</a></div><div class="ttdeci">@ LANG_BANLIST_MATCHINGACCOUNT</div><div class="ttdef"><b>Definition:</b> Language.h:459</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aad0d22921fe9e23444ca805aef8ed558b"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aad0d22921fe9e23444ca805aef8ed558b">LANG_BANLIST_ACCOUNTS_HEADER</a></div><div class="ttdeci">@ LANG_BANLIST_ACCOUNTS_HEADER</div><div class="ttdef"><b>Definition:</b> Language.h:656</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aae4cf4b26e93ed15a8e9042c3f8aba87d"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aae4cf4b26e93ed15a8e9042c3f8aba87d">LANG_BANLIST_ACCOUNTS</a></div><div class="ttdeci">@ LANG_BANLIST_ACCOUNTS</div><div class="ttdef"><b>Definition:</b> Language.h:655</div></div>
<div class="ttc" id="aa04717_html_af911e3860ec519c541d6df35468ee41b"><div class="ttname"><a href="../../d2/ddc/a04717.html#af911e3860ec519c541d6df35468ee41b">AccountMgr::GetName</a></div><div class="ttdeci">bool GetName(uint32 accountId, std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> AccountMgr.cpp:257</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00257">AccountMgr::GetName()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00655">LANG_BANLIST_ACCOUNTS</a>, <a class="el" href="../../#l00656">LANG_BANLIST_ACCOUNTS_HEADER</a>, <a class="el" href="../../#l00459">LANG_BANLIST_MATCHINGACCOUNT</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00159">ChatHandler::SendSysMessage()</a>, and <a class="el" href="../../#l00233">Acore::Time::TimeBreakdown()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00400">HandleBanListAccountCommand()</a>.</p>

</div>
</div>
<a id="a5c1ae1798c1ad498fa2993d098b5131c" name="a5c1ae1798c1ad498fa2993d098b5131c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c1ae1798c1ad498fa2993d098b5131c">&#9670;&#160;</a></span>HandleBanListIPCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleBanListIPCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  589</span>    {</div>
<div class="line"><span class="lineno">  590</span>        <a class="code hl_class" href="../../de/dd0/a05590.html">LoginDatabasePreparedStatement</a>* stmt = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fba391d5d5679155b59c7c5e62479acb721">LOGIN_DEL_EXPIRED_IP_BANS</a>);</div>
<div class="line"><span class="lineno">  591</span>        <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Execute(stmt);</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>        <span class="keywordtype">char</span>* filterStr = strtok((<span class="keywordtype">char</span>*)args, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  594</span>        std::string filter = filterStr ? filterStr : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  595</span>        <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.EscapeString(filter);</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>        <a class="code hl_typedef" href="../../d3/d24/a04589.html#ac6110b8d867b5f84f677555d07037acb">PreparedQueryResult</a> result;</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>        <span class="keywordflow">if</span> (filter.empty())</div>
<div class="line"><span class="lineno">  600</span>        {</div>
<div class="line"><span class="lineno">  601</span>            <a class="code hl_class" href="../../de/dd0/a05590.html">LoginDatabasePreparedStatement</a>* stmt2 = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fbacb4432e22802aa644a7974884f8d8671">LOGIN_SEL_IP_BANNED_ALL</a>);</div>
<div class="line"><span class="lineno">  602</span>            result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(stmt2);</div>
<div class="line"><span class="lineno">  603</span>        }</div>
<div class="line"><span class="lineno">  604</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  605</span>        {</div>
<div class="line"><span class="lineno">  606</span>            <a class="code hl_class" href="../../de/dd0/a05590.html">LoginDatabasePreparedStatement</a>* stmt2 = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.GetPreparedStatement(<a class="code hl_enumvalue" href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fba62725d66c30fa150c72315454ab39948">LOGIN_SEL_IP_BANNED_BY_IP</a>);</div>
<div class="line"><span class="lineno">  607</span>            stmt2-&gt;<a class="code hl_function" href="../../d6/dcf/a05722.html#a52fc2e65042c1db51f0923725a0f0ed0">SetData</a>(0, filter);</div>
<div class="line"><span class="lineno">  608</span>            result = <a class="code hl_variable" href="../../d8/d7c/a04601.html#a2cf25eafe7f2f73b61ccde11d55daf0c">LoginDatabase</a>.Query(stmt2);</div>
<div class="line"><span class="lineno">  609</span>        }</div>
<div class="line"><span class="lineno">  610</span> </div>
<div class="line"><span class="lineno">  611</span>        <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno">  612</span>        {</div>
<div class="line"><span class="lineno">  613</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aac8fc6085c72649d905a24ded5f270e2f">LANG_BANLIST_NOIP</a>);</div>
<div class="line"><span class="lineno">  614</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  615</span>        }</div>
<div class="line"><span class="lineno">  616</span> </div>
<div class="line"><span class="lineno">  617</span>        handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa7989a3de534df7db5d9aea11a5fc3755">LANG_BANLIST_MATCHINGIP</a>);</div>
<div class="line"><span class="lineno">  618</span>        <span class="comment">// Chat short output</span></div>
<div class="line"><span class="lineno">  619</span>        <span class="keywordflow">if</span> (handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a635eca3065c9464e0cdcedd9f0740daa">GetSession</a>())</div>
<div class="line"><span class="lineno">  620</span>        {</div>
<div class="line"><span class="lineno">  621</span>            <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  622</span>            {</div>
<div class="line"><span class="lineno">  623</span>                <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno">  624</span>                handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;%s&quot;</span>, fields[0].Get&lt;std::string&gt;());</div>
<div class="line"><span class="lineno">  625</span>            } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno">  626</span>        }</div>
<div class="line"><span class="lineno">  627</span>        <span class="comment">// Console wide output</span></div>
<div class="line"><span class="lineno">  628</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  629</span>        {</div>
<div class="line"><span class="lineno">  630</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aad2c30c41165bd1ce56e61e06ea8ddafd">LANG_BANLIST_IPS</a>);</div>
<div class="line"><span class="lineno">  631</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<span class="stringliteral">&quot; ===============================================================================&quot;</span>);</div>
<div class="line"><span class="lineno">  632</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa684e21709aa6d58b9eae7cba8ec03ddf">LANG_BANLIST_IPS_HEADER</a>);</div>
<div class="line"><span class="lineno">  633</span>            <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  634</span>            {</div>
<div class="line"><span class="lineno">  635</span>                handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<span class="stringliteral">&quot;-------------------------------------------------------------------------------&quot;</span>);</div>
<div class="line"><span class="lineno">  636</span>                <a class="code hl_class" href="../../d4/dc8/a05622.html">Field</a>* fields = result-&gt;Fetch();</div>
<div class="line"><span class="lineno">  637</span>                tm tmBan = <a class="code hl_function" href="../../d0/d51/a04710.html#ab6a946894ec0cb9fa9bf76afa8e7fec8">Acore::Time::TimeBreakdown</a>(fields[1].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno">  638</span>                <span class="keywordflow">if</span> (fields[1].Get&lt;uint32&gt;() == fields[2].Get&lt;uint32&gt;())</div>
<div class="line"><span class="lineno">  639</span>                {</div>
<div class="line"><span class="lineno">  640</span>                    handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;|%-15.15s|%02d-%02d-%02d %02d:%02d|   permanent  |%-15.15s|%-15.15s|&quot;</span>,</div>
<div class="line"><span class="lineno">  641</span>                                             fields[0].Get&lt;std::string&gt;(), tmBan.tm_year % 100, tmBan.tm_mon + 1, tmBan.tm_mday, tmBan.tm_hour, tmBan.tm_min,</div>
<div class="line"><span class="lineno">  642</span>                                             fields[3].Get&lt;std::string&gt;(), fields[4].Get&lt;std::string&gt;());</div>
<div class="line"><span class="lineno">  643</span>                }</div>
<div class="line"><span class="lineno">  644</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  645</span>                {</div>
<div class="line"><span class="lineno">  646</span>                    tm tmUnban = <a class="code hl_function" href="../../d0/d51/a04710.html#ab6a946894ec0cb9fa9bf76afa8e7fec8">Acore::Time::TimeBreakdown</a>(fields[2].Get&lt;uint32&gt;());</div>
<div class="line"><span class="lineno">  647</span>                    handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<span class="stringliteral">&quot;|%-15.15s|%02d-%02d-%02d %02d:%02d|%02d-%02d-%02d %02d:%02d|%-15.15s|%-15.15s|&quot;</span>,</div>
<div class="line"><span class="lineno">  648</span>                                             fields[0].Get&lt;std::string&gt;(), tmBan.tm_year % 100, tmBan.tm_mon + 1, tmBan.tm_mday, tmBan.tm_hour, tmBan.tm_min,</div>
<div class="line"><span class="lineno">  649</span>                                             tmUnban.tm_year % 100, tmUnban.tm_mon + 1, tmUnban.tm_mday, tmUnban.tm_hour, tmUnban.tm_min,</div>
<div class="line"><span class="lineno">  650</span>                                             fields[3].Get&lt;std::string&gt;(), fields[4].Get&lt;std::string&gt;());</div>
<div class="line"><span class="lineno">  651</span>                }</div>
<div class="line"><span class="lineno">  652</span>            } <span class="keywordflow">while</span> (result-&gt;NextRow());</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#ac1ed346507097817b3f8e00f0ae657a0">SendSysMessage</a>(<span class="stringliteral">&quot; ===============================================================================&quot;</span>);</div>
<div class="line"><span class="lineno">  655</span>        }</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  658</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa684e21709aa6d58b9eae7cba8ec03ddf"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa684e21709aa6d58b9eae7cba8ec03ddf">LANG_BANLIST_IPS_HEADER</a></div><div class="ttdeci">@ LANG_BANLIST_IPS_HEADER</div><div class="ttdef"><b>Definition:</b> Language.h:658</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa7989a3de534df7db5d9aea11a5fc3755"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa7989a3de534df7db5d9aea11a5fc3755">LANG_BANLIST_MATCHINGIP</a></div><div class="ttdeci">@ LANG_BANLIST_MATCHINGIP</div><div class="ttdef"><b>Definition:</b> Language.h:458</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aac8fc6085c72649d905a24ded5f270e2f"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aac8fc6085c72649d905a24ded5f270e2f">LANG_BANLIST_NOIP</a></div><div class="ttdeci">@ LANG_BANLIST_NOIP</div><div class="ttdef"><b>Definition:</b> Language.h:455</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aad2c30c41165bd1ce56e61e06ea8ddafd"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aad2c30c41165bd1ce56e61e06ea8ddafd">LANG_BANLIST_IPS</a></div><div class="ttdeci">@ LANG_BANLIST_IPS</div><div class="ttdef"><b>Definition:</b> Language.h:657</div></div>
<div class="ttc" id="aa04550_html_a2bc6eef17d8ecd1b7027058f5fecc9fba62725d66c30fa150c72315454ab39948"><div class="ttname"><a href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fba62725d66c30fa150c72315454ab39948">LOGIN_SEL_IP_BANNED_BY_IP</a></div><div class="ttdeci">@ LOGIN_SEL_IP_BANNED_BY_IP</div><div class="ttdef"><b>Definition:</b> LoginDatabase.h:58</div></div>
<div class="ttc" id="aa04550_html_a2bc6eef17d8ecd1b7027058f5fecc9fbacb4432e22802aa644a7974884f8d8671"><div class="ttname"><a href="../../d2/df8/a04550.html#a2bc6eef17d8ecd1b7027058f5fecc9fbacb4432e22802aa644a7974884f8d8671">LOGIN_SEL_IP_BANNED_ALL</a></div><div class="ttdeci">@ LOGIN_SEL_IP_BANNED_ALL</div><div class="ttdef"><b>Definition:</b> LoginDatabase.h:57</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00112">Field::Get()</a>, <a class="el" href="../../#l00242">ChatHandler::GetSession()</a>, <a class="el" href="../../#l00657">LANG_BANLIST_IPS</a>, <a class="el" href="../../#l00658">LANG_BANLIST_IPS_HEADER</a>, <a class="el" href="../../#l00458">LANG_BANLIST_MATCHINGIP</a>, <a class="el" href="../../#l00455">LANG_BANLIST_NOIP</a>, <a class="el" href="../../#l00032">LOGIN_DEL_EXPIRED_IP_BANS</a>, <a class="el" href="../../#l00057">LOGIN_SEL_IP_BANNED_ALL</a>, <a class="el" href="../../#l00058">LOGIN_SEL_IP_BANNED_BY_IP</a>, <a class="el" href="../../#l00022">LoginDatabase</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00159">ChatHandler::SendSysMessage()</a>, <a class="el" href="../../#l00077">PreparedStatementBase::SetData()</a>, and <a class="el" href="../../#l00233">Acore::Time::TimeBreakdown()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00055">GetCommands()</a>.</p>

</div>
</div>
<a id="a3fd418aec25d220cd31d3637bbded380" name="a3fd418aec25d220cd31d3637bbded380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fd418aec25d220cd31d3637bbded380">&#9670;&#160;</a></span>HandleUnBanAccountByCharCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleUnBanAccountByCharCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  692</span>    {</div>
<div class="line"><span class="lineno">  693</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d2/dfa/a11306.html#a2cc5ebe2fda5d9fe217fd8f4c62c644e">HandleUnBanHelper</a>(<a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264ab7cde4c4b1dd975c191f10ab0b18ab79">BAN_CHARACTER</a>, args, handler);</div>
<div class="line"><span class="lineno">  694</span>    }</div>
<div class="ttc" id="aa11306_html_a2cc5ebe2fda5d9fe217fd8f4c62c644e"><div class="ttname"><a href="../../d2/dfa/a11306.html#a2cc5ebe2fda5d9fe217fd8f4c62c644e">ban_commandscript::HandleUnBanHelper</a></div><div class="ttdeci">static bool HandleUnBanHelper(BanMode mode, char const *args, ChatHandler *handler)</div><div class="ttdef"><b>Definition:</b> cs_ban.cpp:701</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00040">BAN_CHARACTER</a>, and <a class="el" href="../../#l00701">HandleUnBanHelper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00055">GetCommands()</a>.</p>

</div>
</div>
<a id="aeb041ffecb3611151172b4f0c52f8018" name="aeb041ffecb3611151172b4f0c52f8018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb041ffecb3611151172b4f0c52f8018">&#9670;&#160;</a></span>HandleUnBanAccountCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleUnBanAccountCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  661</span>    {</div>
<div class="line"><span class="lineno">  662</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d2/dfa/a11306.html#a2cc5ebe2fda5d9fe217fd8f4c62c644e">HandleUnBanHelper</a>(<a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264a7092b1d29da920594bf62c7abe0e9ba1">BAN_ACCOUNT</a>, args, handler);</div>
<div class="line"><span class="lineno">  663</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00039">BAN_ACCOUNT</a>, and <a class="el" href="../../#l00701">HandleUnBanHelper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00055">GetCommands()</a>.</p>

</div>
</div>
<a id="af55843929fa62402b2eb5cae71c2e4a5" name="af55843929fa62402b2eb5cae71c2e4a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af55843929fa62402b2eb5cae71c2e4a5">&#9670;&#160;</a></span>HandleUnBanCharacterCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleUnBanCharacterCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  666</span>    {</div>
<div class="line"><span class="lineno">  667</span>        <span class="keywordflow">if</span> (!*args)</div>
<div class="line"><span class="lineno">  668</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  669</span> </div>
<div class="line"><span class="lineno">  670</span>        <span class="keywordtype">char</span>* nameStr = strtok((<span class="keywordtype">char</span>*)args, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  671</span>        <span class="keywordflow">if</span> (!nameStr)</div>
<div class="line"><span class="lineno">  672</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  673</span> </div>
<div class="line"><span class="lineno">  674</span>        std::string CharacterName = nameStr;</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d5/d4c/a02846.html#af55111c173fd16ba2898f3046dfa3d9a">normalizePlayerName</a>(CharacterName))</div>
<div class="line"><span class="lineno">  677</span>        {</div>
<div class="line"><span class="lineno">  678</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaab2e8907c804b742a54d115d079d86a6">LANG_PLAYER_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno">  679</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  680</span>        }</div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d4/d43/a03143.html#a7d5e9b6aab3c8157bcf25fa0f070bb17">sBan</a>-&gt;RemoveBanCharacter(CharacterName))</div>
<div class="line"><span class="lineno">  683</span>        {</div>
<div class="line"><span class="lineno">  684</span>            handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaab2e8907c804b742a54d115d079d86a6">LANG_PLAYER_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno">  685</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  686</span>        }</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  689</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00539">LANG_PLAYER_NOT_FOUND</a>, <a class="el" href="../../#l00208">normalizePlayerName()</a>, <a class="el" href="../../#l00048">sBan</a>, and <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00055">GetCommands()</a>.</p>

</div>
</div>
<a id="a2cc5ebe2fda5d9fe217fd8f4c62c644e" name="a2cc5ebe2fda5d9fe217fd8f4c62c644e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cc5ebe2fda5d9fe217fd8f4c62c644e">&#9670;&#160;</a></span>HandleUnBanHelper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleUnBanHelper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264">BanMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  702</span>    {</div>
<div class="line"><span class="lineno">  703</span>        <span class="keywordflow">if</span> (!*args)</div>
<div class="line"><span class="lineno">  704</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span>        <span class="keywordtype">char</span>* nameOrIPStr = strtok((<span class="keywordtype">char</span>*)args, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><span class="lineno">  707</span>        <span class="keywordflow">if</span> (!nameOrIPStr)</div>
<div class="line"><span class="lineno">  708</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  709</span> </div>
<div class="line"><span class="lineno">  710</span>        std::string nameOrIP = nameOrIPStr;</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>        <span class="keywordflow">switch</span> (mode)</div>
<div class="line"><span class="lineno">  713</span>        {</div>
<div class="line"><span class="lineno">  714</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264a7092b1d29da920594bf62c7abe0e9ba1">BAN_ACCOUNT</a>:</div>
<div class="line"><span class="lineno">  715</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../da/dee/a00383.html#a589bbb62b3f6aadebe49b4140446fb57">Utf8ToUpperOnlyLatin</a>(nameOrIP))</div>
<div class="line"><span class="lineno">  716</span>                {</div>
<div class="line"><span class="lineno">  717</span>                    handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaca743710cf32d24958f1af55bf852dcf">LANG_ACCOUNT_NOT_EXIST</a>, nameOrIP);</div>
<div class="line"><span class="lineno">  718</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  719</span>                }</div>
<div class="line"><span class="lineno">  720</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  721</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264ab7cde4c4b1dd975c191f10ab0b18ab79">BAN_CHARACTER</a>:</div>
<div class="line"><span class="lineno">  722</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d5/d4c/a02846.html#af55111c173fd16ba2898f3046dfa3d9a">normalizePlayerName</a>(nameOrIP))</div>
<div class="line"><span class="lineno">  723</span>                {</div>
<div class="line"><span class="lineno">  724</span>                    handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a92dbe6ed87759b9ed247973178d99a80">SendErrorMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aaab2e8907c804b742a54d115d079d86a6">LANG_PLAYER_NOT_FOUND</a>);</div>
<div class="line"><span class="lineno">  725</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  726</span>                }</div>
<div class="line"><span class="lineno">  727</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  728</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264ab68a6a6d80749ee19c73fc9dd4f4d74b">BAN_IP</a>:</div>
<div class="line"><span class="lineno">  729</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../da/dee/a00383.html#a673f2e86a3a241f52994e86224f77afc">IsIPAddress</a>(nameOrIP.c_str()))</div>
<div class="line"><span class="lineno">  730</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  731</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  732</span>        }</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>        <span class="keywordflow">switch</span> (mode)</div>
<div class="line"><span class="lineno">  735</span>        {</div>
<div class="line"><span class="lineno">  736</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264a7092b1d29da920594bf62c7abe0e9ba1">BAN_ACCOUNT</a>:</div>
<div class="line"><span class="lineno">  737</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d4/d43/a03143.html#a7d5e9b6aab3c8157bcf25fa0f070bb17">sBan</a>-&gt;RemoveBanAccount(nameOrIP))</div>
<div class="line"><span class="lineno">  738</span>                    handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa55a30bd371790760ec88c12f1235a4fb">LANG_UNBAN_UNBANNED</a>, nameOrIP);</div>
<div class="line"><span class="lineno">  739</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  740</span>                    handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa852231a8b2fc213db43d3f7657d5f1e3">LANG_UNBAN_ERROR</a>, nameOrIP);</div>
<div class="line"><span class="lineno">  741</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  742</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264ab7cde4c4b1dd975c191f10ab0b18ab79">BAN_CHARACTER</a>:</div>
<div class="line"><span class="lineno">  743</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d4/d43/a03143.html#a7d5e9b6aab3c8157bcf25fa0f070bb17">sBan</a>-&gt;RemoveBanAccountByPlayerName(nameOrIP))</div>
<div class="line"><span class="lineno">  744</span>                    handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa55a30bd371790760ec88c12f1235a4fb">LANG_UNBAN_UNBANNED</a>, nameOrIP);</div>
<div class="line"><span class="lineno">  745</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  746</span>                    handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa852231a8b2fc213db43d3f7657d5f1e3">LANG_UNBAN_ERROR</a>, nameOrIP);</div>
<div class="line"><span class="lineno">  747</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  748</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264ab68a6a6d80749ee19c73fc9dd4f4d74b">BAN_IP</a>:</div>
<div class="line"><span class="lineno">  749</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d4/d43/a03143.html#a7d5e9b6aab3c8157bcf25fa0f070bb17">sBan</a>-&gt;RemoveBanIP(nameOrIP))</div>
<div class="line"><span class="lineno">  750</span>                    handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa55a30bd371790760ec88c12f1235a4fb">LANG_UNBAN_UNBANNED</a>, nameOrIP);</div>
<div class="line"><span class="lineno">  751</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  752</span>                    handler-&gt;<a class="code hl_function" href="../../dc/dcd/a07294.html#a54305506d6194dfdd1c1a3f30c8d1d62">PSendSysMessage</a>(<a class="code hl_enumvalue" href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa852231a8b2fc213db43d3f7657d5f1e3">LANG_UNBAN_ERROR</a>, nameOrIP);</div>
<div class="line"><span class="lineno">  753</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  754</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  755</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  756</span>        }</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  759</span>    }</div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa55a30bd371790760ec88c12f1235a4fb"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa55a30bd371790760ec88c12f1235a4fb">LANG_UNBAN_UNBANNED</a></div><div class="ttdeci">@ LANG_UNBAN_UNBANNED</div><div class="ttdef"><b>Definition:</b> Language.h:439</div></div>
<div class="ttc" id="aa03161_html_af9ee42b1cf006ecb2d2e74fe71c0761aa852231a8b2fc213db43d3f7657d5f1e3"><div class="ttname"><a href="../../d0/d04/a03161.html#af9ee42b1cf006ecb2d2e74fe71c0761aa852231a8b2fc213db43d3f7657d5f1e3">LANG_UNBAN_ERROR</a></div><div class="ttdeci">@ LANG_UNBAN_ERROR</div><div class="ttdef"><b>Definition:</b> Language.h:440</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00039">BAN_ACCOUNT</a>, <a class="el" href="../../#l00040">BAN_CHARACTER</a>, <a class="el" href="../../#l00041">BAN_IP</a>, <a class="el" href="../../#l00205">IsIPAddress()</a>, <a class="el" href="../../#l00442">LANG_ACCOUNT_NOT_EXIST</a>, <a class="el" href="../../#l00539">LANG_PLAYER_NOT_FOUND</a>, <a class="el" href="../../#l00440">LANG_UNBAN_ERROR</a>, <a class="el" href="../../#l00439">LANG_UNBAN_UNBANNED</a>, <a class="el" href="../../#l00208">normalizePlayerName()</a>, <a class="el" href="../../#l00210">ChatHandler::PSendSysMessage()</a>, <a class="el" href="../../#l00048">sBan</a>, <a class="el" href="../../#l00215">ChatHandler::SendErrorMessage()</a>, and <a class="el" href="../../#l00532">Utf8ToUpperOnlyLatin()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00691">HandleUnBanAccountByCharCommand()</a>, <a class="el" href="../../#l00660">HandleUnBanAccountCommand()</a>, and <a class="el" href="../../#l00696">HandleUnBanIPCommand()</a>.</p>

</div>
</div>
<a id="a3f73d0989eaa2b9d840d24544ad90bfd" name="a3f73d0989eaa2b9d840d24544ad90bfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f73d0989eaa2b9d840d24544ad90bfd">&#9670;&#160;</a></span>HandleUnBanIPCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ban_commandscript::HandleUnBanIPCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dcd/a07294.html">ChatHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  697</span>    {</div>
<div class="line"><span class="lineno">  698</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d2/dfa/a11306.html#a2cc5ebe2fda5d9fe217fd8f4c62c644e">HandleUnBanHelper</a>(<a class="code hl_enumvalue" href="../../dc/d8e/a01331.html#aee9acfaac97a86a40bad738a75eb5264ab68a6a6d80749ee19c73fc9dd4f4d74b">BAN_IP</a>, args, handler);</div>
<div class="line"><span class="lineno">  699</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l00041">BAN_IP</a>, and <a class="el" href="../../#l00701">HandleUnBanHelper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l00055">GetCommands()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d2/dfa/a11306.html">ban_commandscript</a></li>
    <li class="footer">Generated on Mon Dec 2 2024 20:42:01 for AzerothCore by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
